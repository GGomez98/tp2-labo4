var G2=Object.create;var vy=Object.defineProperty,z2=Object.defineProperties,q2=Object.getOwnPropertyDescriptor,W2=Object.getOwnPropertyDescriptors,Y2=Object.getOwnPropertyNames,mD=Object.getOwnPropertySymbols,_D=Object.getPrototypeOf,yD=Object.prototype.hasOwnProperty,K2=Object.prototype.propertyIsEnumerable,Q2=Reflect.get;var gD=(n,e,t)=>e in n?vy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ie=(n,e)=>{for(var t in e||={})yD.call(e,t)&&gD(n,t,e[t]);if(mD)for(var t of mD(e))K2.call(e,t)&&gD(n,t,e[t]);return n},Ze=(n,e)=>z2(n,W2(e));var vD=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var wD=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var J2=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Y2(e))!yD.call(n,r)&&r!==t&&vy(n,r,{get:()=>e[r],enumerable:!(i=q2(e,r))||i.enumerable});return n};var uo=(n,e,t)=>(t=n!=null?G2(_D(n)):{},J2(e||!n||!n.__esModule?vy(t,"default",{value:n,enumerable:!0}):t,n));var pa=(n,e,t)=>Q2(_D(n),t,e);var S=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(h){r(h)}},s=c=>{try{a(t.throw(c))}catch(h){r(h)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var jo=wD((Bo,LI)=>{"use strict";(function(n,e){typeof Bo=="object"&&typeof LI<"u"?LI.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Bo,function(){"use strict";function n(f,p,b){if(typeof f=="function"?f===p:f.has(p))return arguments.length<3?p:b;throw new TypeError("Private element is not present on this object")}function e(f,p){if(p.has(f))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(f,p){return f.get(n(f,p))}function i(f,p,b){e(f,p),p.set(f,b)}function r(f,p,b){return f.set(n(f,p),b),b}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=f=>new Promise(p=>{if(!f)return p();let b=window.scrollX,A=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),p()},o),window.scrollTo(b,A)}),h="swal2-",_=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((f,p)=>(f[p]=h+p,f),{}),x=["success","warning","info","question","error"].reduce((f,p)=>(f[p]=h+p,f),{}),k="SweetAlert2:",G=f=>f.charAt(0).toUpperCase()+f.slice(1),$=f=>{console.warn(`${k} ${typeof f=="object"?f.join(" "):f}`)},Z=f=>{console.error(`${k} ${f}`)},fe=[],se=f=>{fe.includes(f)||(fe.push(f),$(f))},ve=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;se(`"${f}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},Ne=f=>typeof f=="function"?f():f,me=f=>f&&typeof f.toPromise=="function",V=f=>me(f)?f.toPromise():Promise.resolve(f),R=f=>f&&Promise.resolve(f)===f,O=()=>document.body.querySelector(`.${_.container}`),B=f=>{let p=O();return p?p.querySelector(f):null},L=f=>B(`.${f}`),j=()=>L(_.popup),N=()=>L(_.icon),ri=()=>L(_["icon-content"]),ur=()=>L(_.title),sl=()=>L(_["html-container"]),Qr=()=>L(_.image),ln=()=>L(_["progress-steps"]),dr=()=>L(_["validation-message"]),Tn=()=>B(`.${_.actions} .${_.confirm}`),hr=()=>B(`.${_.actions} .${_.cancel}`),zt=()=>B(`.${_.actions} .${_.deny}`),de=()=>L(_["input-label"]),Jr=()=>B(`.${_.loader}`),zi=()=>L(_.actions),Ho=()=>L(_.footer),qi=()=>L(_["timer-progress-bar"]),al=()=>L(_.close),nh=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zr=()=>{let f=j();if(!f)return[];let p=f.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(p).sort((ce,Ge)=>{let nt=parseInt(ce.getAttribute("tabindex")||"0"),Pt=parseInt(Ge.getAttribute("tabindex")||"0");return nt>Pt?1:nt<Pt?-1:0}),A=f.querySelectorAll(nh),H=Array.from(A).filter(ce=>ce.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(H))].filter(ce=>cn(ce))},Xr=()=>oi(document.body,_.shown)&&!oi(document.body,_["toast-shown"])&&!oi(document.body,_["no-backdrop"]),eo=()=>{let f=j();return f?oi(f,_.toast):!1},ll=()=>{let f=j();return f?f.hasAttribute("data-loading"):!1},_n=(f,p)=>{if(f.textContent="",p){let A=new DOMParser().parseFromString(p,"text/html"),H=A.querySelector("head");H&&Array.from(H.childNodes).forEach(Ge=>{f.appendChild(Ge)});let ce=A.querySelector("body");ce&&Array.from(ce.childNodes).forEach(Ge=>{Ge instanceof HTMLVideoElement||Ge instanceof HTMLAudioElement?f.appendChild(Ge.cloneNode(!0)):f.appendChild(Ge)})}},oi=(f,p)=>{if(!p)return!1;let b=p.split(/\s+/);for(let A=0;A<b.length;A++)if(!f.classList.contains(b[A]))return!1;return!0},Ac=(f,p)=>{Array.from(f.classList).forEach(b=>{!Object.values(_).includes(b)&&!Object.values(x).includes(b)&&!Object.values(p.showClass||{}).includes(b)&&f.classList.remove(b)})},Sn=(f,p,b)=>{if(Ac(f,p),!p.customClass)return;let A=p.customClass[b];if(A){if(typeof A!="string"&&!A.forEach){$(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof A}"`);return}et(f,A)}},Go=(f,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return f.querySelector(`.${_.popup} > .${_[p]}`);case"checkbox":return f.querySelector(`.${_.popup} > .${_.checkbox} input`);case"radio":return f.querySelector(`.${_.popup} > .${_.radio} input:checked`)||f.querySelector(`.${_.popup} > .${_.radio} input:first-child`);case"range":return f.querySelector(`.${_.popup} > .${_.range} input`);default:return f.querySelector(`.${_.popup} > .${_.input}`)}},An=f=>{if(f.focus(),f.type!=="file"){let p=f.value;f.value="",f.value=p}},zo=(f,p,b)=>{!f||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(A=>{Array.isArray(f)?f.forEach(H=>{b?H.classList.add(A):H.classList.remove(A)}):b?f.classList.add(A):f.classList.remove(A)}))},et=(f,p)=>{zo(f,p,!0)},si=(f,p)=>{zo(f,p,!1)},Wi=(f,p)=>{let b=Array.from(f.children);for(let A=0;A<b.length;A++){let H=b[A];if(H instanceof HTMLElement&&oi(H,p))return H}},Ft=(f,p,b)=>{b===`${parseInt(b)}`&&(b=parseInt(b)),b||parseInt(b)===0?f.style.setProperty(p,typeof b=="number"?`${b}px`:b):f.style.removeProperty(p)},Lt=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";f&&(f.style.display=p)},Ut=f=>{f&&(f.style.display="none")},Vt=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";f&&new MutationObserver(()=>{Yi(f,f.innerHTML,p)}).observe(f,{childList:!0,subtree:!0})},je=(f,p,b,A)=>{let H=f.querySelector(p);H&&H.style.setProperty(b,A)},Yi=function(f,p){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Lt(f,b):Ut(f)},cn=f=>!!(f&&(f.offsetWidth||f.offsetHeight||f.getClientRects().length)),qo=()=>!cn(Tn())&&!cn(zt())&&!cn(hr()),Xs=f=>f.scrollHeight>f.clientHeight,Ki=f=>{let p=window.getComputedStyle(f),b=parseFloat(p.getPropertyValue("animation-duration")||"0"),A=parseFloat(p.getPropertyValue("transition-duration")||"0");return b>0||A>0},Qi=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=qi();b&&cn(b)&&(p&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${f/1e3}s linear`,b.style.width="0%"},10))},Wo=()=>{let f=qi();if(!f)return;let p=parseInt(window.getComputedStyle(f).width);f.style.removeProperty("transition"),f.style.width="100%";let b=parseInt(window.getComputedStyle(f).width),A=p/b*100;f.style.width=`${A}%`},cl=()=>typeof window>"u"||typeof document>"u",ea=`
 <div aria-labelledby="${_.title}" aria-describedby="${_["html-container"]}" class="${_.popup}" tabindex="-1">
   <button type="button" class="${_.close}"></button>
   <ul class="${_["progress-steps"]}"></ul>
   <div class="${_.icon}"></div>
   <img class="${_.image}" />
   <h2 class="${_.title}" id="${_.title}"></h2>
   <div class="${_["html-container"]}" id="${_["html-container"]}"></div>
   <input class="${_.input}" id="${_.input}" />
   <input type="file" class="${_.file}" />
   <div class="${_.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${_.select}" id="${_.select}"></select>
   <div class="${_.radio}"></div>
   <label class="${_.checkbox}">
     <input type="checkbox" id="${_.checkbox}" />
     <span class="${_.label}"></span>
   </label>
   <textarea class="${_.textarea}" id="${_.textarea}"></textarea>
   <div class="${_["validation-message"]}" id="${_["validation-message"]}"></div>
   <div class="${_.actions}">
     <div class="${_.loader}"></div>
     <button type="button" class="${_.confirm}"></button>
     <button type="button" class="${_.deny}"></button>
     <button type="button" class="${_.cancel}"></button>
   </div>
   <div class="${_.footer}"></div>
   <div class="${_["timer-progress-bar-container"]}">
     <div class="${_["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ih=()=>{let f=O();return f?(f.remove(),si([document.documentElement,document.body],[_["no-backdrop"],_["toast-shown"],_["has-column"]]),!0):!1},Fn=()=>{s.currentInstance.resetValidationMessage()},xr=()=>{let f=j(),p=Wi(f,_.input),b=Wi(f,_.file),A=f.querySelector(`.${_.range} input`),H=f.querySelector(`.${_.range} output`),ce=Wi(f,_.select),Ge=f.querySelector(`.${_.checkbox} input`),nt=Wi(f,_.textarea);p.oninput=Fn,b.onchange=Fn,ce.onchange=Fn,Ge.onchange=Fn,nt.oninput=Fn,A.oninput=()=>{Fn(),H.value=A.value},A.onchange=()=>{Fn(),H.value=A.value}},ta=f=>typeof f=="string"?document.querySelector(f):f,fr=f=>{let p=j();p.setAttribute("role",f.toast?"alert":"dialog"),p.setAttribute("aria-live",f.toast?"polite":"assertive"),f.toast||p.setAttribute("aria-modal","true")},he=f=>{window.getComputedStyle(f).direction==="rtl"&&et(O(),_.rtl)},ul=f=>{let p=ih();if(cl()){Z("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=_.container,p&&et(b,_["no-transition"]),_n(b,ea);let A=ta(f.target);A.appendChild(b),fr(f),he(A),xr()},Ji=(f,p)=>{f instanceof HTMLElement?p.appendChild(f):typeof f=="object"?Ii(f,p):f&&_n(p,f)},Ii=(f,p)=>{f.jquery?yn(p,f):_n(p,f.toString())},yn=(f,p)=>{if(f.textContent="",0 in p)for(let b=0;b in p;b++)f.appendChild(p[b].cloneNode(!0));else f.appendChild(p.cloneNode(!0))},Ye=(f,p)=>{let b=zi(),A=Jr();!b||!A||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Ut(b):Lt(b),Sn(b,p,"actions"),Rr(b,A,p),_n(A,p.loaderHtml||""),Sn(A,p,"loader"))};function Rr(f,p,b){let A=Tn(),H=zt(),ce=hr();!A||!H||!ce||(Bt(A,"confirm",b),Bt(H,"deny",b),Bt(ce,"cancel",b),ht(A,H,ce,b),b.reverseButtons&&(b.toast?(f.insertBefore(ce,A),f.insertBefore(H,A)):(f.insertBefore(ce,p),f.insertBefore(H,p),f.insertBefore(A,p))))}function ht(f,p,b,A){if(!A.buttonsStyling){si([f,p,b],_.styled);return}et([f,p,b],_.styled),A.confirmButtonColor&&(f.style.backgroundColor=A.confirmButtonColor,et(f,_["default-outline"])),A.denyButtonColor&&(p.style.backgroundColor=A.denyButtonColor,et(p,_["default-outline"])),A.cancelButtonColor&&(b.style.backgroundColor=A.cancelButtonColor,et(b,_["default-outline"]))}function Bt(f,p,b){let A=G(p);Yi(f,b[`show${A}Button`],"inline-block"),_n(f,b[`${p}ButtonText`]||""),f.setAttribute("aria-label",b[`${p}ButtonAriaLabel`]||""),f.className=_[p],Sn(f,b,`${p}Button`)}let Mc=(f,p)=>{let b=al();b&&(_n(b,p.closeButtonHtml||""),Sn(b,p,"closeButton"),Yi(b,p.showCloseButton),b.setAttribute("aria-label",p.closeButtonAriaLabel||""))},pr=(f,p)=>{let b=O();b&&($t(b,p.backdrop),Zi(b,p.position),Di(b,p.grow),Sn(b,p,"container"))};function $t(f,p){typeof p=="string"?f.style.background=p:p||et([document.documentElement,document.body],_["no-backdrop"])}function Zi(f,p){p&&(p in _?et(f,_[p]):($('The "position" parameter is not valid, defaulting to "center"'),et(f,_.center)))}function Di(f,p){p&&et(f,_[`grow-${p}`])}var Te={innerParams:new WeakMap,domCache:new WeakMap};let ai=["input","file","range","select","radio","checkbox","textarea"],Xi=(f,p)=>{let b=j();if(!b)return;let A=Te.innerParams.get(f),H=!A||p.input!==A.input;ai.forEach(ce=>{let Ge=Wi(b,_[ce]);Ge&&(dl(ce,p.inputAttributes),Ge.className=_[ce],H&&Ut(Ge))}),p.input&&(H&&Ti(p),mr(p))},Ti=f=>{if(!f.input)return;if(!At[f.input]){Z(`Unexpected type of input! Expected ${Object.keys(At).join(" | ")}, got "${f.input}"`);return}let p=gr(f.input);if(!p)return;let b=At[f.input](p,f);Lt(p),f.inputAutoFocus&&setTimeout(()=>{An(b)})},xc=f=>{for(let p=0;p<f.attributes.length;p++){let b=f.attributes[p].name;["id","type","value","style"].includes(b)||f.removeAttribute(b)}},dl=(f,p)=>{let b=j();if(!b)return;let A=Go(b,f);if(A){xc(A);for(let H in p)A.setAttribute(H,p[H])}},mr=f=>{if(!f.input)return;let p=gr(f.input);p&&Sn(p,f,"input")},li=(f,p)=>{!f.placeholder&&p.inputPlaceholder&&(f.placeholder=p.inputPlaceholder)},to=(f,p,b)=>{if(b.inputLabel){let A=document.createElement("label"),H=_["input-label"];A.setAttribute("for",f.id),A.className=H,typeof b.customClass=="object"&&et(A,b.customClass.inputLabel),A.innerText=b.inputLabel,p.insertAdjacentElement("beforebegin",A)}},gr=f=>{let p=j();if(p)return Wi(p,_[f]||_.input)},Si=(f,p)=>{["string","number"].includes(typeof p)?f.value=`${p}`:R(p)||$(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=At.search=At.date=At["datetime-local"]=At.time=At.week=At.month=(f,p)=>(Si(f,p.inputValue),to(f,f,p),li(f,p),f.type=p.input,f),At.file=(f,p)=>(to(f,f,p),li(f,p),f),At.range=(f,p)=>{let b=f.querySelector("input"),A=f.querySelector("output");return Si(b,p.inputValue),b.type=p.input,Si(A,p.inputValue),to(b,f,p),f},At.select=(f,p)=>{if(f.textContent="",p.inputPlaceholder){let b=document.createElement("option");_n(b,p.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,f.appendChild(b)}return to(f,f,p),f},At.radio=f=>(f.textContent="",f),At.checkbox=(f,p)=>{let b=Go(j(),"checkbox");b.value="1",b.checked=!!p.inputValue;let A=f.querySelector("span");return _n(A,p.inputPlaceholder||p.inputLabel),b},At.textarea=(f,p)=>{Si(f,p.inputValue),li(f,p),to(f,f,p);let b=A=>parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let A=parseInt(window.getComputedStyle(j()).width),H=()=>{if(!document.body.contains(f))return;let ce=f.offsetWidth+b(f);ce>A?j().style.width=`${ce}px`:Ft(j(),"width",p.width)};new MutationObserver(H).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};let Rc=(f,p)=>{let b=sl();b&&(Vt(b),Sn(b,p,"htmlContainer"),p.html?(Ji(p.html,b),Lt(b,"block")):p.text?(b.textContent=p.text,Lt(b,"block")):Ut(b),Xi(f,p))},Oc=(f,p)=>{let b=Ho();b&&(Vt(b),Yi(b,p.footer,"block"),p.footer&&Ji(p.footer,b),Sn(b,p,"footer"))},rh=(f,p)=>{let b=Te.innerParams.get(f),A=N();if(A){if(b&&p.icon===b.icon){er(A,p),Ct(A,p);return}if(!p.icon&&!p.iconHtml){Ut(A);return}if(p.icon&&Object.keys(x).indexOf(p.icon)===-1){Z(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Ut(A);return}Lt(A),er(A,p),Ct(A,p),et(A,p.showClass&&p.showClass.icon)}},Ct=(f,p)=>{for(let[b,A]of Object.entries(x))p.icon!==b&&si(f,A);et(f,p.icon&&x[p.icon]),fl(f,p),na(),Sn(f,p,"icon")},na=()=>{let f=j();if(!f)return;let p=window.getComputedStyle(f).getPropertyValue("background-color"),b=f.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let A=0;A<b.length;A++)b[A].style.backgroundColor=p},hl=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,no=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,er=(f,p)=>{if(!p.icon&&!p.iconHtml)return;let b=f.innerHTML,A="";p.iconHtml?A=Nc(p.iconHtml):p.icon==="success"?(A=hl,b=b.replace(/ style=".*?"/g,"")):p.icon==="error"?A=no:p.icon&&(A=Nc({question:"?",warning:"!",info:"i"}[p.icon])),b.trim()!==A.trim()&&_n(f,A)},fl=(f,p)=>{if(p.iconColor){f.style.color=p.iconColor,f.style.borderColor=p.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])je(f,b,"background-color",p.iconColor);je(f,".swal2-success-ring","border-color",p.iconColor)}},Nc=f=>`<div class="${_["icon-content"]}">${f}</div>`,Pc=(f,p)=>{let b=Qr();if(b){if(!p.imageUrl){Ut(b);return}Lt(b,""),b.setAttribute("src",p.imageUrl),b.setAttribute("alt",p.imageAlt||""),Ft(b,"width",p.imageWidth),Ft(b,"height",p.imageHeight),b.className=_.image,Sn(b,p,"image")}},kc=(f,p)=>{let b=O(),A=j();if(!(!b||!A)){if(p.toast){Ft(b,"width",p.width),A.style.width="100%";let H=Jr();H&&A.insertBefore(H,N())}else Ft(A,"width",p.width);Ft(A,"padding",p.padding),p.color&&(A.style.color=p.color),p.background&&(A.style.background=p.background),Ut(dr()),Fc(A,p)}},Fc=(f,p)=>{let b=p.showClass||{};f.className=`${_.popup} ${cn(f)?b.popup:""}`,p.toast?(et([document.documentElement,document.body],_["toast-shown"]),et(f,_.toast)):et(f,_.modal),Sn(f,p,"popup"),typeof p.customClass=="string"&&et(f,p.customClass),p.icon&&et(f,_[`icon-${p.icon}`])},pl=(f,p)=>{let b=ln();if(!b)return;let{progressSteps:A,currentProgressStep:H}=p;if(!A||A.length===0||H===void 0){Ut(b);return}Lt(b),b.textContent="",H>=A.length&&$("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),A.forEach((ce,Ge)=>{let nt=ia(ce);if(b.appendChild(nt),Ge===H&&et(nt,_["active-progress-step"]),Ge!==A.length-1){let Pt=ml(p);b.appendChild(Pt)}})},ia=f=>{let p=document.createElement("li");return et(p,_["progress-step"]),_n(p,f),p},ml=f=>{let p=document.createElement("li");return et(p,_["progress-step-line"]),f.progressStepsDistance&&Ft(p,"width",f.progressStepsDistance),p},Lc=(f,p)=>{let b=ur();b&&(Vt(b),Yi(b,p.title||p.titleText,"block"),p.title&&Ji(p.title,b),p.titleText&&(b.innerText=p.titleText),Sn(b,p,"title"))},Vc=(f,p)=>{kc(f,p),pr(f,p),pl(f,p),rh(f,p),Pc(f,p),Lc(f,p),Mc(f,p),Rc(f,p),Ye(f,p),Oc(f,p);let b=j();typeof p.didRender=="function"&&b&&p.didRender(b),s.eventEmitter.emit("didRender",b)},oh=()=>cn(j()),ra=()=>{var f;return(f=Tn())===null||f===void 0?void 0:f.click()},Bc=()=>{var f;return(f=zt())===null||f===void 0?void 0:f.click()},Yo=()=>{var f;return(f=hr())===null||f===void 0?void 0:f.click()},vn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ci=f=>{f.keydownTarget&&f.keydownHandlerAdded&&(f.keydownTarget.removeEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!1)},_r=(f,p,b)=>{ci(f),p.toast||(f.keydownHandler=A=>oa(p,A,b),f.keydownTarget=p.keydownListenerCapture?window:j(),f.keydownListenerCapture=p.keydownListenerCapture,f.keydownTarget.addEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!0)},Mn=(f,p)=>{var b;let A=Zr();if(A.length){f=f+p,f===A.length?f=0:f===-1&&(f=A.length-1),A[f].focus();return}(b=j())===null||b===void 0||b.focus()},gl=["ArrowRight","ArrowDown"],Et=["ArrowLeft","ArrowUp"],oa=(f,p,b)=>{f&&(p.isComposing||p.keyCode===229||(f.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Ko(p,f):p.key==="Tab"?Qo(p):[...gl,...Et].includes(p.key)?sh(p.key):p.key==="Escape"&&jc(p,f,b)))},Ko=(f,p)=>{if(!Ne(p.allowEnterKey))return;let b=Go(j(),p.input);if(f.target&&b&&f.target instanceof HTMLElement&&f.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(p.input))return;ra(),f.preventDefault()}},Qo=f=>{let p=f.target,b=Zr(),A=-1;for(let H=0;H<b.length;H++)if(p===b[H]){A=H;break}f.shiftKey?Mn(A,-1):Mn(A,1),f.stopPropagation(),f.preventDefault()},sh=f=>{let p=zi(),b=Tn(),A=zt(),H=hr();if(!p||!b||!A||!H)return;let ce=[b,A,H];if(document.activeElement instanceof HTMLElement&&!ce.includes(document.activeElement))return;let Ge=gl.includes(f)?"nextElementSibling":"previousElementSibling",nt=document.activeElement;if(nt){for(let Pt=0;Pt<p.children.length;Pt++){if(nt=nt[Ge],!nt)return;if(nt instanceof HTMLButtonElement&&cn(nt))break}nt instanceof HTMLButtonElement&&nt.focus()}},jc=(f,p,b)=>{Ne(p.allowEscapeKey)&&(f.preventDefault(),b(vn.esc))};var io={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let _l=()=>{let f=O();Array.from(document.body.children).forEach(b=>{b.contains(f)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},Uc=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},yl=typeof window<"u"&&!!window.GestureEvent,Jo=()=>{if(yl&&!oi(document.body,_.iosfix)){let f=document.body.scrollTop;document.body.style.top=`${f*-1}px`,et(document.body,_.iosfix),yr()}},yr=()=>{let f=O();if(!f)return;let p;f.ontouchstart=b=>{p=$c(b)},f.ontouchmove=b=>{p&&(b.preventDefault(),b.stopPropagation())}},$c=f=>{let p=f.target,b=O(),A=sl();return!b||!A||Hc(f)||Gc(f)?!1:p===b||!Xs(b)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(Xs(A)&&A.contains(p))},Hc=f=>f.touches&&f.touches.length&&f.touches[0].touchType==="stylus",Gc=f=>f.touches&&f.touches.length>1,ro=()=>{if(oi(document.body,_.iosfix)){let f=parseInt(document.body.style.top,10);si(document.body,_.iosfix),document.body.style.top="",document.body.scrollTop=f*-1}},ah=()=>{let f=document.createElement("div");f.className=_["scrollbar-measure"],document.body.appendChild(f);let p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},oo=null,lh=f=>{oo===null&&(document.body.scrollHeight>window.innerHeight||f==="scroll")&&(oo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${oo+ah()}px`)},vr=()=>{oo!==null&&(document.body.style.paddingRight=`${oo}px`,oo=null)};function zc(f,p,b,A){eo()?Mt(f,A):(c(b).then(()=>Mt(f,A)),ci(s)),yl?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),Xr()&&(vr(),ro(),Uc()),ch()}function ch(){si([document.documentElement,document.body],[_.shown,_["height-auto"],_["no-backdrop"],_["toast-shown"]])}function $n(f){f=Or(f);let p=io.swalPromiseResolve.get(this),b=sa(this);this.isAwaitingPromise?f.isDismissed||(ui(this),p(f)):b&&p(f)}let sa=f=>{let p=j();if(!p)return!1;let b=Te.innerParams.get(f);if(!b||oi(p,b.hideClass.popup))return!1;si(p,b.showClass.popup),et(p,b.hideClass.popup);let A=O();return si(A,b.showClass.backdrop),et(A,b.hideClass.backdrop),qc(f,p,b),!0};function vl(f){let p=io.swalPromiseReject.get(this);ui(this),p&&p(f)}let ui=f=>{f.isAwaitingPromise&&(delete f.isAwaitingPromise,Te.innerParams.get(f)||f._destroy())},Or=f=>typeof f>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},f),qc=(f,p,b)=>{let A=O(),H=Ki(p);typeof b.willClose=="function"&&b.willClose(p),s.eventEmitter.emit("willClose",p),H?aa(f,p,A,b.returnFocus,b.didClose):zc(f,A,b.returnFocus,b.didClose)},aa=(f,p,b,A,H)=>{s.swalCloseEventFinishedCallback=zc.bind(null,f,b,A,H);let ce=function(Ge){Ge.target===p&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,p.removeEventListener("animationend",ce),p.removeEventListener("transitionend",ce))};p.addEventListener("animationend",ce),p.addEventListener("transitionend",ce)},Mt=(f,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(f.params)(),s.eventEmitter.emit("didClose"),f._destroy&&f._destroy()})},so=f=>{let p=j();if(p||new ou,p=j(),!p)return;let b=Jr();eo()?Ut(N()):uh(p,f),Lt(b),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},uh=(f,p)=>{let b=zi(),A=Jr();!b||!A||(!p&&cn(Tn())&&(p=Tn()),Lt(b),p&&(Ut(p),A.setAttribute("data-button-to-replace",p.className),b.insertBefore(A,p)),et([f,b],_.loading))},Wc=(f,p)=>{p.input==="select"||p.input==="radio"?Ln(f,p):["text","email","number","tel","textarea"].some(b=>b===p.input)&&(me(p.inputValue)||R(p.inputValue))&&(so(Tn()),Kc(f,p))},Yc=(f,p)=>{let b=f.getInput();if(!b)return null;switch(p.input){case"checkbox":return wl(b);case"radio":return wt(b);case"file":return ao(b);default:return p.inputAutoTrim?b.value.trim():b.value}},wl=f=>f.checked?1:0,wt=f=>f.checked?f.value:null,ao=f=>f.files&&f.files.length?f.getAttribute("multiple")!==null?f.files:f.files[0]:null,Ln=(f,p)=>{let b=j();if(!b)return;let A=H=>{p.input==="select"?Qc(b,Xo(H),p):p.input==="radio"&&Zo(b,Xo(H),p)};me(p.inputOptions)||R(p.inputOptions)?(so(Tn()),V(p.inputOptions).then(H=>{f.hideLoading(),A(H)})):typeof p.inputOptions=="object"?A(p.inputOptions):Z(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},Kc=(f,p)=>{let b=f.getInput();b&&(Ut(b),V(p.inputValue).then(A=>{b.value=p.input==="number"?`${parseFloat(A)||0}`:`${A}`,Lt(b),b.focus(),f.hideLoading()}).catch(A=>{Z(`Error in inputValue promise: ${A}`),b.value="",Lt(b),b.focus(),f.hideLoading()}))};function Qc(f,p,b){let A=Wi(f,_.select);if(!A)return;let H=(ce,Ge,nt)=>{let Pt=document.createElement("option");Pt.value=nt,_n(Pt,Ge),Pt.selected=Nr(nt,b.inputValue),ce.appendChild(Pt)};p.forEach(ce=>{let Ge=ce[0],nt=ce[1];if(Array.isArray(nt)){let Pt=document.createElement("optgroup");Pt.label=Ge,Pt.disabled=!1,A.appendChild(Pt),nt.forEach(os=>H(Pt,os[1],os[0]))}else H(A,nt,Ge)}),A.focus()}function Zo(f,p,b){let A=Wi(f,_.radio);if(!A)return;p.forEach(ce=>{let Ge=ce[0],nt=ce[1],Pt=document.createElement("input"),os=document.createElement("label");Pt.type="radio",Pt.name=_.radio,Pt.value=Ge,Nr(Ge,b.inputValue)&&(Pt.checked=!0);let ph=document.createElement("span");_n(ph,nt),ph.className=_.label,os.appendChild(Pt),os.appendChild(ph),A.appendChild(os)});let H=A.querySelectorAll("input");H.length&&H[0].focus()}let Xo=f=>{let p=[];return f instanceof Map?f.forEach((b,A)=>{let H=b;typeof H=="object"&&(H=Xo(H)),p.push([A,H])}):Object.keys(f).forEach(b=>{let A=f[b];typeof A=="object"&&(A=Xo(A)),p.push([b,A])}),p},Nr=(f,p)=>!!p&&p.toString()===f.toString(),di=f=>{let p=Te.innerParams.get(f);f.disableButtons(),p.input?Ai(f,"confirm"):es(f,!0)},la=f=>{let p=Te.innerParams.get(f);f.disableButtons(),p.returnInputValueOnDeny?Ai(f,"deny"):tr(f,!1)},ca=(f,p)=>{f.disableButtons(),p(vn.cancel)},Ai=(f,p)=>{let b=Te.innerParams.get(f);if(!b.input){Z(`The "input" parameter is needed to be set when using returnInputValueOn${G(p)}`);return}let A=f.getInput(),H=Yc(f,b);b.inputValidator?Jc(f,H,p):A&&!A.checkValidity()?(f.enableButtons(),f.showValidationMessage(b.validationMessage||A.validationMessage)):p==="deny"?tr(f,H):es(f,H)},Jc=(f,p,b)=>{let A=Te.innerParams.get(f);f.disableInput(),Promise.resolve().then(()=>V(A.inputValidator(p,A.validationMessage))).then(ce=>{f.enableButtons(),f.enableInput(),ce?f.showValidationMessage(ce):b==="deny"?tr(f,p):es(f,p)})},tr=(f,p)=>{let b=Te.innerParams.get(f||void 0);b.showLoaderOnDeny&&so(zt()),b.preDeny?(f.isAwaitingPromise=!0,Promise.resolve().then(()=>V(b.preDeny(p,b.validationMessage))).then(H=>{H===!1?(f.hideLoading(),ui(f)):f.close({isDenied:!0,value:typeof H>"u"?p:H})}).catch(H=>Cl(f||void 0,H))):f.close({isDenied:!0,value:p})},bl=(f,p)=>{f.close({isConfirmed:!0,value:p})},Cl=(f,p)=>{f.rejectPromise(p)},es=(f,p)=>{let b=Te.innerParams.get(f||void 0);b.showLoaderOnConfirm&&so(),b.preConfirm?(f.resetValidationMessage(),f.isAwaitingPromise=!0,Promise.resolve().then(()=>V(b.preConfirm(p,b.validationMessage))).then(H=>{cn(dr())||H===!1?(f.hideLoading(),ui(f)):bl(f,typeof H>"u"?p:H)}).catch(H=>Cl(f||void 0,H))):bl(f,p)};function nr(){let f=Te.innerParams.get(this);if(!f)return;let p=Te.domCache.get(this);Ut(p.loader),eo()?f.icon&&Lt(N()):ua(p),si([p.popup,p.actions],_.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let ua=f=>{let p=f.popup.getElementsByClassName(f.loader.getAttribute("data-button-to-replace"));p.length?Lt(p[0],"inline-block"):qo()&&Ut(f.actions)};function ts(){let f=Te.innerParams.get(this),p=Te.domCache.get(this);return p?Go(p.popup,f.input):null}function El(f,p,b){let A=Te.domCache.get(f);p.forEach(H=>{A[H].disabled=b})}function Il(f,p){let b=j();if(!(!b||!f))if(f.type==="radio"){let A=b.querySelectorAll(`[name="${_.radio}"]`);for(let H=0;H<A.length;H++)A[H].disabled=p}else f.disabled=p}function ir(){El(this,["confirmButton","denyButton","cancelButton"],!1)}function Dl(){El(this,["confirmButton","denyButton","cancelButton"],!0)}function Tl(){Il(this.getInput(),!1)}function Sl(){Il(this.getInput(),!0)}function Al(f){let p=Te.domCache.get(this),b=Te.innerParams.get(this);_n(p.validationMessage,f),p.validationMessage.className=_["validation-message"],b.customClass&&b.customClass.validationMessage&&et(p.validationMessage,b.customClass.validationMessage),Lt(p.validationMessage);let A=this.getInput();A&&(A.setAttribute("aria-invalid","true"),A.setAttribute("aria-describedby",_["validation-message"]),An(A),et(A,_.inputerror))}function ns(){let f=Te.domCache.get(this);f.validationMessage&&Ut(f.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),si(p,_.inputerror))}let qt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Zc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pr={allowEnterKey:void 0},lo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u=f=>Object.prototype.hasOwnProperty.call(qt,f),m=f=>Zc.indexOf(f)!==-1,w=f=>Pr[f],D=f=>{u(f)||$(`Unknown parameter "${f}"`)},U=f=>{lo.includes(f)&&$(`The parameter "${f}" is incompatible with toasts`)},z=f=>{let p=w(f);p&&ve(f,p)},oe=f=>{f.backdrop===!1&&f.allowOutsideClick&&$('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in f)D(p),f.toast&&U(p),z(p)};function ft(f){let p=j(),b=Te.innerParams.get(this);if(!p||oi(p,b.hideClass.popup)){$("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let A=rn(f),H=Object.assign({},b,A);Vc(this,H),Te.innerParams.set(this,H),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}let rn=f=>{let p={};return Object.keys(f).forEach(b=>{m(b)?p[b]=f[b]:$(`Invalid parameter to update: ${b}`)}),p};function tt(){let f=Te.domCache.get(this),p=Te.innerParams.get(this);if(!p){on(this);return}f.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),s.eventEmitter.emit("didDestroy"),Ue(this)}let Ue=f=>{on(f),delete f.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},on=f=>{f.isAwaitingPromise?(wr(Te,f),f.isAwaitingPromise=!0):(wr(io,f),wr(Te,f),delete f.isAwaitingPromise,delete f.disableButtons,delete f.enableButtons,delete f.getInput,delete f.disableInput,delete f.enableInput,delete f.hideLoading,delete f.disableLoading,delete f.showValidationMessage,delete f.resetValidationMessage,delete f.close,delete f.closePopup,delete f.closeModal,delete f.closeToast,delete f.rejectPromise,delete f.update,delete f._destroy)},wr=(f,p)=>{for(let b in f)f[b].delete(p)};var Hn=Object.freeze({__proto__:null,_destroy:tt,close:$n,closeModal:$n,closePopup:$n,closeToast:$n,disableButtons:Dl,disableInput:Sl,disableLoading:nr,enableButtons:ir,enableInput:Tl,getInput:ts,handleAwaitingPromise:ui,hideLoading:nr,rejectPromise:vl,resetValidationMessage:ns,showValidationMessage:Al,update:ft});let da=(f,p,b)=>{f.toast?Ml(f,p,b):(j0(p),U0(p),$0(f,p,b))},Ml=(f,p,b)=>{p.popup.onclick=()=>{f&&(B0(f)||f.timer||f.input)||b(vn.close)}},B0=f=>!!(f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton),co=!1,j0=f=>{f.popup.onmousedown=()=>{f.container.onmouseup=function(p){f.container.onmouseup=()=>{},p.target===f.container&&(co=!0)}}},U0=f=>{f.container.onmousedown=p=>{p.target===f.container&&p.preventDefault(),f.popup.onmouseup=function(b){f.popup.onmouseup=()=>{},(b.target===f.popup||b.target instanceof HTMLElement&&f.popup.contains(b.target))&&(co=!0)}}},$0=(f,p,b)=>{p.container.onclick=A=>{if(co){co=!1;return}A.target===p.container&&Ne(f.allowOutsideClick)&&b(vn.backdrop)}},Xc=f=>typeof f=="object"&&f.jquery,xl=f=>f instanceof Element||Xc(f),dh=f=>{let p={};return typeof f[0]=="object"&&!xl(f[0])?Object.assign(p,f[0]):["title","html","icon"].forEach((b,A)=>{let H=f[A];typeof H=="string"||xl(H)?p[b]=H:H!==void 0&&Z(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof H}`)}),p};function H0(){for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];return new this(...p)}function tp(f){class p extends this{_main(A,H){return super._main(A,Object.assign({},f,H))}}return p}let G0=()=>s.timeout&&s.timeout.getTimerLeft(),eu=()=>{if(s.timeout)return Wo(),s.timeout.stop()},tu=()=>{if(s.timeout){let f=s.timeout.start();return Qi(f),f}},hh=()=>{let f=s.timeout;return f&&(f.running?eu():tu())},z0=f=>{if(s.timeout){let p=s.timeout.increase(f);return Qi(p,!0),p}},q0=()=>!!(s.timeout&&s.timeout.isRunning()),np=!1,fh={};function W0(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";fh[f]=this,np||(document.body.addEventListener("click",Y0),np=!0)}let Y0=f=>{for(let p=f.target;p&&p!==document;p=p.parentNode)for(let b in fh){let A=p.getAttribute(b);if(A){fh[b].fire({template:A});return}}};class K0{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,b){let A=this._getHandlersByEventName(p);A.includes(b)||A.push(b)}once(p,b){var A=this;let H=function(){A.removeListener(p,H);for(var ce=arguments.length,Ge=new Array(ce),nt=0;nt<ce;nt++)Ge[nt]=arguments[nt];b.apply(A,Ge)};this.on(p,H)}emit(p){for(var b=arguments.length,A=new Array(b>1?b-1:0),H=1;H<b;H++)A[H-1]=arguments[H];this._getHandlersByEventName(p).forEach(ce=>{try{ce.apply(this,A)}catch(Ge){console.error(Ge)}})}removeListener(p,b){let A=this._getHandlersByEventName(p),H=A.indexOf(b);H>-1&&A.splice(H,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}s.eventEmitter=new K0;var ip=Object.freeze({__proto__:null,argsToParams:dh,bindClickHandler:W0,clickCancel:Yo,clickConfirm:ra,clickDeny:Bc,enableLoading:so,fire:H0,getActions:zi,getCancelButton:hr,getCloseButton:al,getConfirmButton:Tn,getContainer:O,getDenyButton:zt,getFocusableElements:Zr,getFooter:Ho,getHtmlContainer:sl,getIcon:N,getIconContent:ri,getImage:Qr,getInputLabel:de,getLoader:Jr,getPopup:j,getProgressSteps:ln,getTimerLeft:G0,getTimerProgressBar:qi,getTitle:ur,getValidationMessage:dr,increaseTimer:z0,isDeprecatedParameter:w,isLoading:ll,isTimerRunning:q0,isUpdatableParameter:m,isValidParameter:u,isVisible:oh,mixin:tp,off:(f,p)=>{if(!f){s.eventEmitter.reset();return}p?s.eventEmitter.removeListener(f,p):s.eventEmitter.removeAllListeners(f)},on:(f,p)=>{s.eventEmitter.on(f,p)},once:(f,p)=>{s.eventEmitter.once(f,p)},resumeTimer:tu,showLoading:so,stopTimer:eu,toggleTimer:hh});class Q0{constructor(p,b){this.callback=p,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let b=this.running;return b&&this.stop(),this.remaining+=p,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let rp=["swal-title","swal-html","swal-footer"],rr=f=>{let p=typeof f.template=="string"?document.querySelector(f.template):f.template;if(!p)return{};let b=p.content;return lp(b),Object.assign(is(b),op(b),J0(b),sp(b),ap(b),Z0(b),X0(b,rp))},is=f=>{let p={};return Array.from(f.querySelectorAll("swal-param")).forEach(A=>{rs(A,["name","value"]);let H=A.getAttribute("name"),ce=A.getAttribute("value");!H||!ce||(typeof qt[H]=="boolean"?p[H]=ce!=="false":typeof qt[H]=="object"?p[H]=JSON.parse(ce):p[H]=ce)}),p},op=f=>{let p={};return Array.from(f.querySelectorAll("swal-function-param")).forEach(A=>{let H=A.getAttribute("name"),ce=A.getAttribute("value");!H||!ce||(p[H]=new Function(`return ${ce}`)())}),p},J0=f=>{let p={};return Array.from(f.querySelectorAll("swal-button")).forEach(A=>{rs(A,["type","color","aria-label"]);let H=A.getAttribute("type");!H||!["confirm","cancel","deny"].includes(H)||(p[`${H}ButtonText`]=A.innerHTML,p[`show${G(H)}Button`]=!0,A.hasAttribute("color")&&(p[`${H}ButtonColor`]=A.getAttribute("color")),A.hasAttribute("aria-label")&&(p[`${H}ButtonAriaLabel`]=A.getAttribute("aria-label")))}),p},sp=f=>{let p={},b=f.querySelector("swal-image");return b&&(rs(b,["src","width","height","alt"]),b.hasAttribute("src")&&(p.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(p.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(p.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(p.imageAlt=b.getAttribute("alt")||void 0)),p},ap=f=>{let p={},b=f.querySelector("swal-icon");return b&&(rs(b,["type","color"]),b.hasAttribute("type")&&(p.icon=b.getAttribute("type")),b.hasAttribute("color")&&(p.iconColor=b.getAttribute("color")),p.iconHtml=b.innerHTML),p},Z0=f=>{let p={},b=f.querySelector("swal-input");b&&(rs(b,["type","label","placeholder","value"]),p.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(p.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(p.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(p.inputValue=b.getAttribute("value")));let A=Array.from(f.querySelectorAll("swal-input-option"));return A.length&&(p.inputOptions={},A.forEach(H=>{rs(H,["value"]);let ce=H.getAttribute("value");if(!ce)return;let Ge=H.innerHTML;p.inputOptions[ce]=Ge})),p},X0=(f,p)=>{let b={};for(let A in p){let H=p[A],ce=f.querySelector(H);ce&&(rs(ce,[]),b[H.replace(/^swal-/,"")]=ce.innerHTML.trim())}return b},lp=f=>{let p=rp.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(f.children).forEach(b=>{let A=b.tagName.toLowerCase();p.includes(A)||$(`Unrecognized element <${A}>`)})},rs=(f,p)=>{Array.from(f.attributes).forEach(b=>{p.indexOf(b.name)===-1&&$([`Unrecognized attribute "${b.name}" on <${f.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},cp=10,ey=f=>{let p=O(),b=j();typeof f.willOpen=="function"&&f.willOpen(b),s.eventEmitter.emit("willOpen",b);let H=window.getComputedStyle(document.body).overflowY;iy(p,b,f),setTimeout(()=>{ty(p,b)},cp),Xr()&&(ny(p,f.scrollbarPadding,H),_l()),!eo()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof f.didOpen=="function"&&setTimeout(()=>f.didOpen(b)),s.eventEmitter.emit("didOpen",b),si(p,_["no-transition"])},nu=f=>{let p=j();if(f.target!==p)return;let b=O();p.removeEventListener("animationend",nu),p.removeEventListener("transitionend",nu),b.style.overflowY="auto"},ty=(f,p)=>{Ki(p)?(f.style.overflowY="hidden",p.addEventListener("animationend",nu),p.addEventListener("transitionend",nu)):f.style.overflowY="auto"},ny=(f,p,b)=>{Jo(),p&&b!=="hidden"&&lh(b),setTimeout(()=>{f.scrollTop=0})},iy=(f,p,b)=>{et(f,b.showClass.backdrop),b.animation?(p.style.setProperty("opacity","0","important"),Lt(p,"grid"),setTimeout(()=>{et(p,b.showClass.popup),p.style.removeProperty("opacity")},cp)):Lt(p,"grid"),et([document.documentElement,document.body],_.shown),b.heightAuto&&b.backdrop&&!b.toast&&et([document.documentElement,document.body],_["height-auto"])};var up={email:(f,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(f,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function ry(f){f.inputValidator||(f.input==="email"&&(f.inputValidator=up.email),f.input==="url"&&(f.inputValidator=up.url))}function oy(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&($('Target parameter is not valid, defaulting to "body"'),f.target="body")}function sy(f){ry(f),f.showLoaderOnConfirm&&!f.preConfirm&&$(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),oy(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),ul(f)}let br;var iu=new WeakMap;class Wt{constructor(){if(i(this,iu,void 0),typeof window>"u")return;br=this;for(var p=arguments.length,b=new Array(p),A=0;A<p;A++)b[A]=arguments[A];let H=Object.freeze(this.constructor.argsToParams(b));this.params=H,this.isAwaitingPromise=!1,r(iu,this,this._main(br.params))}_main(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(oe(Object.assign({},b,p)),s.currentInstance){let ce=io.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ge}=s.currentInstance;s.currentInstance._destroy(),Ge||ce({isDismissed:!0}),Xr()&&Uc()}s.currentInstance=br;let A=ay(p,b);sy(A),Object.freeze(A),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let H=ly(br);return Vc(br,A),Te.innerParams.set(br,A),ru(br,H,A)}then(p){return t(iu,this).then(p)}finally(p){return t(iu,this).finally(p)}}let ru=(f,p,b)=>new Promise((A,H)=>{let ce=Ge=>{f.close({isDismissed:!0,dismiss:Ge})};io.swalPromiseResolve.set(f,A),io.swalPromiseReject.set(f,H),p.confirmButton.onclick=()=>{di(f)},p.denyButton.onclick=()=>{la(f)},p.cancelButton.onclick=()=>{ca(f,ce)},p.closeButton.onclick=()=>{ce(vn.close)},da(b,p,ce),_r(s,b,ce),Wc(f,b),ey(b),cy(s,b,ce),uy(p,b),setTimeout(()=>{p.container.scrollTop=0})}),ay=(f,p)=>{let b=rr(f),A=Object.assign({},qt,p,b,f);return A.showClass=Object.assign({},qt.showClass,A.showClass),A.hideClass=Object.assign({},qt.hideClass,A.hideClass),A.animation===!1&&(A.showClass={backdrop:"swal2-noanimation"},A.hideClass={}),A},ly=f=>{let p={popup:j(),container:O(),actions:zi(),confirmButton:Tn(),denyButton:zt(),cancelButton:hr(),loader:Jr(),closeButton:al(),validationMessage:dr(),progressSteps:ln()};return Te.domCache.set(f,p),p},cy=(f,p,b)=>{let A=qi();Ut(A),p.timer&&(f.timeout=new Q0(()=>{b("timer"),delete f.timeout},p.timer),p.timerProgressBar&&(Lt(A),Sn(A,p,"timerProgressBar"),setTimeout(()=>{f.timeout&&f.timeout.running&&Qi(p.timer)})))},uy=(f,p)=>{if(!p.toast){if(!Ne(p.allowEnterKey)){ve("allowEnterKey"),fy();return}dy(f)||hy(f,p)||Mn(-1,1)}},dy=f=>{let p=f.popup.querySelectorAll("[autofocus]");for(let b of p)if(b instanceof HTMLElement&&cn(b))return b.focus(),!0;return!1},hy=(f,p)=>p.focusDeny&&cn(f.denyButton)?(f.denyButton.focus(),!0):p.focusCancel&&cn(f.cancelButton)?(f.cancelButton.focus(),!0):p.focusConfirm&&cn(f.confirmButton)?(f.confirmButton.focus(),!0):!1,fy=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let f=new Date,p=localStorage.getItem("swal-initiation");p?(f.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let b=document.createElement("audio");b.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",b.loop=!0,document.body.appendChild(b),setTimeout(()=>{b.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${f}`)}Wt.prototype.disableButtons=Dl,Wt.prototype.enableButtons=ir,Wt.prototype.getInput=ts,Wt.prototype.disableInput=Sl,Wt.prototype.enableInput=Tl,Wt.prototype.hideLoading=nr,Wt.prototype.disableLoading=nr,Wt.prototype.showValidationMessage=Al,Wt.prototype.resetValidationMessage=ns,Wt.prototype.close=$n,Wt.prototype.closePopup=$n,Wt.prototype.closeModal=$n,Wt.prototype.closeToast=$n,Wt.prototype.rejectPromise=vl,Wt.prototype.update=ft,Wt.prototype._destroy=tt,Object.assign(Wt,ip),Object.keys(Hn).forEach(f=>{Wt[f]=function(){return br&&br[f]?br[f](...arguments):null}}),Wt.DismissReason=vn,Wt.version="11.14.4";let ou=Wt;return ou.default=ou,ou});typeof Bo<"u"&&Bo.Sweetalert2&&(Bo.swal=Bo.sweetAlert=Bo.Swal=Bo.SweetAlert=Bo.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var ik=wD(($I,Xd)=>{"use strict";(function(n,e){typeof $I=="object"&&typeof Xd<"u"?Xd.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})($I,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(l){n=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function r(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function o(l,d){return Object.prototype.hasOwnProperty.call(l,d)}function s(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var d;for(d in l)if(o(l,d))return!1;return!0}function a(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function h(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function y(l,d){var g=[],v,I=l.length;for(v=0;v<I;++v)g.push(d(l[v],v));return g}function _(l,d){for(var g in d)o(d,g)&&(l[g]=d[g]);return o(d,"toString")&&(l.toString=d.toString),o(d,"valueOf")&&(l.valueOf=d.valueOf),l}function T(l,d,g,v){return tt(l,d,g,v,!0).utc()}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function k(l){return l._pf==null&&(l._pf=x()),l._pf}var G;Array.prototype.some?G=Array.prototype.some:G=function(l){var d=Object(this),g=d.length>>>0,v;for(v=0;v<g;v++)if(v in d&&l.call(this,d[v],v,d))return!0;return!1};function $(l){var d=null,g=!1,v=l._d&&!isNaN(l._d.getTime());if(v&&(d=k(l),g=G.call(d.parsedDateParts,function(I){return I!=null}),v=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&g),l._strict&&(v=v&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=v;else return v;return l._isValid}function Z(l){var d=T(NaN);return l!=null?_(k(d),l):k(d).userInvalidated=!0,d}var fe=e.momentProperties=[],se=!1;function ve(l,d){var g,v,I,F=fe.length;if(a(d._isAMomentObject)||(l._isAMomentObject=d._isAMomentObject),a(d._i)||(l._i=d._i),a(d._f)||(l._f=d._f),a(d._l)||(l._l=d._l),a(d._strict)||(l._strict=d._strict),a(d._tzm)||(l._tzm=d._tzm),a(d._isUTC)||(l._isUTC=d._isUTC),a(d._offset)||(l._offset=d._offset),a(d._pf)||(l._pf=k(d)),a(d._locale)||(l._locale=d._locale),F>0)for(g=0;g<F;g++)v=fe[g],I=d[v],a(I)||(l[v]=I);return l}function Ne(l){ve(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),se===!1&&(se=!0,e.updateOffset(this),se=!1)}function me(l){return l instanceof Ne||l!=null&&l._isAMomentObject!=null}function V(l){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function R(l,d){var g=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,l),g){var v=[],I,F,W,_e=arguments.length;for(F=0;F<_e;F++){if(I="",typeof arguments[F]=="object"){I+=`
[`+F+"] ";for(W in arguments[0])o(arguments[0],W)&&(I+=W+": "+arguments[0][W]+", ");I=I.slice(0,-2)}else I=arguments[F];v.push(I)}V(l+`
Arguments: `+Array.prototype.slice.call(v).join("")+`
`+new Error().stack),g=!1}return d.apply(this,arguments)},d)}var O={};function B(l,d){e.deprecationHandler!=null&&e.deprecationHandler(l,d),O[l]||(V(d),O[l]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function L(l){return typeof Function<"u"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function j(l){var d,g;for(g in l)o(l,g)&&(d=l[g],L(d)?this[g]=d:this["_"+g]=d);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(l,d){var g=_({},l),v;for(v in d)o(d,v)&&(r(l[v])&&r(d[v])?(g[v]={},_(g[v],l[v]),_(g[v],d[v])):d[v]!=null?g[v]=d[v]:delete g[v]);for(v in l)o(l,v)&&!o(d,v)&&r(l[v])&&(g[v]=_({},g[v]));return g}function ri(l){l!=null&&this.set(l)}var ur;Object.keys?ur=Object.keys:ur=function(l){var d,g=[];for(d in l)o(l,d)&&g.push(d);return g};var sl={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Qr(l,d,g){var v=this._calendar[l]||this._calendar.sameElse;return L(v)?v.call(d,g):v}function ln(l,d,g){var v=""+Math.abs(l),I=d-v.length,F=l>=0;return(F?g?"+":"":"-")+Math.pow(10,Math.max(0,I)).toString().substr(1)+v}var dr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr={},zt={};function de(l,d,g,v){var I=v;typeof v=="string"&&(I=function(){return this[v]()}),l&&(zt[l]=I),d&&(zt[d[0]]=function(){return ln(I.apply(this,arguments),d[1],d[2])}),g&&(zt[g]=function(){return this.localeData().ordinal(I.apply(this,arguments),l)})}function Jr(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function zi(l){var d=l.match(dr),g,v;for(g=0,v=d.length;g<v;g++)zt[d[g]]?d[g]=zt[d[g]]:d[g]=Jr(d[g]);return function(I){var F="",W;for(W=0;W<v;W++)F+=L(d[W])?d[W].call(I,l):d[W];return F}}function Ho(l,d){return l.isValid()?(d=qi(d,l.localeData()),hr[d]=hr[d]||zi(d),hr[d](l)):l.localeData().invalidDate()}function qi(l,d){var g=5;function v(I){return d.longDateFormat(I)||I}for(Tn.lastIndex=0;g>=0&&Tn.test(l);)l=l.replace(Tn,v),Tn.lastIndex=0,g-=1;return l}var al={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nh(l){var d=this._longDateFormat[l],g=this._longDateFormat[l.toUpperCase()];return d||!g?d:(this._longDateFormat[l]=g.match(dr).map(function(v){return v==="MMMM"||v==="MM"||v==="DD"||v==="dddd"?v.slice(1):v}).join(""),this._longDateFormat[l])}var Zr="Invalid date";function Xr(){return this._invalidDate}var eo="%d",ll=/\d{1,2}/;function _n(l){return this._ordinal.replace("%d",l)}var oi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ac(l,d,g,v){var I=this._relativeTime[g];return L(I)?I(l,d,g,v):I.replace(/%d/i,l)}function Sn(l,d){var g=this._relativeTime[l>0?"future":"past"];return L(g)?g(d):g.replace(/%s/i,d)}var Go={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function An(l){return typeof l=="string"?Go[l]||Go[l.toLowerCase()]:void 0}function zo(l){var d={},g,v;for(v in l)o(l,v)&&(g=An(v),g&&(d[g]=l[v]));return d}var et={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function si(l){var d=[],g;for(g in l)o(l,g)&&d.push({unit:g,priority:et[g]});return d.sort(function(v,I){return v.priority-I.priority}),d}var Wi=/\d/,Ft=/\d\d/,Lt=/\d{3}/,Ut=/\d{4}/,Vt=/[+-]?\d{6}/,je=/\d\d?/,Yi=/\d\d\d\d?/,cn=/\d\d\d\d\d\d?/,qo=/\d{1,3}/,Xs=/\d{1,4}/,Ki=/[+-]?\d{1,6}/,Qi=/\d+/,Wo=/[+-]?\d+/,cl=/Z|[+-]\d\d:?\d\d/gi,ea=/Z|[+-]\d\d(?::?\d\d)?/gi,ih=/[+-]?\d+(\.\d{1,3})?/,Fn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xr=/^[1-9]\d?/,ta=/^([1-9]\d|\d)/,fr;fr={};function he(l,d,g){fr[l]=L(d)?d:function(v,I){return v&&g?g:d}}function ul(l,d){return o(fr,l)?fr[l](d._strict,d._locale):new RegExp(Ji(l))}function Ji(l){return Ii(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,g,v,I,F){return g||v||I||F}))}function Ii(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yn(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function Ye(l){var d=+l,g=0;return d!==0&&isFinite(d)&&(g=yn(d)),g}var Rr={};function ht(l,d){var g,v=d,I;for(typeof l=="string"&&(l=[l]),c(d)&&(v=function(F,W){W[d]=Ye(F)}),I=l.length,g=0;g<I;g++)Rr[l[g]]=v}function Bt(l,d){ht(l,function(g,v,I,F){I._w=I._w||{},d(g,I._w,I,F)})}function Mc(l,d,g){d!=null&&o(Rr,l)&&Rr[l](d,g._a,g,l)}function pr(l){return l%4===0&&l%100!==0||l%400===0}var $t=0,Zi=1,Di=2,Te=3,ai=4,Xi=5,Ti=6,xc=7,dl=8;de("Y",0,0,function(){var l=this.year();return l<=9999?ln(l,4):"+"+l}),de(0,["YY",2],0,function(){return this.year()%100}),de(0,["YYYY",4],0,"year"),de(0,["YYYYY",5],0,"year"),de(0,["YYYYYY",6,!0],0,"year"),he("Y",Wo),he("YY",je,Ft),he("YYYY",Xs,Ut),he("YYYYY",Ki,Vt),he("YYYYYY",Ki,Vt),ht(["YYYYY","YYYYYY"],$t),ht("YYYY",function(l,d){d[$t]=l.length===2?e.parseTwoDigitYear(l):Ye(l)}),ht("YY",function(l,d){d[$t]=e.parseTwoDigitYear(l)}),ht("Y",function(l,d){d[$t]=parseInt(l,10)});function mr(l){return pr(l)?366:365}e.parseTwoDigitYear=function(l){return Ye(l)+(Ye(l)>68?1900:2e3)};var li=gr("FullYear",!0);function to(){return pr(this.year())}function gr(l,d){return function(g){return g!=null?(At(this,l,g),e.updateOffset(this,d),this):Si(this,l)}}function Si(l,d){if(!l.isValid())return NaN;var g=l._d,v=l._isUTC;switch(d){case"Milliseconds":return v?g.getUTCMilliseconds():g.getMilliseconds();case"Seconds":return v?g.getUTCSeconds():g.getSeconds();case"Minutes":return v?g.getUTCMinutes():g.getMinutes();case"Hours":return v?g.getUTCHours():g.getHours();case"Date":return v?g.getUTCDate():g.getDate();case"Day":return v?g.getUTCDay():g.getDay();case"Month":return v?g.getUTCMonth():g.getMonth();case"FullYear":return v?g.getUTCFullYear():g.getFullYear();default:return NaN}}function At(l,d,g){var v,I,F,W,_e;if(!(!l.isValid()||isNaN(g))){switch(v=l._d,I=l._isUTC,d){case"Milliseconds":return void(I?v.setUTCMilliseconds(g):v.setMilliseconds(g));case"Seconds":return void(I?v.setUTCSeconds(g):v.setSeconds(g));case"Minutes":return void(I?v.setUTCMinutes(g):v.setMinutes(g));case"Hours":return void(I?v.setUTCHours(g):v.setHours(g));case"Date":return void(I?v.setUTCDate(g):v.setDate(g));case"FullYear":break;default:return}F=g,W=l.month(),_e=l.date(),_e=_e===29&&W===1&&!pr(F)?28:_e,I?v.setUTCFullYear(F,W,_e):v.setFullYear(F,W,_e)}}function Rc(l){return l=An(l),L(this[l])?this[l]():this}function Oc(l,d){if(typeof l=="object"){l=zo(l);var g=si(l),v,I=g.length;for(v=0;v<I;v++)this[g[v].unit](l[g[v].unit])}else if(l=An(l),L(this[l]))return this[l](d);return this}function rh(l,d){return(l%d+d)%d}var Ct;Array.prototype.indexOf?Ct=Array.prototype.indexOf:Ct=function(l){var d;for(d=0;d<this.length;++d)if(this[d]===l)return d;return-1};function na(l,d){if(isNaN(l)||isNaN(d))return NaN;var g=rh(d,12);return l+=(d-g)/12,g===1?pr(l)?29:28:31-g%7%2}de("M",["MM",2],"Mo",function(){return this.month()+1}),de("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),de("MMMM",0,0,function(l){return this.localeData().months(this,l)}),he("M",je,xr),he("MM",je,Ft),he("MMM",function(l,d){return d.monthsShortRegex(l)}),he("MMMM",function(l,d){return d.monthsRegex(l)}),ht(["M","MM"],function(l,d){d[Zi]=Ye(l)-1}),ht(["MMM","MMMM"],function(l,d,g,v){var I=g._locale.monthsParse(l,v,g._strict);I!=null?d[Zi]=I:k(g).invalidMonth=l});var hl="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),no="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),er=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fl=Fn,Nc=Fn;function Pc(l,d){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||er).test(d)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function kc(l,d){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[er.test(d)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Fc(l,d,g){var v,I,F,W=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],v=0;v<12;++v)F=T([2e3,v]),this._shortMonthsParse[v]=this.monthsShort(F,"").toLocaleLowerCase(),this._longMonthsParse[v]=this.months(F,"").toLocaleLowerCase();return g?d==="MMM"?(I=Ct.call(this._shortMonthsParse,W),I!==-1?I:null):(I=Ct.call(this._longMonthsParse,W),I!==-1?I:null):d==="MMM"?(I=Ct.call(this._shortMonthsParse,W),I!==-1?I:(I=Ct.call(this._longMonthsParse,W),I!==-1?I:null)):(I=Ct.call(this._longMonthsParse,W),I!==-1?I:(I=Ct.call(this._shortMonthsParse,W),I!==-1?I:null))}function pl(l,d,g){var v,I,F;if(this._monthsParseExact)return Fc.call(this,l,d,g);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),v=0;v<12;v++){if(I=T([2e3,v]),g&&!this._longMonthsParse[v]&&(this._longMonthsParse[v]=new RegExp("^"+this.months(I,"").replace(".","")+"$","i"),this._shortMonthsParse[v]=new RegExp("^"+this.monthsShort(I,"").replace(".","")+"$","i")),!g&&!this._monthsParse[v]&&(F="^"+this.months(I,"")+"|^"+this.monthsShort(I,""),this._monthsParse[v]=new RegExp(F.replace(".",""),"i")),g&&d==="MMMM"&&this._longMonthsParse[v].test(l))return v;if(g&&d==="MMM"&&this._shortMonthsParse[v].test(l))return v;if(!g&&this._monthsParse[v].test(l))return v}}function ia(l,d){if(!l.isValid())return l;if(typeof d=="string"){if(/^\d+$/.test(d))d=Ye(d);else if(d=l.localeData().monthsParse(d),!c(d))return l}var g=d,v=l.date();return v=v<29?v:Math.min(v,na(l.year(),g)),l._isUTC?l._d.setUTCMonth(g,v):l._d.setMonth(g,v),l}function ml(l){return l!=null?(ia(this,l),e.updateOffset(this,!0),this):Si(this,"Month")}function Lc(){return na(this.year(),this.month())}function Vc(l){return this._monthsParseExact?(o(this,"_monthsRegex")||ra.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=fl),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function oh(l){return this._monthsParseExact?(o(this,"_monthsRegex")||ra.call(this),l?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Nc),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function ra(){function l(Pe,at){return at.length-Pe.length}var d=[],g=[],v=[],I,F,W,_e;for(I=0;I<12;I++)F=T([2e3,I]),W=Ii(this.monthsShort(F,"")),_e=Ii(this.months(F,"")),d.push(W),g.push(_e),v.push(_e),v.push(W);d.sort(l),g.sort(l),v.sort(l),this._monthsRegex=new RegExp("^("+v.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Bc(l,d,g,v,I,F,W){var _e;return l<100&&l>=0?(_e=new Date(l+400,d,g,v,I,F,W),isFinite(_e.getFullYear())&&_e.setFullYear(l)):_e=new Date(l,d,g,v,I,F,W),_e}function Yo(l){var d,g;return l<100&&l>=0?(g=Array.prototype.slice.call(arguments),g[0]=l+400,d=new Date(Date.UTC.apply(null,g)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(l)):d=new Date(Date.UTC.apply(null,arguments)),d}function vn(l,d,g){var v=7+d-g,I=(7+Yo(l,0,v).getUTCDay()-d)%7;return-I+v-1}function ci(l,d,g,v,I){var F=(7+g-v)%7,W=vn(l,v,I),_e=1+7*(d-1)+F+W,Pe,at;return _e<=0?(Pe=l-1,at=mr(Pe)+_e):_e>mr(l)?(Pe=l+1,at=_e-mr(l)):(Pe=l,at=_e),{year:Pe,dayOfYear:at}}function _r(l,d,g){var v=vn(l.year(),d,g),I=Math.floor((l.dayOfYear()-v-1)/7)+1,F,W;return I<1?(W=l.year()-1,F=I+Mn(W,d,g)):I>Mn(l.year(),d,g)?(F=I-Mn(l.year(),d,g),W=l.year()+1):(W=l.year(),F=I),{week:F,year:W}}function Mn(l,d,g){var v=vn(l,d,g),I=vn(l+1,d,g);return(mr(l)-v+I)/7}de("w",["ww",2],"wo","week"),de("W",["WW",2],"Wo","isoWeek"),he("w",je,xr),he("ww",je,Ft),he("W",je,xr),he("WW",je,Ft),Bt(["w","ww","W","WW"],function(l,d,g,v){d[v.substr(0,1)]=Ye(l)});function gl(l){return _r(l,this._week.dow,this._week.doy).week}var Et={dow:0,doy:6};function oa(){return this._week.dow}function Ko(){return this._week.doy}function Qo(l){var d=this.localeData().week(this);return l==null?d:this.add((l-d)*7,"d")}function sh(l){var d=_r(this,1,4).week;return l==null?d:this.add((l-d)*7,"d")}de("d",0,"do","day"),de("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),de("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),de("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),de("e",0,0,"weekday"),de("E",0,0,"isoWeekday"),he("d",je),he("e",je),he("E",je),he("dd",function(l,d){return d.weekdaysMinRegex(l)}),he("ddd",function(l,d){return d.weekdaysShortRegex(l)}),he("dddd",function(l,d){return d.weekdaysRegex(l)}),Bt(["dd","ddd","dddd"],function(l,d,g,v){var I=g._locale.weekdaysParse(l,v,g._strict);I!=null?d.d=I:k(g).invalidWeekday=l}),Bt(["d","e","E"],function(l,d,g,v){d[v]=Ye(l)});function jc(l,d){return typeof l!="string"?l:isNaN(l)?(l=d.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function io(l,d){return typeof l=="string"?d.weekdaysParse(l)%7||7:isNaN(l)?null:l}function _l(l,d){return l.slice(d,7).concat(l.slice(0,d))}var Uc="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yr=Fn,$c=Fn,Hc=Fn;function Gc(l,d){var g=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return l===!0?_l(g,this._week.dow):l?g[l.day()]:g}function ro(l){return l===!0?_l(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function ah(l){return l===!0?_l(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function oo(l,d,g){var v,I,F,W=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],v=0;v<7;++v)F=T([2e3,1]).day(v),this._minWeekdaysParse[v]=this.weekdaysMin(F,"").toLocaleLowerCase(),this._shortWeekdaysParse[v]=this.weekdaysShort(F,"").toLocaleLowerCase(),this._weekdaysParse[v]=this.weekdays(F,"").toLocaleLowerCase();return g?d==="dddd"?(I=Ct.call(this._weekdaysParse,W),I!==-1?I:null):d==="ddd"?(I=Ct.call(this._shortWeekdaysParse,W),I!==-1?I:null):(I=Ct.call(this._minWeekdaysParse,W),I!==-1?I:null):d==="dddd"?(I=Ct.call(this._weekdaysParse,W),I!==-1||(I=Ct.call(this._shortWeekdaysParse,W),I!==-1)?I:(I=Ct.call(this._minWeekdaysParse,W),I!==-1?I:null)):d==="ddd"?(I=Ct.call(this._shortWeekdaysParse,W),I!==-1||(I=Ct.call(this._weekdaysParse,W),I!==-1)?I:(I=Ct.call(this._minWeekdaysParse,W),I!==-1?I:null)):(I=Ct.call(this._minWeekdaysParse,W),I!==-1||(I=Ct.call(this._weekdaysParse,W),I!==-1)?I:(I=Ct.call(this._shortWeekdaysParse,W),I!==-1?I:null))}function lh(l,d,g){var v,I,F;if(this._weekdaysParseExact)return oo.call(this,l,d,g);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),v=0;v<7;v++){if(I=T([2e3,1]).day(v),g&&!this._fullWeekdaysParse[v]&&(this._fullWeekdaysParse[v]=new RegExp("^"+this.weekdays(I,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[v]=new RegExp("^"+this.weekdaysShort(I,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[v]=new RegExp("^"+this.weekdaysMin(I,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[v]||(F="^"+this.weekdays(I,"")+"|^"+this.weekdaysShort(I,"")+"|^"+this.weekdaysMin(I,""),this._weekdaysParse[v]=new RegExp(F.replace(".",""),"i")),g&&d==="dddd"&&this._fullWeekdaysParse[v].test(l))return v;if(g&&d==="ddd"&&this._shortWeekdaysParse[v].test(l))return v;if(g&&d==="dd"&&this._minWeekdaysParse[v].test(l))return v;if(!g&&this._weekdaysParse[v].test(l))return v}}function vr(l){if(!this.isValid())return l!=null?this:NaN;var d=Si(this,"Day");return l!=null?(l=jc(l,this.localeData()),this.add(l-d,"d")):d}function zc(l){if(!this.isValid())return l!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return l==null?d:this.add(l-d,"d")}function ch(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var d=io(l,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function $n(l){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ui.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=yr),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function sa(l){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ui.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$c),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function vl(l){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ui.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hc),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ui(){function l(hi,cs){return cs.length-hi.length}var d=[],g=[],v=[],I=[],F,W,_e,Pe,at;for(F=0;F<7;F++)W=T([2e3,1]).day(F),_e=Ii(this.weekdaysMin(W,"")),Pe=Ii(this.weekdaysShort(W,"")),at=Ii(this.weekdays(W,"")),d.push(_e),g.push(Pe),v.push(at),I.push(_e),I.push(Pe),I.push(at);d.sort(l),g.sort(l),v.sort(l),I.sort(l),this._weekdaysRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Or(){return this.hours()%12||12}function qc(){return this.hours()||24}de("H",["HH",2],0,"hour"),de("h",["hh",2],0,Or),de("k",["kk",2],0,qc),de("hmm",0,0,function(){return""+Or.apply(this)+ln(this.minutes(),2)}),de("hmmss",0,0,function(){return""+Or.apply(this)+ln(this.minutes(),2)+ln(this.seconds(),2)}),de("Hmm",0,0,function(){return""+this.hours()+ln(this.minutes(),2)}),de("Hmmss",0,0,function(){return""+this.hours()+ln(this.minutes(),2)+ln(this.seconds(),2)});function aa(l,d){de(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}aa("a",!0),aa("A",!1);function Mt(l,d){return d._meridiemParse}he("a",Mt),he("A",Mt),he("H",je,ta),he("h",je,xr),he("k",je,xr),he("HH",je,Ft),he("hh",je,Ft),he("kk",je,Ft),he("hmm",Yi),he("hmmss",cn),he("Hmm",Yi),he("Hmmss",cn),ht(["H","HH"],Te),ht(["k","kk"],function(l,d,g){var v=Ye(l);d[Te]=v===24?0:v}),ht(["a","A"],function(l,d,g){g._isPm=g._locale.isPM(l),g._meridiem=l}),ht(["h","hh"],function(l,d,g){d[Te]=Ye(l),k(g).bigHour=!0}),ht("hmm",function(l,d,g){var v=l.length-2;d[Te]=Ye(l.substr(0,v)),d[ai]=Ye(l.substr(v)),k(g).bigHour=!0}),ht("hmmss",function(l,d,g){var v=l.length-4,I=l.length-2;d[Te]=Ye(l.substr(0,v)),d[ai]=Ye(l.substr(v,2)),d[Xi]=Ye(l.substr(I)),k(g).bigHour=!0}),ht("Hmm",function(l,d,g){var v=l.length-2;d[Te]=Ye(l.substr(0,v)),d[ai]=Ye(l.substr(v))}),ht("Hmmss",function(l,d,g){var v=l.length-4,I=l.length-2;d[Te]=Ye(l.substr(0,v)),d[ai]=Ye(l.substr(v,2)),d[Xi]=Ye(l.substr(I))});function so(l){return(l+"").toLowerCase().charAt(0)==="p"}var uh=/[ap]\.?m?\.?/i,Wc=gr("Hours",!0);function Yc(l,d,g){return l>11?g?"pm":"PM":g?"am":"AM"}var wl={calendar:sl,longDateFormat:al,invalidDate:Zr,ordinal:eo,dayOfMonthOrdinalParse:ll,relativeTime:oi,months:hl,monthsShort:no,week:Et,weekdays:Uc,weekdaysMin:Jo,weekdaysShort:yl,meridiemParse:uh},wt={},ao={},Ln;function Kc(l,d){var g,v=Math.min(l.length,d.length);for(g=0;g<v;g+=1)if(l[g]!==d[g])return g;return v}function Qc(l){return l&&l.toLowerCase().replace("_","-")}function Zo(l){for(var d=0,g,v,I,F;d<l.length;){for(F=Qc(l[d]).split("-"),g=F.length,v=Qc(l[d+1]),v=v?v.split("-"):null;g>0;){if(I=Nr(F.slice(0,g).join("-")),I)return I;if(v&&v.length>=g&&Kc(F,v)>=g-1)break;g--}d++}return Ln}function Xo(l){return!!(l&&l.match("^[^/\\\\]*$"))}function Nr(l){var d=null,g;if(wt[l]===void 0&&typeof Xd<"u"&&Xd&&Xd.exports&&Xo(l))try{d=Ln._abbr,g=vD,g("./locale/"+l),di(d)}catch{wt[l]=null}return wt[l]}function di(l,d){var g;return l&&(a(d)?g=Ai(l):g=la(l,d),g?Ln=g:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),Ln._abbr}function la(l,d){if(d!==null){var g,v=wl;if(d.abbr=l,wt[l]!=null)B("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),v=wt[l]._config;else if(d.parentLocale!=null)if(wt[d.parentLocale]!=null)v=wt[d.parentLocale]._config;else if(g=Nr(d.parentLocale),g!=null)v=g._config;else return ao[d.parentLocale]||(ao[d.parentLocale]=[]),ao[d.parentLocale].push({name:l,config:d}),null;return wt[l]=new ri(N(v,d)),ao[l]&&ao[l].forEach(function(I){la(I.name,I.config)}),di(l),wt[l]}else return delete wt[l],null}function ca(l,d){if(d!=null){var g,v,I=wl;wt[l]!=null&&wt[l].parentLocale!=null?wt[l].set(N(wt[l]._config,d)):(v=Nr(l),v!=null&&(I=v._config),d=N(I,d),v==null&&(d.abbr=l),g=new ri(d),g.parentLocale=wt[l],wt[l]=g),di(l)}else wt[l]!=null&&(wt[l].parentLocale!=null?(wt[l]=wt[l].parentLocale,l===di()&&di(l)):wt[l]!=null&&delete wt[l]);return wt[l]}function Ai(l){var d;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return Ln;if(!i(l)){if(d=Nr(l),d)return d;l=[l]}return Zo(l)}function Jc(){return ur(wt)}function tr(l){var d,g=l._a;return g&&k(l).overflow===-2&&(d=g[Zi]<0||g[Zi]>11?Zi:g[Di]<1||g[Di]>na(g[$t],g[Zi])?Di:g[Te]<0||g[Te]>24||g[Te]===24&&(g[ai]!==0||g[Xi]!==0||g[Ti]!==0)?Te:g[ai]<0||g[ai]>59?ai:g[Xi]<0||g[Xi]>59?Xi:g[Ti]<0||g[Ti]>999?Ti:-1,k(l)._overflowDayOfYear&&(d<$t||d>Di)&&(d=Di),k(l)._overflowWeeks&&d===-1&&(d=xc),k(l)._overflowWeekday&&d===-1&&(d=dl),k(l).overflow=d),l}var bl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,es=/Z|[+-]\d\d(?::?\d\d)?/,nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ua=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ts=/^\/?Date\((-?\d+)/i,El=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Il={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ir(l){var d,g,v=l._i,I=bl.exec(v)||Cl.exec(v),F,W,_e,Pe,at=nr.length,hi=ua.length;if(I){for(k(l).iso=!0,d=0,g=at;d<g;d++)if(nr[d][1].exec(I[1])){W=nr[d][0],F=nr[d][2]!==!1;break}if(W==null){l._isValid=!1;return}if(I[3]){for(d=0,g=hi;d<g;d++)if(ua[d][1].exec(I[3])){_e=(I[2]||" ")+ua[d][0];break}if(_e==null){l._isValid=!1;return}}if(!F&&_e!=null){l._isValid=!1;return}if(I[4])if(es.exec(I[4]))Pe="Z";else{l._isValid=!1;return}l._f=W+(_e||"")+(Pe||""),w(l)}else l._isValid=!1}function Dl(l,d,g,v,I,F){var W=[Tl(l),no.indexOf(d),parseInt(g,10),parseInt(v,10),parseInt(I,10)];return F&&W.push(parseInt(F,10)),W}function Tl(l){var d=parseInt(l,10);return d<=49?2e3+d:d<=999?1900+d:d}function Sl(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Al(l,d,g){if(l){var v=yl.indexOf(l),I=new Date(d[0],d[1],d[2]).getDay();if(v!==I)return k(g).weekdayMismatch=!0,g._isValid=!1,!1}return!0}function ns(l,d,g){if(l)return Il[l];if(d)return 0;var v=parseInt(g,10),I=v%100,F=(v-I)/100;return F*60+I}function qt(l){var d=El.exec(Sl(l._i)),g;if(d){if(g=Dl(d[4],d[3],d[2],d[5],d[6],d[7]),!Al(d[1],g,l))return;l._a=g,l._tzm=ns(d[8],d[9],d[10]),l._d=Yo.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),k(l).rfc2822=!0}else l._isValid=!1}function Zc(l){var d=ts.exec(l._i);if(d!==null){l._d=new Date(+d[1]);return}if(ir(l),l._isValid===!1)delete l._isValid;else return;if(qt(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:e.createFromInputFallback(l)}e.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function Pr(l,d,g){return l??d??g}function lo(l){var d=new Date(e.now());return l._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function u(l){var d,g,v=[],I,F,W;if(!l._d){for(I=lo(l),l._w&&l._a[Di]==null&&l._a[Zi]==null&&m(l),l._dayOfYear!=null&&(W=Pr(l._a[$t],I[$t]),(l._dayOfYear>mr(W)||l._dayOfYear===0)&&(k(l)._overflowDayOfYear=!0),g=Yo(W,0,l._dayOfYear),l._a[Zi]=g.getUTCMonth(),l._a[Di]=g.getUTCDate()),d=0;d<3&&l._a[d]==null;++d)l._a[d]=v[d]=I[d];for(;d<7;d++)l._a[d]=v[d]=l._a[d]==null?d===2?1:0:l._a[d];l._a[Te]===24&&l._a[ai]===0&&l._a[Xi]===0&&l._a[Ti]===0&&(l._nextDay=!0,l._a[Te]=0),l._d=(l._useUTC?Yo:Bc).apply(null,v),F=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[Te]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==F&&(k(l).weekdayMismatch=!0)}}function m(l){var d,g,v,I,F,W,_e,Pe,at;d=l._w,d.GG!=null||d.W!=null||d.E!=null?(F=1,W=4,g=Pr(d.GG,l._a[$t],_r(Ue(),1,4).year),v=Pr(d.W,1),I=Pr(d.E,1),(I<1||I>7)&&(Pe=!0)):(F=l._locale._week.dow,W=l._locale._week.doy,at=_r(Ue(),F,W),g=Pr(d.gg,l._a[$t],at.year),v=Pr(d.w,at.week),d.d!=null?(I=d.d,(I<0||I>6)&&(Pe=!0)):d.e!=null?(I=d.e+F,(d.e<0||d.e>6)&&(Pe=!0)):I=F),v<1||v>Mn(g,F,W)?k(l)._overflowWeeks=!0:Pe!=null?k(l)._overflowWeekday=!0:(_e=ci(g,v,I,F,W),l._a[$t]=_e.year,l._dayOfYear=_e.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function w(l){if(l._f===e.ISO_8601){ir(l);return}if(l._f===e.RFC_2822){qt(l);return}l._a=[],k(l).empty=!0;var d=""+l._i,g,v,I,F,W,_e=d.length,Pe=0,at,hi;for(I=qi(l._f,l._locale).match(dr)||[],hi=I.length,g=0;g<hi;g++)F=I[g],v=(d.match(ul(F,l))||[])[0],v&&(W=d.substr(0,d.indexOf(v)),W.length>0&&k(l).unusedInput.push(W),d=d.slice(d.indexOf(v)+v.length),Pe+=v.length),zt[F]?(v?k(l).empty=!1:k(l).unusedTokens.push(F),Mc(F,v,l)):l._strict&&!v&&k(l).unusedTokens.push(F);k(l).charsLeftOver=_e-Pe,d.length>0&&k(l).unusedInput.push(d),l._a[Te]<=12&&k(l).bigHour===!0&&l._a[Te]>0&&(k(l).bigHour=void 0),k(l).parsedDateParts=l._a.slice(0),k(l).meridiem=l._meridiem,l._a[Te]=D(l._locale,l._a[Te],l._meridiem),at=k(l).era,at!==null&&(l._a[$t]=l._locale.erasConvertYear(at,l._a[$t])),u(l),tr(l)}function D(l,d,g){var v;return g==null?d:l.meridiemHour!=null?l.meridiemHour(d,g):(l.isPM!=null&&(v=l.isPM(g),v&&d<12&&(d+=12),!v&&d===12&&(d=0)),d)}function U(l){var d,g,v,I,F,W,_e=!1,Pe=l._f.length;if(Pe===0){k(l).invalidFormat=!0,l._d=new Date(NaN);return}for(I=0;I<Pe;I++)F=0,W=!1,d=ve({},l),l._useUTC!=null&&(d._useUTC=l._useUTC),d._f=l._f[I],w(d),$(d)&&(W=!0),F+=k(d).charsLeftOver,F+=k(d).unusedTokens.length*10,k(d).score=F,_e?F<v&&(v=F,g=d):(v==null||F<v||W)&&(v=F,g=d,W&&(_e=!0));_(l,g||d)}function z(l){if(!l._d){var d=zo(l._i),g=d.day===void 0?d.date:d.day;l._a=y([d.year,d.month,g,d.hour,d.minute,d.second,d.millisecond],function(v){return v&&parseInt(v,10)}),u(l)}}function oe(l){var d=new Ne(tr(ft(l)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function ft(l){var d=l._i,g=l._f;return l._locale=l._locale||Ai(l._l),d===null||g===void 0&&d===""?Z({nullInput:!0}):(typeof d=="string"&&(l._i=d=l._locale.preparse(d)),me(d)?new Ne(tr(d)):(h(d)?l._d=d:i(g)?U(l):g?w(l):rn(l),$(l)||(l._d=null),l))}function rn(l){var d=l._i;a(d)?l._d=new Date(e.now()):h(d)?l._d=new Date(d.valueOf()):typeof d=="string"?Zc(l):i(d)?(l._a=y(d.slice(0),function(g){return parseInt(g,10)}),u(l)):r(d)?z(l):c(d)?l._d=new Date(d):e.createFromInputFallback(l)}function tt(l,d,g,v,I){var F={};return(d===!0||d===!1)&&(v=d,d=void 0),(g===!0||g===!1)&&(v=g,g=void 0),(r(l)&&s(l)||i(l)&&l.length===0)&&(l=void 0),F._isAMomentObject=!0,F._useUTC=F._isUTC=I,F._l=g,F._i=l,F._f=d,F._strict=v,oe(F)}function Ue(l,d,g,v){return tt(l,d,g,v,!1)}var on=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ue.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:Z()}),wr=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ue.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:Z()});function Hn(l,d){var g,v;if(d.length===1&&i(d[0])&&(d=d[0]),!d.length)return Ue();for(g=d[0],v=1;v<d.length;++v)(!d[v].isValid()||d[v][l](g))&&(g=d[v]);return g}function da(){var l=[].slice.call(arguments,0);return Hn("isBefore",l)}function Ml(){var l=[].slice.call(arguments,0);return Hn("isAfter",l)}var B0=function(){return Date.now?Date.now():+new Date},co=["year","quarter","month","week","day","hour","minute","second","millisecond"];function j0(l){var d,g=!1,v,I=co.length;for(d in l)if(o(l,d)&&!(Ct.call(co,d)!==-1&&(l[d]==null||!isNaN(l[d]))))return!1;for(v=0;v<I;++v)if(l[co[v]]){if(g)return!1;parseFloat(l[co[v]])!==Ye(l[co[v]])&&(g=!0)}return!0}function U0(){return this._isValid}function $0(){return rr(NaN)}function Xc(l){var d=zo(l),g=d.year||0,v=d.quarter||0,I=d.month||0,F=d.week||d.isoWeek||0,W=d.day||0,_e=d.hour||0,Pe=d.minute||0,at=d.second||0,hi=d.millisecond||0;this._isValid=j0(d),this._milliseconds=+hi+at*1e3+Pe*6e4+_e*1e3*60*60,this._days=+W+F*7,this._months=+I+v*3+g*12,this._data={},this._locale=Ai(),this._bubble()}function xl(l){return l instanceof Xc}function dh(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function H0(l,d,g){var v=Math.min(l.length,d.length),I=Math.abs(l.length-d.length),F=0,W;for(W=0;W<v;W++)(g&&l[W]!==d[W]||!g&&Ye(l[W])!==Ye(d[W]))&&F++;return F+I}function tp(l,d){de(l,0,0,function(){var g=this.utcOffset(),v="+";return g<0&&(g=-g,v="-"),v+ln(~~(g/60),2)+d+ln(~~g%60,2)})}tp("Z",":"),tp("ZZ",""),he("Z",ea),he("ZZ",ea),ht(["Z","ZZ"],function(l,d,g){g._useUTC=!0,g._tzm=eu(ea,l)});var G0=/([\+\-]|\d\d)/gi;function eu(l,d){var g=(d||"").match(l),v,I,F;return g===null?null:(v=g[g.length-1]||[],I=(v+"").match(G0)||["-",0,0],F=+(I[1]*60)+Ye(I[2]),F===0?0:I[0]==="+"?F:-F)}function tu(l,d){var g,v;return d._isUTC?(g=d.clone(),v=(me(l)||h(l)?l.valueOf():Ue(l).valueOf())-g.valueOf(),g._d.setTime(g._d.valueOf()+v),e.updateOffset(g,!1),g):Ue(l).local()}function hh(l){return-Math.round(l._d.getTimezoneOffset())}e.updateOffset=function(){};function z0(l,d,g){var v=this._offset||0,I;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=eu(ea,l),l===null)return this}else Math.abs(l)<16&&!g&&(l=l*60);return!this._isUTC&&d&&(I=hh(this)),this._offset=l,this._isUTC=!0,I!=null&&this.add(I,"m"),v!==l&&(!d||this._changeInProgress?ap(this,rr(l-v,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?v:hh(this)}function q0(l,d){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,d),this):-this.utcOffset()}function np(l){return this.utcOffset(0,l)}function fh(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(hh(this),"m")),this}function W0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=eu(cl,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function Y0(l){return this.isValid()?(l=l?Ue(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function K0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function iD(){if(!a(this._isDSTShifted))return this._isDSTShifted;var l={},d;return ve(l,this),l=ft(l),l._a?(d=l._isUTC?T(l._a):Ue(l._a),this._isDSTShifted=this.isValid()&&H0(l._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rD(){return this.isValid()?!this._isUTC:!1}function oD(){return this.isValid()?this._isUTC:!1}function ip(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Q0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,rp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function rr(l,d){var g=l,v=null,I,F,W;return xl(l)?g={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(g={},d?g[d]=+l:g.milliseconds=+l):(v=Q0.exec(l))?(I=v[1]==="-"?-1:1,g={y:0,d:Ye(v[Di])*I,h:Ye(v[Te])*I,m:Ye(v[ai])*I,s:Ye(v[Xi])*I,ms:Ye(dh(v[Ti]*1e3))*I}):(v=rp.exec(l))?(I=v[1]==="-"?-1:1,g={y:is(v[2],I),M:is(v[3],I),w:is(v[4],I),d:is(v[5],I),h:is(v[6],I),m:is(v[7],I),s:is(v[8],I)}):g==null?g={}:typeof g=="object"&&("from"in g||"to"in g)&&(W=J0(Ue(g.from),Ue(g.to)),g={},g.ms=W.milliseconds,g.M=W.months),F=new Xc(g),xl(l)&&o(l,"_locale")&&(F._locale=l._locale),xl(l)&&o(l,"_isValid")&&(F._isValid=l._isValid),F}rr.fn=Xc.prototype,rr.invalid=$0;function is(l,d){var g=l&&parseFloat(l.replace(",","."));return(isNaN(g)?0:g)*d}function op(l,d){var g={};return g.months=d.month()-l.month()+(d.year()-l.year())*12,l.clone().add(g.months,"M").isAfter(d)&&--g.months,g.milliseconds=+d-+l.clone().add(g.months,"M"),g}function J0(l,d){var g;return l.isValid()&&d.isValid()?(d=tu(d,l),l.isBefore(d)?g=op(l,d):(g=op(d,l),g.milliseconds=-g.milliseconds,g.months=-g.months),g):{milliseconds:0,months:0}}function sp(l,d){return function(g,v){var I,F;return v!==null&&!isNaN(+v)&&(B(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),F=g,g=v,v=F),I=rr(g,v),ap(this,I,l),this}}function ap(l,d,g,v){var I=d._milliseconds,F=dh(d._days),W=dh(d._months);l.isValid()&&(v=v??!0,W&&ia(l,Si(l,"Month")+W*g),F&&At(l,"Date",Si(l,"Date")+F*g),I&&l._d.setTime(l._d.valueOf()+I*g),v&&e.updateOffset(l,F||W))}var Z0=sp(1,"add"),X0=sp(-1,"subtract");function lp(l){return typeof l=="string"||l instanceof String}function rs(l){return me(l)||h(l)||lp(l)||c(l)||ey(l)||cp(l)||l===null||l===void 0}function cp(l){var d=r(l)&&!s(l),g=!1,v=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],I,F,W=v.length;for(I=0;I<W;I+=1)F=v[I],g=g||o(l,F);return d&&g}function ey(l){var d=i(l),g=!1;return d&&(g=l.filter(function(v){return!c(v)&&lp(l)}).length===0),d&&g}function nu(l){var d=r(l)&&!s(l),g=!1,v=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],I,F;for(I=0;I<v.length;I+=1)F=v[I],g=g||o(l,F);return d&&g}function ty(l,d){var g=l.diff(d,"days",!0);return g<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"}function ny(l,d){arguments.length===1&&(arguments[0]?rs(arguments[0])?(l=arguments[0],d=void 0):nu(arguments[0])&&(d=arguments[0],l=void 0):(l=void 0,d=void 0));var g=l||Ue(),v=tu(g,this).startOf("day"),I=e.calendarFormat(this,v)||"sameElse",F=d&&(L(d[I])?d[I].call(this,g):d[I]);return this.format(F||this.localeData().calendar(I,this,Ue(g)))}function iy(){return new Ne(this)}function up(l,d){var g=me(l)?l:Ue(l);return this.isValid()&&g.isValid()?(d=An(d)||"millisecond",d==="millisecond"?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(d).valueOf()):!1}function ry(l,d){var g=me(l)?l:Ue(l);return this.isValid()&&g.isValid()?(d=An(d)||"millisecond",d==="millisecond"?this.valueOf()<g.valueOf():this.clone().endOf(d).valueOf()<g.valueOf()):!1}function oy(l,d,g,v){var I=me(l)?l:Ue(l),F=me(d)?d:Ue(d);return this.isValid()&&I.isValid()&&F.isValid()?(v=v||"()",(v[0]==="("?this.isAfter(I,g):!this.isBefore(I,g))&&(v[1]===")"?this.isBefore(F,g):!this.isAfter(F,g))):!1}function sy(l,d){var g=me(l)?l:Ue(l),v;return this.isValid()&&g.isValid()?(d=An(d)||"millisecond",d==="millisecond"?this.valueOf()===g.valueOf():(v=g.valueOf(),this.clone().startOf(d).valueOf()<=v&&v<=this.clone().endOf(d).valueOf())):!1}function br(l,d){return this.isSame(l,d)||this.isAfter(l,d)}function iu(l,d){return this.isSame(l,d)||this.isBefore(l,d)}function Wt(l,d,g){var v,I,F;if(!this.isValid())return NaN;if(v=tu(l,this),!v.isValid())return NaN;switch(I=(v.utcOffset()-this.utcOffset())*6e4,d=An(d),d){case"year":F=ru(this,v)/12;break;case"month":F=ru(this,v);break;case"quarter":F=ru(this,v)/3;break;case"second":F=(this-v)/1e3;break;case"minute":F=(this-v)/6e4;break;case"hour":F=(this-v)/36e5;break;case"day":F=(this-v-I)/864e5;break;case"week":F=(this-v-I)/6048e5;break;default:F=this-v}return g?F:yn(F)}function ru(l,d){if(l.date()<d.date())return-ru(d,l);var g=(d.year()-l.year())*12+(d.month()-l.month()),v=l.clone().add(g,"months"),I,F;return d-v<0?(I=l.clone().add(g-1,"months"),F=(d-v)/(v-I)):(I=l.clone().add(g+1,"months"),F=(d-v)/(I-v)),-(g+F)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ay(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ly(l){if(!this.isValid())return null;var d=l!==!0,g=d?this.clone().utc():this;return g.year()<0||g.year()>9999?Ho(g,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ho(g,"Z")):Ho(g,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cy(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",d="",g,v,I,F;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),g="["+l+'("]',v=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",I="-MM-DD[T]HH:mm:ss.SSS",F=d+'[")]',this.format(g+v+I+F)}function uy(l){l||(l=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=Ho(this,l);return this.localeData().postformat(d)}function dy(l,d){return this.isValid()&&(me(l)&&l.isValid()||Ue(l).isValid())?rr({to:this,from:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function hy(l){return this.from(Ue(),l)}function fy(l,d){return this.isValid()&&(me(l)&&l.isValid()||Ue(l).isValid())?rr({from:this,to:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function ou(l){return this.to(Ue(),l)}function f(l){var d;return l===void 0?this._locale._abbr:(d=Ai(l),d!=null&&(this._locale=d),this)}var p=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function b(){return this._locale}var A=1e3,H=60*A,ce=60*H,Ge=(365*400+97)*24*ce;function nt(l,d){return(l%d+d)%d}function Pt(l,d,g){return l<100&&l>=0?new Date(l+400,d,g)-Ge:new Date(l,d,g).valueOf()}function os(l,d,g){return l<100&&l>=0?Date.UTC(l+400,d,g)-Ge:Date.UTC(l,d,g)}function ph(l){var d,g;if(l=An(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?os:Pt,l){case"year":d=g(this.year(),0,1);break;case"quarter":d=g(this.year(),this.month()-this.month()%3,1);break;case"month":d=g(this.year(),this.month(),1);break;case"week":d=g(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=g(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=nt(d+(this._isUTC?0:this.utcOffset()*H),ce);break;case"minute":d=this._d.valueOf(),d-=nt(d,H);break;case"second":d=this._d.valueOf(),d-=nt(d,A);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function Ik(l){var d,g;if(l=An(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?os:Pt,l){case"year":d=g(this.year()+1,0,1)-1;break;case"quarter":d=g(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=g(this.year(),this.month()+1,1)-1;break;case"week":d=g(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=g(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=ce-nt(d+(this._isUTC?0:this.utcOffset()*H),ce)-1;break;case"minute":d=this._d.valueOf(),d+=H-nt(d,H)-1;break;case"second":d=this._d.valueOf(),d+=A-nt(d,A)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function Dk(){return this._d.valueOf()-(this._offset||0)*6e4}function Tk(){return Math.floor(this.valueOf()/1e3)}function Sk(){return new Date(this.valueOf())}function Ak(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function Mk(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function xk(){return this.isValid()?this.toISOString():null}function Rk(){return $(this)}function Ok(){return _({},k(this))}function Nk(){return k(this).overflow}function Pk(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}de("N",0,0,"eraAbbr"),de("NN",0,0,"eraAbbr"),de("NNN",0,0,"eraAbbr"),de("NNNN",0,0,"eraName"),de("NNNNN",0,0,"eraNarrow"),de("y",["y",1],"yo","eraYear"),de("y",["yy",2],0,"eraYear"),de("y",["yyy",3],0,"eraYear"),de("y",["yyyy",4],0,"eraYear"),he("N",py),he("NN",py),he("NNN",py),he("NNNN",zk),he("NNNNN",qk),ht(["N","NN","NNN","NNNN","NNNNN"],function(l,d,g,v){var I=g._locale.erasParse(l,v,g._strict);I?k(g).era=I:k(g).invalidEra=l}),he("y",Qi),he("yy",Qi),he("yyy",Qi),he("yyyy",Qi),he("yo",Wk),ht(["y","yy","yyy","yyyy"],$t),ht(["yo"],function(l,d,g,v){var I;g._locale._eraYearOrdinalRegex&&(I=l.match(g._locale._eraYearOrdinalRegex)),g._locale.eraYearOrdinalParse?d[$t]=g._locale.eraYearOrdinalParse(l,I):d[$t]=parseInt(l,10)});function kk(l,d){var g,v,I,F=this._eras||Ai("en")._eras;for(g=0,v=F.length;g<v;++g){switch(typeof F[g].since){case"string":I=e(F[g].since).startOf("day"),F[g].since=I.valueOf();break}switch(typeof F[g].until){case"undefined":F[g].until=1/0;break;case"string":I=e(F[g].until).startOf("day").valueOf(),F[g].until=I.valueOf();break}}return F}function Fk(l,d,g){var v,I,F=this.eras(),W,_e,Pe;for(l=l.toUpperCase(),v=0,I=F.length;v<I;++v)if(W=F[v].name.toUpperCase(),_e=F[v].abbr.toUpperCase(),Pe=F[v].narrow.toUpperCase(),g)switch(d){case"N":case"NN":case"NNN":if(_e===l)return F[v];break;case"NNNN":if(W===l)return F[v];break;case"NNNNN":if(Pe===l)return F[v];break}else if([W,_e,Pe].indexOf(l)>=0)return F[v]}function Lk(l,d){var g=l.since<=l.until?1:-1;return d===void 0?e(l.since).year():e(l.since).year()+(d-l.offset)*g}function Vk(){var l,d,g,v=this.localeData().eras();for(l=0,d=v.length;l<d;++l)if(g=this.clone().startOf("day").valueOf(),v[l].since<=g&&g<=v[l].until||v[l].until<=g&&g<=v[l].since)return v[l].name;return""}function Bk(){var l,d,g,v=this.localeData().eras();for(l=0,d=v.length;l<d;++l)if(g=this.clone().startOf("day").valueOf(),v[l].since<=g&&g<=v[l].until||v[l].until<=g&&g<=v[l].since)return v[l].narrow;return""}function jk(){var l,d,g,v=this.localeData().eras();for(l=0,d=v.length;l<d;++l)if(g=this.clone().startOf("day").valueOf(),v[l].since<=g&&g<=v[l].until||v[l].until<=g&&g<=v[l].since)return v[l].abbr;return""}function Uk(){var l,d,g,v,I=this.localeData().eras();for(l=0,d=I.length;l<d;++l)if(g=I[l].since<=I[l].until?1:-1,v=this.clone().startOf("day").valueOf(),I[l].since<=v&&v<=I[l].until||I[l].until<=v&&v<=I[l].since)return(this.year()-e(I[l].since).year())*g+I[l].offset;return this.year()}function $k(l){return o(this,"_erasNameRegex")||my.call(this),l?this._erasNameRegex:this._erasRegex}function Hk(l){return o(this,"_erasAbbrRegex")||my.call(this),l?this._erasAbbrRegex:this._erasRegex}function Gk(l){return o(this,"_erasNarrowRegex")||my.call(this),l?this._erasNarrowRegex:this._erasRegex}function py(l,d){return d.erasAbbrRegex(l)}function zk(l,d){return d.erasNameRegex(l)}function qk(l,d){return d.erasNarrowRegex(l)}function Wk(l,d){return d._eraYearOrdinalRegex||Qi}function my(){var l=[],d=[],g=[],v=[],I,F,W,_e,Pe,at=this.eras();for(I=0,F=at.length;I<F;++I)W=Ii(at[I].name),_e=Ii(at[I].abbr),Pe=Ii(at[I].narrow),d.push(W),l.push(_e),g.push(Pe),v.push(W),v.push(_e),v.push(Pe);this._erasRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+g.join("|")+")","i")}de(0,["gg",2],0,function(){return this.weekYear()%100}),de(0,["GG",2],0,function(){return this.isoWeekYear()%100});function dp(l,d){de(0,[l,l.length],0,d)}dp("gggg","weekYear"),dp("ggggg","weekYear"),dp("GGGG","isoWeekYear"),dp("GGGGG","isoWeekYear"),he("G",Wo),he("g",Wo),he("GG",je,Ft),he("gg",je,Ft),he("GGGG",Xs,Ut),he("gggg",Xs,Ut),he("GGGGG",Ki,Vt),he("ggggg",Ki,Vt),Bt(["gggg","ggggg","GGGG","GGGGG"],function(l,d,g,v){d[v.substr(0,2)]=Ye(l)}),Bt(["gg","GG"],function(l,d,g,v){d[v]=e.parseTwoDigitYear(l)});function Yk(l){return sD.call(this,l,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Kk(l){return sD.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function Qk(){return Mn(this.year(),1,4)}function Jk(){return Mn(this.isoWeekYear(),1,4)}function Zk(){var l=this.localeData()._week;return Mn(this.year(),l.dow,l.doy)}function Xk(){var l=this.localeData()._week;return Mn(this.weekYear(),l.dow,l.doy)}function sD(l,d,g,v,I){var F;return l==null?_r(this,v,I).year:(F=Mn(l,v,I),d>F&&(d=F),e2.call(this,l,d,g,v,I))}function e2(l,d,g,v,I){var F=ci(l,d,g,v,I),W=Yo(F.year,0,F.dayOfYear);return this.year(W.getUTCFullYear()),this.month(W.getUTCMonth()),this.date(W.getUTCDate()),this}de("Q",0,"Qo","quarter"),he("Q",Wi),ht("Q",function(l,d){d[Zi]=(Ye(l)-1)*3});function t2(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}de("D",["DD",2],"Do","date"),he("D",je,xr),he("DD",je,Ft),he("Do",function(l,d){return l?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),ht(["D","DD"],Di),ht("Do",function(l,d){d[Di]=Ye(l.match(je)[0])});var aD=gr("Date",!0);de("DDD",["DDDD",3],"DDDo","dayOfYear"),he("DDD",qo),he("DDDD",Lt),ht(["DDD","DDDD"],function(l,d,g){g._dayOfYear=Ye(l)});function n2(l){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?d:this.add(l-d,"d")}de("m",["mm",2],0,"minute"),he("m",je,ta),he("mm",je,Ft),ht(["m","mm"],ai);var i2=gr("Minutes",!1);de("s",["ss",2],0,"second"),he("s",je,ta),he("ss",je,Ft),ht(["s","ss"],Xi);var r2=gr("Seconds",!1);de("S",0,0,function(){return~~(this.millisecond()/100)}),de(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),de(0,["SSS",3],0,"millisecond"),de(0,["SSSS",4],0,function(){return this.millisecond()*10}),de(0,["SSSSS",5],0,function(){return this.millisecond()*100}),de(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),de(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),de(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),de(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),he("S",qo,Wi),he("SS",qo,Ft),he("SSS",qo,Lt);var ha,lD;for(ha="SSSS";ha.length<=9;ha+="S")he(ha,Qi);function o2(l,d){d[Ti]=Ye(("0."+l)*1e3)}for(ha="S";ha.length<=9;ha+="S")ht(ha,o2);lD=gr("Milliseconds",!1),de("z",0,0,"zoneAbbr"),de("zz",0,0,"zoneName");function s2(){return this._isUTC?"UTC":""}function a2(){return this._isUTC?"Coordinated Universal Time":""}var ne=Ne.prototype;ne.add=Z0,ne.calendar=ny,ne.clone=iy,ne.diff=Wt,ne.endOf=Ik,ne.format=uy,ne.from=dy,ne.fromNow=hy,ne.to=fy,ne.toNow=ou,ne.get=Rc,ne.invalidAt=Nk,ne.isAfter=up,ne.isBefore=ry,ne.isBetween=oy,ne.isSame=sy,ne.isSameOrAfter=br,ne.isSameOrBefore=iu,ne.isValid=Rk,ne.lang=p,ne.locale=f,ne.localeData=b,ne.max=wr,ne.min=on,ne.parsingFlags=Ok,ne.set=Oc,ne.startOf=ph,ne.subtract=X0,ne.toArray=Ak,ne.toObject=Mk,ne.toDate=Sk,ne.toISOString=ly,ne.inspect=cy,typeof Symbol<"u"&&Symbol.for!=null&&(ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ne.toJSON=xk,ne.toString=ay,ne.unix=Tk,ne.valueOf=Dk,ne.creationData=Pk,ne.eraName=Vk,ne.eraNarrow=Bk,ne.eraAbbr=jk,ne.eraYear=Uk,ne.year=li,ne.isLeapYear=to,ne.weekYear=Yk,ne.isoWeekYear=Kk,ne.quarter=ne.quarters=t2,ne.month=ml,ne.daysInMonth=Lc,ne.week=ne.weeks=Qo,ne.isoWeek=ne.isoWeeks=sh,ne.weeksInYear=Zk,ne.weeksInWeekYear=Xk,ne.isoWeeksInYear=Qk,ne.isoWeeksInISOWeekYear=Jk,ne.date=aD,ne.day=ne.days=vr,ne.weekday=zc,ne.isoWeekday=ch,ne.dayOfYear=n2,ne.hour=ne.hours=Wc,ne.minute=ne.minutes=i2,ne.second=ne.seconds=r2,ne.millisecond=ne.milliseconds=lD,ne.utcOffset=z0,ne.utc=np,ne.local=fh,ne.parseZone=W0,ne.hasAlignedHourOffset=Y0,ne.isDST=K0,ne.isLocal=rD,ne.isUtcOffset=oD,ne.isUtc=ip,ne.isUTC=ip,ne.zoneAbbr=s2,ne.zoneName=a2,ne.dates=R("dates accessor is deprecated. Use date instead.",aD),ne.months=R("months accessor is deprecated. Use month instead",ml),ne.years=R("years accessor is deprecated. Use year instead",li),ne.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",q0),ne.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",iD);function l2(l){return Ue(l*1e3)}function c2(){return Ue.apply(null,arguments).parseZone()}function cD(l){return l}var mt=ri.prototype;mt.calendar=Qr,mt.longDateFormat=nh,mt.invalidDate=Xr,mt.ordinal=_n,mt.preparse=cD,mt.postformat=cD,mt.relativeTime=Ac,mt.pastFuture=Sn,mt.set=j,mt.eras=kk,mt.erasParse=Fk,mt.erasConvertYear=Lk,mt.erasAbbrRegex=Hk,mt.erasNameRegex=$k,mt.erasNarrowRegex=Gk,mt.months=Pc,mt.monthsShort=kc,mt.monthsParse=pl,mt.monthsRegex=oh,mt.monthsShortRegex=Vc,mt.week=gl,mt.firstDayOfYear=Ko,mt.firstDayOfWeek=oa,mt.weekdays=Gc,mt.weekdaysMin=ah,mt.weekdaysShort=ro,mt.weekdaysParse=lh,mt.weekdaysRegex=$n,mt.weekdaysShortRegex=sa,mt.weekdaysMinRegex=vl,mt.isPM=so,mt.meridiem=Yc;function hp(l,d,g,v){var I=Ai(),F=T().set(v,d);return I[g](F,l)}function uD(l,d,g){if(c(l)&&(d=l,l=void 0),l=l||"",d!=null)return hp(l,d,g,"month");var v,I=[];for(v=0;v<12;v++)I[v]=hp(l,v,g,"month");return I}function gy(l,d,g,v){typeof l=="boolean"?(c(d)&&(g=d,d=void 0),d=d||""):(d=l,g=d,l=!1,c(d)&&(g=d,d=void 0),d=d||"");var I=Ai(),F=l?I._week.dow:0,W,_e=[];if(g!=null)return hp(d,(g+F)%7,v,"day");for(W=0;W<7;W++)_e[W]=hp(d,(W+F)%7,v,"day");return _e}function u2(l,d){return uD(l,d,"months")}function d2(l,d){return uD(l,d,"monthsShort")}function h2(l,d,g){return gy(l,d,g,"weekdays")}function f2(l,d,g){return gy(l,d,g,"weekdaysShort")}function p2(l,d,g){return gy(l,d,g,"weekdaysMin")}di("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var d=l%10,g=Ye(l%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return l+g}}),e.lang=R("moment.lang is deprecated. Use moment.locale instead.",di),e.langData=R("moment.langData is deprecated. Use moment.localeData instead.",Ai);var ss=Math.abs;function m2(){var l=this._data;return this._milliseconds=ss(this._milliseconds),this._days=ss(this._days),this._months=ss(this._months),l.milliseconds=ss(l.milliseconds),l.seconds=ss(l.seconds),l.minutes=ss(l.minutes),l.hours=ss(l.hours),l.months=ss(l.months),l.years=ss(l.years),this}function dD(l,d,g,v){var I=rr(d,g);return l._milliseconds+=v*I._milliseconds,l._days+=v*I._days,l._months+=v*I._months,l._bubble()}function g2(l,d){return dD(this,l,d,1)}function _2(l,d){return dD(this,l,d,-1)}function hD(l){return l<0?Math.floor(l):Math.ceil(l)}function y2(){var l=this._milliseconds,d=this._days,g=this._months,v=this._data,I,F,W,_e,Pe;return l>=0&&d>=0&&g>=0||l<=0&&d<=0&&g<=0||(l+=hD(_y(g)+d)*864e5,d=0,g=0),v.milliseconds=l%1e3,I=yn(l/1e3),v.seconds=I%60,F=yn(I/60),v.minutes=F%60,W=yn(F/60),v.hours=W%24,d+=yn(W/24),Pe=yn(fD(d)),g+=Pe,d-=hD(_y(Pe)),_e=yn(g/12),g%=12,v.days=d,v.months=g,v.years=_e,this}function fD(l){return l*4800/146097}function _y(l){return l*146097/4800}function v2(l){if(!this.isValid())return NaN;var d,g,v=this._milliseconds;if(l=An(l),l==="month"||l==="quarter"||l==="year")switch(d=this._days+v/864e5,g=this._months+fD(d),l){case"month":return g;case"quarter":return g/3;case"year":return g/12}else switch(d=this._days+Math.round(_y(this._months)),l){case"week":return d/7+v/6048e5;case"day":return d+v/864e5;case"hour":return d*24+v/36e5;case"minute":return d*1440+v/6e4;case"second":return d*86400+v/1e3;case"millisecond":return Math.floor(d*864e5)+v;default:throw new Error("Unknown unit "+l)}}function as(l){return function(){return this.as(l)}}var pD=as("ms"),w2=as("s"),b2=as("m"),C2=as("h"),E2=as("d"),I2=as("w"),D2=as("M"),T2=as("Q"),S2=as("y"),A2=pD;function M2(){return rr(this)}function x2(l){return l=An(l),this.isValid()?this[l+"s"]():NaN}function Rl(l){return function(){return this.isValid()?this._data[l]:NaN}}var R2=Rl("milliseconds"),O2=Rl("seconds"),N2=Rl("minutes"),P2=Rl("hours"),k2=Rl("days"),F2=Rl("months"),L2=Rl("years");function V2(){return yn(this.days()/7)}var ls=Math.round,su={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function B2(l,d,g,v,I){return I.relativeTime(d||1,!!g,l,v)}function j2(l,d,g,v){var I=rr(l).abs(),F=ls(I.as("s")),W=ls(I.as("m")),_e=ls(I.as("h")),Pe=ls(I.as("d")),at=ls(I.as("M")),hi=ls(I.as("w")),cs=ls(I.as("y")),fa=F<=g.ss&&["s",F]||F<g.s&&["ss",F]||W<=1&&["m"]||W<g.m&&["mm",W]||_e<=1&&["h"]||_e<g.h&&["hh",_e]||Pe<=1&&["d"]||Pe<g.d&&["dd",Pe];return g.w!=null&&(fa=fa||hi<=1&&["w"]||hi<g.w&&["ww",hi]),fa=fa||at<=1&&["M"]||at<g.M&&["MM",at]||cs<=1&&["y"]||["yy",cs],fa[2]=d,fa[3]=+l>0,fa[4]=v,B2.apply(null,fa)}function U2(l){return l===void 0?ls:typeof l=="function"?(ls=l,!0):!1}function $2(l,d){return su[l]===void 0?!1:d===void 0?su[l]:(su[l]=d,l==="s"&&(su.ss=d-1),!0)}function H2(l,d){if(!this.isValid())return this.localeData().invalidDate();var g=!1,v=su,I,F;return typeof l=="object"&&(d=l,l=!1),typeof l=="boolean"&&(g=l),typeof d=="object"&&(v=Object.assign({},su,d),d.s!=null&&d.ss==null&&(v.ss=d.s-1)),I=this.localeData(),F=j2(this,!g,v,I),g&&(F=I.pastFuture(+this,F)),I.postformat(F)}var yy=Math.abs;function au(l){return(l>0)-(l<0)||+l}function fp(){if(!this.isValid())return this.localeData().invalidDate();var l=yy(this._milliseconds)/1e3,d=yy(this._days),g=yy(this._months),v,I,F,W,_e=this.asSeconds(),Pe,at,hi,cs;return _e?(v=yn(l/60),I=yn(v/60),l%=60,v%=60,F=yn(g/12),g%=12,W=l?l.toFixed(3).replace(/\.?0+$/,""):"",Pe=_e<0?"-":"",at=au(this._months)!==au(_e)?"-":"",hi=au(this._days)!==au(_e)?"-":"",cs=au(this._milliseconds)!==au(_e)?"-":"",Pe+"P"+(F?at+F+"Y":"")+(g?at+g+"M":"")+(d?hi+d+"D":"")+(I||v||l?"T":"")+(I?cs+I+"H":"")+(v?cs+v+"M":"")+(l?cs+W+"S":"")):"P0D"}var ct=Xc.prototype;ct.isValid=U0,ct.abs=m2,ct.add=g2,ct.subtract=_2,ct.as=v2,ct.asMilliseconds=pD,ct.asSeconds=w2,ct.asMinutes=b2,ct.asHours=C2,ct.asDays=E2,ct.asWeeks=I2,ct.asMonths=D2,ct.asQuarters=T2,ct.asYears=S2,ct.valueOf=A2,ct._bubble=y2,ct.clone=M2,ct.get=x2,ct.milliseconds=R2,ct.seconds=O2,ct.minutes=N2,ct.hours=P2,ct.days=k2,ct.weeks=V2,ct.months=F2,ct.years=L2,ct.humanize=H2,ct.toISOString=fp,ct.toString=fp,ct.toJSON=fp,ct.locale=f,ct.localeData=b,ct.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fp),ct.lang=p,de("X",0,0,"unix"),de("x",0,0,"valueOf"),he("x",Wo),he("X",ih),ht("X",function(l,d,g){g._d=new Date(parseFloat(l)*1e3)}),ht("x",function(l,d,g){g._d=new Date(Ye(l))});return e.version="2.30.1",t(Ue),e.fn=ne,e.min=da,e.max=Ml,e.now=B0,e.utc=T,e.unix=l2,e.months=u2,e.isDate=h,e.locale=di,e.invalid=Z,e.duration=rr,e.isMoment=me,e.weekdays=h2,e.parseZone=c2,e.localeData=Ai,e.isDuration=xl,e.monthsShort=d2,e.weekdaysMin=p2,e.defineLocale=la,e.updateLocale=ca,e.locales=Jc,e.weekdaysShort=f2,e.normalizeUnits=An,e.relativeTimeRounding=U2,e.relativeTimeThreshold=$2,e.calendarFormat=ty,e.prototype=ne,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});function bD(n,e){return Object.is(n,e)}var wn=null,pp=!1,mp=1,us=Symbol("SIGNAL");function it(n){let e=wn;return wn=n,e}function CD(){return wn}var gh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cy(n){if(pp)throw new Error("");if(wn===null)return;wn.consumerOnSignalRead(n);let e=wn.nextProducerIndex++;if(vp(wn),e<wn.producerNode.length&&wn.producerNode[e]!==n&&mh(wn)){let t=wn.producerNode[e];yp(t,wn.producerIndexOfThis[e])}wn.producerNode[e]!==n&&(wn.producerNode[e]=n,wn.producerIndexOfThis[e]=mh(wn)?TD(n,wn,e):0),wn.producerLastReadVersion[e]=n.version}function Z2(){mp++}function ED(n){if(!(mh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mp)){if(!n.producerMustRecompute(n)&&!Iy(n)){n.dirty=!1,n.lastCleanEpoch=mp;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=mp}}function ID(n){if(n.liveConsumerNode===void 0)return;let e=pp;pp=!0;try{for(let t of n.liveConsumerNode)t.dirty||X2(t)}finally{pp=e}}function DD(){return wn?.consumerAllowSignalWrites!==!1}function X2(n){n.dirty=!0,ID(n),n.consumerMarkedDirty?.(n)}function _p(n){return n&&(n.nextProducerIndex=0),it(n)}function Ey(n,e){if(it(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(mh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)yp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Iy(n){vp(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ED(t),i!==t.version))return!0}return!1}function Dy(n){if(vp(n),mh(n))for(let e=0;e<n.producerNode.length;e++)yp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function TD(n,e,t){if(SD(n),n.liveConsumerNode.length===0&&AD(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=TD(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function yp(n,e){if(SD(n),n.liveConsumerNode.length===1&&AD(n))for(let i=0;i<n.producerNode.length;i++)yp(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];vp(r),r.producerIndexOfThis[i]=e}}function mh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function vp(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function SD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function AD(n){return n.producerNode!==void 0}function MD(n){let e=Object.create(eF);e.computation=n;let t=()=>{if(ED(e),Cy(e),e.value===gp)throw e.error;return e.value};return t[us]=e,t}var wy=Symbol("UNSET"),by=Symbol("COMPUTING"),gp=Symbol("ERRORED"),eF=Ze(ie({},gh),{value:wy,dirty:!0,error:null,equal:bD,producerMustRecompute(n){return n.value===wy||n.value===by},producerRecomputeValue(n){if(n.value===by)throw new Error("Detected cycle in computations.");let e=n.value;n.value=by;let t=_p(n),i;try{i=n.computation()}catch(r){i=gp,n.error=r}finally{Ey(n,t)}if(e!==wy&&e!==gp&&i!==gp&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function tF(){throw new Error}var xD=tF;function RD(){xD()}function OD(n){xD=n}var nF=null;function ND(n){let e=Object.create(kD);e.value=n;let t=()=>(Cy(e),e.value);return t[us]=e,t}function Ty(n,e){DD()||RD(),n.equal(n.value,e)||(n.value=e,iF(n))}function PD(n,e){DD()||RD(),Ty(n,e(n.value))}var kD=Ze(ie({},gh),{equal:bD,value:void 0});function iF(n){n.version++,Z2(),ID(n),nF?.()}function Se(n){return typeof n=="function"}function lu(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wp=lu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ol(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Jt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Se(i))try{i()}catch(o){e=o instanceof wp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{FD(o)}catch(s){e=e??[],s instanceof wp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ol(t,e)}remove(e){let{_finalizers:t}=this;t&&Ol(t,e),e instanceof n&&e._removeParent(this)}};Jt.EMPTY=(()=>{let n=new Jt;return n.closed=!0,n})();var Sy=Jt.EMPTY;function bp(n){return n instanceof Jt||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function FD(n){Se(n)?n():n.unsubscribe()}var kr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cu={setTimeout(n,e,...t){let{delegate:i}=cu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=cu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cp(n){cu.setTimeout(()=>{let{onUnhandledError:e}=kr;if(e)e(n);else throw n})}function Nl(){}var LD=Ay("C",void 0,void 0);function VD(n){return Ay("E",void 0,n)}function BD(n){return Ay("N",n,void 0)}function Ay(n,e,t){return{kind:n,value:e,error:t}}var Pl=null;function uu(n){if(kr.useDeprecatedSynchronousErrorHandling){let e=!Pl;if(e&&(Pl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Pl;if(Pl=null,t)throw i}}else n()}function jD(n){kr.useDeprecatedSynchronousErrorHandling&&Pl&&(Pl.errorThrown=!0,Pl.error=n)}var kl=class extends Jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bp(e)&&e.add(this)):this.destination=sF}static create(e,t,i){return new du(e,t,i)}next(e){this.isStopped?xy(BD(e),this):this._next(e)}error(e){this.isStopped?xy(VD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xy(LD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rF=Function.prototype.bind;function My(n,e){return rF.call(n,e)}var Ry=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ep(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ep(i)}else Ep(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ep(t)}}},du=class extends kl{constructor(e,t,i){super();let r;if(Se(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&kr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&My(e.next,o),error:e.error&&My(e.error,o),complete:e.complete&&My(e.complete,o)}):r=e}this.destination=new Ry(r)}};function Ep(n){kr.useDeprecatedSynchronousErrorHandling?jD(n):Cp(n)}function oF(n){throw n}function xy(n,e){let{onStoppedNotification:t}=kr;t&&cu.setTimeout(()=>t(n,e))}var sF={closed:!0,next:Nl,error:oF,complete:Nl};var hu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fi(n){return n}function Oy(...n){return Ny(n)}function Ny(n){return n.length===0?fi:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=lF(t)?t:new du(t,i,r);return uu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=UD(i),new i((r,o)=>{let s=new du({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[hu](){return this}pipe(...t){return Ny(t)(this)}toPromise(t){return t=UD(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function UD(n){var e;return(e=n??kr.Promise)!==null&&e!==void 0?e:Promise}function aF(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}function lF(n){return n&&n instanceof kl||aF(n)&&bp(n)}function Py(n){return Se(n?.lift)}function rt(n){return e=>{if(Py(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(n,e,t,i,r){return new ky(n,e,t,i,r)}var ky=class extends kl{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fu(){return rt((n,e)=>{let t=null;n._refCount++;let i=ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var pu=class extends xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Py(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jt;let t=this.getSubject();e.add(this.source.subscribe(ze(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jt.EMPTY)}return e}refCount(){return fu()(this)}};var $D=lu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class n extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Ip(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new $D}next(t){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Sy:(this.currentObservers=null,o.push(t),new Jt(()=>{this.currentObservers=null,Ol(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new xe;return t.source=this,t}}return n.create=(e,t)=>new Ip(e,t),n})(),Ip=class extends gt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Sy}};var un=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Fy={now(){return(Fy.delegate||Date).now()},delegate:void 0};var Dp=class extends Jt{constructor(e,t){super()}schedule(e,t=0){return this}};var _h={setInterval(n,e,...t){let{delegate:i}=_h;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=_h;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var mu=class extends Dp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return _h.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&_h.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ol(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var gu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};gu.now=Fy.now;var _u=class extends gu{constructor(e,t=gu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Tp=new _u(mu),Ly=Tp;var Sp=class extends mu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Ap=class extends _u{};var Vy=new Ap(Sp);var Vn=new xe(n=>n.complete());function Mp(n){return n&&Se(n.schedule)}function HD(n){return n[n.length-1]}function ma(n){return Se(HD(n))?n.pop():void 0}function ga(n){return Mp(HD(n))?n.pop():void 0}function By(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function zD(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(y){try{h(i.next(y))}catch(_){s(_)}}function c(y){try{h(i.throw(y))}catch(_){s(_)}}function h(y){y.done?o(y.value):r(y.value).then(a,c)}h((i=i.apply(n,e||[])).next())})}function GD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fl(n){return this instanceof Fl?(this.v=n,this):new Fl(n)}function qD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(x){return function(k){return Promise.resolve(k).then(x,_)}}function a(x,k){i[x]&&(r[x]=function(G){return new Promise(function($,Z){o.push([x,G,$,Z])>1||c(x,G)})},k&&(r[x]=k(r[x])))}function c(x,k){try{h(i[x](k))}catch(G){T(o[0][3],G)}}function h(x){x.value instanceof Fl?Promise.resolve(x.value.v).then(y,_):T(o[0][2],x)}function y(x){c("next",x)}function _(x){c("throw",x)}function T(x,k){x(k),o.shift(),o.length&&c(o[0][0],o[0][1])}}function WD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof GD=="function"?GD(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(h){o({value:h,done:a})},s)}}var yu=n=>n&&typeof n.length=="number"&&typeof n!="function";function xp(n){return Se(n?.then)}function Rp(n){return Se(n[hu])}function Op(n){return Symbol.asyncIterator&&Se(n?.[Symbol.asyncIterator])}function Np(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pp=cF();function kp(n){return Se(n?.[Pp])}function Fp(n){return qD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Fl(t.read());if(r)return yield Fl(void 0);yield yield Fl(i)}}finally{t.releaseLock()}})}function Lp(n){return Se(n?.getReader)}function It(n){if(n instanceof xe)return n;if(n!=null){if(Rp(n))return uF(n);if(yu(n))return dF(n);if(xp(n))return hF(n);if(Op(n))return YD(n);if(kp(n))return fF(n);if(Lp(n))return pF(n)}throw Np(n)}function uF(n){return new xe(e=>{let t=n[hu]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dF(n){return new xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function hF(n){return new xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cp)})}function fF(n){return new xe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function YD(n){return new xe(e=>{mF(n,e).catch(t=>e.error(t))})}function pF(n){return YD(Fp(n))}function mF(n,e){var t,i,r,o;return zD(this,void 0,void 0,function*(){try{for(t=WD(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Mi(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function _a(n,e=0){return rt((t,i)=>{t.subscribe(ze(i,r=>Mi(i,n,()=>i.next(r),e),()=>Mi(i,n,()=>i.complete(),e),r=>Mi(i,n,()=>i.error(r),e)))})}function ya(n,e=0){return rt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function KD(n,e){return It(n).pipe(ya(e),_a(e))}function QD(n,e){return It(n).pipe(ya(e),_a(e))}function JD(n,e){return new xe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function ZD(n,e){return new xe(t=>{let i;return Mi(t,e,()=>{i=n[Pp](),Mi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Se(i?.return)&&i.return()})}function Vp(n,e){if(!n)throw new Error("Iterable cannot be null");return new xe(t=>{Mi(t,e,()=>{let i=n[Symbol.asyncIterator]();Mi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function XD(n,e){return Vp(Fp(n),e)}function eT(n,e){if(n!=null){if(Rp(n))return KD(n,e);if(yu(n))return JD(n,e);if(xp(n))return QD(n,e);if(Op(n))return Vp(n,e);if(kp(n))return ZD(n,e);if(Lp(n))return XD(n,e)}throw Np(n)}function jt(n,e){return e?eT(n,e):It(n)}function Ie(...n){let e=ga(n);return jt(n,e)}function vu(n,e){let t=Se(n)?n:()=>n,i=r=>r.error(t());return new xe(e?r=>e.schedule(i,0,r):i)}function jy(n){return!!n&&(n instanceof xe||Se(n.lift)&&Se(n.subscribe))}var ds=lu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function tT(n){return n instanceof Date&&!isNaN(n)}function Le(n,e){return rt((t,i)=>{let r=0;t.subscribe(ze(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:gF}=Array;function _F(n,e){return gF(e)?n(...e):n(e)}function wu(n){return Le(e=>_F(n,e))}var{isArray:yF}=Array,{getPrototypeOf:vF,prototype:wF,keys:bF}=Object;function Bp(n){if(n.length===1){let e=n[0];if(yF(e))return{args:e,keys:null};if(CF(e)){let t=bF(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function CF(n){return n&&typeof n=="object"&&vF(n)===wF}function jp(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function bu(...n){let e=ga(n),t=ma(n),{args:i,keys:r}=Bp(n);if(i.length===0)return jt([],e);let o=new xe(EF(i,e,r?s=>jp(r,s):fi));return t?o.pipe(wu(t)):o}function EF(n,e,t=fi){return i=>{nT(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)nT(e,()=>{let h=jt(n[c],e),y=!1;h.subscribe(ze(i,_=>{o[c]=_,y||(y=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function nT(n,e,t){n?Mi(t,n,e):e()}function iT(n,e,t,i,r,o,s,a){let c=[],h=0,y=0,_=!1,T=()=>{_&&!c.length&&!h&&e.complete()},x=G=>h<i?k(G):c.push(G),k=G=>{o&&e.next(G),h++;let $=!1;It(t(G,y++)).subscribe(ze(e,Z=>{r?.(Z),o?x(Z):e.next(Z)},()=>{$=!0},void 0,()=>{if($)try{for(h--;c.length&&h<i;){let Z=c.shift();s?Mi(e,s,()=>k(Z)):k(Z)}T()}catch(Z){e.error(Z)}}))};return n.subscribe(ze(e,x,()=>{_=!0,T()})),()=>{a?.()}}function Yt(n,e,t=1/0){return Se(e)?Yt((i,r)=>Le((o,s)=>e(i,o,r,s))(It(n(i,r))),t):(typeof e=="number"&&(t=e),rt((i,r)=>iT(i,r,n,t)))}function Cu(n=1/0){return Yt(fi,n)}function rT(){return Cu(1)}function va(...n){return rT()(jt(n,ga(n)))}function Up(n){return new xe(e=>{It(n()).subscribe(e)})}function Uy(...n){let e=ma(n),{args:t,keys:i}=Bp(n),r=new xe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,h=s;for(let y=0;y<s;y++){let _=!1;It(t[y]).subscribe(ze(o,T=>{_||(_=!0,h--),a[y]=T},()=>c--,void 0,()=>{(!c||!_)&&(h||o.next(i?jp(i,a):a),o.complete())}))}});return e?r.pipe(wu(e)):r}var IF=["addListener","removeListener"],DF=["addEventListener","removeEventListener"],TF=["on","off"];function Cr(n,e,t,i){if(Se(t)&&(i=t,t=void 0),i)return Cr(n,e,t).pipe(wu(i));let[r,o]=MF(n)?DF.map(s=>a=>n[s](e,a,t)):SF(n)?IF.map(oT(n,e)):AF(n)?TF.map(oT(n,e)):[];if(!r&&yu(n))return Yt(s=>Cr(s,e,t))(It(n));if(!r)throw new TypeError("Invalid event target");return new xe(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function oT(n,e){return t=>i=>n[t](e,i)}function SF(n){return Se(n.addListener)&&Se(n.removeListener)}function AF(n){return Se(n.on)&&Se(n.off)}function MF(n){return Se(n.addEventListener)&&Se(n.removeEventListener)}function $y(n=0,e,t=Ly){let i=-1;return e!=null&&(Mp(e)?t=e:i=e),new xe(r=>{let o=tT(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:xF}=Array;function $p(n){return n.length===1&&xF(n[0])?n[0]:n}function sn(n,e){return rt((t,i)=>{let r=0;t.subscribe(ze(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Hy(...n){return n=$p(n),n.length===1?It(n[0]):new xe(RF(n))}function RF(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(It(n[i]).subscribe(ze(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}function yh(...n){let e=ma(n),t=$p(n);return t.length?new xe(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)It(t[s]).subscribe(ze(i,a=>{if(r[s].push(a),r.every(c=>c.length)){let c=r.map(h=>h.shift());i.next(e?e(...c):c),r.some((h,y)=>!h.length&&o[y])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Vn}function wa(n){return rt((e,t)=>{let i=null,r=!1,o;i=e.subscribe(ze(t,void 0,void 0,s=>{o=It(n(s,wa(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function sT(n,e,t,i,r){return(o,s)=>{let a=t,c=e,h=0;o.subscribe(ze(s,y=>{let _=h++;c=a?n(c,y,_):(a=!0,y),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function hs(n,e){return Se(e)?Yt(n,e,1):Yt(n,1)}function ba(n){return rt((e,t)=>{let i=!1;e.subscribe(ze(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Er(n){return n<=0?()=>Vn:rt((e,t)=>{let i=0;e.subscribe(ze(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Gy(n){return Le(()=>n)}function Hp(n=OF){return rt((e,t)=>{let i=!1;e.subscribe(ze(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function OF(){return new ds}function zy(...n){return e=>va(e,Ie(...n))}function Ca(n){return rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ho(n,e){let t=arguments.length>=2;return i=>i.pipe(n?sn((r,o)=>n(r,o,i)):fi,Er(1),t?ba(e):Hp(()=>new ds))}function Eu(n){return n<=0?()=>Vn:rt((e,t)=>{let i=[];e.subscribe(ze(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function qy(n,e){let t=arguments.length>=2;return i=>i.pipe(n?sn((r,o)=>n(r,o,i)):fi,Eu(1),t?ba(e):Hp(()=>new ds))}function Wy(n,e){return rt(sT(n,e,arguments.length>=2,!0))}function Gp(...n){let e=ga(n);return rt((t,i)=>{(e?va(n,t,e):va(n,t)).subscribe(i)})}function Gn(n,e){return rt((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(ze(i,c=>{r?.unsubscribe();let h=0,y=o++;It(n(c,y)).subscribe(r=ze(i,_=>i.next(e?e(c,_,y,h++):_),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function zn(n){return rt((e,t)=>{It(n).subscribe(ze(t,()=>t.complete(),Nl)),!t.closed&&e.subscribe(t)})}function Zt(n,e,t){let i=Se(n)||e||t?{next:n,error:e,complete:t}:n;return i?rt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ze(o,c=>{var h;(h=i.next)===null||h===void 0||h.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var h;a=!1,(h=i.error)===null||h===void 0||h.call(i,c),o.error(c)},()=>{var c,h;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):fi}function zp(...n){let e=ma(n);return rt((t,i)=>{let r=n.length,o=new Array(r),s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)It(n[c]).subscribe(ze(i,h=>{o[c]=h,!a&&!s[c]&&(s[c]=!0,(a=s.every(fi))&&(s=null))},Nl));t.subscribe(ze(i,c=>{if(a){let h=[c,...o];i.next(e?e(...h):h)}}))})}var HT="https://g.co/ng/security#xss",be=class extends Error{constructor(e,t){super(Mm(e,t)),this.code=e}};function Mm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ah(n){return{toString:n}.toString()}var qp="__parameters__";function NF(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function GT(n,e,t){return Ah(()=>{let i=NF(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,h,y){let _=c.hasOwnProperty(qp)?c[qp]:Object.defineProperty(c,qp,{value:[]})[qp];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var lv=globalThis;function Ot(n){for(let e in n)if(n[e]===Ot)return e;throw Error("Could not find renamed property on target object.")}function PF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(mi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function cv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var kF=Ot({__forward_ref__:Ot});function Kn(n){return n.__forward_ref__=Kn,n.toString=function(){return mi(this())},n}function pi(n){return zT(n)?n():n}function zT(n){return typeof n=="function"&&n.hasOwnProperty(kF)&&n.__forward_ref__===Kn}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gi(n){return{providers:n.providers||[],imports:n.imports||[]}}function xm(n){return aT(n,WT)||aT(n,YT)}function qT(n){return xm(n)!==null}function aT(n,e){return n.hasOwnProperty(e)?n[e]:null}function FF(n){let e=n&&(n[WT]||n[YT]);return e||null}function lT(n){return n&&(n.hasOwnProperty(cT)||n.hasOwnProperty(LF))?n[cT]:null}var WT=Ot({\u0275prov:Ot}),cT=Ot({\u0275inj:Ot}),YT=Ot({ngInjectableDef:Ot}),LF=Ot({ngInjectorDef:Ot}),ue=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KT(n){return n&&!!n.\u0275providers}var VF=Ot({\u0275cmp:Ot}),BF=Ot({\u0275dir:Ot}),jF=Ot({\u0275pipe:Ot}),UF=Ot({\u0275mod:Ot}),im=Ot({\u0275fac:Ot}),wh=Ot({__NG_ELEMENT_ID__:Ot}),uT=Ot({__NG_ENV_ID__:Ot});function Mu(n){return typeof n=="string"?n:n==null?"":String(n)}function $F(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mu(n)}function HF(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new be(-200,n)}function hw(n,e){throw new be(-201,!1)}var Xe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Xe||{}),uv;function QT(){return uv}function xi(n){let e=uv;return uv=n,e}function JT(n,e,t){let i=xm(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Xe.Optional)return null;if(e!==void 0)return e;hw(n,"Injector")}var GF={},bh=GF,dv="__NG_DI_FLAG__",rm="ngTempTokenPath",zF="ngTokenPath",qF=/\n/gm,WF="\u0275",dT="__source",Su;function YF(){return Su}function Ea(n){let e=Su;return Su=n,e}function KF(n,e=Xe.Default){if(Su===void 0)throw new be(-203,!1);return Su===null?JT(n,void 0,e):Su.get(n,e&Xe.Optional?null:void 0,e)}function ye(n,e=Xe.Default){return(QT()||KF)(pi(n),e)}function K(n,e=Xe.Default){return ye(n,Rm(e))}function Rm(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hv(n){let e=[];for(let t=0;t<n.length;t++){let i=pi(n[t]);if(Array.isArray(i)){if(i.length===0)throw new be(900,!1);let r,o=Xe.Default;for(let s=0;s<i.length;s++){let a=i[s],c=QF(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(ye(r,o))}else e.push(ye(i))}return e}function ZT(n,e){return n[dv]=e,n.prototype[dv]=e,n}function QF(n){return n[dv]}function JF(n,e,t,i){let r=n[rm];throw e[dT]&&r.unshift(e[dT]),n.message=ZF(`
`+n.message,r,t,i),n[zF]=r,n[rm]=null,n}function ZF(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==WF?n.slice(2):n;let r=mi(e);if(Array.isArray(e))r=e.map(mi).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mi(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(qF,`
  `)}`}var an=ZT(GT("Optional"),8);var fw=ZT(GT("SkipSelf"),4);function Vl(n,e){let t=n.hasOwnProperty(im);return t?n[im]:null}function XF(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function eL(n){return n.flat(Number.POSITIVE_INFINITY)}function pw(n,e){n.forEach(t=>Array.isArray(t)?pw(t,e):e(t))}function XT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function om(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tL(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function nL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function mw(n,e,t){let i=Mh(n,e);return i>=0?n[i|1]=t:(i=~i,nL(n,i,e,t)),i}function Yy(n,e){let t=Mh(n,e);if(t>=0)return n[t|1]}function Mh(n,e){return iL(n,e,1)}function iL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var xu={},Ri=[],Ru=new ue(""),eS=new ue("",-1),tS=new ue(""),sm=class{get(e,t=bh){if(t===bh){let i=new Error(`NullInjectorError: No provider for ${mi(e)}!`);throw i.name="NullInjectorError",i}return t}},nS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nS||{}),mo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mo||{}),Ta=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ta||{});function rL(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function fv(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];oL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function iS(n){return n===3||n===4||n===6}function oL(n){return n.charCodeAt(0)===64}function Ch(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?hT(n,t,r,null,e[++i]):hT(n,t,r,null,null))}}return n}function hT(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var rS="ng-template";function sL(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&rL(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(gw(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function gw(n){return n.type===4&&n.value!==rS}function aL(n,e,t){let i=n.type===4&&!t?rS:n.value;return e===i}function lL(n,e,t){let i=4,r=n.attrs,o=r!==null?dL(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Fr(i)&&!Fr(c))return!1;if(s&&Fr(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!aL(n,c,t)||c===""&&e.length===1){if(Fr(i))return!1;s=!0}}else if(i&8){if(r===null||!sL(n,r,c,t)){if(Fr(i))return!1;s=!0}}else{let h=e[++a],y=cL(c,r,gw(n),t);if(y===-1){if(Fr(i))return!1;s=!0;continue}if(h!==""){let _;if(y>o?_="":_=r[y+1].toLowerCase(),i&2&&h!==_){if(Fr(i))return!1;s=!0}}}}return Fr(i)||s}function Fr(n){return(n&1)===0}function cL(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return hL(e,n)}function oS(n,e,t=!1){for(let i=0;i<e.length;i++)if(lL(n,e[i],t))return!0;return!1}function uL(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function dL(n){for(let e=0;e<n.length;e++){let t=n[e];if(iS(t))return e}return n.length}function hL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function fL(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function fT(n,e){return n?":not("+e.trim()+")":e}function pL(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Fr(s)&&(e+=fT(o,r),r=""),i=s,o=o||!Fr(i);t++}return r!==""&&(e+=fT(o,r)),e}function mL(n){return n.map(pL).join(",")}function gL(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Fr(r))break;r=o}i++}return{attrs:e,classes:t}}function Re(n){return Ah(()=>{let e=dS(n),t=Ze(ie({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mo.Emulated,styles:n.styles||Ri,_:null,schemas:n.schemas||null,tView:null,id:""});hS(t);let i=n.dependencies;return t.directiveDefs=mT(i,!1),t.pipeDefs=mT(i,!0),t.id=vL(t),t})}function _L(n){return ps(n)||aS(n)}function yL(n){return n!==null}function _i(n){return Ah(()=>({type:n.type,bootstrap:n.bootstrap||Ri,declarations:n.declarations||Ri,imports:n.imports||Ri,exports:n.exports||Ri,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pT(n,e){if(n==null)return xu;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=Ta.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Ta.None?[i,a]:i,e[o]=s):t[o]=i}return t}function xt(n){return Ah(()=>{let e=dS(n);return hS(e),e})}function sS(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ps(n){return n[VF]||null}function aS(n){return n[BF]||null}function lS(n){return n[jF]||null}function cS(n){let e=ps(n)||aS(n)||lS(n);return e!==null?e.standalone:!1}function uS(n,e){let t=n[UF]||null;if(!t&&e===!0)throw new Error(`Type ${mi(n)} does not have '\u0275mod' property.`);return t}function dS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||xu,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ri,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pT(n.inputs,e),outputs:pT(n.outputs),debugInfo:null}}function hS(n){n.features?.forEach(e=>e(n))}function mT(n,e){if(!n)return null;let t=e?lS:_L;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(yL)}function vL(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Oi(n){return{\u0275providers:n}}function _w(...n){return{\u0275providers:fS(!0,n),\u0275fromNgModule:!0}}function fS(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return pw(e,s=>{let a=s;pv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&pS(r,o),t}function pS(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];yw(r,o=>{e(o,i)})}}function pv(n,e,t,i){if(n=pi(n),!n)return!1;let r=null,o=lT(n),s=!o&&ps(n);if(!o&&!s){let c=n.ngModule;if(o=lT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of c)pv(h,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let h;try{pw(o.imports,y=>{pv(y,e,t,i)&&(h||=[],h.push(y))})}finally{}h!==void 0&&pS(h,e)}if(!a){let h=Vl(r)||(()=>new r);e({provide:r,useFactory:h,deps:Ri},r),e({provide:tS,useValue:r,multi:!0},r),e({provide:Ru,useValue:()=>ye(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let h=n;yw(c,y=>{e(y,h)})}}else return!1;return r!==n&&n.providers!==void 0}function yw(n,e){for(let t of n)KT(t)&&(t=t.\u0275providers),Array.isArray(t)?yw(t,e):e(t)}var wL=Ot({provide:String,useValue:Ot});function mS(n){return n!==null&&typeof n=="object"&&wL in n}function bL(n){return!!(n&&n.useExisting)}function CL(n){return!!(n&&n.useFactory)}function Ou(n){return typeof n=="function"}function EL(n){return!!n.useClass}var Om=new ue(""),Jp={},IL={},Ky;function Nm(){return Ky===void 0&&(Ky=new sm),Ky}var xn=class{},Eh=class extends xn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gv(e,s=>this.processProvider(s)),this.records.set(eS,Iu(void 0,this)),r.has("environment")&&this.records.set(xn,Iu(void 0,this));let o=this.records.get(Om);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tS,Ri,Xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=it(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),it(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ea(this),i=xi(void 0),r;try{return e()}finally{Ea(t),xi(i)}}get(e,t=bh,i=Xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uT))return e[uT](this);i=Rm(i);let r,o=Ea(this),s=xi(void 0);try{if(!(i&Xe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let h=ML(e)&&xm(e);h&&this.injectableDefInScope(h)?c=Iu(mv(e),Jp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Xe.Self?Nm():this.parent;return t=i&Xe.Optional&&t===bh?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[rm]=a[rm]||[]).unshift(mi(e)),o)throw a;return JF(a,e,"R3InjectorError",this.source)}else throw a}finally{xi(s),Ea(o)}}resolveInjectorInitializers(){let e=it(null),t=Ea(this),i=xi(void 0),r;try{let o=this.get(Ru,Ri,Xe.Self);for(let s of o)s()}finally{Ea(t),xi(i),it(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(mi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(e){e=pi(e);let t=Ou(e)?e:pi(e&&e.provide),i=TL(e);if(!Ou(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Iu(void 0,Jp,!0),r.factory=()=>hv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=it(null);try{return t.value===Jp&&(t.value=IL,t.value=t.factory()),typeof t.value=="object"&&t.value&&AL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{it(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function mv(n){let e=xm(n),t=e!==null?e.factory:Vl(n);if(t!==null)return t;if(n instanceof ue)throw new be(204,!1);if(n instanceof Function)return DL(n);throw new be(204,!1)}function DL(n){if(n.length>0)throw new be(204,!1);let t=FF(n);return t!==null?()=>t.factory(n):()=>new n}function TL(n){if(mS(n))return Iu(void 0,n.useValue);{let e=gS(n);return Iu(e,Jp)}}function gS(n,e,t){let i;if(Ou(n)){let r=pi(n);return Vl(r)||mv(r)}else if(mS(n))i=()=>pi(n.useValue);else if(CL(n))i=()=>n.useFactory(...hv(n.deps||[]));else if(bL(n))i=()=>ye(pi(n.useExisting));else{let r=pi(n&&(n.useClass||n.provide));if(SL(n))i=()=>new r(...hv(n.deps));else return Vl(r)||mv(r)}return i}function Iu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function SL(n){return!!n.deps}function AL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ML(n){return typeof n=="function"||typeof n=="object"&&n instanceof ue}function gv(n,e){for(let t of n)Array.isArray(t)?gv(t,e):t&&KT(t)?gv(t.\u0275providers,e):e(t)}function Dr(n,e){n instanceof Eh&&n.assertNotDestroyed();let t,i=Ea(n),r=xi(void 0);try{return e()}finally{Ea(i),xi(r)}}function _S(){return QT()!==void 0||YF()!=null}function xL(n){if(!_S())throw new be(-203,!1)}function RL(n){return typeof n=="function"}var ws=0,Ve=1,ke=2,Yn=3,Vr=4,Ni=5,Nu=6,am=7,qn=8,Pu=9,go=10,Kt=11,Ih=12,gT=13,$u=14,or=15,Bl=16,Du=17,ms=18,Pm=19,yS=20,Ia=21,Qy=22,Ir=23,Bn=25,vS=1;var jl=7,lm=8,ku=9,Wn=10,cm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(cm||{});function Da(n){return Array.isArray(n)&&typeof n[vS]=="object"}function bs(n){return Array.isArray(n)&&n[vS]===!0}function vw(n){return(n.flags&4)!==0}function km(n){return n.componentOffset>-1}function Fm(n){return(n.flags&1)===1}function Sa(n){return!!n.template}function _v(n){return(n[ke]&512)!==0}var yv=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function wS(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Pi(){return bS}function bS(n){return n.type.prototype.ngOnChanges&&(n.setInput=NL),OL}Pi.ngInherit=!0;function OL(){let n=ES(this),e=n?.current;if(e){let t=n.previous;if(t===xu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function NL(n,e,t,i,r){let o=this.declaredInputs[i],s=ES(n)||PL(n,{previous:xu,current:null}),a=s.current||(s.current={}),c=s.previous,h=c[o];a[o]=new yv(h&&h.currentValue,t,c===xu),wS(n,e,r,t)}var CS="__ngSimpleChanges__";function ES(n){return n[CS]||null}function PL(n,e){return n[CS]=e}var _T=null;var fo=function(n,e,t){_T?.(n,e,t)},kL="svg",FL="math";function _o(n){for(;Array.isArray(n);)n=n[ws];return n}function IS(n,e){return _o(e[n])}function Tr(n,e){return _o(e[n.index])}function ww(n,e){return n.data[e]}function DS(n,e){return n[e]}function Ra(n,e){let t=e[n];return Da(t)?t:t[ws]}function LL(n){return(n[ke]&4)===4}function bw(n){return(n[ke]&128)===128}function VL(n){return bs(n[Yn])}function Aa(n,e){return e==null?null:n[e]}function TS(n){n[Du]=0}function SS(n){n[ke]&1024||(n[ke]|=1024,bw(n)&&Vm(n))}function BL(n,e){for(;n>0;)e=e[$u],n--;return e}function Lm(n){return!!(n[ke]&9216||n[Ir]?.dirty)}function vv(n){n[go].changeDetectionScheduler?.notify(8),n[ke]&64&&(n[ke]|=1024),Lm(n)&&Vm(n)}function Vm(n){n[go].changeDetectionScheduler?.notify(0);let e=Ul(n);for(;e!==null&&!(e[ke]&8192||(e[ke]|=8192,!bw(e)));)e=Ul(e)}function AS(n,e){if((n[ke]&256)===256)throw new be(911,!1);n[Ia]===null&&(n[Ia]=[]),n[Ia].push(e)}function jL(n,e){if(n[Ia]===null)return;let t=n[Ia].indexOf(e);t!==-1&&n[Ia].splice(t,1)}function Ul(n){let e=n[Yn];return bs(e)?e[Yn]:e}var Je={lFrame:LS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var MS=!1;function UL(){return Je.lFrame.elementDepthCount}function $L(){Je.lFrame.elementDepthCount++}function HL(){Je.lFrame.elementDepthCount--}function xS(){return Je.bindingsEnabled}function RS(){return Je.skipHydrationRootTNode!==null}function GL(n){return Je.skipHydrationRootTNode===n}function zL(){Je.skipHydrationRootTNode=null}function qe(){return Je.lFrame.lView}function Xt(){return Je.lFrame.tView}function ae(n){return Je.lFrame.contextLView=n,n[qn]}function le(n){return Je.lFrame.contextLView=null,n}function Qn(){let n=OS();for(;n!==null&&n.type===64;)n=n.parent;return n}function OS(){return Je.lFrame.currentTNode}function qL(){let n=Je.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Yl(n,e){let t=Je.lFrame;t.currentTNode=n,t.isParent=e}function Cw(){return Je.lFrame.isParent}function Ew(){Je.lFrame.isParent=!1}function WL(){return Je.lFrame.contextLView}function NS(){return MS}function yT(n){MS=n}function Iw(){let n=Je.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function YL(){return Je.lFrame.bindingIndex}function KL(n){return Je.lFrame.bindingIndex=n}function Hu(){return Je.lFrame.bindingIndex++}function Dw(n){let e=Je.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QL(){return Je.lFrame.inI18n}function JL(n,e){let t=Je.lFrame;t.bindingIndex=t.bindingRootIndex=n,wv(e)}function ZL(){return Je.lFrame.currentDirectiveIndex}function wv(n){Je.lFrame.currentDirectiveIndex=n}function XL(n){let e=Je.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function PS(){return Je.lFrame.currentQueryIndex}function Tw(n){Je.lFrame.currentQueryIndex=n}function eV(n){let e=n[Ve];return e.type===2?e.declTNode:e.type===1?n[Ni]:null}function kS(n,e,t){if(t&Xe.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Xe.Host);)if(r=eV(o),r===null||(o=o[$u],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Je.lFrame=FS();return i.currentTNode=e,i.lView=n,!0}function Sw(n){let e=FS(),t=n[Ve];Je.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function FS(){let n=Je.lFrame,e=n===null?null:n.child;return e===null?LS(n):e}function LS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function VS(){let n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var BS=VS;function Aw(){let n=VS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tV(n){return(Je.lFrame.contextLView=BL(n,Je.lFrame.contextLView))[qn]}function Cs(){return Je.lFrame.selectedIndex}function $l(n){Je.lFrame.selectedIndex=n}function Bm(){let n=Je.lFrame;return ww(n.tView,n.selectedIndex)}function nV(){return Je.lFrame.currentNamespace}var jS=!0;function jm(){return jS}function Um(n){jS=n}function iV(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=bS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function $m(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:y}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),y!=null&&(n.destroyHooks??=[]).push(t,y)}}function Zp(n,e,t){US(n,e,3,t)}function Xp(n,e,t,i){(n[ke]&3)===t&&US(n,e,t,i)}function Jy(n,e){let t=n[ke];(t&3)===e&&(t&=16383,t+=1,n[ke]=t)}function US(n,e,t,i){let r=i!==void 0?n[Du]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Du]+=65536),(a<o||o==-1)&&(rV(n,t,e,c),n[Du]=(n[Du]&4294901760)+c+2),c++}function vT(n,e){fo(4,n,e);let t=it(null);try{e.call(n)}finally{it(t),fo(5,n,e)}}function rV(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ke]>>14<n[Du]>>16&&(n[ke]&3)===e&&(n[ke]+=16384,vT(a,o)):vT(a,o)}var Au=-1,Hl=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function oV(n){return n instanceof Hl}function sV(n){return(n.flags&8)!==0}function aV(n){return(n.flags&16)!==0}var Zy={},bv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Rm(i);let r=this.injector.get(e,Zy,i);return r!==Zy||t===Zy?r:this.parentInjector.get(e,t,i)}};function $S(n){return n!==Au}function um(n){return n&32767}function lV(n){return n>>16}function dm(n,e){let t=lV(n),i=e;for(;t>0;)i=i[$u],t--;return i}var Cv=!0;function hm(n){let e=Cv;return Cv=n,e}var cV=256,HS=cV-1,GS=5,uV=0,po={};function dV(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(wh)&&(i=t[wh]),i==null&&(i=t[wh]=uV++);let r=i&HS,o=1<<r;e.data[n+(r>>GS)]|=o}function fm(n,e){let t=zS(n,e);if(t!==-1)return t;let i=e[Ve];i.firstCreatePass&&(n.injectorIndex=e.length,Xy(i.data,n),Xy(e,null),Xy(i.blueprint,null));let r=Mw(n,e),o=n.injectorIndex;if($S(r)){let s=um(r),a=dm(r,e),c=a[Ve].data;for(let h=0;h<8;h++)e[o+h]=a[s+h]|c[s+h]}return e[o+8]=r,o}function Xy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Mw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=QS(r),i===null)return Au;if(t++,r=r[$u],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Au}function Ev(n,e,t){dV(n,e,t)}function hV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(iS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function qS(n,e,t){if(t&Xe.Optional||n!==void 0)return n;hw(e,"NodeInjector")}function WS(n,e,t,i){if(t&Xe.Optional&&i===void 0&&(i=null),!(t&(Xe.Self|Xe.Host))){let r=n[Pu],o=xi(void 0);try{return r?r.get(e,i,t&Xe.Optional):JT(e,i,t&Xe.Optional)}finally{xi(o)}}return qS(i,e,t)}function YS(n,e,t,i=Xe.Default,r){if(n!==null){if(e[ke]&2048&&!(i&Xe.Self)){let s=gV(n,e,t,i,po);if(s!==po)return s}let o=KS(n,e,t,i,po);if(o!==po)return o}return WS(e,t,i,r)}function KS(n,e,t,i,r){let o=pV(t);if(typeof o=="function"){if(!kS(e,n,i))return i&Xe.Host?qS(r,t,i):WS(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Xe.Optional))hw(t);else return s}finally{BS()}}else if(typeof o=="number"){let s=null,a=zS(n,e),c=Au,h=i&Xe.Host?e[or][Ni]:null;for((a===-1||i&Xe.SkipSelf)&&(c=a===-1?Mw(n,e):e[a+8],c===Au||!bT(i,!1)?a=-1:(s=e[Ve],a=um(c),e=dm(c,e)));a!==-1;){let y=e[Ve];if(wT(o,a,y.data)){let _=fV(a,e,t,s,i,h);if(_!==po)return _}c=e[a+8],c!==Au&&bT(i,e[Ve].data[a+8]===h)&&wT(o,a,e)?(s=y,a=um(c),e=dm(c,e)):a=-1}}return r}function fV(n,e,t,i,r,o){let s=e[Ve],a=s.data[n+8],c=i==null?km(a)&&Cv:i!=s&&(a.type&3)!==0,h=r&Xe.Host&&o===a,y=em(a,s,t,c,h);return y!==null?Gl(e,s,y,a):po}function em(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,h=n.directiveEnd,y=o>>20,_=i?a:a+y,T=r?a+y:h;for(let x=_;x<T;x++){let k=s[x];if(x<c&&t===k||x>=c&&k.type===t)return x}if(r){let x=s[c];if(x&&Sa(x)&&x.type===t)return c}return null}function Gl(n,e,t,i){let r=n[t],o=e.data;if(oV(r)){let s=r;s.resolving&&HF($F(o[t]));let a=hm(s.canSeeViewProviders);s.resolving=!0;let c,h=s.injectImpl?xi(s.injectImpl):null,y=kS(n,i,Xe.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&iV(t,o[t],e)}finally{h!==null&&xi(h),hm(a),s.resolving=!1,BS()}}return r}function pV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wh)?n[wh]:void 0;return typeof e=="number"?e>=0?e&HS:mV:e}function wT(n,e,t){let i=1<<n;return!!(t[e+(n>>GS)]&i)}function bT(n,e){return!(n&Xe.Self)&&!(n&Xe.Host&&e)}var Ll=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return YS(this._tNode,this._lView,e,Rm(i),t)}};function mV(){return new Ll(Qn(),qe())}function yo(n){return Ah(()=>{let e=n.prototype.constructor,t=e[im]||Iv(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[im]||Iv(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Iv(n){return zT(n)?()=>{let e=Iv(pi(n));return e&&e()}:Vl(n)}function gV(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ke]&2048&&!(s[ke]&512);){let a=KS(o,s,t,i|Xe.Self,po);if(a!==po)return a;let c=o.parent;if(!c){let h=s[yS];if(h){let y=h.get(t,po,i);if(y!==po)return y}c=QS(s),s=s[$u]}o=c}return r}function QS(n){let e=n[Ve],t=e.type;return t===2?e.declTNode:t===1?n[Ni]:null}function Hm(n){return hV(Qn(),n)}function CT(n,e=null,t=null,i){let r=JS(n,e,t,i);return r.resolveInjectorInitializers(),r}function JS(n,e=null,t=null,i,r=new Set){let o=[t||Ri,_w(n)];return i=i||(typeof n=="object"?void 0:mi(n)),new Eh(o,e||Nm(),i||null,r)}var kt=class n{static{this.THROW_IF_NOT_FOUND=bh}static{this.NULL=new sm}static create(e,t){if(Array.isArray(e))return CT({name:""},t,e,"");{let i=e.name??"";return CT({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>ye(eS)})}static{this.__NG_ELEMENT_ID__=-1}};var _V=new ue("");_V.__NG_ELEMENT_ID__=n=>{let e=Qn();if(e===null)throw new be(204,!1);if(e.type&2)return e.value;if(n&Xe.Optional)return null;throw new be(204,!1)};var yV="ngOriginalError";function ev(n){return n[yV]}var ZS=!0,Gm=(()=>{class n{static{this.__NG_ELEMENT_ID__=vV}static{this.__NG_ENV_ID__=t=>t}}return n})(),Dv=class extends Gm{constructor(e){super(),this._lView=e}onDestroy(e){return AS(this._lView,e),()=>jL(this._lView,e)}};function vV(){return new Dv(qe())}var Oa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Tv=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,_S()&&(this.destroyRef=K(Gm,{optional:!0})??void 0,this.pendingTasks=K(Oa,{optional:!0})??void 0)}emit(e){let t=it(null);try{super.next(e)}finally{it(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Jt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},ut=Tv;function pm(...n){}function XS(n){let e,t;function i(){n=pm;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function ET(n){return queueMicrotask(()=>n()),()=>{n=pm}}var xw="isAngularZone",mm=xw+"_ID",wV=0,Ke=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=ZS}=e;if(typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,EV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new be(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,bV,pm,pm);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},bV={};function Rw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){XS(()=>{n.callbackScheduled=!1,Sv(n),n.isCheckStableRunning=!0,Rw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Sv(n)}function EV(n){let e=()=>{CV(n)},t=wV++;n._inner=n._inner.fork({name:"angular",properties:{[xw]:!0,[mm]:t,[mm+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(IV(c))return i.invokeTask(o,s,a,c);try{return IT(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),DT(n)}},onInvoke:(i,r,o,s,a,c,h)=>{try{return IT(n),i.invoke(o,s,a,c,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!DV(c)&&e(),DT(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Sv(n),Rw(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Sv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function IT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DT(n){n._nesting--,Rw(n)}var Av=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ut,this.onMicrotaskEmpty=new ut,this.onStable=new ut,this.onError=new ut}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function IV(n){return eA(n,"__ignore_ng_zone__")}function DV(n){return eA(n,"__scheduler_tick__")}function eA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gs=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ev(e);for(;t&&ev(t);)t=ev(t);return t||null}},TV=new ue("",{providedIn:"root",factory:()=>{let n=K(Ke),e=K(gs);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function SV(){return Gu(Qn(),qe())}function Gu(n,e){return new dn(Tr(n,e))}var dn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=SV}}return n})();function AV(n){return n instanceof dn?n.nativeElement:n}function MV(){return this._results[Symbol.iterator]()}var Mv=class n{get changes(){return this._changes??=new ut}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=MV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=eL(e);(this._changesDetected=!XF(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function tA(n){return(n.flags&128)===128}var nA=new Map,xV=0;function RV(){return xV++}function OV(n){nA.set(n[Pm],n)}function xv(n){nA.delete(n[Pm])}var TT="__ngContext__";function Ma(n,e){Da(e)?(n[TT]=e[Pm],OV(e)):n[TT]=e}function iA(n){return oA(n[Ih])}function rA(n){return oA(n[Vr])}function oA(n){for(;n!==null&&!bs(n);)n=n[Vr];return n}var Rv;function sA(n){Rv=n}function NV(){if(Rv!==void 0)return Rv;if(typeof document<"u")return document;throw new be(210,!1)}var Ow=new ue("",{providedIn:"root",factory:()=>PV}),PV="ng",Nw=new ue(""),yi=new ue("",{providedIn:"platform",factory:()=>"unknown"});var Pw=new ue("",{providedIn:"root",factory:()=>NV().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kV="h",FV="b";var LV=()=>null;function kw(n,e,t=!1){return LV(n,e,t)}var aA=!1,VV=new ue("",{providedIn:"root",factory:()=>aA});var Wp;function BV(){if(Wp===void 0&&(Wp=null,lv.trustedTypes))try{Wp=lv.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wp}function ST(n){return BV()?.createScriptURL(n)||n}var gm=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HT})`}};function zu(n){return n instanceof gm?n.changingThisBreaksApplicationSecurity:n}function Fw(n,e){let t=jV(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${HT})`)}return t===e}function jV(n){return n instanceof gm&&n.getTypeName()||null}var UV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lA(n){return n=String(n),n.match(UV)?n:"unsafe:"+n}var zm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zm||{});function ki(n){let e=uA();return e?e.sanitize(zm.URL,n)||"":Fw(n,"URL")?zu(n):lA(Mu(n))}function $V(n){let e=uA();if(e)return ST(e.sanitize(zm.RESOURCE_URL,n)||"");if(Fw(n,"ResourceURL"))return ST(zu(n));throw new be(904,!1)}function HV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?$V:ki}function cA(n,e,t){return HV(e,t)(n)}function uA(){let n=qe();return n&&n[go].sanitizer}var GV=/^>|^->|<!--|-->|--!>|<!-$/g,zV=/(<|>)/g,qV="\u200B$1\u200B";function WV(n){return n.replace(GV,e=>e.replace(zV,qV))}function dA(n){return n instanceof Function?n():n}function YV(n){return(n??K(kt)).get(yi)==="browser"}var _s=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_s||{}),KV;function Lw(n,e){return KV(n,e)}function Tu(n,e,t,i,r){if(i!=null){let o,s=!1;bs(i)?o=i:Da(i)&&(s=!0,i=i[ws]);let a=_o(i);n===0&&t!==null?r==null?gA(e,t,a):_m(e,t,a,r||null,!0):n===1&&t!==null?_m(e,t,a,r||null,!0):n===2?cB(e,a,s):n===3&&e.destroyNode(a),o!=null&&dB(e,n,o,t,r)}}function QV(n,e){return n.createText(e)}function JV(n,e,t){n.setValue(e,t)}function ZV(n,e){return n.createComment(WV(e))}function hA(n,e,t){return n.createElement(e,t)}function XV(n,e){fA(n,e),e[ws]=null,e[Ni]=null}function eB(n,e,t,i,r,o){i[ws]=r,i[Ni]=e,Ym(n,i,t,1,r,o)}function fA(n,e){e[go].changeDetectionScheduler?.notify(9),Ym(n,e,e[Kt],2,null,null)}function tB(n){let e=n[Ih];if(!e)return tv(n[Ve],n);for(;e;){let t=null;if(Da(e))t=e[Ih];else{let i=e[Wn];i&&(t=i)}if(!t){for(;e&&!e[Vr]&&e!==n;)Da(e)&&tv(e[Ve],e),e=e[Yn];e===null&&(e=n),Da(e)&&tv(e[Ve],e),t=e&&e[Vr]}e=t}}function nB(n,e,t,i){let r=Wn+i,o=t.length;i>0&&(t[r-1][Vr]=e),i<o-Wn?(e[Vr]=t[r],XT(t,Wn+i,e)):(t.push(e),e[Vr]=null),e[Yn]=t;let s=e[Bl];s!==null&&t!==s&&pA(s,e);let a=e[ms];a!==null&&a.insertView(n),vv(e),e[ke]|=128}function pA(n,e){let t=n[ku],i=e[Yn];if(Da(i))n[ke]|=cm.HasTransplantedViews;else{let r=i[Yn][or];e[or]!==r&&(n[ke]|=cm.HasTransplantedViews)}t===null?n[ku]=[e]:t.push(e)}function Vw(n,e){let t=n[ku],i=t.indexOf(e);t.splice(i,1)}function Dh(n,e){if(n.length<=Wn)return;let t=Wn+e,i=n[t];if(i){let r=i[Bl];r!==null&&r!==n&&Vw(r,i),e>0&&(n[t-1][Vr]=i[Vr]);let o=om(n,Wn+e);XV(i[Ve],i);let s=o[ms];s!==null&&s.detachView(o[Ve]),i[Yn]=null,i[Vr]=null,i[ke]&=-129}return i}function qm(n,e){if(!(e[ke]&256)){let t=e[Kt];t.destroyNode&&Ym(n,e,t,3,null,null),tB(e)}}function tv(n,e){if(e[ke]&256)return;let t=it(null);try{e[ke]&=-129,e[ke]|=256,e[Ir]&&Dy(e[Ir]),rB(n,e),iB(n,e),e[Ve].type===1&&e[Kt].destroy();let i=e[Bl];if(i!==null&&bs(e[Yn])){i!==e[Yn]&&Vw(i,e);let r=e[ms];r!==null&&r.detachView(n)}xv(e)}finally{it(t)}}function iB(n,e){let t=n.cleanup,i=e[am];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[am]=null);let r=e[Ia];if(r!==null){e[Ia]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function rB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Hl)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];fo(4,a,c);try{c.call(a)}finally{fo(5,a,c)}}else{fo(4,r,o);try{o.call(r)}finally{fo(5,r,o)}}}}}function mA(n,e,t){return oB(n,e.parent,t)}function oB(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ws];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===mo.None||o===mo.Emulated)return null}return Tr(i,t)}}function _m(n,e,t,i,r){n.insertBefore(e,t,i,r)}function gA(n,e,t){n.appendChild(e,t)}function AT(n,e,t,i,r){i!==null?_m(n,e,t,i,r):gA(n,e,t)}function _A(n,e){return n.parentNode(e)}function sB(n,e){return n.nextSibling(e)}function yA(n,e,t){return lB(n,e,t)}function aB(n,e,t){return n.type&40?Tr(n,t):null}var lB=aB,MT;function Wm(n,e,t,i){let r=mA(n,i,e),o=e[Kt],s=i.parent||e[Ni],a=yA(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)AT(o,r,t[c],a,!1);else AT(o,r,t,a,!1);MT!==void 0&&MT(o,i,e,t,r)}function vh(n,e){if(e!==null){let t=e.type;if(t&3)return Tr(e,n);if(t&4)return Ov(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return vh(n,i);{let r=n[e.index];return bs(r)?Ov(-1,r):_o(r)}}else{if(t&128)return vh(n,e.next);if(t&32)return Lw(e,n)()||_o(n[e.index]);{let i=vA(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ul(n[or]);return vh(r,i)}else return vh(n,e.next)}}}return null}function vA(n,e){if(e!==null){let i=n[or][Ni],r=e.projection;return i.projection[r]}return null}function Ov(n,e){let t=Wn+n+1;if(t<e.length){let i=e[t],r=i[Ve].firstChild;if(r!==null)return vh(i,r)}return e[jl]}function cB(n,e,t){n.removeChild(null,e,t)}function Bw(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&Ma(_o(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)Bw(n,e,t.child,i,r,o,!1),Tu(e,n,r,a,o);else if(c&32){let h=Lw(t,i),y;for(;y=h();)Tu(e,n,r,y,o);Tu(e,n,r,a,o)}else c&16?wA(n,e,i,t,r,o):Tu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Ym(n,e,t,i,r,o){Bw(t,i,n.firstChild,e,r,o,!1)}function uB(n,e,t){let i=e[Kt],r=mA(n,t,e),o=t.parent||e[Ni],s=yA(o,t,e);wA(i,0,e,t,r,s)}function wA(n,e,t,i,r,o){let s=t[or],c=s[Ni].projection[i.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++){let y=c[h];Tu(e,n,r,y,o)}else{let h=c,y=s[Yn];tA(i)&&(h.flags|=128),Bw(n,e,h,y,r,o,!0)}}function dB(n,e,t,i,r){let o=t[jl],s=_o(t);o!==s&&Tu(e,n,i,o,r);for(let a=Wn;a<t.length;a++){let c=t[a];Ym(c[Ve],c,n,e,i,o)}}function hB(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:_s.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=_s.Important),n.setStyle(t,i,r,o))}}function fB(n,e,t){n.setAttribute(e,"style",t)}function bA(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function CA(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&fv(n,e,i),r!==null&&bA(n,e,r),o!==null&&fB(n,e,o)}var Fi={};function P(n=1){EA(Xt(),qe(),Cs()+n,!1)}function EA(n,e,t,i){if(!i)if((e[ke]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Zp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Xp(e,o,0,t)}$l(t)}function Q(n,e=Xe.Default){let t=qe();if(t===null)return ye(n,e);let i=Qn();return YS(i,t,pi(n),e)}function IA(){let n="invalid";throw new Error(n)}function DA(n,e,t,i,r,o){let s=it(null);try{let a=null;r&Ta.SignalBased&&(a=e[i][us]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ta.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):wS(e,a,i,o)}finally{it(s)}}function pB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)$l(~r);else{let o=r,s=t[++i],a=t[++i];JL(s,o);let c=e[o];a(2,c)}}}finally{$l(-1)}}function Km(n,e,t,i,r,o,s,a,c,h,y){let _=e.blueprint.slice();return _[ws]=r,_[ke]=i|4|128|8|64,(h!==null||n&&n[ke]&2048)&&(_[ke]|=2048),TS(_),_[Yn]=_[$u]=n,_[qn]=t,_[go]=s||n&&n[go],_[Kt]=a||n&&n[Kt],_[Pu]=c||n&&n[Pu]||null,_[Ni]=o,_[Pm]=RV(),_[Nu]=y,_[yS]=h,_[or]=e.type==2?n[or]:_,_}function qu(n,e,t,i,r){let o=n.data[e];if(o===null)o=mB(n,e,t,i,r),QL()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=qL();o.injectorIndex=s===null?-1:s.injectorIndex}return Yl(o,!0),o}function mB(n,e,t,i,r){let o=OS(),s=Cw(),a=s?o:o&&o.parent,c=n.data[e]=bB(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function TA(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function SA(n,e,t,i,r){let o=Cs(),s=i&2;try{$l(-1),s&&e.length>Bn&&EA(n,e,Bn,!1),fo(s?2:0,r),t(i,r)}finally{$l(o),fo(s?3:1,r)}}function jw(n,e,t){if(vw(e)){let i=it(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{it(i)}}}function Uw(n,e,t){xS()&&(SB(n,e,t,Tr(t,e)),(t.flags&64)===64&&xA(n,e,t))}function $w(n,e,t=Tr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function AA(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Hw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Hw(n,e,t,i,r,o,s,a,c,h,y){let _=Bn+i,T=_+r,x=gB(_,T),k=typeof h=="function"?h():h;return x[Ve]={type:n,blueprint:x,template:t,queries:null,viewQuery:a,declTNode:e,data:x.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:k,incompleteFirstPass:!1,ssrId:y}}function gB(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Fi);return t}function _B(n,e,t,i){let o=i.get(VV,aA)||t===mo.ShadowDom,s=n.selectRootElement(e,o);return yB(s),s}function yB(n){vB(n)}var vB=()=>null;function wB(n,e,t,i){let r=NA(e);r.push(t),n.firstCreatePass&&PA(n).push(i,r.length-1)}function bB(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return RS()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xT(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Ta.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}n===0?RT(i,t,h,a,c):RT(i,t,h,a)}return i}function RT(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function CB(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,h=null;for(let y=i;y<r;y++){let _=o[y],T=t?t.get(_):null,x=T?T.inputs:null,k=T?T.outputs:null;c=xT(0,_.inputs,y,c,x),h=xT(1,_.outputs,y,h,k);let G=c!==null&&s!==null&&!gw(e)?VB(c,y,s):null;a.push(G)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=h}function EB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Gw(n,e,t,i,r,o,s,a){let c=Tr(e,t),h=e.inputs,y;!a&&h!=null&&(y=h[i])?(qw(n,t,y,i,r),km(e)&&IB(t,e.index)):e.type&3?(i=EB(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function IB(n,e){let t=Ra(e,n);t[ke]&16||(t[ke]|=64)}function zw(n,e,t,i){if(xS()){let r=i===null?null:{"":-1},o=MB(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&MA(n,e,t,s,r,a),r&&xB(t,i,r)}t.mergedAttrs=Ch(t.mergedAttrs,t.attrs)}function MA(n,e,t,i,r,o){for(let h=0;h<i.length;h++)Ev(fm(t,e),n,i[h].type);OB(t,n.data.length,i.length);for(let h=0;h<i.length;h++){let y=i[h];y.providersResolver&&y.providersResolver(y)}let s=!1,a=!1,c=TA(n,e,i.length,null);for(let h=0;h<i.length;h++){let y=i[h];t.mergedAttrs=Ch(t.mergedAttrs,y.hostAttrs),NB(n,t,e,c,y),RB(c,y,r),y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let _=y.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}CB(n,t,o)}function DB(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;TB(s)!=a&&s.push(a),s.push(t,i,o)}}function TB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function SB(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;km(t)&&PB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||fm(t,e),Ma(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],h=Gl(e,n,a,t);if(Ma(h,e),s!==null&&LB(e,a-r,h,c,t,s),Sa(c)){let y=Ra(t.index,e);y[qn]=Gl(e,n,a,t)}}}function xA(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=ZL();try{$l(o);for(let a=i;a<r;a++){let c=n.data[a],h=e[a];wv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AB(c,h)}}finally{$l(-1),wv(s)}}function AB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function MB(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(oS(e,s.selectors,!1))if(i||(i=[]),Sa(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Nv(n,e,c)}else i.unshift(s),Nv(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Nv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xB(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new be(-301,!1);i.push(e[r],o)}}}function RB(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Sa(e)&&(t[""]=n)}}function OB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function NB(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Vl(r.type,!0)),s=new Hl(o,Sa(r),Q);n.blueprint[i]=s,t[i]=s,DB(n,e,i,TA(n,t,r.hostVars,Fi),r)}function PB(n,e,t){let i=Tr(e,n),r=AA(t),o=n[go].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Qm(n,Km(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function kB(n,e,t,i,r,o){let s=Tr(n,e);FB(e[Kt],s,o,n.value,t,i,r)}function FB(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Mu(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function LB(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],h=s[a++],y=s[a++],_=s[a++];DA(i,t,c,h,y,_)}}function VB(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function RA(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function OA(n,e){let t=n.contentQueries;if(t!==null){let i=it(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Tw(o),a.contentQueries(2,e[s],s)}}}finally{it(i)}}}function Qm(n,e){return n[Ih]?n[gT][Vr]=e:n[Ih]=e,n[gT]=e,e}function Pv(n,e,t){Tw(0);let i=it(null);try{e(n,t)}finally{it(i)}}function NA(n){return n[am]??=[]}function PA(n){return n.cleanup??=[]}function kA(n,e){let t=n[Pu],i=t?t.get(gs,null):null;i&&i.handleError(e)}function qw(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],h=e[s],y=n.data[s];DA(y,h,i,a,c,r)}}function FA(n,e,t){let i=IS(e,n);JV(n[Kt],i,t)}function BB(n,e){let t=Ra(e,n),i=t[Ve];jB(i,t);let r=t[ws];r!==null&&t[Nu]===null&&(t[Nu]=kw(r,t[Pu])),Ww(i,t,t[qn])}function jB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ww(n,e,t){Sw(e);try{let i=n.viewQuery;i!==null&&Pv(1,i,t);let r=n.template;r!==null&&SA(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ms]?.finishViewCreation(n),n.staticContentQueries&&OA(n,e),n.staticViewQueries&&Pv(2,n.viewQuery,t);let o=n.components;o!==null&&UB(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ke]&=-5,Aw()}}function UB(n,e){for(let t=0;t<e.length;t++)BB(n,e[t])}function xh(n,e,t,i){let r=it(null);try{let o=e.tView,a=n[ke]&4096?4096:16,c=Km(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),h=n[e.index];c[Bl]=h;let y=n[ms];return y!==null&&(c[ms]=y.createEmbeddedView(o)),Ww(o,c,t),c}finally{it(r)}}function LA(n,e){let t=Wn+e;if(t<n.length)return n[t]}function Fu(n,e){return!e||e.firstChild===null||tA(n)}function Rh(n,e,t,i=!0){let r=e[Ve];if(nB(r,e,n,t),i){let s=Ov(t,n),a=e[Kt],c=_A(a,n[jl]);c!==null&&eB(r,n[Ni],a,e,c,s)}let o=e[Nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function VA(n,e){let t=Dh(n,e);return t!==void 0&&qm(t[Ve],t),t}function ym(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(_o(o)),bs(o)&&$B(o,i);let s=t.type;if(s&8)ym(n,e,t.child,i);else if(s&32){let a=Lw(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=vA(e,t);if(Array.isArray(a))i.push(...a);else{let c=Ul(e[or]);ym(c[Ve],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function $B(n,e){for(let t=Wn;t<n.length;t++){let i=n[t],r=i[Ve].firstChild;r!==null&&ym(i[Ve],i,r,e)}n[jl]!==n[ws]&&e.push(n[jl])}var BA=[];function HB(n){return n[Ir]??GB(n)}function GB(n){let e=BA.pop()??Object.create(qB);return e.lView=n,e}function zB(n){n.lView[Ir]!==n&&(n.lView=null,BA.push(n))}var qB=Ze(ie({},gh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Vm(n.lView)},consumerOnSignalRead(){this.lView[Ir]=this}});function WB(n){let e=n[Ir]??Object.create(YB);return e.lView=n,e}var YB=Ze(ie({},gh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ul(n.lView);for(;e&&!jA(e[Ve]);)e=Ul(e);e&&SS(e)},consumerOnSignalRead(){this.lView[Ir]=this}});function jA(n){return n.type!==2}var KB=100;function UA(n,e=!0,t=0){let i=n[go],r=i.rendererFactory,o=!1;o||r.begin?.();try{QB(n,t)}catch(s){throw e&&kA(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function QB(n,e){let t=NS();try{yT(!0),kv(n,e);let i=0;for(;Lm(n);){if(i===KB)throw new be(103,!1);i++,kv(n,1)}}finally{yT(t)}}function JB(n,e,t,i){let r=e[ke];if((r&256)===256)return;let o=!1,s=!1;!o&&e[go].inlineEffectRunner?.flush(),Sw(e);let a=!0,c=null,h=null;o||(jA(n)?(h=HB(e),c=_p(h)):CD()===null?(a=!1,h=WB(e),c=_p(h)):e[Ir]&&(Dy(e[Ir]),e[Ir]=null));try{TS(e),KL(n.bindingStartIndex),t!==null&&SA(n,e,t,2,i);let y=(r&3)===3;if(!o)if(y){let x=n.preOrderCheckHooks;x!==null&&Zp(e,x,null)}else{let x=n.preOrderHooks;x!==null&&Xp(e,x,0,null),Jy(e,0)}if(s||ZB(e),$A(e,0),n.contentQueries!==null&&OA(n,e),!o)if(y){let x=n.contentCheckHooks;x!==null&&Zp(e,x)}else{let x=n.contentHooks;x!==null&&Xp(e,x,1),Jy(e,1)}pB(n,e);let _=n.components;_!==null&&GA(e,_,0);let T=n.viewQuery;if(T!==null&&Pv(2,T,i),!o)if(y){let x=n.viewCheckHooks;x!==null&&Zp(e,x)}else{let x=n.viewHooks;x!==null&&Xp(e,x,2),Jy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qy]){for(let x of e[Qy])x();e[Qy]=null}o||(e[ke]&=-73)}catch(y){throw o||Vm(e),y}finally{h!==null&&(Ey(h,c),a&&zB(h)),Aw()}}function $A(n,e){for(let t=iA(n);t!==null;t=rA(t))for(let i=Wn;i<t.length;i++){let r=t[i];HA(r,e)}}function ZB(n){for(let e=iA(n);e!==null;e=rA(e)){if(!(e[ke]&cm.HasTransplantedViews))continue;let t=e[ku];for(let i=0;i<t.length;i++){let r=t[i];SS(r)}}}function XB(n,e,t){let i=Ra(e,n);HA(i,t)}function HA(n,e){bw(n)&&kv(n,e)}function kv(n,e){let i=n[Ve],r=n[ke],o=n[Ir],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Iy(o)),s||=!1,o&&(o.dirty=!1),n[ke]&=-9217,s)JB(i,n,i.template,n[qn]);else if(r&8192){$A(n,1);let a=i.components;a!==null&&GA(n,a,1)}}function GA(n,e,t){for(let i=0;i<e.length;i++)XB(n,e[i],t)}function Yw(n,e){let t=NS()?64:1088;for(n[go].changeDetectionScheduler?.notify(e);n;){n[ke]|=t;let i=Ul(n);if(_v(n)&&!i)return n;n=i}return null}var zl=class{get rootNodes(){let e=this._lView,t=e[Ve];return ym(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qn]}set context(e){this._lView[qn]=e}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Yn];if(bs(e)){let t=e[lm],i=t?t.indexOf(this):-1;i>-1&&(Dh(e,i),om(t,i))}this._attachedToViewContainer=!1}qm(this._lView[Ve],this._lView)}onDestroy(e){AS(this._lView,e)}markForCheck(){Yw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ke]&=-129}reattach(){vv(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,UA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_v(this._lView),t=this._lView[Bl];t!==null&&!e&&Vw(t,this._lView),fA(this._lView[Ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e;let t=_v(this._lView),i=this._lView[Bl];i!==null&&!t&&pA(i,this._lView),vv(this._lView)}},ys=(()=>{class n{static{this.__NG_ELEMENT_ID__=nj}}return n})(),ej=ys,tj=class extends ej{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=xh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new zl(r)}};function nj(){return Jm(Qn(),qe())}function Jm(n,e){return n.type&4?new tj(e,n,Gu(n,e)):null}var Ote=new RegExp(`^(\\d+)*(${FV}|${kV})*(.*)`);var ij=()=>null;function Lu(n,e){return ij(n,e)}var Vu=class{},Zm=new ue("",{providedIn:"root",factory:()=>!1});var zA=new ue(""),qA=new ue(""),Fv=class{},vm=class{};function rj(n){let e=Error(`No component factory found for ${mi(n)}.`);return e[oj]=n,e}var oj="ngComponent";var Lv=class{resolveComponentFactory(e){throw rj(e)}},Bu=class{static{this.NULL=new Lv}},ju=class{},jr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>sj()}}return n})();function sj(){let n=qe(),e=Qn(),t=Ra(e.index,n);return(Da(t)?t:n)[Kt]}var aj=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}}return n})();function wm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=cv(r,a);else if(o==2){let c=a,h=e[++s];i=cv(i,c+": "+h+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var bm=class extends Bu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ps(e);return new ql(t,this.ngModule)}};function OT(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ta.None;e?t.push({propName:s,templateName:i,isSignal:(a&Ta.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function lj(n){let e=n.toLowerCase();return e==="svg"?kL:e==="math"?FL:null}var ql=class extends vm{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=OT(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return OT(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=it(null);try{r=r||this.ngModule;let s=r instanceof xn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bv(e,s):e,c=a.get(ju,null);if(c===null)throw new be(407,!1);let h=a.get(aj,null),y=a.get(Vu,null),_={rendererFactory:c,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:y},T=c.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=i?_B(T,i,this.componentDef.encapsulation,a):hA(T,x,lj(x)),G=512;this.componentDef.signals?G|=4096:this.componentDef.onPush||(G|=16);let $=null;k!==null&&($=kw(k,a,!0));let Z=Hw(0,null,null,1,0,null,null,null,null,null,null),fe=Km(null,Z,null,G,null,null,_,T,a,null,$);Sw(fe);let se,ve,Ne=null;try{let me=this.componentDef,V,R=null;me.findHostDirectiveDefs?(V=[],R=new Map,me.findHostDirectiveDefs(me,V,R),V.push(me)):V=[me];let O=cj(fe,k);Ne=uj(O,k,me,V,fe,_,T),ve=ww(Z,Bn),k&&fj(T,me,k,i),t!==void 0&&pj(ve,this.ngContentSelectors,t),se=hj(Ne,me,V,R,fe,[mj]),Ww(Z,fe,null)}catch(me){throw Ne!==null&&xv(Ne),xv(fe),me}finally{Aw()}return new Vv(this.componentType,se,Gu(ve,fe),fe,ve)}finally{it(o)}}},Vv=class extends Fv{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zl(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;qw(o[Ve],o,r,e,t),this.previousInputValues.set(e,t);let s=Ra(this._tNode.index,o);Yw(s,1)}}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cj(n,e){let t=n[Ve],i=Bn;return n[i]=e,qu(t,i,2,"#host",null)}function uj(n,e,t,i,r,o,s){let a=r[Ve];dj(i,n,e,s);let c=null;e!==null&&(c=kw(e,r[Pu]));let h=o.rendererFactory.createRenderer(e,t),y=16;t.signals?y=4096:t.onPush&&(y=64);let _=Km(r,AA(t),null,y,r[n.index],n,o,h,null,null,c);return a.firstCreatePass&&Nv(a,n,i.length-1),Qm(r,_),r[n.index]=_}function dj(n,e,t,i){for(let r of n)e.mergedAttrs=Ch(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(wm(e,e.mergedAttrs,!0),t!==null&&CA(i,t,e))}function hj(n,e,t,i,r,o){let s=Qn(),a=r[Ve],c=Tr(s,r);MA(a,r,s,t,null,i);for(let y=0;y<t.length;y++){let _=s.directiveStart+y,T=Gl(r,a,_,s);Ma(T,r)}xA(a,r,s),c&&Ma(c,r);let h=Gl(r,a,s.directiveStart+s.componentOffset,s);if(n[qn]=r[qn]=h,o!==null)for(let y of o)y(h,e);return jw(a,s,r),h}function fj(n,e,t,i){if(i)fv(n,t,["ng-version","18.2.10"]);else{let{attrs:r,classes:o}=gL(e.selectors[0]);r&&fv(n,t,r),o&&o.length>0&&bA(n,t,o.join(" "))}}function pj(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function mj(){let n=Qn();$m(qe()[Ve],n)}var Es=(()=>{class n{static{this.__NG_ELEMENT_ID__=gj}}return n})();function gj(){let n=Qn();return YA(n,qe())}var _j=Es,WA=class extends _j{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mw(this._hostTNode,this._hostLView);if($S(e)){let t=dm(e,this._hostLView),i=um(e),r=t[Ve].data[i+8];return new Ll(r,t)}else return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=NT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Lu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Fu(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!RL(e),a;if(s)a=t;else{let k=t||{};a=k.index,i=k.injector,r=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef}let c=s?e:new ql(ps(e)),h=i||this.parentInjector;if(!o&&c.ngModule==null){let G=(s?h:this.parentInjector).get(xn,null);G&&(o=G)}let y=ps(c.componentType??{}),_=Lu(this._lContainer,y?.id??null),T=_?.firstChild??null,x=c.create(h,r,T,o);return this.insertImpl(x.hostView,a,Fu(this._hostTNode,_)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(VL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Yn],h=new WA(c,c[Ni],c[Yn]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Rh(s,r,o,i),e.attachToViewContainerRef(),XT(nv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=NT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Dh(this._lContainer,t);i&&(om(nv(this._lContainer),t),qm(i[Ve],i))}detach(e){let t=this._adjustIndex(e,-1),i=Dh(this._lContainer,t);return i&&om(nv(this._lContainer),t)!=null?new zl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function NT(n){return n[lm]}function nv(n){return n[lm]||(n[lm]=[])}function YA(n,e){let t,i=e[n.index];return bs(i)?t=i:(t=RA(i,e,null,n),e[n.index]=t,Qm(e,t)),vj(t,e,n,i),new WA(t,n,e)}function yj(n,e){let t=n[Kt],i=t.createComment(""),r=Tr(e,n),o=_A(t,r);return _m(t,o,i,sB(t,r),!1),i}var vj=Cj,wj=()=>!1;function bj(n,e,t){return wj(n,e,t)}function Cj(n,e,t,i){if(n[jl])return;let r;t.type&8?r=_o(i):r=yj(e,t),n[jl]=r}var Bv=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},jv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Kw(e,t).matches!==null&&this.queries[t].setDirty()}},Uv=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=xj(e):this.predicate=e}},$v=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hv=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,Ej(t,o)),this.matchTNodeWithReadOption(e,t,em(t,e,o,!1,!1))}else i===ys?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,em(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===dn||r===Es||r===ys&&t.type&4)this.addMatch(t.index,-2);else{let o=em(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Ej(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Ij(n,e){return n.type&11?Gu(n,e):n.type&4?Jm(n,e):null}function Dj(n,e,t,i){return t===-1?Ij(e,n):t===-2?Tj(n,e,i):Gl(n,n[Ve],t,e)}function Tj(n,e,t){if(t===dn)return Gu(e,n);if(t===ys)return Jm(e,n);if(t===Es)return YA(e,n)}function KA(n,e,t,i){let r=e[ms].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let h=s[c];if(h<0)a.push(null);else{let y=o[h];a.push(Dj(e,y,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function Gv(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=KA(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let h=o[a+1],y=e[-c];for(let _=Wn;_<y.length;_++){let T=y[_];T[Bl]===T[Yn]&&Gv(T[Ve],T,h,i)}if(y[ku]!==null){let _=y[ku];for(let T=0;T<_.length;T++){let x=_[T];Gv(x[Ve],x,h,i)}}}}}return i}function Sj(n,e){return n[ms].queries[e].queryList}function Aj(n,e,t){let i=new Mv((t&4)===4);return wB(n,e,i,i.destroy),(e[ms]??=new jv).queries.push(new Bv(i))-1}function Mj(n,e,t){let i=Xt();return i.firstCreatePass&&(Rj(i,new Uv(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),Aj(i,qe(),e)}function xj(n){return n.split(",").map(e=>e.trim())}function Rj(n,e,t){n.queries===null&&(n.queries=new $v),n.queries.track(new Hv(e,t))}function Kw(n,e){return n.queries.getByIndex(e)}function Oj(n,e){let t=n[Ve],i=Kw(t,e);return i.crossesNgTemplate?Gv(t,n,e,[]):KA(t,n,i,e)}var PT=new Set;function Is(n){PT.has(n)||(PT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Nj(n){return typeof n=="function"&&n[us]!==void 0}function Wu(n,e){Is("NgSignals");let t=ND(n),i=t[us];return e?.equal&&(i.equal=e.equal),t.set=r=>Ty(i,r),t.update=r=>PD(i,r),t.asReadonly=Pj.bind(t),t}function Pj(){let n=this[us];if(n.readonlyFn===void 0){let e=()=>this();e[us]=n,n.readonlyFn=e}return n.readonlyFn}function QA(n){return Nj(n)&&typeof n.set=="function"}function kj(n){return Object.getPrototypeOf(n.prototype).constructor}function Jn(n){let e=kj(n.type),t=!0,i=[n];for(;e;){let r;if(Sa(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new be(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Yp(n.inputs),s.inputTransforms=Yp(n.inputTransforms),s.declaredInputs=Yp(n.declaredInputs),s.outputs=Yp(n.outputs);let a=r.hostBindings;a&&jj(n,a);let c=r.viewQuery,h=r.contentQueries;if(c&&Vj(n,c),h&&Bj(n,h),Fj(n,r),PF(n.outputs,r.outputs),Sa(r)&&r.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Jn&&(t=!1)}}e=Object.getPrototypeOf(e)}Lj(i)}function Fj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Lj(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ch(r.hostAttrs,t=Ch(t,r.hostAttrs))}}function Yp(n){return n===xu?{}:n===Ri?[]:n}function Vj(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function Bj(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function jj(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Qw(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var xa=class{},Th=class{};var zv=class extends xa{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bm(this);let o=uS(e);this._bootstrapComponents=dA(o.bootstrap),this._r3Injector=JS(e,t,[{provide:xa,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver},...i],mi(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qv=class extends Th{constructor(e){super(),this.moduleType=e}create(e){return new zv(this.moduleType,e,[])}};var Cm=class extends xa{constructor(e){super(),this.componentFactoryResolver=new bm(this),this.instance=null;let t=new Eh([...e.providers,{provide:xa,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver}],e.parent||Nm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xm(n,e,t=null){return new Cm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function JA(n){return $j(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Uj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function $j(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ZA(n,e,t){return n[e]=t}function Hj(n,e){return n[e]}function Br(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Gj(n,e,t,i){let r=Br(n,e,t);return Br(n,e+1,i)||r}function zj(n){return(n.flags&32)===32}function qj(n,e,t,i,r,o,s,a,c){let h=e.consts,y=qu(e,n,4,s||null,a||null);zw(e,t,y,Aa(h,c)),$m(e,y);let _=y.tView=Hw(2,y,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,y),_.queries=e.queries.embeddedTView(y)),y}function Em(n,e,t,i,r,o,s,a,c,h){let y=t+Bn,_=e.firstCreatePass?qj(y,e,n,i,r,o,s,a,c):e.data[y];Yl(_,!1);let T=Wj(e,n,_,t);jm()&&Wm(e,n,T,_),Ma(T,n);let x=RA(T,n,T,_);return n[y]=x,Qm(n,x),bj(x,_,n),Fm(_)&&Uw(e,n,_),c!=null&&$w(n,_,h),_}function X(n,e,t,i,r,o,s,a){let c=qe(),h=Xt(),y=Aa(h.consts,o);return Em(c,h,n,e,t,i,r,y,s,a),X}var Wj=Yj;function Yj(n,e,t,i){return Um(!0),e[Kt].createComment("")}var fs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fs||{}),XA=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Wv=class n{constructor(){this.ngZone=K(Ke),this.scheduler=K(Vu),this.errorHandler=K(gs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[fs.EarlyRead,fs.Write,fs.MixedReadWrite,fs.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}},Yv=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Yu(n,e){!e?.injector&&xL(Yu);let t=e?.injector??K(kt);return YV(t)?(Is("NgAfterNextRender"),Qj(n,t,e,!0)):Jj}function Kj(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Qj(n,e,t,i){let r=e.get(XA);r.impl??=e.get(Wv);let o=t?.phase??fs.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Gm):null,a=new Yv(r.impl,Kj(n,o),i,s);return r.impl.register(a),a}var Jj={destroy(){}};function vo(n,e,t,i){let r=qe(),o=Hu();if(Br(r,o,e)){let s=Xt(),a=Bm();kB(a,r,n,e,t,i)}return vo}function eM(n,e,t,i){return Br(n,Hu(),t)?e+Mu(t)+i:Fi}function Zj(n,e,t,i,r,o){let s=YL(),a=Gj(n,s,t,r);return Dw(2),a?e+Mu(t)+i+Mu(r)+o:Fi}function Kp(n,e){return n<<17|e<<2}function Wl(n){return n>>17&32767}function Xj(n){return(n&2)==2}function eU(n,e){return n&131071|e<<17}function Kv(n){return n|2}function Uu(n){return(n&131068)>>2}function iv(n,e){return n&-131069|e<<2}function tU(n){return(n&1)===1}function Qv(n){return n|1}function nU(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Wl(s),c=Uu(s);n[i]=t;let h=!1,y;if(Array.isArray(t)){let _=t;y=_[1],(y===null||Mh(_,y)>0)&&(h=!0)}else y=t;if(r)if(c!==0){let T=Wl(n[a+1]);n[i+1]=Kp(T,a),T!==0&&(n[T+1]=iv(n[T+1],i)),n[a+1]=eU(n[a+1],i)}else n[i+1]=Kp(a,0),a!==0&&(n[a+1]=iv(n[a+1],i)),a=i;else n[i+1]=Kp(c,0),a===0?a=i:n[c+1]=iv(n[c+1],i),c=i;h&&(n[i+1]=Kv(n[i+1])),kT(n,y,i,!0),kT(n,y,i,!1),iU(e,y,n,i,o),s=Kp(a,c),o?e.classBindings=s:e.styleBindings=s}function iU(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Mh(o,e)>=0&&(t[i+1]=Qv(t[i+1]))}function kT(n,e,t,i){let r=n[t+1],o=e===null,s=i?Wl(r):Uu(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],h=n[s+1];rU(c,e)&&(a=!0,n[s+1]=i?Qv(h):Kv(h)),s=i?Wl(h):Uu(h)}a&&(n[t+1]=i?Kv(r):Qv(r))}function rU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Mh(n,e)>=0:!1}var Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oU(n){return n.substring(Lr.key,Lr.keyEnd)}function sU(n){return aU(n),tM(n,nM(n,0,Lr.textEnd))}function tM(n,e){let t=Lr.textEnd;return t===e?-1:(e=Lr.keyEnd=lU(n,Lr.key=e,t),nM(n,e,t))}function aU(n){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=n.length}function nM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function lU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Y(n,e,t){let i=qe(),r=Hu();if(Br(i,r,e)){let o=Xt(),s=Bm();Gw(o,s,i,n,e,i[Kt],t,!1)}return Y}function Jv(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";qw(n,t,o[s],s,i)}function wo(n,e,t){return iM(n,e,t,!1),wo}function Kl(n,e){return iM(n,e,null,!0),Kl}function eg(n){uU(gU,cU,n,!0)}function cU(n,e){for(let t=sU(e);t>=0;t=tM(e,t))mw(n,oU(e),!0)}function iM(n,e,t,i){let r=qe(),o=Xt(),s=Dw(2);if(o.firstUpdatePass&&oM(o,n,s,i),e!==Fi&&Br(r,s,e)){let a=o.data[Cs()];sM(o,a,r,r[Kt],n,r[s+1]=yU(e,t),i,s)}}function uU(n,e,t,i){let r=Xt(),o=Dw(2);r.firstUpdatePass&&oM(r,null,o,i);let s=qe();if(t!==Fi&&Br(s,o,t)){let a=r.data[Cs()];if(aM(a,i)&&!rM(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=cv(c,t||"")),Jv(r,a,s,t,i)}else _U(r,a,s,s[Kt],s[o+1],s[o+1]=mU(n,e,t),i,o)}}function rM(n,e){return e>=n.expandoStartIndex}function oM(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Cs()],s=rM(n,t);aM(o,i)&&e===null&&!s&&(e=!1),e=dU(r,o,e,i),nU(r,o,e,t,s,i)}}function dU(n,e,t,i){let r=XL(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=rv(null,n,e,t,i),t=Sh(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=rv(r,n,e,t,i),o===null){let c=hU(n,e,i);c!==void 0&&Array.isArray(c)&&(c=rv(null,n,e,c[1],i),c=Sh(c,e.attrs,i),fU(n,e,i,c))}else o=pU(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function hU(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Uu(i)!==0)return n[Wl(i)]}function fU(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Wl(r)]=i}function pU(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Sh(i,s,t)}return Sh(i,e.attrs,t)}function rv(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Sh(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Sh(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function mU(n,e,t){if(t==null||t==="")return Ri;let i=[],r=zu(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function gU(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&mw(n,i,t)}function _U(n,e,t,i,r,o,s,a){r===Fi&&(r=Ri);let c=0,h=0,y=0<r.length?r[0]:null,_=0<o.length?o[0]:null;for(;y!==null||_!==null;){let T=c<r.length?r[c+1]:void 0,x=h<o.length?o[h+1]:void 0,k=null,G;y===_?(c+=2,h+=2,T!==x&&(k=_,G=x)):_===null||y!==null&&y<_?(c+=2,k=y):(h+=2,k=_,G=x),k!==null&&sM(n,e,t,i,k,G,s,a),y=c<r.length?r[c]:null,_=h<o.length?o[h]:null}}function sM(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,h=c[a+1],y=tU(h)?FT(c,e,t,r,Uu(h),s):void 0;if(!Im(y)){Im(o)||Xj(h)&&(o=FT(c,null,t,r,a,s));let _=IS(Cs(),t);hB(i,s,_,r,o)}}function FT(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],h=Array.isArray(c),y=h?c[1]:c,_=y===null,T=t[r+1];T===Fi&&(T=_?Ri:void 0);let x=_?Yy(T,i):y===i?T:void 0;if(h&&!Im(x)&&(x=Yy(c,i)),Im(x)&&(a=x,s))return a;let k=n[r+1];r=s?Wl(k):Uu(k)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Yy(c,i))}return a}function Im(n){return n!==void 0}function yU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=mi(zu(n)))),n}function aM(n,e){return(n.flags&(e?8:16))!==0}var Zv=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function ov(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function vU(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let h=n.at(o),y=e[o],_=ov(o,h,o,y,t);if(_!==0){_<0&&n.updateValue(o,y),o++;continue}let T=n.at(s),x=e[c],k=ov(s,T,c,x,t);if(k!==0){k<0&&n.updateValue(s,x),s--,c--;continue}let G=t(o,h),$=t(s,T),Z=t(o,y);if(Object.is(Z,$)){let fe=t(c,x);Object.is(fe,G)?(n.swap(o,s),n.updateValue(s,x),c--,s--):n.move(s,o),n.updateValue(o,y),o++;continue}if(i??=new Dm,r??=VT(n,o,s,t),Xv(n,i,o,Z))n.updateValue(o,y),o++,s++;else if(r.has(Z))i.set(G,n.detach(o)),s--;else{let fe=n.create(o,e[o]);n.attach(o,fe),o++,s++}}for(;o<=c;)LT(n,i,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),h=c.next();for(;!h.done&&o<=s;){let y=n.at(o),_=h.value,T=ov(o,y,o,_,t);if(T!==0)T<0&&n.updateValue(o,_),o++,h=c.next();else{i??=new Dm,r??=VT(n,o,s,t);let x=t(o,_);if(Xv(n,i,o,x))n.updateValue(o,_),o++,s++,h=c.next();else if(!r.has(x))n.attach(o,n.create(o,_)),o++,s++,h=c.next();else{let k=t(o,y);i.set(k,n.detach(o)),s--}}}for(;!h.done;)LT(n,i,t,n.length,h.value),h=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function Xv(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function LT(n,e,t,i,r){if(Xv(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function VT(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Dm=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function $e(n,e){Is("NgControlFlow");let t=qe(),i=Hu(),r=t[i]!==Fi?t[i]:-1,o=r!==-1?Tm(t,Bn+r):void 0,s=0;if(Br(t,i,n)){let a=it(null);try{if(o!==void 0&&VA(o,s),n!==-1){let c=Bn+n,h=Tm(t,c),y=iw(t[Ve],c),_=Lu(h,y.tView.ssrId),T=xh(t,y,e,{dehydratedView:_});Rh(h,T,s,Fu(y,_))}}finally{it(a)}}else if(o!==void 0){let a=LA(o,s);a!==void 0&&(a[qn]=e)}}var ew=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Wn}};var tw=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Jw(n,e,t,i,r,o,s,a,c,h,y,_,T){Is("NgControlFlow");let x=qe(),k=Xt(),G=c!==void 0,$=qe(),Z=a?s.bind($[or][qn]):s,fe=new tw(G,Z);$[Bn+n]=fe,Em(x,k,n+1,e,t,i,r,Aa(k.consts,o)),G&&Em(x,k,n+2,c,h,y,_,Aa(k.consts,T))}var nw=class extends Zv{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Wn}at(e){return this.getLView(e)[qn].$implicit}attach(e,t){let i=t[Nu];this.needsIndexUpdate||=e!==this.length,Rh(this.lContainer,t,e,Fu(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,wU(this.lContainer,e)}create(e,t){let i=Lu(this.lContainer,this.templateTNode.tView.ssrId),r=xh(this.hostLView,this.templateTNode,new ew(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){qm(e[Ve],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[qn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[qn].$index=e}getLView(e){return bU(this.lContainer,e)}};function Zw(n){let e=it(null),t=Cs();try{let i=qe(),r=i[Ve],o=i[t],s=t+1,a=Tm(i,s);if(o.liveCollection===void 0){let h=iw(r,s);o.liveCollection=new nw(a,i,h)}else o.liveCollection.reset();let c=o.liveCollection;if(vU(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let h=Hu(),y=c.length===0;if(Br(i,h,y)){let _=t+2,T=Tm(i,_);if(y){let x=iw(r,_),k=Lu(T,x.tView.ssrId),G=xh(i,x,void 0,{dehydratedView:k});Rh(T,G,0,Fu(x,k))}else VA(T,0)}}}finally{it(e)}}function Tm(n,e){return n[e]}function wU(n,e){return Dh(n,e)}function bU(n,e){return LA(n,e)}function iw(n,e){return ww(n,e)}function CU(n,e,t,i,r,o){let s=e.consts,a=Aa(s,r),c=qu(e,n,2,i,a);return zw(e,t,c,Aa(s,o)),c.attrs!==null&&wm(c,c.attrs,!1),c.mergedAttrs!==null&&wm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function E(n,e,t,i){let r=qe(),o=Xt(),s=Bn+n,a=r[Kt],c=o.firstCreatePass?CU(s,o,r,e,t,i):o.data[s],h=EU(o,r,c,a,e,n);r[s]=h;let y=Fm(c);return Yl(c,!0),CA(a,h,c),!zj(c)&&jm()&&Wm(o,r,h,c),UL()===0&&Ma(h,r),$L(),y&&(Uw(o,r,c),jw(o,c,r)),i!==null&&$w(r,c),E}function C(){let n=Qn();Cw()?Ew():(n=n.parent,Yl(n,!1));let e=n;GL(e)&&zL(),HL();let t=Xt();return t.firstCreatePass&&($m(t,n),vw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&sV(e)&&Jv(t,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aV(e)&&Jv(t,e,qe(),e.stylesWithoutHost,!1),C}function J(n,e,t,i){return E(n,e,t,i),C(),J}var EU=(n,e,t,i,r,o)=>(Um(!0),hA(i,r,nV()));function IU(n,e,t,i,r){let o=e.consts,s=Aa(o,i),a=qu(e,n,8,"ng-container",s);s!==null&&wm(a,s,!0);let c=Aa(o,r);return zw(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function _t(n,e,t){let i=qe(),r=Xt(),o=n+Bn,s=r.firstCreatePass?IU(o,r,i,e,t):r.data[o];Yl(s,!0);let a=DU(r,i,s,n);return i[o]=a,jm()&&Wm(r,i,a,s),Ma(a,i),Fm(s)&&(Uw(r,i,s),jw(r,s,i)),t!=null&&$w(i,s),_t}function yt(){let n=Qn(),e=Xt();return Cw()?Ew():(n=n.parent,Yl(n,!1)),e.firstCreatePass&&($m(e,n),vw(n)&&e.queries.elementEnd(n)),yt}var DU=(n,e,t,i)=>(Um(!0),ZV(e[Kt],""));function Fe(){return qe()}var Sm="en-US";var TU=Sm;function SU(n){typeof n=="string"&&(TU=n.toLowerCase().replace(/_/g,"-"))}var AU=(n,e,t)=>{};function te(n,e,t,i){let r=qe(),o=Xt(),s=Qn();return lM(o,r,r[Kt],s,n,e,i),te}function MU(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[am],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function lM(n,e,t,i,r,o,s){let a=Fm(i),h=n.firstCreatePass&&PA(n),y=e[qn],_=NA(e),T=!0;if(i.type&3||s){let G=Tr(i,e),$=s?s(G):G,Z=_.length,fe=s?ve=>s(_o(ve[i.index])):i.index,se=null;if(!s&&a&&(se=MU(n,e,r,i.index)),se!==null){let ve=se.__ngLastListenerFn__||se;ve.__ngNextListenerFn__=o,se.__ngLastListenerFn__=o,T=!1}else{o=jT(i,e,y,o),AU(G,r,o);let ve=t.listen($,r,o);_.push(o,ve),h&&h.push(r,fe,Z,Z+1)}}else o=jT(i,e,y,o);let x=i.outputs,k;if(T&&x!==null&&(k=x[r])){let G=k.length;if(G)for(let $=0;$<G;$+=2){let Z=k[$],fe=k[$+1],Ne=e[Z][fe].subscribe(o),me=_.length;_.push(o,Ne),h&&h.push(r,i.index,me,-(me+1))}}}function BT(n,e,t,i){let r=it(null);try{return fo(6,e,t),t(i)!==!1}catch(o){return kA(n,o),!1}finally{fo(7,e,t),it(r)}}function jT(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?Ra(n.index,e):e;Yw(s,5);let a=BT(e,t,i,o),c=r.__ngNextListenerFn__;for(;c;)a=BT(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function q(n=1){return tV(n)}function xU(n,e){let t=null,i=uL(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?oS(n,o,!0):fL(i,o))return r}return t}function cM(n){let e=qe()[or][Ni];if(!e.projection){let t=n?n.length:1,i=e.projection=tL(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?xU(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function uM(n,e=0,t,i,r,o){let s=qe(),a=Xt(),c=i?n+1:null;c!==null&&Em(s,a,c,i,r,o,null,t);let h=qu(a,Bn+n,16,null,t||null);h.projection===null&&(h.projection=e),Ew();let _=!s[Nu]||RS();s[or][Ni].projection[h.projection]===null&&c!==null?RU(s,a,c):_&&(h.flags&32)!==32&&uB(a,s,h)}function RU(n,e,t){let i=Bn+t,r=e.data[i],o=n[i],s=Lu(o,r.tView.ssrId),a=xh(n,r,void 0,{dehydratedView:s});Rh(o,a,0,Fu(r,s))}function Xw(n,e,t){return dM(n,"",e,"",t),Xw}function dM(n,e,t,i,r){let o=qe(),s=eM(o,e,t,i);if(s!==Fi){let a=Xt(),c=Bm();Gw(a,c,o,n,s,o[Kt],r,!1)}return dM}function Rn(n,e,t){Mj(n,e,t)}function bn(n){let e=qe(),t=Xt(),i=PS();Tw(i+1);let r=Kw(t,i);if(n.dirty&&LL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=Oj(e,i);n.reset(o,AV),n.notifyOnChanges()}return!0}return!1}function Cn(){return Sj(qe(),PS())}function OU(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function en(n){let e=WL();return DS(e,Bn+n)}function M(n,e=""){let t=qe(),i=Xt(),r=n+Bn,o=i.firstCreatePass?qu(i,r,1,e,null):i.data[r],s=NU(i,t,o,e,n);t[r]=s,jm()&&Wm(i,t,s,o),Yl(o,!1)}var NU=(n,e,t,i,r)=>(Um(!0),QV(e[Kt],i));function ge(n){return Ur("",n,""),ge}function Ur(n,e,t){let i=qe(),r=eM(i,n,e,t);return r!==Fi&&FA(i,Cs(),r),Ur}function $r(n,e,t,i,r){let o=qe(),s=Zj(o,n,e,t,i,r);return s!==Fi&&FA(o,Cs(),s),$r}function tg(n,e,t){QA(e)&&(e=e());let i=qe(),r=Hu();if(Br(i,r,e)){let o=Xt(),s=Bm();Gw(o,s,i,n,e,i[Kt],t,!1)}return tg}function eb(n,e){let t=QA(n);return t&&n.set(e),t}function ng(n,e){let t=qe(),i=Xt(),r=Qn();return lM(i,t,t[Kt],r,n,e),ng}function PU(n,e,t){let i=Xt();if(i.firstCreatePass){let r=Sa(n);rw(t,i.data,i.blueprint,r,!0),rw(e,i.data,i.blueprint,r,!1)}}function rw(n,e,t,i,r){if(n=pi(n),Array.isArray(n))for(let o=0;o<n.length;o++)rw(n[o],e,t,i,r);else{let o=Xt(),s=qe(),a=Qn(),c=Ou(n)?n:pi(n.provide),h=gS(n),y=a.providerIndexes&1048575,_=a.directiveStart,T=a.providerIndexes>>20;if(Ou(n)||!n.multi){let x=new Hl(h,r,Q),k=av(c,e,r?y:y+T,_);k===-1?(Ev(fm(a,s),o,c),sv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(x),s.push(x)):(t[k]=x,s[k]=x)}else{let x=av(c,e,y+T,_),k=av(c,e,y,y+T),G=x>=0&&t[x],$=k>=0&&t[k];if(r&&!$||!r&&!G){Ev(fm(a,s),o,c);let Z=LU(r?FU:kU,t.length,r,i,h);!r&&$&&(t[k].providerFactory=Z),sv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(Z),s.push(Z)}else{let Z=hM(t[r?k:x],h,!r&&i);sv(o,n,x>-1?x:k,Z)}!r&&i&&$&&t[k].componentProviders++}}}function sv(n,e,t,i){let r=Ou(e),o=EL(e);if(r||o){let c=(o?pi(e.useClass):e).prototype.ngOnDestroy;if(c){let h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let y=h.indexOf(t);y===-1?h.push(t,[i,c]):h[y+1].push(i,c)}else h.push(t,c)}}}function hM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function av(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function kU(n,e,t,i){return ow(this.multi,[])}function FU(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Gl(t,t[Ve],this.providerFactory.index,i);o=a.slice(0,s),ow(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ow(r,o);return o}function ow(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function LU(n,e,t,i,r){let o=new Hl(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,hM(o,r,i&&!t),o}function Li(n,e=[]){return t=>{t.providersResolver=(i,r)=>PU(i,r?r(n):n,e)}}var VU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=fS(!1,t.type),r=i.length>0?Xm([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(ye(xn))})}}return n})();function Be(n){Is("NgStandalone"),n.getStandaloneInjector=e=>e.get(VU).getOrCreateStandaloneInjector(n)}function tb(n,e,t){let i=Iw()+n,r=qe();return r[i]===Fi?ZA(r,i,t?e.call(t):e()):Hj(r,i)}function Ku(n,e,t,i){return fM(qe(),Iw(),n,e,t,i)}function BU(n,e){let t=n[e];return t===Fi?void 0:t}function fM(n,e,t,i,r,o){let s=e+t;return Br(n,s,r)?ZA(n,s+1,o?i.call(o,r):i(r)):BU(n,s+1)}function nb(n,e){let t=Xt(),i,r=n+Bn;t.firstCreatePass?(i=jU(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Vl(i.type,!0)),s,a=xi(Q);try{let c=hm(!1),h=o();return hm(c),OU(t,qe(),r,h),h}finally{xi(a)}}function jU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function ib(n,e,t){let i=n+Bn,r=qe(),o=DS(r,i);return UU(r,i)?fM(r,Iw(),e,o.transform,t,o):o.transform(t)}function UU(n,e){return n[Ve].data[e].pure}function bo(n,e){return Jm(n,e)}var vs=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},pM=new vs("18.2.10");var ig=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var mM=new ue("");function Ql(n){return!!n&&typeof n.then=="function"}function gM(n){return!!n&&typeof n.subscribe=="function"}var rg=new ue(""),_M=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=K(rg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(Ql(o))t.push(o);else if(gM(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Oh=new ue("");function $U(){OD(()=>{throw new be(600,!1)})}function HU(n){return n.isBoundToModule}var GU=10;function zU(n,e,t){try{let i=t();return Ql(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Co=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(TV),this.afterRenderManager=K(XA),this.zonelessEnabled=K(Zm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=K(Oa).hasPendingTasks.pipe(Le(t=>!t)),this._injector=K(xn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof vm;if(!this._injector.get(_M).done){let T=!r&&cS(t),x=!1;throw new be(405,x)}let s;r?s=t:s=this._injector.get(Bu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=HU(s)?void 0:this._injector.get(xa),c=i||s.selector,h=s.create(kt.NULL,[],c,a),y=h.location.nativeElement,_=h.injector.get(mM,null);return _?.registerApplication(y),h.onDestroy(()=>{this.detachView(h.hostView),tm(this.components,h),_?.unregisterApplication(y)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new be(101,!1);let t=it(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,it(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ju,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<GU;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)qU(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Lm(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;tm(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Oh,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qU(n,e,t,i){if(!t&&!Lm(n))return;UA(n,e,t&&!i?0:1)}var sw=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},og=(()=>{class n{compileModuleSync(t){return new qv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=uS(t),o=dA(r.declarations).reduce((s,a)=>{let c=ps(a);return c&&s.push(new ql(c)),s},[]);return new sw(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WU=(()=>{class n{constructor(){this.zone=K(Ke),this.changeDetectionScheduler=K(Vu),this.applicationRef=K(Co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YU=new ue("",{factory:()=>!1});function yM({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ke(Ze(ie({},wM()),{scheduleInRootZone:t})),[{provide:Ke,useFactory:n},{provide:Ru,multi:!0,useFactory:()=>{let i=K(WU,{optional:!0});return()=>i.initialize()}},{provide:Ru,multi:!0,useFactory:()=>{let i=K(KU);return()=>{i.initialize()}}},e===!0?{provide:zA,useValue:!0}:[],{provide:qA,useValue:t??ZS}]}function vM(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=yM({ngZoneFactory:()=>{let r=wM(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Is("NgZone_CoalesceEvent"),new Ke(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Oi([{provide:YU,useValue:!0},{provide:Zm,useValue:!1},i])}function wM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var KU=(()=>{class n{constructor(){this.subscription=new Jt,this.initialized=!1,this.zone=K(Ke),this.pendingTasks=K(Oa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QU=(()=>{class n{constructor(){this.appRef=K(Co),this.taskService=K(Oa),this.ngZone=K(Ke),this.zonelessEnabled=K(Zm),this.disableScheduling=K(zA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Jt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mm):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(qA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Av||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ET:XS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ET(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JU(){return typeof $localize<"u"&&$localize.locale||Sm}var sg=new ue("",{providedIn:"root",factory:()=>K(sg,Xe.Optional|Xe.SkipSelf)||JU()});var aw=new ue("");function Qp(n){return!n.moduleRef}function ZU(n){let e=Qp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ke);return t.run(()=>{Qp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(gs,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Qp(n)){let o=()=>e.destroy(),s=n.platformInjector.get(aw);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(aw);s.add(o),n.moduleRef.onDestroy(()=>{tm(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return zU(i,t,()=>{let o=e.get(_M);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(sg,Sm);if(SU(s||Sm),Qp(n)){let a=e.get(Co);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return XU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function XU(n,e){let t=n.injector.get(Co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new be(-403,!1);e.push(n)}var nm=null;function e$(n=[],e){return kt.create({name:e,providers:[{provide:Om,useValue:"platform"},{provide:aw,useValue:new Set([()=>nm=null])},...n]})}function t$(n=[]){if(nm)return nm;let e=e$(n);return nm=e,$U(),n$(e),e}function n$(n){n.get(Nw,null)?.forEach(t=>t())}var Ds=(()=>{class n{static{this.__NG_ELEMENT_ID__=i$}}return n})();function i$(n){return r$(Qn(),qe(),(n&16)===16)}function r$(n,e,t){if(km(n)&&!t){let i=Ra(n.index,e);return new zl(i,i)}else if(n.type&175){let i=e[or];return new zl(i,e)}return null}var lw=class{constructor(){}supports(e){return JA(e)}create(e){return new cw(e)}},o$=(n,e)=>e,cw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||o$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<UT(i,r,o)?t:i,a=UT(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let h=a-r,y=c-r;if(h!=y){for(let T=0;T<h;T++){let x=T<o.length?o[T]:o[T]=0,k=x+T;y<=k&&k<h&&(o[T]=x+1)}let _=s.previousIndex;o[_]=y-h}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!JA(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,Uj(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new uw(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Am),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Am),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},uw=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Am=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new dw,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function UT(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function $T(){return new rb([new lw])}var rb=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:$T})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||$T()),deps:[[n,new fw,new an]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new be(901,!1)}}return n})();function bM(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=t$(i),o=[yM({}),{provide:Vu,useExisting:QU},...t||[]],s=new Cm({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return ZU({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Jl(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Qu(n,e){Is("NgSignals");let t=MD(n);return e?.equal&&(t[us].equal=e.equal),t}function Eo(n){let e=it(null);try{return n()}finally{it(e)}}function ag(n,e){let t=ps(n),i=e.elementInjector||Nm();return new ql(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function CM(n){let e=ps(n);if(!e)return null;let t=new ql(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var AM=null;function Ss(){return AM}function MM(n){AM??=n}var lg=class{};var hn=new ue(""),ub=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(a$),providedIn:"platform"})}}return n})(),xM=new ue(""),a$=(()=>{class n extends ub{constructor(){super(),this._doc=K(hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ss().getBaseHref(this._doc)}onPopState(t){let i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function db(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function EM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Ts(n){return n&&n[0]!=="?"?"?"+n:n}var As=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(hb),providedIn:"root"})}}return n})(),RM=new ue(""),hb=(()=>{class n extends As{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return db(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Ts(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ts(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ts(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(ye(ub),ye(RM,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OM=(()=>{class n extends As{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=db(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ts(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ts(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(ye(ub),ye(RM,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),Zu=(()=>{class n{constructor(t){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=u$(EM(IM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ts(i))}normalize(t){return n.stripTrailingSlash(c$(this._basePath,IM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Ts}static{this.joinWithSlash=db}static{this.stripTrailingSlash=EM}static{this.\u0275fac=function(i){return new(i||n)(ye(As))}}static{this.\u0275prov=pe({token:n,factory:()=>l$(),providedIn:"root"})}}return n})();function l$(){return new Zu(ye(As))}function c$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function IM(n){return n.replace(/\/index.html$/,"")}function u$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function cg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ob=/\s+/,DM=[],NM=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=DM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ob):DM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ob):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(ob).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(Q(dn),Q(jr))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var sb=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},On=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new sb(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),TM(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);TM(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Q(Es),Q(ys),Q(rb))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function TM(n,e){n.context.$implicit=e.item}var Sr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ab,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Q(Es),Q(ys))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),ab=class{constructor(){this.$implicit=null,this.ngIf=null}};function SM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${mi(e)}'.`)}function d$(n,e){return new be(2100,!1)}var h$=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,PM=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw d$(n,t);return t.replace(h$,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=sS({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var Nt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({})}}return n})(),fb="browser",f$="server";function ug(n){return n===fb}function dg(n){return n===f$}var kM=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>ug(K(yi))?new lb(K(hn),window):new cb})}}return n})(),lb=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=p$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function p$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var cb=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ju=class{};var Ph=class{},fg=class{},Ms=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var mb=class{encodeKey(e){return FM(e)}encodeValue(e){return FM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function m$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var g$=/%(\d[a-f0-9])/gi,_$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FM(n){return encodeURIComponent(n).replace(g$,(e,t)=>_$[t]??e)}function hg(n){return`${n}`}var Pa=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new mb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=m$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(hg):[hg(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(hg(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var gb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function y$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function LM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function VM(n){return typeof Blob<"u"&&n instanceof Blob}function BM(n){return typeof FormData<"u"&&n instanceof FormData}function v$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Nh=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(y$(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ms,this.context??=new gb,!this.params)this.params=new Pa,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||LM(this.body)||VM(this.body)||BM(this.body)||v$(this.body)?this.body:this.body instanceof Pa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BM(this.body)?null:VM(this.body)?this.body.type||null:LM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Pa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,h=e.headers||this.headers,y=e.params||this.params,_=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((T,x)=>T.set(x,e.setHeaders[x]),h)),e.setParams&&(y=Object.keys(e.setParams).reduce((T,x)=>T.set(x,e.setParams[x]),y)),new n(t,i,s,{params:y,headers:h,context:_,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},ka=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ka||{}),kh=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ms,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pg=class n extends kh{constructor(e={}){super(e),this.type=ka.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fh=class n extends kh{constructor(e={}){super(e),this.type=ka.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Na=class extends kh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},HM=200,w$=204;function pb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var b$=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Nh)o=t;else{let c;r.headers instanceof Ms?c=r.headers:c=new Ms(r.headers);let h;r.params&&(r.params instanceof Pa?h=r.params:h=new Pa({fromObject:r.params})),o=new Nh(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Ie(o).pipe(hs(c=>this.handler.handle(c)));if(t instanceof Nh||r.observe==="events")return s;let a=s.pipe(sn(c=>c instanceof Fh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Le(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Le(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Le(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Le(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Pa().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,pb(r,i))}post(t,i,r={}){return this.request("POST",t,pb(r,i))}put(t,i,r={}){return this.request("PUT",t,pb(r,i))}static{this.\u0275fac=function(i){return new(i||n)(ye(Ph))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),C$=/^\)\]\}',?\n/,E$="X-Request-URL";function jM(n){if(n.url)return n.url;let e=E$.toLocaleLowerCase();return n.headers.get(e)}var I$=(()=>{class n{constructor(){this.fetchImpl=K(_b,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=K(Ke)}handle(t){return new xe(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(yb,o=>i.error(new Na({error:o}))),()=>r.abort()})}doRequest(t,i,r){return S(this,null,function*(){let o=this.createRequestInit(t),s;try{let x=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,ie({signal:i},o)));D$(x),r.next({type:ka.Sent}),s=yield x}catch(x){r.error(new Na({error:x,status:x.status??0,statusText:x.statusText,url:t.urlWithParams,headers:x.headers}));return}let a=new Ms(s.headers),c=s.statusText,h=jM(s)??t.urlWithParams,y=s.status,_=null;if(t.reportProgress&&r.next(new pg({headers:a,status:y,statusText:c,url:h})),s.body){let x=s.headers.get("content-length"),k=[],G=s.body.getReader(),$=0,Z,fe,se=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:Ne,value:me}=yield G.read();if(Ne)break;if(k.push(me),$+=me.length,t.reportProgress){fe=t.responseType==="text"?(fe??"")+(Z??=new TextDecoder).decode(me,{stream:!0}):void 0;let V=()=>r.next({type:ka.DownloadProgress,total:x?+x:void 0,loaded:$,partialText:fe});se?se.run(V):V()}}}));let ve=this.concatChunks(k,$);try{let Ne=s.headers.get("Content-Type")??"";_=this.parseBody(t,ve,Ne)}catch(Ne){r.error(new Na({error:Ne,headers:new Ms(s.headers),status:s.status,statusText:s.statusText,url:jM(s)??t.urlWithParams}));return}}y===0&&(y=_?HM:0),y>=200&&y<300?(r.next(new Fh({body:_,headers:a,status:y,statusText:c,url:h})),r.complete()):r.error(new Na({error:_,headers:a,status:y,statusText:c,url:h}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(C$,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),_b=class{};function yb(){}function D$(n){n.then(yb,yb)}function T$(n,e){return e(n)}function S$(n,e,t){return(i,r)=>Dr(t,()=>e(i,o=>n(o,r)))}var GM=new ue(""),A$=new ue(""),M$=new ue("",{providedIn:"root",factory:()=>!0});var UM=(()=>{class n extends Ph{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=K(Oa),this.contributeToStability=K(M$)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(GM),...this.injector.get(A$,[])]));this.chain=i.reduceRight((r,o)=>S$(r,o,this.injector),T$)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ca(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(ye(fg),ye(xn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();var x$=/^\)\]\}',?\n/;function R$(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var $M=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new be(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?jt(i.\u0275loadImpl()):Ie(null)).pipe(Gn(()=>new xe(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((G,$)=>s.setRequestHeader(G,$.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let G=t.detectContentTypeHeader();G!==null&&s.setRequestHeader("Content-Type",G)}if(t.responseType){let G=t.responseType.toLowerCase();s.responseType=G!=="json"?G:"text"}let a=t.serializeBody(),c=null,h=()=>{if(c!==null)return c;let G=s.statusText||"OK",$=new Ms(s.getAllResponseHeaders()),Z=R$(s)||t.url;return c=new pg({headers:$,status:s.status,statusText:G,url:Z}),c},y=()=>{let{headers:G,status:$,statusText:Z,url:fe}=h(),se=null;$!==w$&&(se=typeof s.response>"u"?s.responseText:s.response),$===0&&($=se?HM:0);let ve=$>=200&&$<300;if(t.responseType==="json"&&typeof se=="string"){let Ne=se;se=se.replace(x$,"");try{se=se!==""?JSON.parse(se):null}catch(me){se=Ne,ve&&(ve=!1,se={error:me,text:se})}}ve?(o.next(new Fh({body:se,headers:G,status:$,statusText:Z,url:fe||void 0})),o.complete()):o.error(new Na({error:se,headers:G,status:$,statusText:Z,url:fe||void 0}))},_=G=>{let{url:$}=h(),Z=new Na({error:G,status:s.status||0,statusText:s.statusText||"Unknown Error",url:$||void 0});o.error(Z)},T=!1,x=G=>{T||(o.next(h()),T=!0);let $={type:ka.DownloadProgress,loaded:G.loaded};G.lengthComputable&&($.total=G.total),t.responseType==="text"&&s.responseText&&($.partialText=s.responseText),o.next($)},k=G=>{let $={type:ka.UploadProgress,loaded:G.loaded};G.lengthComputable&&($.total=G.total),o.next($)};return s.addEventListener("load",y),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),t.reportProgress&&(s.addEventListener("progress",x),a!==null&&s.upload&&s.upload.addEventListener("progress",k)),s.send(a),o.next({type:ka.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",y),s.removeEventListener("timeout",_),t.reportProgress&&(s.removeEventListener("progress",x),a!==null&&s.upload&&s.upload.removeEventListener("progress",k)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(ye(Ju))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),zM=new ue(""),O$="XSRF-TOKEN",N$=new ue("",{providedIn:"root",factory:()=>O$}),P$="X-XSRF-TOKEN",k$=new ue("",{providedIn:"root",factory:()=>P$}),mg=class{},F$=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cg(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(ye(hn),ye(yi),ye(N$))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function L$(n,e){let t=n.url.toLowerCase();if(!K(zM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=K(mg).getToken(),r=K(k$);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function qM(...n){let e=[b$,$M,UM,{provide:Ph,useExisting:UM},{provide:fg,useFactory:()=>K(I$,{optional:!0})??K($M)},{provide:GM,useValue:L$,multi:!0},{provide:zM,useValue:!0},{provide:mg,useClass:F$}];for(let t of n)e.push(...t.\u0275providers);return Oi(e)}var bb=class extends lg{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cb=class n extends bb{static makeCurrent(){MM(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=V$();return t==null?null:B$(t)}resetBaseElement(){Lh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cg(document.cookie,e)}},Lh=null;function V$(){return Lh=Lh||document.querySelector("base"),Lh?Lh.getAttribute("href"):null}function B$(n){return new URL(n,document.baseURI).pathname}var j$=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),Eb=new ue(""),QM=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new be(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(ye(Eb),ye(Ke))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),gg=class{constructor(e){this._doc=e}},vb="ng-app-id",JM=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dg(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${vb}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(vb),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(vb,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(ye(hn),ye(Ow),ye(Pw,8),ye(yi))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),wb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Db=/%COMP%/g,ZM="%COMP%",U$=`_nghost-${ZM}`,$$=`_ngcontent-${ZM}`,H$=!0,G$=new ue("",{providedIn:"root",factory:()=>H$});function z$(n){return $$.replace(Db,n)}function q$(n){return U$.replace(Db,n)}function XM(n,e){return e.map(t=>t.replace(Db,n))}var WM=(()=>{class n{constructor(t,i,r,o,s,a,c,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=dg(a),this.defaultRenderer=new Vh(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===mo.ShadowDom&&(i=Ze(ie({},i),{encapsulation:mo.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof _g?r.applyToHost(t):r instanceof Bh&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case mo.Emulated:o=new _g(c,h,i,this.appId,y,s,a,_);break;case mo.ShadowDom:return new Ib(c,h,t,i,s,a,this.nonce,_);default:o=new Bh(c,h,i,y,s,a,_);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(ye(QM),ye(JM),ye(Ow),ye(G$),ye(hn),ye(yi),ye(Ke),ye(Pw))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),Vh=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(wb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(YM(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(YM(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new be(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=wb[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=wb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(_s.DashCase|_s.Important)?e.style.setProperty(t,i,r&_s.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&_s.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Ss().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function YM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ib=class extends Vh{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=XM(r.id,r.styles);for(let y of h){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=y,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bh=class extends Vh{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?XM(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_g=class extends Bh{constructor(e,t,i,r,o,s,a,c){let h=r+"-"+i.id;super(e,t,i,o,s,a,c,h),this.contentAttr=z$(h),this.hostAttr=q$(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},W$=(()=>{class n extends gg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(ye(hn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),KM=["alt","control","meta","shift"],Y$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Q$=(()=>{class n extends gg{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ss().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),KM.forEach(h=>{let y=i.indexOf(h);y>-1&&(i.splice(y,1),s+=h+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=Y$[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),KM.forEach(s=>{if(s!==r){let a=K$[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(ye(hn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function ex(n,e){return bM(ie({rootComponent:n},J$(e)))}function J$(n){return{appProviders:[...n3,...n?.providers??[]],platformProviders:t3}}function Z$(){Cb.makeCurrent()}function X$(){return new gs}function e3(){return sA(document),document}var t3=[{provide:yi,useValue:fb},{provide:Nw,useValue:Z$,multi:!0},{provide:hn,useFactory:e3,deps:[]}];var n3=[{provide:Om,useValue:"root"},{provide:gs,useFactory:X$,deps:[]},{provide:Eb,useClass:W$,multi:!0,deps:[hn,Ke,yi]},{provide:Eb,useClass:Q$,multi:!0,deps:[hn]},WM,JM,QM,{provide:ju,useExisting:WM},{provide:Ju,useClass:j$,deps:[]},[]];var tx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(ye(hn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qe="primary",ef=Symbol("RouteTitle"),xb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function rd(n){return new xb(n)}function o3(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function s3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Io(n[t],e[t]))return!1;return!0}function Io(n,e){let t=n?Rb(n):void 0,i=e?Rb(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!hx(n[r],e[r]))return!1;return!0}function Rb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function fx(n){return n.length>0?n[n.length-1]:null}function Va(n){return jy(n)?n:Ql(n)?jt(Promise.resolve(n)):Ie(n)}var a3={exact:mx,subset:gx},px={exact:l3,subset:c3,ignored:()=>!0};function nx(n,e,t){return a3[t.paths](n.root,e.root,t.matrixParams)&&px[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function l3(n,e){return Io(n,e)}function mx(n,e,t){if(!Xl(n.segments,e.segments)||!wg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!mx(n.children[i],e.children[i],t))return!1;return!0}function c3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hx(n[t],e[t]))}function gx(n,e,t){return _x(n,e,e.segments,t)}function _x(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Xl(r,t)||e.hasChildren()||!wg(r,t,i))}else if(n.segments.length===t.length){if(!Xl(n.segments,t)||!wg(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!gx(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xl(n.segments,r)||!wg(n.segments,r,i)||!n.children[Qe]?!1:_x(n.children[Qe],e,o,i)}}function wg(n,e,t){return e.every((i,r)=>px[t](n[r].parameters,i.parameters))}var Rs=class{constructor(e=new bt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=rd(this.queryParams),this._queryParamMap}toString(){return h3.serialize(this)}},bt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bg(this)}},Zl=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=rd(this.parameters),this._parameterMap}toString(){return vx(this)}};function u3(n,e){return Xl(n,e)&&n.every((t,i)=>Io(t.parameters,e[i].parameters))}function Xl(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function d3(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Qe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Qe&&(t=t.concat(e(r,i)))}),t}var tf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>new od,providedIn:"root"})}}return n})(),od=class{parse(e){let t=new Nb(e);return new Rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${jh(e.root,!0)}`,i=m3(e.queryParams),r=typeof e.fragment=="string"?`#${f3(e.fragment)}`:"";return`${t}${i}${r}`}},h3=new od;function bg(n){return n.segments.map(e=>vx(e)).join("/")}function jh(n,e){if(!n.hasChildren())return bg(n);if(e){let t=n.children[Qe]?jh(n.children[Qe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Qe&&i.push(`${r}:${jh(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=d3(n,(i,r)=>r===Qe?[jh(n.children[Qe],!1)]:[`${r}:${jh(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Qe]!=null?`${bg(n)}/${t[0]}`:`${bg(n)}/(${t.join("//")})`}}function yx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return yx(n).replace(/%3B/gi,";")}function f3(n){return encodeURI(n)}function Ob(n){return yx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cg(n){return decodeURIComponent(n)}function ix(n){return Cg(n.replace(/\+/g,"%20"))}function vx(n){return`${Ob(n.path)}${p3(n.parameters)}`}function p3(n){return Object.entries(n).map(([e,t])=>`;${Ob(e)}=${Ob(t)}`).join("")}function m3(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${yg(t)}=${yg(r)}`).join("&"):`${yg(t)}=${yg(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var g3=/^[^\/()?;#]+/;function Tb(n){let e=n.match(g3);return e?e[0]:""}var _3=/^[^\/()?;=#]+/;function y3(n){let e=n.match(_3);return e?e[0]:""}var v3=/^[^=?&#]+/;function w3(n){let e=n.match(v3);return e?e[0]:""}var b3=/^[^&#]+/;function C3(n){let e=n.match(b3);return e?e[0]:""}var Nb=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Qe]=new bt(e,t)),i}parseSegment(){let e=Tb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Zl(Cg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=y3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Tb(this.remaining);r&&(i=r,this.capture(i))}e[Cg(t)]=Cg(i)}parseQueryParam(e){let t=w3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=C3(this.remaining);s&&(i=s,this.capture(i))}let r=ix(t),o=ix(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Tb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Qe]:new bt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}};function wx(n){return n.segments.length>0?new bt([],{[Qe]:n}):n}function bx(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=bx(r);if(i===Qe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new bt(n.segments,e);return E3(t)}function E3(n){if(n.numberOfChildren===1&&n.children[Qe]){let e=n.children[Qe];return new bt(n.segments.concat(e.segments),e.children)}return n}function ec(n){return n instanceof Rs}function I3(n,e,t=null,i=null){let r=Cx(n);return Ex(r,e,t,i)}function Cx(n){let e;function t(o){let s={};for(let c of o.children){let h=t(c);s[c.outlet]=h}let a=new bt(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=wx(i);return e??r}function Ex(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Sb(r,r,r,t,i);let o=D3(e);if(o.toRoot())return Sb(r,r,new bt([],{}),t,i);let s=T3(o,r,n),a=s.processChildren?Hh(s.segmentGroup,s.index,o.commands):Dx(s.segmentGroup,s.index,o.commands);return Sb(r,s.segmentGroup,a,t,i)}function Eg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qh(n){return typeof n=="object"&&n!=null&&n.outlets}function Sb(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`});let s;n===e?s=t:s=Ix(n,e,t);let a=wx(bx(s));return new Rs(a,o,r)}function Ix(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=Ix(o,e,t)}),new bt(n.segments,i)}var Ig=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Eg(i[0]))throw new be(4003,!1);let r=i.find(qh);if(r&&r!==fx(i))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function D3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ig(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,h])=>{a[c]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ig(t,e,i)}var td=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function T3(n,e,t){if(n.isAbsolute)return new td(e,!0,0);if(!t)return new td(e,!1,NaN);if(t.parent===null)return new td(t,!0,0);let i=Eg(n.commands[0])?0:1,r=t.segments.length-1+i;return S3(t,r,n.numberOfDoubleDots)}function S3(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new be(4005,!1);r=i.segments.length}return new td(i,!1,r-o)}function A3(n){return qh(n[0])?n[0].outlets:{[Qe]:n}}function Dx(n,e,t){if(n??=new bt([],{}),n.segments.length===0&&n.hasChildren())return Hh(n,e,t);let i=M3(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new bt(n.segments.slice(0,i.pathIndex),{});return o.children[Qe]=new bt(n.segments.slice(i.pathIndex),n.children),Hh(o,0,r)}else return i.match&&r.length===0?new bt(n.segments,{}):i.match&&!n.hasChildren()?Pb(n,e,t):i.match?Hh(n,0,r):Pb(n,e,t)}function Hh(n,e,t){if(t.length===0)return new bt(n.segments,{});{let i=A3(t),r={};if(Object.keys(i).some(o=>o!==Qe)&&n.children[Qe]&&n.numberOfChildren===1&&n.children[Qe].segments.length===0){let o=Hh(n.children[Qe],e,t);return new bt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Dx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new bt(n.segments,r)}}function M3(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(qh(a))break;let c=`${a}`,h=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&h&&typeof h=="object"&&h.outlets===void 0){if(!ox(c,h,s))return o;i+=2}else{if(!ox(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Pb(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(qh(o)){let c=x3(o.outlets);return new bt(i,c)}if(r===0&&Eg(t[0])){let c=n.segments[e];i.push(new Zl(c.path,rx(t[0]))),r++;continue}let s=qh(o)?o.outlets[Qe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Eg(a)?(i.push(new Zl(s,rx(a))),r+=2):(i.push(new Zl(s,{})),r++)}return new bt(i,{})}function x3(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Pb(new bt([],{}),0,i))}),e}function rx(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function ox(n,e,t){return n==t.path&&Io(e,t.parameters)}var Gh="imperative",Nn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Nn||{}),Ar=class{constructor(e,t){this.id=e,this.url=t}},sd=class extends Ar{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Nn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Do=class extends Ar{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(lr||{}),Dg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Dg||{}),xs=class extends Ar{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fa=class extends Ar{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Nn.NavigationSkipped}},Wh=class extends Ar{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tg=class extends Ar{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kb=class extends Ar{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fb=class extends Ar{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lb=class extends Ar{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vb=class extends Ar{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bb=class{constructor(e){this.route=e,this.type=Nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jb=class{constructor(e){this.route=e,this.type=Nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ub=class{constructor(e){this.snapshot=e,this.type=Nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$b=class{constructor(e){this.snapshot=e,this.type=Nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hb=class{constructor(e){this.snapshot=e,this.type=Nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gb=class{constructor(e){this.snapshot=e,this.type=Nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sg=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Nn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Yh=class{},ad=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function R3(n,e){return n.providers&&!n._injector&&(n._injector=Xm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Hr(n){return n.outlet||Qe}function O3(n,e){let t=n.filter(i=>Hr(i)===e);return t.push(...n.filter(i=>Hr(i)!==e)),t}function nf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zb=class{get injector(){return nf(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new rf(this.rootInjector),this.attachRef=null}},rf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new zb(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(ye(xn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ag=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=qb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=qb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Wb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Wb(e,this._root).map(t=>t.value)}};function qb(n,e){if(n===e.value)return e;for(let t of e.children){let i=qb(n,t);if(i)return i}return null}function Wb(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Wb(n,t);if(i.length)return i.unshift(e),i}return[]}var ar=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ed(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mg=class extends Ag{constructor(e,t){super(e),this.snapshot=t,n1(this,e)}toString(){return this.snapshot.toString()}};function Tx(n){let e=N3(n),t=new un([new Zl("",{})]),i=new un({}),r=new un({}),o=new un({}),s=new un(""),a=new La(t,i,o,s,r,Qe,n,e.root);return a.snapshot=e.root,new Mg(new ar(a,[]),e)}function N3(n){let e={},t={},i={},r="",o=new nd([],e,i,r,t,Qe,n,null,{});return new Rg("",new ar(o,[]))}var La=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Le(h=>h[ef]))??Ie(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>rd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>rd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xg(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ie(ie({},e.params),n.params),data:ie(ie({},e.data),n.data),resolve:ie(ie(ie(ie({},n.data),e.data),r?.data),n._resolvedData)}:i={params:ie({},n.params),data:ie({},n.data),resolve:ie(ie({},n.data),n._resolvedData??{})},r&&Ax(r)&&(i.resolve[ef]=r.title),i}var nd=class{get title(){return this.data?.[ef]}constructor(e,t,i,r,o,s,a,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Rg=class extends Ag{constructor(e,t){super(t),this.url=e,n1(this,t)}toString(){return Sx(this._root)}};function n1(n,e){e.value._routerState=n,e.children.forEach(t=>n1(n,t))}function Sx(n){let e=n.children.length>0?` { ${n.children.map(Sx).join(", ")} } `:"";return`${n.value}${e}`}function Ab(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Io(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Io(e.params,t.params)||n.paramsSubject.next(t.params),s3(e.url,t.url)||n.urlSubject.next(t.url),Io(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yb(n,e){let t=Io(n.params,e.params)&&u3(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Yb(n.parent,e.parent))}function Ax(n){return typeof n.title=="string"||n.title===null}var of=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=K(rf),this.location=K(Es),this.changeDetector=K(Ds),this.inputBinder=K(kg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kb(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pi]})}}return n})(),Kb=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===La?this.route:e===rf?this.childContexts:this.parent.get(e,t)}},kg=new ue(""),sx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=bu([i.queryParams,i.params,i.data]).pipe(Gn(([o,s,a],c)=>(a=ie(ie(ie({},o),s),a),c===0?Ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=CM(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function P3(n,e,t){let i=Kh(n,e._root,t?t._root:void 0);return new Mg(i,e)}function Kh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=k3(n,e,t);return new ar(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Kh(n,a)),s}}let i=F3(e.value),r=e.children.map(o=>Kh(n,o));return new ar(i,r)}}function k3(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kh(n,i,r);return Kh(n,i)})}function F3(n){return new La(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}var Qh=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Mx="ngNavigationCancelingError";function Og(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=xx(!1,lr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function xx(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Mx]=!0,t.cancellationCode=e,t}function L3(n){return Rx(n)&&ec(n.url)}function Rx(n){return!!n&&n[Mx]}var V3=(n,e,t,i)=>Le(r=>(new Qb(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Qb=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ab(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=ed(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=ed(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=ed(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=ed(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $b(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Ab(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ab(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Ng=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},id=class{constructor(e,t){this.component=e,this.route=t}};function B3(n,e,t){let i=n._root,r=e?e._root:null;return Uh(i,r,t,[i.value])}function j3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function cd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!qT(n)?n:e.get(n):i}function Uh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ed(e);return n.children.forEach(s=>{U3(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zh(a,t.getContext(s),r)),r}function U3(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$3(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ng(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Uh(n,e,a?a.children:null,i,r):Uh(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new id(a.outlet.component,s))}else s&&zh(e,a,r),r.canActivateChecks.push(new Ng(i)),o.component?Uh(n,null,a?a.children:null,i,r):Uh(n,null,t,i,r);return r}function $3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xl(n.url,e.url)||!Io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(n,e)||!Io(n.queryParams,e.queryParams);case"paramsChange":default:return!Yb(n,e)}}function zh(n,e,t){let i=ed(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?zh(s,e.children.getContext(o),t):zh(s,null,t):zh(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new id(e.outlet.component,r)):t.canDeactivateChecks.push(new id(null,r)):t.canDeactivateChecks.push(new id(null,r))}function sf(n){return typeof n=="function"}function H3(n){return typeof n=="boolean"}function G3(n){return n&&sf(n.canLoad)}function z3(n){return n&&sf(n.canActivate)}function q3(n){return n&&sf(n.canActivateChild)}function W3(n){return n&&sf(n.canDeactivate)}function Y3(n){return n&&sf(n.canMatch)}function Ox(n){return n instanceof ds||n?.name==="EmptyError"}var vg=Symbol("INITIAL_VALUE");function ld(){return Gn(n=>bu(n.map(e=>e.pipe(Er(1),Gp(vg)))).pipe(Le(e=>{for(let t of e)if(t!==!0){if(t===vg)return vg;if(t===!1||K3(t))return t}return!0}),sn(e=>e!==vg),Er(1)))}function K3(n){return ec(n)||n instanceof Qh}function Q3(n,e){return Yt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ie(Ze(ie({},t),{guardsResult:!0})):J3(s,i,r,n).pipe(Yt(a=>a&&H3(a)?Z3(i,o,n,e):Ie(a)),Le(a=>Ze(ie({},t),{guardsResult:a})))})}function J3(n,e,t,i){return jt(n).pipe(Yt(r=>i4(r.component,r.route,t,e,i)),ho(r=>r!==!0,!0))}function Z3(n,e,t,i){return jt(e).pipe(hs(r=>va(e4(r.route.parent,i),X3(r.route,i),n4(n,r.path,t),t4(n,r.route,t))),ho(r=>r!==!0,!0))}function X3(n,e){return n!==null&&e&&e(new Hb(n)),Ie(!0)}function e4(n,e){return n!==null&&e&&e(new Ub(n)),Ie(!0)}function t4(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ie(!0);let r=i.map(o=>Up(()=>{let s=nf(e)??t,a=cd(o,s),c=z3(a)?a.canActivate(e,n):Dr(s,()=>a(e,n));return Va(c).pipe(ho())}));return Ie(r).pipe(ld())}function n4(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>j3(s)).filter(s=>s!==null).map(s=>Up(()=>{let a=s.guards.map(c=>{let h=nf(s.node)??t,y=cd(c,h),_=q3(y)?y.canActivateChild(i,n):Dr(h,()=>y(i,n));return Va(_).pipe(ho())});return Ie(a).pipe(ld())}));return Ie(o).pipe(ld())}function i4(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ie(!0);let s=o.map(a=>{let c=nf(e)??r,h=cd(a,c),y=W3(h)?h.canDeactivate(n,e,t,i):Dr(c,()=>h(n,e,t,i));return Va(y).pipe(ho())});return Ie(s).pipe(ld())}function r4(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ie(!0);let o=r.map(s=>{let a=cd(s,n),c=G3(a)?a.canLoad(e,t):Dr(n,()=>a(e,t));return Va(c)});return Ie(o).pipe(ld(),Nx(i))}function Nx(n){return Oy(Zt(e=>{if(typeof e!="boolean")throw Og(n,e)}),Le(e=>e===!0))}function o4(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Ie(!0);let o=r.map(s=>{let a=cd(s,n),c=Y3(a)?a.canMatch(e,t):Dr(n,()=>a(e,t));return Va(c)});return Ie(o).pipe(ld(),Nx(i))}var Jh=class{constructor(e){this.segmentGroup=e||null}},Zh=class extends Error{constructor(e){super(),this.urlTree=e}};function Xu(n){return vu(new Jh(n))}function s4(n){return vu(new be(4e3,!1))}function a4(n){return vu(xx(!1,lr.GuardRejected))}var Jb=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ie(i);if(r.numberOfChildren>1||!r.children[Qe])return s4(`${e.redirectTo}`);r=r.children[Qe]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:h,routeConfig:y,url:_,outlet:T,params:x,data:k,title:G}=r,$=Dr(o,()=>a({params:x,data:k,queryParams:c,fragment:h,routeConfig:y,url:_,outlet:T,title:G}));if($ instanceof Rs)throw new Zh($);t=$}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Zh(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Rs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new bt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new be(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Zb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l4(n,e,t,i,r){let o=Px(n,e,t);return o.matched?(i=R3(e,i),o4(i,e,t,r).pipe(Le(s=>s===!0?o:ie({},Zb)))):Ie(o)}function Px(n,e,t){if(e.path==="**")return c4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ie({},Zb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||o3)(t,n,e);if(!r)return ie({},Zb);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?ie(ie({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function c4(n){return{matched:!0,parameters:n.length>0?fx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ax(n,e,t,i){return t.length>0&&h4(n,t,i)?{segmentGroup:new bt(e,d4(i,new bt(t,n.children))),slicedSegments:[]}:t.length===0&&f4(n,t,i)?{segmentGroup:new bt(n.segments,u4(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new bt(n.segments,n.children),slicedSegments:t}}function u4(n,e,t,i){let r={};for(let o of t)if(Fg(n,e,o)&&!i[Hr(o)]){let s=new bt([],{});r[Hr(o)]=s}return ie(ie({},i),r)}function d4(n,e){let t={};t[Qe]=e;for(let i of n)if(i.path===""&&Hr(i)!==Qe){let r=new bt([],{});t[Hr(i)]=r}return t}function h4(n,e,t){return t.some(i=>Fg(n,e,i)&&Hr(i)!==Qe)}function f4(n,e,t){return t.some(i=>Fg(n,e,i))}function Fg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function p4(n,e,t){return e.length===0&&!n.children[t]}var Xb=class{};function m4(n,e,t,i,r,o,s="emptyOnly"){return new e1(n,e,t,i,r,s,o).recognize()}var g4=31,e1=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new be(4002,`'${e.segmentGroup}'`)}recognize(){let e=ax(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Le(({children:t,rootSnapshot:i})=>{let r=new ar(i,t),o=new Rg("",r),s=I3(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new nd([],Object.freeze({}),Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Qe,t).pipe(Le(i=>({children:i,rootSnapshot:t})),wa(i=>{if(i instanceof Zh)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Jh?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Le(s=>s instanceof ar?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return jt(o).pipe(hs(s=>{let a=i.children[s],c=O3(t,s);return this.processSegmentGroup(e,c,a,s,r)}),Wy((s,a)=>(s.push(...a),s)),ba(null),qy(),Yt(s=>{if(s===null)return Xu(i);let a=kx(s);return _4(a),Ie(a)}))}processSegment(e,t,i,r,o,s,a){return jt(t).pipe(hs(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(wa(h=>{if(h instanceof Jh)return Ie(null);throw h}))),ho(c=>!!c),wa(c=>{if(Ox(c))return p4(i,r,o)?Ie(new Xb):Xu(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Hr(i)!==s&&(s===Qe||!Fg(r,o,i))?Xu(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):Xu(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:h,consumedSegments:y,positionalParamSegments:_,remainingSegments:T}=Px(t,r,o);if(!c)return Xu(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g4&&(this.allowRedirects=!1));let x=new nd(o,h,Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,lx(r),Hr(r),r.component??r._loadedComponent??null,r,cx(r)),k=xg(x,a,this.paramsInheritanceStrategy);x.params=Object.freeze(k.params),x.data=Object.freeze(k.data);let G=this.applyRedirects.applyRedirectCommands(y,r.redirectTo,_,x,e);return this.applyRedirects.lineralizeSegments(r,G).pipe(Yt($=>this.processSegment(e,i,t,$.concat(T),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=l4(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Gn(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Gn(({routes:h})=>{let y=i._loadedInjector??e,{parameters:_,consumedSegments:T,remainingSegments:x}=c,k=new nd(T,_,Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,lx(i),Hr(i),i.component??i._loadedComponent??null,i,cx(i)),G=xg(k,s,this.paramsInheritanceStrategy);k.params=Object.freeze(G.params),k.data=Object.freeze(G.data);let{segmentGroup:$,slicedSegments:Z}=ax(t,T,x,h);if(Z.length===0&&$.hasChildren())return this.processChildren(y,h,$,k).pipe(Le(se=>new ar(k,se)));if(h.length===0&&Z.length===0)return Ie(new ar(k,[]));let fe=Hr(i)===o;return this.processSegment(y,h,$,Z,fe?Qe:o,!0,k).pipe(Le(se=>new ar(k,se instanceof ar?[se]:[])))}))):Xu(t)))}getChildConfig(e,t,i){return t.children?Ie({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ie({routes:t._loadedRoutes,injector:t._loadedInjector}):r4(e,t,i,this.urlSerializer).pipe(Yt(r=>r?this.configLoader.loadChildren(e,t).pipe(Zt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):a4(t))):Ie({routes:[],injector:e})}};function _4(n){n.sort((e,t)=>e.value.outlet===Qe?-1:t.value.outlet===Qe?1:e.value.outlet.localeCompare(t.value.outlet))}function y4(n){let e=n.value.routeConfig;return e&&e.path===""}function kx(n){let e=[],t=new Set;for(let i of n){if(!y4(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=kx(i.children);e.push(new ar(i.value,r))}return e.filter(i=>!t.has(i))}function lx(n){return n.data||{}}function cx(n){return n.resolve||{}}function v4(n,e,t,i,r,o){return Yt(s=>m4(n,e,t,i,s.extractedUrl,r,o).pipe(Le(({state:a,tree:c})=>Ze(ie({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function w4(n,e){return Yt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ie(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let h of Fx(c))s.add(h);let a=0;return jt(s).pipe(hs(c=>o.has(c)?b4(c,i,n,e):(c.data=xg(c,c.parent,n).resolve,Ie(void 0))),Zt(()=>a++),Eu(1),Yt(c=>a===s.size?Ie(t):Vn))})}function Fx(n){let e=n.children.map(t=>Fx(t)).flat();return[n,...e]}function b4(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ax(r)&&(o[ef]=r.title),C4(o,n,e,i).pipe(Le(s=>(n._resolvedData=s,n.data=xg(n,n.parent,t).resolve,null)))}function C4(n,e,t,i){let r=Rb(n);if(r.length===0)return Ie({});let o={};return jt(r).pipe(Yt(s=>E4(n[s],e,t,i).pipe(ho(),Zt(a=>{if(a instanceof Qh)throw Og(new od,a);o[s]=a}))),Eu(1),Gy(o),wa(s=>Ox(s)?Vn:vu(s)))}function E4(n,e,t,i){let r=nf(e)??i,o=cd(n,r),s=o.resolve?o.resolve(e,t):Dr(r,()=>o(e,t));return Va(s)}function Mb(n){return Gn(e=>{let t=n(e);return t?jt(t).pipe(Le(()=>e)):Ie(e)})}var Lx=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Qe);return i}getResolvedTitleForRoute(t){return t.data[ef]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(I4),providedIn:"root"})}}return n})(),I4=(()=>{class n extends Lx{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(ye(tx))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),af=new ue("",{providedIn:"root",factory:()=>({})}),D4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Re({type:n,selectors:[["ng-component"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(i,r){i&1&&J(0,"router-outlet")},dependencies:[of],encapsulation:2})}}return n})();function i1(n){let e=n.children&&n.children.map(i1),t=e?Ze(ie({},n),{children:e}):ie({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qe&&(t.component=D4),t}var Xh=new ue(""),r1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(og)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Va(t.loadComponent()).pipe(Le(Vx),Zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ca(()=>{this.componentLoaders.delete(t)})),r=new pu(i,()=>new gt).pipe(fu());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ie({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=T4(i,this.compiler,t,this.onLoadEndListener).pipe(Ca(()=>{this.childrenLoaders.delete(i)})),s=new pu(o,()=>new gt).pipe(fu());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function T4(n,e,t,i){return Va(n.loadChildren()).pipe(Le(Vx),Yt(r=>r instanceof Th||Array.isArray(r)?Ie(r):jt(e.compileModuleAsync(r))),Le(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Xh,[],{optional:!0,self:!0}).flat()),{routes:s.map(i1),injector:o}}))}function S4(n){return n&&typeof n=="object"&&"default"in n}function Vx(n){return S4(n)?n.default:n}var o1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(A4),providedIn:"root"})}}return n})(),A4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bx=new ue(""),jx=new ue("");function M4(n,e,t){let i=n.get(jx),r=n.get(hn);return n.get(Ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),a=r.startViewTransition(()=>(o(),x4(n))),{onViewTransitionCreated:c}=i;return c&&Dr(n,()=>c({transition:a,from:e,to:t})),s})}function x4(n){return new Promise(e=>{Yu({read:()=>setTimeout(e)},{injector:n})})}var R4=new ue(""),s1=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=K(r1),this.environmentInjector=K(xn),this.urlSerializer=K(tf),this.rootContexts=K(rf),this.location=K(Zu),this.inputBindingEnabled=K(kg,{optional:!0})!==null,this.titleStrategy=K(Lx),this.options=K(af,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(o1),this.createViewTransition=K(Bx,{optional:!0}),this.navigationErrorHandler=K(R4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Bb(r)),i=r=>this.events.next(new jb(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Ze(ie(ie({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new un({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(o=>o.id!==0),Le(o=>Ze(ie({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Gn(o=>{let s=!1,a=!1;return Ie(o).pipe(Gn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",lr.SupersededByNewNavigation),Vn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ze(ie({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&y!=="reload"){let _="";return this.events.next(new Fa(c.id,this.urlSerializer.serialize(c.rawUrl),_,Dg.IgnoredSameUrlNavigation)),c.resolve(!1),Vn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ie(c).pipe(Gn(_=>{let T=this.transitions?.getValue();return this.events.next(new sd(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),T!==this.transitions?.getValue()?Vn:Promise.resolve(_)}),v4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=Ze(ie({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let T=new Tg(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(T)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:_,extractedUrl:T,source:x,restoredState:k,extras:G}=c,$=new sd(_,this.urlSerializer.serialize(T),x,k);this.events.next($);let Z=Tx(this.rootComponentType).snapshot;return this.currentTransition=o=Ze(ie({},c),{targetSnapshot:Z,urlAfterRedirects:T,extras:Ze(ie({},G),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,Ie(o)}else{let _="";return this.events.next(new Fa(c.id,this.urlSerializer.serialize(c.extractedUrl),_,Dg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Vn}}),Zt(c=>{let h=new kb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Le(c=>(this.currentTransition=o=Ze(ie({},c),{guards:B3(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Q3(this.environmentInjector,c=>this.events.next(c)),Zt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Og(this.urlSerializer,c.guardsResult);let h=new Fb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),sn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",lr.GuardRejected),!1)),Mb(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(Zt(h=>{let y=new Lb(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Gn(h=>{let y=!1;return Ie(h).pipe(w4(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",lr.NoDataFromResolver)}}))}),Zt(h=>{let y=new Vb(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),Mb(c=>{let h=y=>{let _=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(y.routeConfig).pipe(Zt(T=>{y.component=T}),Le(()=>{})));for(let T of y.children)_.push(...h(T));return _};return bu(h(c.targetSnapshot.root)).pipe(ba(null),Er(1))}),Mb(()=>this.afterPreactivation()),Gn(()=>{let{currentSnapshot:c,targetSnapshot:h}=o,y=this.createViewTransition?.(this.environmentInjector,c.root,h.root);return y?jt(y).pipe(Le(()=>o)):Ie(o)}),Le(c=>{let h=P3(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Ze(ie({},c),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Zt(()=>{this.events.next(new Yh)}),V3(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Er(1),Zt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Do(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),zn(this.transitionAbortSubject.pipe(Zt(c=>{throw c}))),Ca(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",lr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wa(c=>{if(a=!0,Rx(c))this.events.next(new xs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),L3(c)?this.events.next(new ad(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Wh(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let y=Dr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(y instanceof Qh){let{message:_,cancellationCode:T}=Og(this.urlSerializer,y);this.events.next(new xs(o.id,this.urlSerializer.serialize(o.extractedUrl),_,T)),this.events.next(new ad(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(h);let _=t.errorHandler(c);o.resolve(!!_)}}catch(y){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(y)}}return Vn}))}))}cancelNavigationTransition(t,i,r){let o=new xs(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function O4(n){return n!==Gh}var N4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(P4),providedIn:"root"})}}return n})(),t1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},P4=(()=>{class n extends t1{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ux=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:()=>K(k4),providedIn:"root"})}}return n})(),k4=(()=>{class n extends Ux{constructor(){super(...arguments),this.location=K(Zu),this.urlSerializer=K(tf),this.options=K(af,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(o1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof sd)this.stateMemento=this.createStateMemento();else if(t instanceof Fa)this.rawUrlTree=i.initialUrl;else if(t instanceof Tg){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Yh?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof xs&&(t.code===lr.GuardRejected||t.code===lr.NoDataFromResolver)?this.restoreHistory(i):t instanceof Wh?this.restoreHistory(i,!0):t instanceof Do&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof Rs?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=ie(ie({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=ie(ie({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$h=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($h||{});function $x(n,e){n.events.pipe(sn(t=>t instanceof Do||t instanceof xs||t instanceof Wh||t instanceof Fa),Le(t=>t instanceof Do||t instanceof Fa?$h.COMPLETE:(t instanceof xs?t.code===lr.Redirect||t.code===lr.SupersededByNewNavigation:!1)?$h.REDIRECTING:$h.FAILED),sn(t=>t!==$h.REDIRECTING),Er(1)).subscribe(()=>{e()})}function F4(n){throw n}var L4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(ig),this.stateManager=K(Ux),this.options=K(af,{optional:!0})||{},this.pendingTasks=K(Oa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(s1),this.urlSerializer=K(tf),this.location=K(Zu),this.urlHandlingStrategy=K(o1),this._events=new gt,this.errorHandler=this.options.errorHandler||F4,this.navigated=!1,this.routeReuseStrategy=K(N4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Xh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(kg,{optional:!0}),this.eventsSubscription=new Jt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xs&&i.code!==lr.Redirect&&i.code!==lr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Do)this.navigated=!0;else if(i instanceof ad){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=ie({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||O4(r.source)},s);this.scheduleNavigation(a,Gh,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}j4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=ie({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(i1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,h=c?this.currentUrlTree.fragment:s,y=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":y=ie(ie({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}y!==null&&(y=this.removeEmptyProps(y));let _;try{let T=r?r.snapshot:this.routerState.snapshot.root;_=Cx(T)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),_=this.currentUrlTree.root}return Ex(_,t,y,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=ec(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Gh,null,i)}navigate(t,i={skipLocationChange:!1}){return B4(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=ie({},L4):i===!1?r=ie({},V4):r=i,ec(t))return nx(this.currentUrlTree,t,r);let o=this.parseUrl(t);return nx(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,h;s?(a=s.resolve,c=s.reject,h=s.promise):h=new Promise((_,T)=>{a=_,c=T});let y=this.pendingTasks.add();return $x(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new be(4008,!1)}function j4(n){return!(n instanceof Yh)&&!(n instanceof ad)}var Ba=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Do&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ec(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:cA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ec(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(Q(jn),Q(La),Hm("tabindex"),Q(jr),Q(dn),Q(As))}}static{this.\u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&vo("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Jl],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Jl],replaceUrl:[2,"replaceUrl","replaceUrl",Jl],routerLink:"routerLink"},standalone:!0,features:[Qw,Pi]})}}return n})();var Pg=class{};var U4=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(sn(t=>t instanceof Do),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Xm(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return jt(r).pipe(Cu())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=Ie(null);let o=r.pipe(Yt(s=>s===null?Ie(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return jt([o,s]).pipe(Cu())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(ye(jn),ye(og),ye(xn),ye(Pg),ye(r1))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hx=new ue(""),$4=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Do?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Fa&&t.code===Dg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sg&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sg(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){IA()}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function Gx(n,...e){return Oi([{provide:Xh,multi:!0,useValue:n},[],{provide:La,useFactory:zx,deps:[jn]},{provide:Oh,multi:!0,useFactory:qx},e.map(t=>t.\u0275providers)])}function zx(n){return n.routerState.root}function lf(n,e){return{\u0275kind:n,\u0275providers:e}}function qx(){let n=K(kt);return e=>{let t=n.get(Co);if(e!==t.components[0])return;let i=n.get(jn),r=n.get(Wx);n.get(a1)===1&&i.initialNavigation(),n.get(Yx,null,Xe.Optional)?.setUpPreloading(),n.get(Hx,null,Xe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Wx=new ue("",{factory:()=>new gt}),a1=new ue("",{providedIn:"root",factory:()=>1});function H4(){return lf(2,[{provide:a1,useValue:0},{provide:rg,multi:!0,deps:[kt],useFactory:e=>{let t=e.get(xM,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(jn),o=e.get(Wx);$x(r,()=>{i(!0)}),e.get(s1).afterPreactivation=()=>(i(!0),o.closed?Ie(void 0):o),r.initialNavigation()}))}}])}function G4(){return lf(3,[{provide:rg,multi:!0,useFactory:()=>{let e=K(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:a1,useValue:2}])}var Yx=new ue("");function z4(n){return lf(0,[{provide:Yx,useExisting:U4},{provide:Pg,useExisting:n}])}function q4(){return lf(8,[sx,{provide:kg,useExisting:sx}])}function W4(n){let e=[{provide:Bx,useValue:M4},{provide:jx,useValue:ie({skipNextTransition:!!n?.skipInitialTransition},n)}];return lf(9,e)}var ux=new ue("ROUTER_FORROOT_GUARD"),Y4=[Zu,{provide:tf,useClass:od},jn,rf,{provide:La,useFactory:zx,deps:[jn]},r1,[]],ja=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Y4,[],{provide:Xh,multi:!0,useValue:t},{provide:ux,useFactory:Z4,deps:[[jn,new an,new fw]]},{provide:af,useValue:i||{}},i?.useHash?Q4():J4(),K4(),i?.preloadingStrategy?z4(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?X4(i):[],i?.bindToComponentInputs?q4().\u0275providers:[],i?.enableViewTransitions?W4().\u0275providers:[],eH()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xh,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(ye(ux,8))}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({})}}return n})();function K4(){return{provide:Hx,useFactory:()=>{let n=K(kM),e=K(Ke),t=K(af),i=K(s1),r=K(tf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new $4(r,i,n,e,t)}}}function Q4(){return{provide:As,useClass:OM}}function J4(){return{provide:As,useClass:hb}}function Z4(n){return"guarded"}function X4(n){return[n.initialNavigation==="disabled"?G4().\u0275providers:[],n.initialNavigation==="enabledBlocking"?H4().\u0275providers:[]]}var dx=new ue("");function eH(){return[{provide:dx,useFactory:qx},{provide:Oh,multi:!0,useExisting:dx}]}var Lg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[Be],decls:12,vars:0,consts:[[1,"container-fluid"],[1,"jumbotron","p-3","p-md-5","text-white","rounded"],[1,"col-md-6","px-0","texto"],[1,"display-4","font-italic"],[1,"lead","my-3"],[1,"opciones"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/opciones-registro",1,"btn","btn-danger"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),M(4,"Bienvenido al sitio web de la Clinica OnLine"),C(),E(5,"p",4),M(6,"Contamos 6 consultorios, 2 laboratorios fisicos y una sala de espera general. Estamos abiertos de Lunes a Viernes de 08:00hs a 19:00hs y los Sabados de 08:00hs a 14:00hs"),C()(),E(7,"div",5)(8,"button",6),M(9,"Ingresar"),C(),E(10,"button",7),M(11,"Registrarse"),C()()()())},dependencies:[ja,Ba],styles:[".container-fluid[_ngcontent-%COMP%]{width:100vw;height:94.5vh;background-image:url(/assets/images/hospital-bienvenida.jpg);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;align-items:center;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]{height:80%;background-color:#ffffffcb;display:flex}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c8ab3;font-size:75px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:35px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]{width:50%;display:flex;flex-wrap:wrap;justify-content:center;align-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px;width:80%;height:15%}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2c8ab3;border-color:#2c8ab3}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4190b2}"]})};var Qx=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},tH=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,h=c?n[r+2]:0,y=o>>2,_=(o&3)<<4|a>>4,T=(a&15)<<2|h>>6,x=h&63;c||(x=64,s||(T=64)),i.push(t[y],t[_],t[T],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Qx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let _=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||h==null||_==null)throw new c1;let T=o<<2|a>>4;if(i.push(T),h!==64){let x=a<<4&240|h>>2;if(i.push(x),_!==64){let k=h<<6&192|_;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},c1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nH=function(n){let e=Qx(n);return Jx.encodeByteArray(e,!0)},cf=function(n){return nH(n).replace(/\./g,"")},d1=function(n){try{return Jx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rH=()=>iH().__FIREBASE_DEFAULTS__,oH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&d1(n[1]);return e&&JSON.parse(e)},Bg=()=>{try{return rH()||oH()||sH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},h1=n=>{var e,t;return(t=(e=Bg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jg=n=>{let e=h1(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},f1=()=>{var n;return(n=Bg())===null||n===void 0?void 0:n.config},p1=n=>{var e;return(e=Bg())===null||e===void 0?void 0:e[`_${n}`]};var Vg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Ug(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cf(JSON.stringify(t)),cf(JSON.stringify(s)),""].join(".")}function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function aH(){var n;let e=(n=Bg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){let n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iR(){return!aH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var lH="FirebaseError",vi=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=lH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Os.prototype.create)}},Os=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?cH(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new vi(r,a,i)}};function cH(n,e){return n.replace(uH,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var uH=/\{\$([^}]+)}/g;function oR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tc(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Kx(o)&&Kx(s)){if(!tc(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Kx(n){return n!==null&&typeof n=="object"}function uf(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dd(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function hd(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sR(n,e){let t=new u1(n,e);return t.subscribe.bind(t)}var u1=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dH(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=l1),r.error===void 0&&(r.error=l1),r.complete===void 0&&(r.complete=l1);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function l1(){}var aie=4*60*60*1e3;function fn(n){return n&&n._delegate?n._delegate:n}var Vi=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nc="[DEFAULT]";var g1=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Vg;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fH(e))try{this.getOrInitializeService({instanceIdentifier:nc})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=nc){return this.instances.has(e)}getOptions(e=nc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hH(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=nc){return this.component?this.component.multipleInstances?e:nc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hH(n){return n===nc?void 0:n}function fH(n){return n.instantiationMode==="EAGER"}var $g=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new g1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pH=[],ot=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ot||{}),mH={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},gH=ot.INFO,_H={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},yH=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=_H[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ua=class{constructor(e){this.name=e,this._logLevel=gH,this._logHandler=yH,this._userLogHandler=null,pH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}};var vH=(n,e)=>e.some(t=>n instanceof t),aR,lR;function wH(){return aR||(aR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bH(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cR=new WeakMap,y1=new WeakMap,uR=new WeakMap,_1=new WeakMap,w1=new WeakMap;function CH(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(To(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&cR.set(t,n)}).catch(()=>{}),w1.set(e,n),e}function EH(n){if(y1.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});y1.set(n,e)}var v1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return y1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dR(n){v1=n(v1)}function IH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Hg(this),e,...t);return uR.set(i,e.sort?e.sort():[e]),To(i)}:bH().includes(n)?function(...e){return n.apply(Hg(this),e),To(cR.get(this))}:function(...e){return To(n.apply(Hg(this),e))}}function DH(n){return typeof n=="function"?IH(n):(n instanceof IDBTransaction&&EH(n),vH(n,wH())?new Proxy(n,v1):n)}function To(n){if(n instanceof IDBRequest)return CH(n);if(_1.has(n))return _1.get(n);let e=DH(n);return e!==n&&(_1.set(n,e),w1.set(e,n)),e}var Hg=n=>w1.get(n);function fR(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=To(s);return i&&s.addEventListener("upgradeneeded",c=>{i(To(s.result),c.oldVersion,c.newVersion,To(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}var TH=["get","getKey","getAll","getAllKeys","count"],SH=["put","add","delete","clear"],b1=new Map;function hR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(b1.get(e))return b1.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=SH.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||TH.includes(t)))return;let o=function(s,...a){return S(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),h=c.store;return i&&(h=h.index(a.shift())),(yield Promise.all([h[t](...a),r&&c.done]))[0]})};return b1.set(e,o),o}dR(n=>Ze(ie({},n),{get:(e,t,i)=>hR(e,t)||n.get(e,t,i),has:(e,t)=>!!hR(e,t)||n.has(e,t)}));var E1=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AH(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function AH(n){let e=n.getComponent();return e?.type==="VERSION"}var I1="@firebase/app",pR="0.10.13";var Ns=new Ua("@firebase/app"),MH="@firebase/app-compat",xH="@firebase/analytics-compat",RH="@firebase/analytics",OH="@firebase/app-check-compat",NH="@firebase/app-check",PH="@firebase/auth",kH="@firebase/auth-compat",FH="@firebase/database",LH="@firebase/data-connect",VH="@firebase/database-compat",BH="@firebase/functions",jH="@firebase/functions-compat",UH="@firebase/installations",$H="@firebase/installations-compat",HH="@firebase/messaging",GH="@firebase/messaging-compat",zH="@firebase/performance",qH="@firebase/performance-compat",WH="@firebase/remote-config",YH="@firebase/remote-config-compat",KH="@firebase/storage",QH="@firebase/storage-compat",JH="@firebase/firestore",ZH="@firebase/vertexai-preview",XH="@firebase/firestore-compat",e5="firebase",t5="10.14.1";var D1="[DEFAULT]",n5={[I1]:"fire-core",[MH]:"fire-core-compat",[RH]:"fire-analytics",[xH]:"fire-analytics-compat",[NH]:"fire-app-check",[OH]:"fire-app-check-compat",[PH]:"fire-auth",[kH]:"fire-auth-compat",[FH]:"fire-rtdb",[LH]:"fire-data-connect",[VH]:"fire-rtdb-compat",[BH]:"fire-fn",[jH]:"fire-fn-compat",[UH]:"fire-iid",[$H]:"fire-iid-compat",[HH]:"fire-fcm",[GH]:"fire-fcm-compat",[zH]:"fire-perf",[qH]:"fire-perf-compat",[WH]:"fire-rc",[YH]:"fire-rc-compat",[KH]:"fire-gcs",[QH]:"fire-gcs-compat",[JH]:"fire-fst",[XH]:"fire-fst-compat",[ZH]:"fire-vertex","fire-js":"fire-js",[e5]:"fire-js-all"};var df=new Map,i5=new Map,T1=new Map;function mR(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function So(n){let e=n.name;if(T1.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,n);for(let t of df.values())mR(t,n);for(let t of i5.values())mR(t,n);return!0}function ic(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n.settings!==void 0}var r5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Os("app","Firebase",r5);var S1=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}};var Ao=t5;function x1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:D1,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw $a.create("bad-app-name",{appName:String(r)});if(t||(t=f1()),!t)throw $a.create("no-options");let o=df.get(r);if(o){if(tc(t,o.options)&&tc(i,o.config))return o;throw $a.create("duplicate-app",{appName:r})}let s=new $g(r);for(let c of T1.values())s.addComponent(c);let a=new S1(t,i,s);return df.set(r,a),a}function Ha(n=D1){let e=df.get(n);if(!e&&n===D1&&f1())return x1();if(!e)throw $a.create("no-app",{appName:n});return e}function Gg(){return Array.from(df.values())}function Ht(n,e,t){var i;let r=(i=n5[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}So(new Vi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var o5="firebase-heartbeat-database",s5=1,hf="firebase-heartbeat-store",C1=null;function vR(){return C1||(C1=fR(o5,s5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hf)}catch(t){console.warn(t)}}}}).catch(n=>{throw $a.create("idb-open",{originalErrorMessage:n.message})})),C1}function a5(n){return S(this,null,function*(){try{let t=(yield vR()).transaction(hf),i=yield t.objectStore(hf).get(wR(n));return yield t.done,i}catch(e){if(e instanceof vi)Ns.warn(e.message);else{let t=$a.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}})}function gR(n,e){return S(this,null,function*(){try{let i=(yield vR()).transaction(hf,"readwrite");yield i.objectStore(hf).put(e,wR(n)),yield i.done}catch(t){if(t instanceof vi)Ns.warn(t.message);else{let i=$a.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(i.message)}}})}function wR(n){return`${n.name}!${n.options.appId}`}var l5=1024,c5=30*24*60*60*1e3,A1=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new M1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_R();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=c5}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ns.warn(i)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_R(),{heartbeatsToSend:i,unsentEntries:r}=u5(this._heartbeatsCache.heartbeats),o=cf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ns.warn(t),""}})}};function _R(){return new Date().toISOString().substring(0,10)}function u5(n,e=l5){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),yR(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),yR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var M1=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return m1()?rR().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield a5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return gR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return gR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function yR(n){return cf(JSON.stringify({version:2,heartbeats:n})).length}function d5(n){So(new Vi("platform-logger",e=>new E1(e),"PRIVATE")),So(new Vi("heartbeat",e=>new A1(e),"PRIVATE")),Ht(I1,pR,n),Ht(I1,pR,"esm2017"),Ht("fire-js","")}d5("");var h5="firebase",f5="10.14.1";Ht(h5,f5,"app");var Ps=new vs("ANGULARFIRE2_VERSION");function pd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var oc=(n,e)=>{let t=e?[e]:Gg(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ga=class{constructor(){return oc(p5)}},p5="app-check";function fd(){}var zg=class{zone;delegate;constructor(e,t=Vy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},R1=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fd,{},fd,fd)),t.pipe(Zt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},za=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zg(Zone.current)),this.insideAngular=t.run(()=>new zg(Zone.current,Tp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ye(Ke))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function m5(n){return qg().ngZone.runOutsideAngular(()=>n())}function rc(n){return qg().ngZone.run(()=>n())}function g5(n){return _5(qg())(n)}function _5(n){return function(t){return t=t.lift(new R1(n.ngZone)),t.pipe(ya(n.outsideAngular),_a(n.insideAngular))}}var y5=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),rc(()=>n.apply(void 0,i))},pn=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=rc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fd,{},fd,fd))),i[o]=y5(i[o],t));let r=m5(()=>n.apply(this,i));if(!e)if(r instanceof xe){let o=qg();return r.pipe(ya(o.outsideAngular),_a(o.insideAngular))}else return rc(()=>r);return r instanceof xe?r.pipe(g5):r instanceof Promise?rc(()=>new Promise((o,s)=>r.then(a=>rc(()=>o(a)),a=>rc(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:rc(()=>r)};var zr=class{constructor(e){return e}},ks=class{constructor(){return Gg()}};function v5(n){return n&&n.length===1?n[0]:new zr(Ha())}var O1=new ue("angularfire2._apps"),w5={provide:zr,useFactory:v5,deps:[[new an,O1]]},b5={provide:ks,deps:[[new an,O1]]};function C5(n){return(e,t)=>{let i=t.get(yi);Ht("angularfire",Ps.full,"core"),Ht("angularfire",Ps.full,"app"),Ht("angular",pM.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new zr(r)}}function bR(n,...e){return Oi([w5,b5,{provide:O1,useFactory:C5(n),multi:!0,deps:[Ke,kt,za,...e]}])}var CR=pn(x1,!0);function BR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jR=BR,UR=new Os("auth","Firebase",BR());var Zg=new Ua("@firebase/auth");function E5(n,...e){Zg.logLevel<=ot.WARN&&Zg.warn(`Auth (${Ao}): ${n}`,...e)}function Yg(n,...e){Zg.logLevel<=ot.ERROR&&Zg.error(`Auth (${Ao}): ${n}`,...e)}function xo(n,...e){throw tC(n,...e)}function sc(n,...e){return tC(n,...e)}function $R(n,e,t){let i=Object.assign(Object.assign({},jR()),{[e]:t});return new Os("auth","Firebase",i).create(e,{appName:n.name})}function Vs(n){return $R(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tC(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return UR.create(n,...e)}function Ae(n,e,...t){if(!n)throw tC(e,...t)}function Fs(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Yg(e),new Error(e)}function Wa(n,e){n||Fs(e)}function F1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function I5(){return ER()==="http:"||ER()==="https:"}function ER(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function D5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||eR()||"connection"in navigator)?navigator.onLine:!0}function T5(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ac=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wa(t>e,"Short delay should be less than long delay!"),this.isMobile=Zx()||tR()}get(){return D5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nC(n,e){Wa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xg=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A5=new ac(3e4,6e4);function Bs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function js(o,s,a,c){return S(this,arguments,function*(n,e,t,i,r={}){return HR(n,r,()=>S(this,null,function*(){let h={},y={};i&&(e==="GET"?y=i:h={body:JSON.stringify(i)});let _=uf(Object.assign({key:n.config.apiKey},y)).slice(1),T=yield n._getAdditionalHeaders();T["Content-Type"]="application/json",n.languageCode&&(T["X-Firebase-Locale"]=n.languageCode);let x=Object.assign({method:e,headers:T},h);return Xx()||(x.referrerPolicy="no-referrer"),Xg.fetch()(GR(n,n.config.apiHost,t,_),x)}))})}function HR(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},S5),e);try{let r=new L1(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,h]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Wg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Wg(n,"user-disabled",s);let y=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $R(n,y,h);xo(n,y)}}catch(r){if(r instanceof vi)throw r;xo(n,"network-request-failed",{message:String(r)})}})}function wf(o,s,a,c){return S(this,arguments,function*(n,e,t,i,r={}){let h=yield js(n,e,t,i,r);return"mfaPendingCredential"in h&&xo(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function GR(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?nC(n.config,r):`${n.config.apiScheme}://${r}`}function M5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var L1=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(sc(this.auth,"network-request-failed")),A5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wg(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=sc(n,e,i);return r.customData._tokenResponse=t,r}function IR(n){return n!==void 0&&n.enterprise!==void 0}var V1=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return M5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function x5(n,e){return S(this,null,function*(){return js(n,"GET","/v2/recaptchaConfig",Bs(n,e))})}function R5(n,e){return S(this,null,function*(){return js(n,"POST","/v1/accounts:delete",e)})}function zR(n,e){return S(this,null,function*(){return js(n,"POST","/v1/accounts:lookup",e)})}function ff(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iC(n,e=!1){return S(this,null,function*(){let t=fn(n),i=yield t.getIdToken(e),r=rC(i);Ae(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:ff(N1(r.auth_time)),issuedAtTime:ff(N1(r.iat)),expirationTime:ff(N1(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function N1(n){return Number(n)*1e3}function rC(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{let r=d1(t);return r?JSON.parse(r):(Yg("Failed to decode base64 JWT payload"),null)}catch(r){return Yg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function DR(n){let e=rC(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mf(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof vi&&O5(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function O5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var B1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function e_(n){return S(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield mf(n,zR(t,{idToken:i}));Ae(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qR(o.providerUserInfo):[],a=N5(n.providerData,s),c=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!a?.length,y=c?h:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,_)})}function oC(n){return S(this,null,function*(){let e=fn(n);yield e_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function N5(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function qR(n){return n.map(e=>{var{providerId:t}=e,i=By(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function P5(n,e){return S(this,null,function*(){let t=yield HR(n,{},()=>S(this,null,function*(){let i=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=GR(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xg.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function k5(n,e){return S(this,null,function*(){return js(n,"POST","/v2/accounts:revokeToken",Bs(n,e))})}var pf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");let t=DR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield P5(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fs("not implemented")}};function qa(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var md=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=By(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gf(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield mf(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return iC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield e_(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Gr(this.auth.app))return Promise.reject(Vs(this.auth));let e=yield this.getIdToken();return yield mf(this,R5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,h,y;let _=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(r=t.email)!==null&&r!==void 0?r:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=t.photoURL)!==null&&s!==void 0?s:void 0,G=(a=t.tenantId)!==null&&a!==void 0?a:void 0,$=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,Z=(h=t.createdAt)!==null&&h!==void 0?h:void 0,fe=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:se,emailVerified:ve,isAnonymous:Ne,providerData:me,stsTokenManager:V}=t;Ae(se&&V,e,"internal-error");let R=pf.fromJSON(this.name,V);Ae(typeof se=="string",e,"internal-error"),qa(_,e.name),qa(T,e.name),Ae(typeof ve=="boolean",e,"internal-error"),Ae(typeof Ne=="boolean",e,"internal-error"),qa(x,e.name),qa(k,e.name),qa(G,e.name),qa($,e.name),qa(Z,e.name),qa(fe,e.name);let O=new n({uid:se,auth:e,email:T,emailVerified:ve,displayName:_,isAnonymous:Ne,photoURL:k,phoneNumber:x,tenantId:G,stsTokenManager:R,createdAt:Z,lastLoginAt:fe});return me&&Array.isArray(me)&&(O.providerData=me.map(B=>Object.assign({},B))),$&&(O._redirectEventId=$),O}static _fromIdTokenResponse(e,t,i=!1){return S(this,null,function*(){let r=new pf;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield e_(o),o})}static _fromGetAccountInfoResponse(e,t,i){return S(this,null,function*(){let r=t.users[0];Ae(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?qR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new pf;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new gf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,h),c})}};var TR=new Map;function Ls(n){Wa(n instanceof Function,"Expected a class definition");let e=TR.get(n);return e?(Wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TR.set(n,e),e)}var F5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,i){return S(this,null,function*(){this.storage[t]=i})}_get(t){return S(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),j1=F5;function Kg(n,e,t){return`firebase:${n}:${e}:${t}`}var t_=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Kg(this.userKey,r.apiKey,o),this.fullPersistenceKey=Kg("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?md._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return S(this,null,function*(){if(!t.length)return new n(Ls(j1),e,i);let r=(yield Promise.all(t.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Ls(j1),s=Kg(i,e.config.apiKey,e.name),a=null;for(let h of t)try{let y=yield h._get(s);if(y){let _=md._fromJSON(e,y);h!==o&&(a=_),o=h;break}}catch{}let c=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(h=>S(this,null,function*(){if(h!==o)try{yield h._remove(s)}catch{}}))),new n(o,e,i))})}};function SR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZR(e))return"Blackberry";if(XR(e))return"Webos";if(YR(e))return"Safari";if((e.includes("chrome/")||KR(e))&&!e.includes("edge/"))return"Chrome";if(JR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function WR(n=Pn()){return/firefox\//i.test(n)}function YR(n=Pn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KR(n=Pn()){return/crios\//i.test(n)}function QR(n=Pn()){return/iemobile/i.test(n)}function JR(n=Pn()){return/android/i.test(n)}function ZR(n=Pn()){return/blackberry/i.test(n)}function XR(n=Pn()){return/webos/i.test(n)}function sC(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function L5(n=Pn()){var e;return sC(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V5(){return nR()&&document.documentMode===10}function eO(n=Pn()){return sC(n)||JR(n)||XR(n)||ZR(n)||/windows phone/i.test(n)||QR(n)}function tO(n,e=[]){let t;switch(n){case"Browser":t=SR(Pn());break;case"Worker":t=`${SR(Pn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${i}`}var U1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function B5(t){return S(this,arguments,function*(n,e={}){return js(n,"GET","/v2/passwordPolicy",Bs(n,e))})}var j5=6,$1=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:j5,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var H1=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new U1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield t_.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield zR(this,{idToken:e}),i=yield md._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(Gr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield e_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=T5()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Gr(this.app))return Promise.reject(Vs(this));let t=e?fn(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Gr(this.app)?Promise.reject(Vs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gr(this.app)?Promise.reject(Vs(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Ls(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield B5(this),t=new $1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Os("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield k5(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ls(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=yield t_.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return S(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&E5(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function cc(n){return fn(n)}var n_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var c_={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U5(n){c_=n}function nO(n){return c_.loadJS(n)}function $5(){return c_.recaptchaEnterpriseScript}function H5(){return c_.gapiScript}function iO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var G5="recaptcha-enterprise",z5="NO_RECAPTCHA",G1=class{constructor(e){this.type=G5,this.auth=cc(e)}verify(e="verify",t=!1){return S(this,null,function*(){function i(o){return S(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>S(this,null,function*(){x5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let h=new V1(c);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;IR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(z5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&IR(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$5();c.length!==0&&(c+=a),nO(c).then(()=>{r(a,o,s)}).catch(h=>{s(h)})}}).catch(a=>{s(a)})})})}};function AR(n,e,t,i=!1){return S(this,null,function*(){let r=new G1(n),o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function z1(n,e,t,i){return S(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield AR(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>S(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield AR(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}))})}function aC(n,e){let t=ic(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(tc(o,e??{}))return r;xo(r,"already-initialized")}return t.initialize({options:e})}function q5(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ls);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function lC(n,e,t){let i=cc(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=rO(e),{host:s,port:a}=W5(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Y5()}function rO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W5(n){let e=rO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:MR(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:MR(s)}}}function MR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Y5(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var _f=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,t){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}};function K5(n,e){return S(this,null,function*(){return js(n,"POST","/v1/accounts:signUp",e)})}function Q5(n,e){return S(this,null,function*(){return wf(n,"POST","/v1/accounts:signInWithPassword",Bs(n,e))})}function J5(n,e){return S(this,null,function*(){return js(n,"POST","/v1/accounts:sendOobCode",Bs(n,e))})}function Z5(n,e){return S(this,null,function*(){return J5(n,e)})}function X5(n,e){return S(this,null,function*(){return wf(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,e))})}function eG(n,e){return S(this,null,function*(){return wf(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,e))})}var yf=class n extends _f{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return S(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z1(e,t,"signInWithPassword",Q5);case"emailLink":return X5(e,{email:this._email,oobCode:this._password});default:xo(e,"internal-error")}})}_linkToIdToken(e,t){return S(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z1(e,i,"signUpPassword",K5);case"emailLink":return eG(e,{idToken:t,email:this._email,oobCode:this._password});default:xo(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function P1(n,e){return S(this,null,function*(){return wf(n,"POST","/v1/accounts:signInWithIdp",Bs(n,e))})}function tG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nG(n){let e=dd(hd(n)).link,t=e?dd(hd(e)).deep_link_id:null,i=dd(hd(n)).deep_link_id;return(i?dd(hd(i)).link:null)||i||t||e||n}var i_=class n{constructor(e){var t,i,r,o,s,a;let c=dd(hd(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,y=(i=c.oobCode)!==null&&i!==void 0?i:null,_=tG((r=c.mode)!==null&&r!==void 0?r:null);Ae(h&&y&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=y,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=nG(e);try{return new n(t)}catch{return null}}};var oO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return yf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=i_.parseLink(i);return Ae(r,"argument-error"),yf._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),r_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var q1=class extends r_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iG(n,e){return S(this,null,function*(){return wf(n,"POST","/v1/accounts:signUp",Bs(n,e))})}var gd=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return S(this,null,function*(){let o=yield md._fromIdTokenResponse(e,i,r),s=xR(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return S(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=xR(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function xR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var W1=class n extends vi{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function sO(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?W1._fromErrorAndOperation(n,o,e,i):o})}function rG(n,e,t=!1){return S(this,null,function*(){let i=yield mf(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gd._forOperation(n,"link",i)})}function oG(n,e,t=!1){return S(this,null,function*(){let{auth:i}=n;if(Gr(i.app))return Promise.reject(Vs(i));let r="reauthenticate";try{let o=yield mf(n,sO(i,r,e,n),t);Ae(o.idToken,i,"internal-error");let s=rC(o.idToken);Ae(s,i,"internal-error");let{sub:a}=s;return Ae(n.uid===a,i,"user-mismatch"),gd._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&xo(i,"user-mismatch"),o}})}function aO(n,e,t=!1){return S(this,null,function*(){if(Gr(n.app))return Promise.reject(Vs(n));let i="signIn",r=yield sO(n,i,e),o=yield gd._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function cC(n,e){return S(this,null,function*(){return aO(cc(n),e)})}function sG(n,e,t){var i;Ae(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),Ae(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ae(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ae(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function lO(n){return S(this,null,function*(){let e=cc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function uC(n,e,t){return S(this,null,function*(){if(Gr(n.app))return Promise.reject(Vs(n));let i=cc(n),s=yield z1(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&lO(n),c}),a=yield gd._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function dC(n,e,t){return Gr(n.app)?Promise.reject(Vs(n)):cC(fn(n),oO.credential(e,t)).catch(i=>S(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&lO(n),i}))}function hC(n,e){return S(this,null,function*(){let t=fn(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&sG(t.auth,r,e);let{email:o}=yield Z5(t.auth,r);o!==n.email&&(yield n.reload())})}function fC(n,e,t,i){return fn(n).onIdTokenChanged(e,t,i)}function pC(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function mC(n,e){return fn(n).updateCurrentUser(e)}function gC(n){return fn(n).signOut()}var o_="__sak";var s_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o_,"1"),this.storage.removeItem(o_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aG=1e3,lG=10,cG=(()=>{class n extends s_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);V5()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lG):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},aG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return S(this,null,function*(){yield pa(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return S(this,null,function*(){let i=yield pa(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return S(this,null,function*(){yield pa(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),cO=cG;var uG=(()=>{class n extends s_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),_C=uG;function dG(n){return Promise.all(n.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var hG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return S(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(y=>S(this,null,function*(){return y(i.origin,s)})),h=yield dG(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function uO(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Y1=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return S(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let h=uO("",20);r.port1.start();let y=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(_){let T=_;if(T.data.eventId===h)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(T.data.response);break;default:clearTimeout(y),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mo(){return window}function fG(n){Mo().location.href=n}function dO(){return typeof Mo().WorkerGlobalScope<"u"&&typeof Mo().importScripts=="function"}function pG(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mG(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gG(){return dO()?self:null}var hO="firebaseLocalStorageDb",_G=1,a_="firebaseLocalStorage",fO="fbase_key",lc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function u_(n,e){return n.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function yG(){let n=indexedDB.deleteDatabase(hO);return new lc(n).toPromise()}function K1(){let n=indexedDB.open(hO,_G);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(a_,{keyPath:fO})}catch(r){t(r)}}),n.addEventListener("success",()=>S(this,null,function*(){let i=n.result;i.objectStoreNames.contains(a_)?e(i):(i.close(),yield yG(),e(yield K1()))}))})}function RR(n,e,t){return S(this,null,function*(){let i=u_(n,!0).put({[fO]:e,value:t});return new lc(i).toPromise()})}function vG(n,e){return S(this,null,function*(){let t=u_(n,!1).get(e),i=yield new lc(t).toPromise();return i===void 0?null:i.value})}function OR(n,e){let t=u_(n,!0).delete(e);return new lc(t).toPromise()}var wG=800,bG=3,CG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield K1(),this.db)})}_withRetries(t){return S(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>bG)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return dO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=hG._getInstance(gG()),this.receiver._subscribe("keyChanged",(t,i)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var t,i;if(this.activeServiceWorker=yield pG(),!this.activeServiceWorker)return;this.sender=new Y1(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let t=yield K1();return yield RR(t,o_,"1"),yield OR(t,o_),!0}catch{}return!1})}_withPendingWrite(t){return S(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>RR(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return S(this,null,function*(){let i=yield this._withRetries(r=>vG(r,t));return this.localCache[t]=i,i})}_remove(t){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>OR(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return S(this,null,function*(){let t=yield this._withRetries(o=>{let s=u_(o,!1).getAll();return new lc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),wG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),pO=CG;var ere=iO("rcb"),tre=new ac(3e4,6e4);function EG(n,e){return e?Ls(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var vf=class extends _f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return P1(e,this._buildIdpRequest())}_linkToIdToken(e,t){return P1(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return P1(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function IG(n){return aO(n.auth,new vf(n),n.bypassAuthState)}function DG(n){let{auth:e,user:t}=n;return Ae(t,e,"internal-error"),oG(t,new vf(n),n.bypassAuthState)}function TG(n){return S(this,null,function*(){let{auth:e,user:t}=n;return Ae(t,e,"internal-error"),rG(t,new vf(n),n.bypassAuthState)})}var Q1=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IG;case"linkViaPopup":case"linkViaRedirect":return TG;case"reauthViaPopup":case"reauthViaRedirect":return DG;default:xo(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nre=new ac(2e3,1e4);var SG="pendingRedirect",Qg=new Map,J1=class n extends Q1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return S(this,null,function*(){let e=Qg.get(this.auth._key());if(!e){try{let i=(yield AG(this.resolver,this.auth))?yield pa(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qg.set(this.auth._key(),e)}return this.bypassAuthState||Qg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return pa(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,pa(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function AG(n,e){return S(this,null,function*(){let t=RG(e),i=xG(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function MG(n,e){Qg.set(n._key(),e)}function xG(n){return Ls(n._redirectPersistence)}function RG(n){return Kg(SG,n.config.apiKey,n.name)}function OG(n,e,t=!1){return S(this,null,function*(){if(Gr(n.app))return Promise.reject(Vs(n));let i=cc(n),r=EG(i,e),s=yield new J1(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var NG=10*60*1e3,Z1=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!mO(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(sc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NG&&this.cachedEventUids.clear(),this.cachedEventUids.has(NR(e))}saveEventToCache(e){this.cachedEventUids.add(NR(e)),this.lastProcessedEventTime=Date.now()}};function NR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mO(n);default:return!1}}function kG(t){return S(this,arguments,function*(n,e={}){return js(n,"GET","/v1/projects",e)})}var FG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LG=/^https?/;function VG(n){return S(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield kG(n);for(let t of e)try{if(BG(t))return}catch{}xo(n,"unauthorized-domain")})}function BG(n){let e=F1(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!LG.test(t))return!1;if(FG.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var jG=new ac(3e4,6e4);function PR(){let n=Mo().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UG(n){return new Promise((e,t)=>{var i,r,o;function s(){PR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PR(),t(sc(n,"network-request-failed"))},timeout:jG.get()})}if(!((r=(i=Mo().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Mo().gapi)===null||o===void 0)&&o.load)s();else{let a=iO("iframefcb");return Mo()[a]=()=>{gapi.load?s():t(sc(n,"network-request-failed"))},nO(`${H5()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Jg=null,e})}var Jg=null;function $G(n){return Jg=Jg||UG(n),Jg}var HG=new ac(5e3,15e3),GG="__/auth/iframe",zG="emulator/auth/iframe",qG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YG(n){let e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?nC(e,zG):`https://${n.config.authDomain}/${GG}`,i={apiKey:e.apiKey,appName:n.name,v:Ao},r=WG.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${uf(i).slice(1)}`}function KG(n){return S(this,null,function*(){let e=yield $G(n),t=Mo().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:YG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qG,dontclear:!0},i=>new Promise((r,o)=>S(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=sc(n,"network-request-failed"),a=Mo().setTimeout(()=>{o(s)},HG.get());function c(){Mo().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var QG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JG=500,ZG=600,XG="_blank",ez="http://localhost",l_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tz(n,e,t,i=JG,r=ZG){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},QG),{width:i.toString(),height:r.toString(),top:o,left:s}),h=Pn().toLowerCase();t&&(a=KR(h)?XG:t),WR(h)&&(e=e||ez,c.scrollbars="yes");let y=Object.entries(c).reduce((T,[x,k])=>`${T}${x}=${k},`,"");if(L5(h)&&a!=="_self")return nz(e||"",a),new l_(null);let _=window.open(e||"",a,y);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new l_(_)}function nz(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var iz="__/auth/handler",rz="emulator/auth/handler",oz=encodeURIComponent("fac");function kR(n,e,t,i,r,o){return S(this,null,function*(){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ao,eventId:r};if(e instanceof r_){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",oR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,_]of Object.entries(o||{}))s[y]=_}if(e instanceof q1){let y=e.getScopes().filter(_=>_!=="");y.length>0&&(s.scopes=y.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let y of Object.keys(a))a[y]===void 0&&delete a[y];let c=yield n._getAppCheckToken(),h=c?`#${oz}=${encodeURIComponent(c)}`:"";return`${sz(n)}?${uf(a).slice(1)}${h}`})}function sz({config:n}){return n.emulator?nC(n,rz):`https://${n.authDomain}/${iz}`}var k1="webStorageSupport",X1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_C,this._completeRedirectFn=OG,this._overrideRedirectResult=MG}_openPopup(e,t,i,r){return S(this,null,function*(){var o;Wa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield kR(e,t,i,F1(),r);return tz(e,s,uO())})}_openRedirect(e,t,i,r){return S(this,null,function*(){yield this._originValidation(e);let o=yield kR(e,t,i,F1(),r);return fG(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Wa(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return S(this,null,function*(){let t=yield KG(e),i=new Z1(e);return t.register("authEvent",r=>(Ae(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(k1,{type:k1},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[k1];s!==void 0&&t(!!s),xo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eO()||YR()||sC()}},gO=X1;var FR="@firebase/auth",LR="1.7.9";var eC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function az(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lz(n){So(new Vi("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tO(n)},h=new H1(i,r,o,c);return q5(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),So(new Vi("auth-internal",e=>{let t=cc(e.getProvider("auth").getImmediate());return(i=>new eC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(FR,LR,az(n)),Ht(FR,LR,"esm2017")}var cz=5*60,uz=p1("authIdTokenMaxAge")||cz,VR=null,dz=n=>e=>S(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uz)return;let r=t?.token;VR!==r&&(VR=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function yC(n=Ha()){let e=ic(n,"auth");if(e.isInitialized())return e.getImmediate();let t=aC(n,{popupRedirectResolver:gO,persistence:[pO,cO,_C]}),i=p1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=dz(o.toString());pC(t,s,()=>s(t.currentUser)),fC(t,a=>s(a))}}let r=h1("auth");return r&&lC(t,`http://${r}`),t}function hz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}U5({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=sc("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",hz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lz("Browser");var _O="auth",Tt=class{constructor(e){return e}},uc=class{constructor(){return oc(_O)}};var vC=new ue("angularfire2.auth-instances");function e6(n,e){let t=pd(_O,n,e);return t&&new Tt(t)}function t6(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Tt(i)}}var n6={provide:uc,deps:[[new an,vC]]},i6={provide:Tt,useFactory:e6,deps:[[new an,vC],zr]};function yO(n,...e){return Ht("angularfire",Ps.full,"auth"),Oi([i6,n6,{provide:vC,useFactory:t6(n),multi:!0,deps:[Ke,kt,za,ks,[new an,Ga],...e]}])}var _d=pn(uC,!0);var d_=pn(yC,!0);var h_=pn(hC,!0);var vO=pn(dC,!0);var Us=pn(gC,!0);var yd=pn(mC,!0);var wO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bO={};var Ya,wC;(function(){var n;function e(V,R){function O(){}O.prototype=R.prototype,V.D=R.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(B,L,j){for(var N=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)N[ri-2]=arguments[ri];return R.prototype[L].apply(B,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,R,O){O||(O=0);var B=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)B[L]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(L=0;16>L;++L)B[L]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=V.g[0],O=V.g[1],L=V.g[2];var j=V.g[3],N=R+(j^O&(L^j))+B[0]+3614090360&4294967295;R=O+(N<<7&4294967295|N>>>25),N=j+(L^R&(O^L))+B[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(O^j&(R^O))+B[2]+606105819&4294967295,L=j+(N<<17&4294967295|N>>>15),N=O+(R^L&(j^R))+B[3]+3250441966&4294967295,O=L+(N<<22&4294967295|N>>>10),N=R+(j^O&(L^j))+B[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(L^R&(O^L))+B[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(O^j&(R^O))+B[6]+2821735955&4294967295,L=j+(N<<17&4294967295|N>>>15),N=O+(R^L&(j^R))+B[7]+4249261313&4294967295,O=L+(N<<22&4294967295|N>>>10),N=R+(j^O&(L^j))+B[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(L^R&(O^L))+B[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(O^j&(R^O))+B[10]+4294925233&4294967295,L=j+(N<<17&4294967295|N>>>15),N=O+(R^L&(j^R))+B[11]+2304563134&4294967295,O=L+(N<<22&4294967295|N>>>10),N=R+(j^O&(L^j))+B[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=j+(L^R&(O^L))+B[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(O^j&(R^O))+B[14]+2792965006&4294967295,L=j+(N<<17&4294967295|N>>>15),N=O+(R^L&(j^R))+B[15]+1236535329&4294967295,O=L+(N<<22&4294967295|N>>>10),N=R+(L^j&(O^L))+B[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^L&(R^O))+B[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^O&(j^R))+B[11]+643717713&4294967295,L=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(L^j))+B[0]+3921069994&4294967295,O=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(O^L))+B[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^L&(R^O))+B[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^O&(j^R))+B[15]+3634488961&4294967295,L=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(L^j))+B[4]+3889429448&4294967295,O=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(O^L))+B[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^L&(R^O))+B[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^O&(j^R))+B[3]+4107603335&4294967295,L=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(L^j))+B[8]+1163531501&4294967295,O=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(O^L))+B[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=j+(O^L&(R^O))+B[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^O&(j^R))+B[7]+1735328473&4294967295,L=j+(N<<14&4294967295|N>>>18),N=O+(j^R&(L^j))+B[12]+2368359562&4294967295,O=L+(N<<20&4294967295|N>>>12),N=R+(O^L^j)+B[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^L)+B[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^O)+B[11]+1839030562&4294967295,L=j+(N<<16&4294967295|N>>>16),N=O+(L^j^R)+B[14]+4259657740&4294967295,O=L+(N<<23&4294967295|N>>>9),N=R+(O^L^j)+B[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^L)+B[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^O)+B[7]+4139469664&4294967295,L=j+(N<<16&4294967295|N>>>16),N=O+(L^j^R)+B[10]+3200236656&4294967295,O=L+(N<<23&4294967295|N>>>9),N=R+(O^L^j)+B[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^L)+B[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^O)+B[3]+3572445317&4294967295,L=j+(N<<16&4294967295|N>>>16),N=O+(L^j^R)+B[6]+76029189&4294967295,O=L+(N<<23&4294967295|N>>>9),N=R+(O^L^j)+B[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=j+(R^O^L)+B[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^O)+B[15]+530742520&4294967295,L=j+(N<<16&4294967295|N>>>16),N=O+(L^j^R)+B[2]+3299628645&4294967295,O=L+(N<<23&4294967295|N>>>9),N=R+(L^(O|~j))+B[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~L))+B[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~O))+B[14]+2878612391&4294967295,L=j+(N<<15&4294967295|N>>>17),N=O+(j^(L|~R))+B[5]+4237533241&4294967295,O=L+(N<<21&4294967295|N>>>11),N=R+(L^(O|~j))+B[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~L))+B[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~O))+B[10]+4293915773&4294967295,L=j+(N<<15&4294967295|N>>>17),N=O+(j^(L|~R))+B[1]+2240044497&4294967295,O=L+(N<<21&4294967295|N>>>11),N=R+(L^(O|~j))+B[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~L))+B[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~O))+B[6]+2734768916&4294967295,L=j+(N<<15&4294967295|N>>>17),N=O+(j^(L|~R))+B[13]+1309151649&4294967295,O=L+(N<<21&4294967295|N>>>11),N=R+(L^(O|~j))+B[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=j+(O^(R|~L))+B[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~O))+B[2]+718787259&4294967295,L=j+(N<<15&4294967295|N>>>17),N=O+(j^(L|~R))+B[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+j&4294967295}i.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var O=R-this.blockSize,B=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=O;)r(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<R;)if(B[L++]=V.charCodeAt(j++),L==this.blockSize){r(this,B),L=0;break}}else for(;j<R;)if(B[L++]=V[j++],L==this.blockSize){r(this,B),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var O=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=O&255,O/=256;for(this.u(V),V=Array(16),R=O=0;4>R;++R)for(var B=0;32>B;B+=8)V[O++]=this.g[R]>>>B&255;return V};function o(V,R){var O=a;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=R(V)}function s(V,R){this.h=R;for(var O=[],B=!0,L=V.length-1;0<=L;L--){var j=V[L]|0;B&&j==R||(O[L]=j,B=!1)}this.g=O}var a={};function c(V){return-128<=V&&128>V?o(V,function(R){return new s([R|0],0>R?-1:0)}):new s([V|0],0>V?-1:0)}function h(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return $(h(-V));for(var R=[],O=1,B=0;V>=O;B++)R[B]=V/O|0,O*=4294967296;return new s(R,0)}function y(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return $(y(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(R,8)),B=_,L=0;L<V.length;L+=8){var j=Math.min(8,V.length-L),N=parseInt(V.substring(L,L+j),R);8>j?(j=h(Math.pow(R,j)),B=B.j(j).add(h(N))):(B=B.j(O),B=B.add(h(N)))}return B}var _=c(0),T=c(1),x=c(16777216);n=s.prototype,n.m=function(){if(G(this))return-$(this).m();for(var V=0,R=1,O=0;O<this.g.length;O++){var B=this.i(O);V+=(0<=B?B:4294967296+B)*R,R*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(G(this))return"-"+$(this).toString(V);for(var R=h(Math.pow(V,6)),O=this,B="";;){var L=ve(O,R).g;O=Z(O,L.j(R));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=L,k(O))return j+B;for(;6>j.length;)j="0"+j;B=j+B}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function G(V){return V.h==-1}n.l=function(V){return V=Z(this,V),G(V)?-1:k(V)?0:1};function $(V){for(var R=V.g.length,O=[],B=0;B<R;B++)O[B]=~V.g[B];return new s(O,~V.h).add(T)}n.abs=function(){return G(this)?$(this):this},n.add=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],B=0,L=0;L<=R;L++){var j=B+(this.i(L)&65535)+(V.i(L)&65535),N=(j>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);B=N>>>16,j&=65535,N&=65535,O[L]=N<<16|j}return new s(O,O[O.length-1]&-2147483648?-1:0)};function Z(V,R){return V.add($(R))}n.j=function(V){if(k(this)||k(V))return _;if(G(this))return G(V)?$(this).j($(V)):$($(this).j(V));if(G(V))return $(this.j($(V)));if(0>this.l(x)&&0>V.l(x))return h(this.m()*V.m());for(var R=this.g.length+V.g.length,O=[],B=0;B<2*R;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var L=0;L<V.g.length;L++){var j=this.i(B)>>>16,N=this.i(B)&65535,ri=V.i(L)>>>16,ur=V.i(L)&65535;O[2*B+2*L]+=N*ur,fe(O,2*B+2*L),O[2*B+2*L+1]+=j*ur,fe(O,2*B+2*L+1),O[2*B+2*L+1]+=N*ri,fe(O,2*B+2*L+1),O[2*B+2*L+2]+=j*ri,fe(O,2*B+2*L+2)}for(B=0;B<R;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=R;B<2*R;B++)O[B]=0;return new s(O,0)};function fe(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function se(V,R){this.g=V,this.h=R}function ve(V,R){if(k(R))throw Error("division by zero");if(k(V))return new se(_,_);if(G(V))return R=ve($(V),R),new se($(R.g),$(R.h));if(G(R))return R=ve(V,$(R)),new se($(R.g),R.h);if(30<V.g.length){if(G(V)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var O=T,B=R;0>=B.l(V);)O=Ne(O),B=Ne(B);var L=me(O,1),j=me(B,1);for(B=me(B,2),O=me(O,2);!k(B);){var N=j.add(B);0>=N.l(V)&&(L=L.add(O),j=N),B=me(B,1),O=me(O,1)}return R=Z(V,L.j(R)),new se(L,R)}for(L=_;0<=V.l(R);){for(O=Math.max(1,Math.floor(V.m()/R.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),j=h(O),N=j.j(R);G(N)||0<N.l(V);)O-=B,j=h(O),N=j.j(R);k(j)&&(j=T),L=L.add(j),V=Z(V,N)}return new se(L,V)}n.A=function(V){return ve(this,V).h},n.and=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)&V.i(B);return new s(O,this.h&V.h)},n.or=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)|V.i(B);return new s(O,this.h|V.h)},n.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],B=0;B<R;B++)O[B]=this.i(B)^V.i(B);return new s(O,this.h^V.h)};function Ne(V){for(var R=V.g.length+1,O=[],B=0;B<R;B++)O[B]=V.i(B)<<1|V.i(B-1)>>>31;return new s(O,V.h)}function me(V,R){var O=R>>5;R%=32;for(var B=V.g.length-O,L=[],j=0;j<B;j++)L[j]=0<R?V.i(j+O)>>>R|V.i(j+O+1)<<32-R:V.i(j+O);return new s(L,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,wC=bO.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=y,Ya=bO.Integer=s}).apply(typeof wO<"u"?wO:typeof self<"u"?self:typeof window<"u"?window:{});var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$s={};var bC,r6,vd,CC,bf,p_,EC,IC,DC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,w){return u==Array.prototype||u==Object.prototype||(u[m]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof f_=="object"&&f_];for(var m=0;m<u.length;++m){var w=u[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(u,m){if(m)e:{var w=i;u=u.split(".");for(var D=0;D<u.length-1;D++){var U=u[D];if(!(U in w))break e;w=w[U]}u=u[u.length-1],D=w[u],m=m(D),m!=D&&m!=null&&e(w,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var w=0,D=!1,U={next:function(){if(!D&&w<u.length){var z=w++;return{value:m(z,u[z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}r("Array.prototype.values",function(u){return u||function(){return o(this,function(m,w){return w})}});var s=s||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function h(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,w){return u.call.apply(u.bind,arguments)}function _(u,m,w){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function x(u,m){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function k(u,m){function w(){}w.prototype=m.prototype,u.aa=m.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(D,U,z){for(var oe=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)oe[ft-2]=arguments[ft];return m.prototype[U].apply(D,oe)}}function G(u){let m=u.length;if(0<m){let w=Array(m);for(let D=0;D<m;D++)w[D]=u[D];return w}return[]}function $(u,m){for(let w=1;w<arguments.length;w++){let D=arguments[w];if(c(D)){let U=u.length||0,z=D.length||0;u.length=U+z;for(let oe=0;oe<z;oe++)u[U+oe]=D[oe]}else u.push(D)}}class Z{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function fe(u){return/^[\s\xa0]*$/.test(u)}function se(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ve(u){return ve[" "](u),u}ve[" "]=function(){};var Ne=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function me(u,m,w){for(let D in u)m.call(w,u[D],D,u)}function V(u,m){for(let w in u)m.call(void 0,u[w],w,u)}function R(u){let m={};for(let w in u)m[w]=u[w];return m}let O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(u,m){let w,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(w in D)u[w]=D[w];for(let z=0;z<O.length;z++)w=O[z],Object.prototype.hasOwnProperty.call(D,w)&&(u[w]=D[w])}}function L(u){var m=1;u=u.split(":");let w=[];for(;0<m&&u.length;)w.push(u.shift()),m--;return u.length&&w.push(u.join(":")),w}function j(u){a.setTimeout(()=>{throw u},0)}function N(){var u=dr;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ri{constructor(){this.h=this.g=null}add(m,w){let D=ur.get();D.set(m,w),this.h?this.h.next=D:this.g=D,this.h=D}}var ur=new Z(()=>new sl,u=>u.reset());class sl{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Qr,ln=!1,dr=new ri,Tn=()=>{let u=a.Promise.resolve(void 0);Qr=()=>{u.then(hr)}};var hr=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(w){j(w)}var m=ur;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ln=!1};function zt(){this.s=this.s,this.C=this.C}zt.prototype.s=!1,zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Jr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return u}();function zi(u,m){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ne){e:{try{ve(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else w=="mouseover"?m=u.fromElement:w=="mouseout"&&(m=u.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ho[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&zi.aa.h.call(this)}}k(zi,de);var Ho={2:"touch",3:"pen",4:"mouse"};zi.prototype.h=function(){zi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var qi="closure_listenable_"+(1e6*Math.random()|0),al=0;function nh(u,m,w,D,U){this.listener=u,this.proxy=null,this.src=m,this.type=w,this.capture=!!D,this.ha=U,this.key=++al,this.da=this.fa=!1}function Zr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xr(u){this.src=u,this.g={},this.h=0}Xr.prototype.add=function(u,m,w,D,U){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var oe=ll(u,m,D,U);return-1<oe?(m=u[oe],w||(m.fa=!1)):(m=new nh(m,this.src,z,!!D,U),m.fa=w,u.push(m)),m};function eo(u,m){var w=m.type;if(w in u.g){var D=u.g[w],U=Array.prototype.indexOf.call(D,m,void 0),z;(z=0<=U)&&Array.prototype.splice.call(D,U,1),z&&(Zr(m),u.g[w].length==0&&(delete u.g[w],u.h--))}}function ll(u,m,w,D){for(var U=0;U<u.length;++U){var z=u[U];if(!z.da&&z.listener==m&&z.capture==!!w&&z.ha==D)return U}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),oi={};function Ac(u,m,w,D,U){if(D&&D.once)return An(u,m,w,D,U);if(Array.isArray(m)){for(var z=0;z<m.length;z++)Ac(u,m[z],w,D,U);return null}return w=Ut(w),u&&u[qi]?u.K(m,w,h(D)?!!D.capture:!!D,U):Sn(u,m,w,!1,D,U)}function Sn(u,m,w,D,U,z){if(!m)throw Error("Invalid event type");var oe=h(U)?!!U.capture:!!U,ft=Ft(u);if(ft||(u[_n]=ft=new Xr(u)),w=ft.add(m,w,D,oe,z),w.proxy)return w;if(D=Go(),w.proxy=D,D.src=u,D.listener=w,u.addEventListener)Jr||(U=oe),U===void 0&&(U=!1),u.addEventListener(m.toString(),D,U);else if(u.attachEvent)u.attachEvent(si(m.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Go(){function u(w){return m.call(u.src,u.listener,w)}let m=Wi;return u}function An(u,m,w,D,U){if(Array.isArray(m)){for(var z=0;z<m.length;z++)An(u,m[z],w,D,U);return null}return w=Ut(w),u&&u[qi]?u.L(m,w,h(D)?!!D.capture:!!D,U):Sn(u,m,w,!0,D,U)}function zo(u,m,w,D,U){if(Array.isArray(m))for(var z=0;z<m.length;z++)zo(u,m[z],w,D,U);else D=h(D)?!!D.capture:!!D,w=Ut(w),u&&u[qi]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],w=ll(z,w,D,U),-1<w&&(Zr(z[w]),Array.prototype.splice.call(z,w,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ft(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ll(m,w,D,U)),(w=-1<u?m[u]:null)&&et(w))}function et(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[qi])eo(m.i,u);else{var w=u.type,D=u.proxy;m.removeEventListener?m.removeEventListener(w,D,u.capture):m.detachEvent?m.detachEvent(si(w),D):m.addListener&&m.removeListener&&m.removeListener(D),(w=Ft(m))?(eo(w,u),w.h==0&&(w.src=null,m[_n]=null)):Zr(u)}}}function si(u){return u in oi?oi[u]:oi[u]="on"+u}function Wi(u,m){if(u.da)u=!0;else{m=new zi(m,this);var w=u.listener,D=u.ha||u.src;u.fa&&et(u),u=w.call(D,m)}return u}function Ft(u){return u=u[_n],u instanceof Xr?u:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(u){return typeof u=="function"?u:(u[Lt]||(u[Lt]=function(m){return u.handleEvent(m)}),u[Lt])}function Vt(){zt.call(this),this.i=new Xr(this),this.M=this,this.F=null}k(Vt,zt),Vt.prototype[qi]=!0,Vt.prototype.removeEventListener=function(u,m,w,D){zo(this,u,m,w,D)};function je(u,m){var w,D=u.F;if(D)for(w=[];D;D=D.F)w.push(D);if(u=u.M,D=m.type||m,typeof m=="string")m=new de(m,u);else if(m instanceof de)m.target=m.target||u;else{var U=m;m=new de(D,u),B(m,U)}if(U=!0,w)for(var z=w.length-1;0<=z;z--){var oe=m.g=w[z];U=Yi(oe,D,!0,m)&&U}if(oe=m.g=u,U=Yi(oe,D,!0,m)&&U,U=Yi(oe,D,!1,m)&&U,w)for(z=0;z<w.length;z++)oe=m.g=w[z],U=Yi(oe,D,!1,m)&&U}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var w=u.g[m],D=0;D<w.length;D++)Zr(w[D]);delete u.g[m],u.h--}}this.F=null},Vt.prototype.K=function(u,m,w,D){return this.i.add(String(u),m,!1,w,D)},Vt.prototype.L=function(u,m,w,D){return this.i.add(String(u),m,!0,w,D)};function Yi(u,m,w,D){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,z=0;z<m.length;++z){var oe=m[z];if(oe&&!oe.da&&oe.capture==w){var ft=oe.listener,rn=oe.ha||oe.src;oe.fa&&eo(u.i,oe),U=ft.call(rn,D)!==!1&&U}}return U&&!D.defaultPrevented}function cn(u,m,w){if(typeof u=="function")w&&(u=T(u,w));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function qo(u){u.g=cn(()=>{u.g=null,u.i&&(u.i=!1,qo(u))},u.l);let m=u.h;u.h=null,u.m.apply(null,m)}class Xs extends zt{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(u){zt.call(this),this.h=u,this.g={}}k(Ki,zt);var Qi=[];function Wo(u){me(u.g,function(m,w){this.g.hasOwnProperty(w)&&et(m)},u),u.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Wo(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=a.JSON.stringify,ea=a.JSON.parse,ih=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Fn(){}Fn.prototype.h=null;function xr(u){return u.h||(u.h=u.i())}function ta(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function he(){de.call(this,"d")}k(he,de);function ul(){de.call(this,"c")}k(ul,de);var Ji={},Ii=null;function yn(){return Ii=Ii||new Vt}Ji.La="serverreachability";function Ye(u){de.call(this,Ji.La,u)}k(Ye,de);function Rr(u){let m=yn();je(m,new Ye(m))}Ji.STAT_EVENT="statevent";function ht(u,m){de.call(this,Ji.STAT_EVENT,u),this.stat=m}k(ht,de);function Bt(u){let m=yn();je(m,new ht(m,u))}Ji.Ma="timingevent";function Mc(u,m){de.call(this,Ji.Ma,u),this.size=m}k(Mc,de);function pr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function $t(){this.g=!0}$t.prototype.xa=function(){this.g=!1};function Zi(u,m,w,D,U,z){u.info(function(){if(u.g)if(z)for(var oe="",ft=z.split("&"),rn=0;rn<ft.length;rn++){var tt=ft[rn].split("=");if(1<tt.length){var Ue=tt[0];tt=tt[1];var on=Ue.split("_");oe=2<=on.length&&on[1]=="type"?oe+(Ue+"="+tt+"&"):oe+(Ue+"=redacted&")}}else oe=null;else oe=z;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+m+`
`+w+`
`+oe})}function Di(u,m,w,D,U,z,oe){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+m+`
`+w+`
`+z+" "+oe})}function Te(u,m,w,D){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xi(u,w)+(D?" "+D:"")})}function ai(u,m){u.info(function(){return"TIMEOUT: "+m})}$t.prototype.info=function(){};function Xi(u,m){if(!u.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var D=w[u];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var z=U[0];if(z!="noop"&&z!="stop"&&z!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return cl(w)}catch{return m}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dl;function mr(){}k(mr,Fn),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},dl=new mr;function li(u,m,w,D){this.j=u,this.i=m,this.l=w,this.R=D||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new to}function to(){this.i=null,this.g="",this.h=!1}var gr={},Si={};function At(u,m,w){u.L=1,u.v=oa(ci(m)),u.m=w,u.P=!0,Rc(u,null)}function Rc(u,m){u.F=Date.now(),Ct(u),u.A=ci(u.v);var w=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),Gc(w.i,"t",D),u.C=0,w=u.j.J,u.h=new to,u.g=Sl(u.j,w?m:null,!u.m),0<u.O&&(u.M=new Xs(T(u.Y,u,u.g),u.O)),m=u.U,w=u.g,D=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Qi[0]=U.toString()),U=Qi);for(var z=0;z<U.length;z++){var oe=Ac(w,U[z],D||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Rr(),Zi(u.i,u.u,u.A,u.l,u.R,u.m)}li.prototype.ca=function(u){u=u.target;let m=this.M;m&&Ln(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{let on=Ln(this.g);var m=this.g.Ba();let wr=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||on!=4||m==7||(m==8||0>=wr?Rr(3):Rr(2)),hl(this);var w=this.g.Z();this.X=w;t:if(Oc(this)){var D=Kc(this.g);u="";var U=D.length,z=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),no(this);var oe="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(D[m],{stream:!(z&&m==U-1)});D.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,Di(this.i,this.u,this.A,this.l,this.R,on,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,rn=this.g;if((ft=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fe(ft)){var tt=ft;break t}}tt=null}if(w=tt)Te(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fl(this,w);else{this.o=!1,this.s=3,Bt(12),er(this),no(this);break e}}if(this.P){w=!0;let Hn;for(;!this.J&&this.C<oe.length;)if(Hn=rh(this,oe),Hn==Si){on==4&&(this.s=4,Bt(14),w=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==gr){this.s=4,Bt(15),Te(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else Te(this.i,this.l,Hn,null),fl(this,Hn);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||oe.length!=0||this.h.h||(this.s=1,Bt(16),w=!1),this.o=this.o&&w,!w)Te(this.i,this.l,oe,"[Invalid Chunked Response]"),er(this),no(this);else if(0<oe.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),nr(Ue),Ue.M=!0,Bt(11))}}else Te(this.i,this.l,oe,null),fl(this,oe);on==4&&er(this),this.o&&!this.J&&(on==4?El(this.j,this):(this.o=!1,Ct(this)))}else Qc(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),er(this),no(this)}}}catch{}finally{}};function Oc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rh(u,m){var w=u.C,D=m.indexOf(`
`,w);return D==-1?Si:(w=Number(m.substring(w,D)),isNaN(w)?gr:(D+=1,D+w>m.length?Si:(m=m.slice(D,D+w),u.C=D+w,m)))}li.prototype.cancel=function(){this.J=!0,er(this)};function Ct(u){u.S=Date.now()+u.I,na(u,u.I)}function na(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pr(T(u.ba,u),m)}function hl(u){u.B&&(a.clearTimeout(u.B),u.B=null)}li.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(ai(this.i,this.A),this.L!=2&&(Rr(),Bt(17)),er(this),this.s=2,no(this)):na(this,this.S-u)};function no(u){u.j.G==0||u.J||El(u.j,u)}function er(u){hl(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function fl(u,m){try{var w=u.j;if(w.G!=0&&(w.g==u||pl(w.h,u))){if(!u.K&&pl(w.h,u)&&w.G==3){try{var D=w.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)ts(w),di(w);else break e;es(w),Bt(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=pr(T(w.Za,w),6e3));if(1>=Fc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ir(w,11)}else if((u.K||w.g==u)&&ts(w),!fe(m))for(U=w.Da.g.parse(m),m=0;m<U.length;m++){let tt=U[m];if(w.T=tt[0],tt=tt[1],w.G==2)if(tt[0]=="c"){w.K=tt[1],w.ia=tt[2];let Ue=tt[3];Ue!=null&&(w.la=Ue,w.j.info("VER="+w.la));let on=tt[4];on!=null&&(w.Aa=on,w.j.info("SVER="+w.Aa));let wr=tt[5];wr!=null&&typeof wr=="number"&&0<wr&&(D=1.5*wr,w.L=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;let Hn=u.g;if(Hn){let da=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var z=D.h;z.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ia(z,z.h),z.h=null))}if(D.D){let Ml=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(D.ya=Ml,Et(D.I,D.D,Ml))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),D=w;var oe=u;if(D.qa=Tl(D,D.J?D.ia:null,D.W),oe.K){ml(D.h,oe);var ft=oe,rn=D.L;rn&&(ft.I=rn),ft.B&&(hl(ft),Ct(ft)),D.g=oe}else Cl(D);0<w.i.length&&ca(w)}else tt[0]!="stop"&&tt[0]!="close"||ir(w,7);else w.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ir(w,7):Nr(w):tt[0]!="noop"&&w.l&&w.l.ta(tt),w.v=0)}}Rr(4)}catch{}}var Nc=class{constructor(u,m){this.g=u,this.map=m}};function Pc(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kc(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fc(u){return u.h?1:u.g?u.g.size:0}function pl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ia(u,m){u.g?u.g.add(m):u.h=m}function ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Pc.prototype.cancel=function(){if(this.i=Lc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Lc(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(let w of u.g.values())m=m.concat(w.D);return m}return G(u.i)}function Vc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],w=u.length,D=0;D<w;D++)m.push(u[D]);return m}m=[],w=0;for(D in u)m[w++]=u[D];return m}function oh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var w=0;w<u;w++)m.push(w);return m}m=[],w=0;for(let D in u)m[w++]=D;return m}}}function ra(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var w=oh(u),D=Vc(u),U=D.length,z=0;z<U;z++)m.call(void 0,D[z],w&&w[z],u)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(u,m){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var D=u[w].indexOf("="),U=null;if(0<=D){var z=u[w].substring(0,D);U=u[w].substring(D+1)}else z=u[w];m(z,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function vn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vn){this.h=u.h,_r(this,u.j),this.o=u.o,this.g=u.g,Mn(this,u.s),this.l=u.l;var m=u.i,w=new Jo;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),gl(this,w),this.m=u.m}else u&&(m=String(u).match(Bc))?(this.h=!1,_r(this,m[1]||"",!0),this.o=Ko(m[2]||""),this.g=Ko(m[3]||"",!0),Mn(this,m[4]),this.l=Ko(m[5]||"",!0),gl(this,m[6]||"",!0),this.m=Ko(m[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}vn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qo(m,jc,!0),":");var w=this.g;return(w||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qo(m,jc,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Qo(w,w.charAt(0)=="/"?_l:io,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Qo(w,yl)),u.join("")};function ci(u){return new vn(u)}function _r(u,m,w){u.j=w?Ko(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Mn(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gl(u,m,w){m instanceof Jo?(u.i=m,ah(u.i,u.h)):(w||(m=Qo(m,Uc)),u.i=new Jo(m,u.h))}function Et(u,m,w){u.i.set(m,w)}function oa(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ko(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qo(u,m,w){return typeof u=="string"?(u=encodeURI(u).replace(m,sh),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jc=/[#\/\?@]/g,io=/[#\?:]/g,_l=/[#\?]/g,Uc=/[#\?@]/g,yl=/#/g;function Jo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yr(u){u.g||(u.g=new Map,u.h=0,u.i&&Yo(u.i,function(m,w){u.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}n=Jo.prototype,n.add=function(u,m){yr(this),this.i=null,u=ro(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(m),this.h+=1,this};function $c(u,m){yr(u),m=ro(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hc(u,m){return yr(u),m=ro(u,m),u.g.has(m)}n.forEach=function(u,m){yr(this),this.g.forEach(function(w,D){w.forEach(function(U){u.call(m,U,D,this)},this)},this)},n.na=function(){yr(this);let u=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let D=0;D<m.length;D++){let U=u[D];for(let z=0;z<U.length;z++)w.push(m[D])}return w},n.V=function(u){yr(this);let m=[];if(typeof u=="string")Hc(this,u)&&(m=m.concat(this.g.get(ro(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)m=m.concat(u[w])}return m},n.set=function(u,m){return yr(this),this.i=null,u=ro(this,u),Hc(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gc(u,m,w){$c(u,m),0<w.length&&(u.i=null,u.g.set(ro(u,m),G(w)),u.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var D=m[w];let z=encodeURIComponent(String(D)),oe=this.V(D);for(D=0;D<oe.length;D++){var U=z;oe[D]!==""&&(U+="="+encodeURIComponent(String(oe[D]))),u.push(U)}}return this.i=u.join("&")};function ro(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ah(u,m){m&&!u.j&&(yr(u),u.i=null,u.g.forEach(function(w,D){var U=D.toLowerCase();D!=U&&($c(this,D),Gc(this,U,w))},u)),u.j=m}function oo(u,m){let w=new $t;if(a.Image){let D=new Image;D.onload=x(vr,w,"TestLoadImage: loaded",!0,m,D),D.onerror=x(vr,w,"TestLoadImage: error",!1,m,D),D.onabort=x(vr,w,"TestLoadImage: abort",!1,m,D),D.ontimeout=x(vr,w,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else m(!1)}function lh(u,m){let w=new $t,D=new AbortController,U=setTimeout(()=>{D.abort(),vr(w,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:D.signal}).then(z=>{clearTimeout(U),z.ok?vr(w,"TestPingServer: ok",!0,m):vr(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),vr(w,"TestPingServer: error",!1,m)})}function vr(u,m,w,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(w)}catch{}}function zc(){this.g=new ih}function ch(u,m,w){let D=w||"";try{ra(u,function(U,z){let oe=U;h(U)&&(oe=cl(U)),m.push(D+z+"="+encodeURIComponent(oe))})}catch(U){throw m.push(D+"type="+encodeURIComponent("_badmap")),U}}function $n(u){this.l=u.Ub||null,this.j=u.eb||!1}k($n,Fn),$n.prototype.g=function(){return new sa(this.l,this.j)},$n.prototype.i=function(u){return function(){return u}}({});function sa(u,m){Vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(sa,Vt),n=sa.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Or(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ui(this):Or(this),this.readyState==3&&vl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ui(this))},n.Qa=function(u){this.g&&(this.response=u,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Or(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=m.next();return u.join(`\r
`)};function Or(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qc(u){let m="";return me(u,function(w,D){m+=D,m+=":",m+=w,m+=`\r
`}),m}function aa(u,m,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=qc(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Et(u,m,w))}function Mt(u){Vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Mt,Vt);var so=/^https?$/i,uh=["POST","PUT"];n=Mt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dl.g(),this.v=this.o?xr(this.o):xr(dl),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){Wc(this,z);return}if(u=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)w.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let z of D.keys())w.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(z=>z.toLowerCase()=="content-type"),U=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uh,m,void 0))||D||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[z,oe]of w)this.g.setRequestHeader(z,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Wc(this,z)}};function Wc(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Yc(u),wt(u)}function Yc(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),wt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wt(this,!0)),Mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},n.bb=function(){wl(this)};function wl(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)cn(u.Ea,0,u);else if(je(u,"readystatechange"),Ln(u)==4){u.h=!1;try{let oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var D;if(D=oe===0){var U=String(u.D).match(Bc)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!so.test(U?U.toLowerCase():"")}w=D}if(w)je(u,"complete"),je(u,"success");else{u.m=6;try{var z=2<Ln(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Yc(u)}}finally{wt(u)}}}}function wt(u,m){if(u.g){ao(u);let w=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||je(u,"ready");try{w.onreadystatechange=D}catch{}}}function ao(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ea(m)}};function Kc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qc(u){let m={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(fe(u[D]))continue;var w=L(u[D]);let U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();let z=m[U]||[];m[U]=z,z.push(w)}V(m,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(u,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||m}function Xo(u){this.Aa=0,this.i=[],this.j=new $t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zo("baseRetryDelayMs",5e3,u),this.cb=Zo("retryDelaySeedMs",1e4,u),this.Wa=Zo("forwardChannelMaxRetries",2,u),this.wa=Zo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Pc(u&&u.concurrentRequestLimit),this.Da=new zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xo.prototype,n.la=8,n.G=1,n.connect=function(u,m,w,D){Bt(0),this.W=u,this.H=m||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.I=Tl(this,null,this.W),ca(this)};function Nr(u){if(la(u),u.G==3){var m=u.U++,w=ci(u.I);if(Et(w,"SID",u.K),Et(w,"RID",m),Et(w,"TYPE","terminate"),tr(u,w),m=new li(u,u.j,m),m.L=2,m.v=oa(ci(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=Sl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ct(m)}Dl(u)}function di(u){u.g&&(nr(u),u.g.cancel(),u.g=null)}function la(u){di(u),u.u&&(a.clearTimeout(u.u),u.u=null),ts(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ca(u){if(!kc(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qr||Tn(),ln||(Qr(),ln=!0),dr.add(m,u),u.B=0}}function Ai(u,m){return Fc(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pr(T(u.Ga,u,m),Il(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let U=new li(this,this.j,u),z=this.o;if(this.S&&(z?(z=R(z),B(z,this.S)):z=this.S),this.m!==null||this.O||(U.H=z,z=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=bl(this,U,m),w=ci(this.I),Et(w,"RID",u),Et(w,"CVER",22),this.D&&Et(w,"X-HTTP-Session-Id",this.D),tr(this,w),z&&(this.O?m="headers="+encodeURIComponent(String(qc(z)))+"&"+m:this.m&&aa(w,this.m,z)),ia(this.h,U),this.Ua&&Et(w,"TYPE","init"),this.P?(Et(w,"$req",m),Et(w,"SID","null"),U.T=!0,At(U,w,null)):At(U,w,m),this.G=2}}else this.G==3&&(u?Jc(this,u):this.i.length==0||kc(this.h)||Jc(this))};function Jc(u,m){var w;m?w=m.l:w=u.U++;let D=ci(u.I);Et(D,"SID",u.K),Et(D,"RID",w),Et(D,"AID",u.T),tr(u,D),u.m&&u.o&&aa(D,u.m,u.o),w=new li(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),m&&(u.i=m.D.concat(u.i)),m=bl(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ia(u.h,w),At(w,D,m)}function tr(u,m){u.H&&me(u.H,function(w,D){Et(m,D,w)}),u.l&&ra({},function(w,D){Et(m,D,w)})}function bl(u,m,w){w=Math.min(u.i.length,w);var D=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let z=-1;for(;;){let oe=["count="+w];z==-1?0<w?(z=U[0].g,oe.push("ofs="+z)):z=0:oe.push("ofs="+z);let ft=!0;for(let rn=0;rn<w;rn++){let tt=U[rn].g,Ue=U[rn].map;if(tt-=z,0>tt)z=Math.max(0,U[rn].g-100),ft=!1;else try{ch(Ue,oe,"req"+tt+"_")}catch{D&&D(Ue)}}if(ft){D=oe.join("&");break e}}}return u=u.i.splice(0,w),m.D=u,D}function Cl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qr||Tn(),ln||(Qr(),ln=!0),dr.add(m,u),u.v=0}}function es(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pr(T(u.Fa,u),Il(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pr(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),di(this),ua(this))};function nr(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ua(u){u.g=new li(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ci(u.qa);Et(m,"RID","rpc"),Et(m,"SID",u.K),Et(m,"AID",u.T),Et(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(m,"TO",u.ja),Et(m,"TYPE","xmlhttp"),tr(u,m),u.m&&u.o&&aa(m,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=oa(ci(m)),w.m=null,w.P=!0,Rc(w,u)}n.Za=function(){this.C!=null&&(this.C=null,di(this),es(this),Bt(19))};function ts(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function El(u,m){var w=null;if(u.g==m){ts(u),nr(u),u.g=null;var D=2}else if(pl(u.h,m))w=m.D,ml(u.h,m),D=1;else return;if(u.G!=0){if(m.o)if(D==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;D=yn(),je(D,new Mc(D,w)),ca(u)}else Cl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(D==1&&Ai(u,m)||D==2&&es(u)))switch(w&&0<w.length&&(m=u.h,m.i=m.i.concat(w)),U){case 1:ir(u,5);break;case 4:ir(u,10);break;case 3:ir(u,6);break;default:ir(u,2)}}}function Il(u,m){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*m}function ir(u,m){if(u.j.info("Error code "+m),m==2){var w=T(u.fb,u),D=u.Xa;let U=!D;D=new vn(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_r(D,"https"),oa(D),U?oo(D.toString(),w):lh(D.toString(),w)}else Bt(2);u.G=0,u.l&&u.l.sa(m),Dl(u),la(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Dl(u){if(u.G=0,u.ka=[],u.l){let m=Lc(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Tl(u,m,w){var D=w instanceof vn?ci(w):new vn(w);if(D.g!="")m&&(D.g=m+"."+D.g),Mn(D,D.s);else{var U=a.location;D=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var z=new vn(null);D&&_r(z,D),m&&(z.g=m),U&&Mn(z,U),w&&(z.l=w),D=z}return w=u.D,m=u.ya,w&&m&&Et(D,w,m),Et(D,"VER",u.la),tr(u,D),D}function Sl(u,m,w){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Mt(new $n({eb:w})):new Mt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Al(){}n=Al.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ns(){}ns.prototype.g=function(u,m){return new qt(u,m)};function qt(u,m){Vt.call(this),this.g=new Xo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!fe(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!fe(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new lo(this)}k(qt,Vt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Nr(this.g)},qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=cl(u),u=w);m.i.push(new Nc(m.Ya++,u)),m.G==3&&ca(m)},qt.prototype.N=function(){this.g.l=null,delete this.j,Nr(this.g),delete this.g,qt.aa.N.call(this)};function Zc(u){he.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(let w in m){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(Zc,he);function Pr(){ul.call(this),this.status=1}k(Pr,ul);function lo(u){this.g=u}k(lo,Al),lo.prototype.ua=function(){je(this.g,"a")},lo.prototype.ta=function(u){je(this.g,new Zc(u))},lo.prototype.sa=function(u){je(this.g,new Pr)},lo.prototype.ra=function(){je(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,DC=$s.createWebChannelTransport=function(){return new ns},IC=$s.getStatEventTarget=function(){return yn()},EC=$s.Event=Ji,p_=$s.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,bf=$s.ErrorCode=Ti,xc.COMPLETE="complete",CC=$s.EventType=xc,ta.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,vd=$s.WebChannel=ta,r6=$s.FetchXmlHttpFactory=$n,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,bC=$s.XhrIo=Mt}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var CO="@firebase/firestore";var kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");var Bd="10.14.0";var pc=new Ua("@firebase/firestore");function Cf(){return pc.logLevel}function we(n,...e){if(pc.logLevel<=ot.DEBUG){let t=e.map(iI);pc.debug(`Firestore (${Bd}): ${n}`,...t)}}function Hs(n,...e){if(pc.logLevel<=ot.ERROR){let t=e.map(iI);pc.error(`Firestore (${Bd}): ${n}`,...t)}}function Td(n,...e){if(pc.logLevel<=ot.WARN){let t=e.map(iI);pc.warn(`Firestore (${Bd}): ${n}`,...t)}}function iI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Oe(n="Unexpected state"){let e=`FIRESTORE (${Bd}) INTERNAL ASSERTION FAILED: `+n;throw Hs(e),new Error(e)}function St(n,e){n||Oe()}function He(n,e){return n}var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ce=class extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var v_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kn.UNAUTHENTICATED))}shutdown(){}},RC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},OC=class{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wr,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>S(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St(typeof i.accessToken=="string"),new v_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new kn(e)}},NC=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},PC=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new NC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},kC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},FC=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){St(this.o===void 0);let i=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new kC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function o6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var w_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=o6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function vt(n,e){return n<e?-1:n>e?1:0}function Sd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Un=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var We=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Un(0,0))}static max(){return new n(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var b_=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(),i===void 0?i=e.length-t:i>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},tn=class n extends b_{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ce(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},s6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cr=class n extends b_{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return s6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new Ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Me=class n{constructor(e){this.path=e}static fromPath(e){return new n(tn.fromString(e))}static fromName(e){return new n(tn.fromString(e).popFirst(5))}static empty(){return new n(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new tn(e.slice()))}};var LC=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};LC.UNKNOWN_ID=-1;function a6(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=We.fromTimestamp(i===1e9?new Un(t+1,0):new Un(t,i));return new mc(r,Me.empty(),e)}function l6(n){return new mc(n.readTime,n.key,-1)}var mc=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(We.min(),Me.empty(),-1)}static max(){return new n(We.max(),Me.empty(),-1)}};function c6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:vt(n.largestBatchId,e.largestBatchId))}var u6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",VC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hf(n){return S(this,null,function*(){if(n.code!==ee.FAILED_PRECONDITION||n.message!==u6)throw n;we("LocalStore","Unexpectedly lost primary lease")})}var re=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let h=c;t(e[h]).next(y=>{s[h]=y,++a,a===o&&i(s)},y=>r(y))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function d6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gf(n){return n.name==="IndexedDbTransactionError"}var eN=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Q_(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function h6(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var f6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jre=[...f6,"documentOverlays"],p6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],m6=p6,g6=[...m6,"indexConfiguration","indexState","indexEntries"];var Zre=[...g6,"globals"];function EO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jd(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var nn=class n{constructor(e,t){this.comparator=e,this.root=t||No.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}},Ed=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},No=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();let e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}};No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,i,r,o){return this}insert(e,t,i){return new No(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xn=class n{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C_(this.data.getIterator())}getIteratorFrom(e){return new C_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},C_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Oo=class n{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xn(cr.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sd(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var E_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ei=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new E_("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ei.EMPTY_BYTE_STRING=new ei("");var _6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(St(!!n),typeof n=="string"){let e=0,t=_6.exec(n);if(St(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(n.seconds),nanos:Gt(n.nanos)}}function Gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ja(n){return typeof n=="string"?ei.fromBase64String(n):ei.fromUint8Array(n)}function rI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function oI(n){let e=n.mapValue.fields.__previous_value__;return rI(e)?oI(e):e}function Mf(n){let e=Gs(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}var BC=class{constructor(e,t,i,r,o,s,a,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=h}},I_=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var m_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rI(n)?4:iN(n)?9007199254740991:nN(n)?10:11:Oe()}function Fo(n,e){if(n===e)return!0;let t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mf(n).isEqual(Mf(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Gs(r.timestampValue),a=Gs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Ja(r.bytesValue).isEqual(Ja(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gt(r.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gt(r.integerValue)===Gt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Gt(r.doubleValue),a=Gt(o.doubleValue);return s===a?Af(s)===Af(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Sd(n.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(EO(s)!==EO(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Fo(s[c],a[c])))return!1;return!0}(n,e);default:return Oe()}}function xf(n,e){return(n.values||[]).find(t=>Fo(t,e))!==void 0}function Ad(n,e){if(n===e)return 0;let t=gc(n),i=gc(e);if(t!==i)return vt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return vt(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Gt(o.integerValue||o.doubleValue),c=Gt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return IO(n.timestampValue,e.timestampValue);case 4:return IO(Mf(n),Mf(e));case 5:return vt(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ja(o),c=Ja(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let h=0;h<a.length&&h<c.length;h++){let y=vt(a[h],c[h]);if(y!==0)return y}return vt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=vt(Gt(o.latitude),Gt(s.latitude));return a!==0?a:vt(Gt(o.longitude),Gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return DO(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,h,y;let _=o.fields||{},T=s.fields||{},x=(a=_.value)===null||a===void 0?void 0:a.arrayValue,k=(c=T.value)===null||c===void 0?void 0:c.arrayValue,G=vt(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((y=k?.values)===null||y===void 0?void 0:y.length)||0);return G!==0?G:DO(x,k)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===m_.mapValue&&s===m_.mapValue)return 0;if(o===m_.mapValue)return 1;if(s===m_.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),h=s.fields||{},y=Object.keys(h);c.sort(),y.sort();for(let _=0;_<c.length&&_<y.length;++_){let T=vt(c[_],y[_]);if(T!==0)return T;let x=Ad(a[c[_]],h[y[_]]);if(x!==0)return x}return vt(c.length,y.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function IO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return vt(n,e);let t=Gs(n),i=Gs(e),r=vt(t.seconds,i.seconds);return r!==0?r:vt(t.nanos,i.nanos)}function DO(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Ad(t[r],i[r]);if(o)return o}return vt(t.length,i.length)}function Md(n){return jC(n)}function jC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Gs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ja(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=jC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${jC(t.fields[s])}`;return r+"}"}(n.mapValue):Oe()}function UC(n){return!!n&&"integerValue"in n}function sI(n){return!!n&&"arrayValue"in n}function TO(n){return!!n&&"nullValue"in n}function SO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function __(n){return!!n&&"mapValue"in n}function nN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function If(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return jd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=If(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=If(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!__(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(t)}setAll(e){let t=cr.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=If(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());__(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];__(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){jd(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(If(this.value))}};function rN(n){let e=[];return jd(n.fields,(t,i)=>{let r=new cr([t]);if(__(i)){let o=rN(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Oo(e)}var Kr=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,We.min(),We.min(),We.min(),qr.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,We.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,We.min(),We.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,We.min(),We.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xd=class{constructor(e,t){this.position=e,this.inclusive=t}};function AO(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(s.referenceValue),t.key):i=Ad(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function MO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fo(n.position[t],e.position[t]))return!1;return!0}var Rd=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function y6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var D_=class{},In=class n extends D_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new HC(e,t,i):t==="array-contains"?new qC(e,i):t==="in"?new WC(e,i):t==="not-in"?new YC(e,i):t==="array-contains-any"?new KC(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new GC(e,i):new zC(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ad(t,this.value)):t!==null&&gc(this.value)===gc(t)&&this.matchesComparison(Ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Lo=class n extends D_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return oN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function oN(n){return n.op==="and"}function sN(n){return v6(n)&&oN(n)}function v6(n){for(let e of n.filters)if(e instanceof Lo)return!1;return!0}function $C(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+Md(n.value);if(sN(n))return n.filters.map(e=>$C(e)).join(",");{let e=n.filters.map(t=>$C(t)).join(",");return`${n.op}(${e})`}}function aN(n,e){return n instanceof In?function(i,r){return r instanceof In&&i.op===r.op&&i.field.isEqual(r.field)&&Fo(i.value,r.value)}(n,e):n instanceof Lo?function(i,r){return r instanceof Lo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&aN(s,r.filters[a]),!0):!1}(n,e):void Oe()}function lN(n){return n instanceof In?function(t){return`${t.field.canonicalString()} ${t.op} ${Md(t.value)}`}(n):n instanceof Lo?function(t){return t.op.toString()+" {"+t.getFilters().map(lN).join(" ,")+"}"}(n):"Filter"}var HC=class extends In{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){let t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}},GC=class extends In{constructor(e,t){super(e,"in",t),this.keys=cN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},zC=class extends In{constructor(e,t){super(e,"not-in",t),this.keys=cN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function cN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Me.fromName(i.referenceValue))}var qC=class extends In{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sI(t)&&xf(t.arrayValue,this.value)}},WC=class extends In{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xf(this.value.arrayValue,t)}},YC=class extends In{constructor(e,t){super(e,"not-in",t)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!xf(this.value.arrayValue,t)}},KC=class extends In{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xf(this.value.arrayValue,i))}};var QC=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function xO(n,e=null,t=[],i=[],r=null,o=null,s=null){return new QC(n,e,t,i,r,o,s)}function aI(n){let e=He(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>$C(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Q_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Md(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Md(i)).join(",")),e.ue=t}return e.ue}function lI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MO(n.startAt,e.startAt)&&MO(n.endAt,e.endAt)}function JC(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Od=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function w6(n,e,t,i,r,o,s,a){return new Od(n,e,t,i,r,o,s,a)}function J_(n){return new Od(n)}function RO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b6(n){return n.collectionGroup!==null}function Df(n){let e=He(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xn(cr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Rd(o,i))}),t.has(cr.keyField().canonicalString())||e.ce.push(new Rd(cr.keyField(),i))}return e.ce}function Po(n){let e=He(n);return e.le||(e.le=C6(e,Df(n))),e.le}function C6(n,e){if(n.limitType==="F")return xO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Rd(r.field,o)});let t=n.endAt?new xd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xd(n.startAt.position,n.startAt.inclusive):null;return xO(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ZC(n,e,t){return new Od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Z_(n,e){return lI(Po(n),Po(e))&&n.limitType===e.limitType}function uN(n){return`${aI(Po(n))}|lt:${n.limitType}`}function wd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>lN(r)).join(", ")}]`),Q_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Md(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Md(r)).join(",")),`Target(${i})`}(Po(n))}; limitType=${n.limitType})`}function X_(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Df(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let h=AO(s,a,c);return s.inclusive?h<=0:h<0}(i.startAt,Df(i),r)||i.endAt&&!function(s,a,c){let h=AO(s,a,c);return s.inclusive?h>=0:h>0}(i.endAt,Df(i),r))}(n,e)}function E6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dN(n){return(e,t)=>{let i=!1;for(let r of Df(n)){let o=I6(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function I6(n,e,t){let i=n.field.isKeyField()?Me.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),h=a.data.field(o);return c!==null&&h!==null?Ad(c,h):Oe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe()}}var Za=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){jd(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return tN(this.inner)}size(){return this.innerSize}};var D6=new nn(Me.comparator);function zs(){return D6}var hN=new nn(Me.comparator);function Ef(...n){let e=hN;for(let t of n)e=e.insert(t.key,t);return e}function fN(n){let e=hN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function dc(){return Tf()}function pN(){return Tf()}function Tf(){return new Za(n=>n.toString(),(n,e)=>n.isEqual(e))}var T6=new nn(Me.comparator),S6=new Xn(Me.comparator);function st(...n){let e=S6;for(let t of n)e=e.add(t);return e}var A6=new Xn(vt);function M6(){return A6}function cI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function mN(n){return{integerValue:""+n}}function x6(n,e){return h6(e)?mN(e):cI(n,e)}var Nd=class{constructor(){this._=void 0}};function R6(n,e,t){return n instanceof Pd?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&rI(o)&&(o=oI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof _c?_N(n,e):n instanceof yc?yN(n,e):function(r,o){let s=gN(r,o),a=OO(s)+OO(r.Pe);return UC(s)&&UC(r.Pe)?mN(a):cI(r.serializer,a)}(n,e)}function O6(n,e,t){return n instanceof _c?_N(n,e):n instanceof yc?yN(n,e):t}function gN(n,e){return n instanceof kd?function(i){return UC(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Pd=class extends Nd{},_c=class extends Nd{constructor(e){super(),this.elements=e}};function _N(n,e){let t=vN(e);for(let i of n.elements)t.some(r=>Fo(r,i))||t.push(i);return{arrayValue:{values:t}}}var yc=class extends Nd{constructor(e){super(),this.elements=e}};function yN(n,e){let t=vN(e);for(let i of n.elements)t=t.filter(r=>!Fo(r,i));return{arrayValue:{values:t}}}var kd=class extends Nd{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function OO(n){return Gt(n.integerValue||n.doubleValue)}function vN(n){return sI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function N6(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof _c&&r instanceof _c||i instanceof yc&&r instanceof yc?Sd(i.elements,r.elements,Fo):i instanceof kd&&r instanceof kd?Fo(i.Pe,r.Pe):i instanceof Pd&&r instanceof Pd}(n.transform,e.transform)}var XC=class{constructor(e,t){this.version=e,this.transformResults=t}},Ka=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function y_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Fd=class{};function wN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new T_(n.key,Ka.none()):new vc(n.key,n.data,Ka.none());{let t=n.data,i=qr.empty(),r=new Xn(cr.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new qs(n.key,i,new Oo(r.toArray()),Ka.none())}}function P6(n,e,t){n instanceof vc?function(r,o,s){let a=r.value.clone(),c=PO(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(r,o,s){if(!y_(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PO(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(bN(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Sf(n,e,t,i){return n instanceof vc?function(o,s,a,c){if(!y_(o.precondition,s))return a;let h=o.value.clone(),y=kO(o.fieldTransforms,c,s);return h.setAll(y),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof qs?function(o,s,a,c){if(!y_(o.precondition,s))return a;let h=kO(o.fieldTransforms,c,s),y=s.data;return y.setAll(bN(o)),y.setAll(h),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(o,s,a){return y_(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function k6(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=gN(i.transform,r||null);o!=null&&(t===null&&(t=qr.empty()),t.set(i.field,o))}return t||null}function NO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sd(i,r,(o,s)=>N6(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var vc=class extends Fd{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},qs=class extends Fd{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function PO(n,e,t){let i=new Map;St(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,O6(s,a,t[r]))}return i}function kO(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,R6(o,s,e))}return i}var T_=class extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},eE=class extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var tE=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&P6(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Sf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=pN();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=wN(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(We.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&Sd(this.mutations,e.mutations,(t,i)=>NO(t,i))&&Sd(this.baseMutations,e.baseMutations,(t,i)=>NO(t,i))}},nE=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){St(e.mutations.length===i.length);let r=function(){return T6}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var iE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var mn,dt;function F6(n){switch(n){default:return Oe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function CN(n){if(n===void 0)return Hs("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mn.OK:return ee.OK;case mn.CANCELLED:return ee.CANCELLED;case mn.UNKNOWN:return ee.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ee.INTERNAL;case mn.UNAVAILABLE:return ee.UNAVAILABLE;case mn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mn.NOT_FOUND:return ee.NOT_FOUND;case mn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mn.ABORTED:return ee.ABORTED;case mn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mn.DATA_LOSS:return ee.DATA_LOSS;default:return Oe()}}(dt=mn||(mn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";var FO=null;function L6(){return new TextEncoder}var V6=new Ya([4294967295,4294967295],0);function LO(n){let e=L6().encode(n),t=new wC;return t.update(e),new Uint8Array(t.digest())}function VO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ya([t,i],0),new Ya([r,o],0)]}var oE=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hc(`Invalid padding: ${t}`);if(i<0)throw new hc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ya.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ya.fromNumber(i)));return r.compare(V6)===1&&(r=new Ya([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=LO(e),[i,r]=VO(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=LO(e),[i,r]=VO(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},hc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var S_=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(We.min(),r,new nn(vt),zs(),st())}},Rf=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,st(),st(),st())}};var Id=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},A_=class{constructor(e,t){this.targetId=e,this.me=t}},M_=class{constructor(e,t,i=ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},x_=class{constructor(){this.fe=0,this.ge=jO(),this.pe=ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),t=st(),i=st();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Oe()}}),new Rf(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jO()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},sE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=zs(),this.qe=BO(),this.Qe=new nn(vt)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(JC(o))if(i===0){let s=new Me(o.path);this.Ue(t,s,Kr.newNoDocument(s,We.min()))}else St(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}FO?.et(function(y,_,T,x,k){var G,$,Z,fe,se,ve;let Ne={localCacheCount:y,existenceFilterCount:_.count,databaseId:T.database,projectId:T.projectId},me=_.unchangedNames;return me&&(Ne.bloomFilter={applied:k===0,hashCount:(G=me?.hashCount)!==null&&G!==void 0?G:0,bitmapLength:(fe=(Z=($=me?.bits)===null||$===void 0?void 0:$.bitmap)===null||Z===void 0?void 0:Z.length)!==null&&fe!==void 0?fe:0,padding:(ve=(se=me?.bits)===null||se===void 0?void 0:se.padding)!==null&&ve!==void 0?ve:0,mightContain:V=>{var R;return(R=x?.mightContain(V))!==null&&R!==void 0&&R}}),Ne}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Ja(i).toUint8Array()}catch(c){if(c instanceof E_)return Td("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new oE(s,r,o)}catch(c){return Td(c instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&JC(a.target)){let c=new Me(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Kr.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=st();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new S_(e,t,this.Qe,this.ke,i);return this.ke=zs(),this.qe=BO(),this.Qe=new nn(vt),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new x_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Xn(vt),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new x_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function BO(){return new nn(Me.comparator)}function jO(){return new nn(Me.comparator)}var B6={asc:"ASCENDING",desc:"DESCENDING"},j6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U6={and:"AND",or:"OR"},aE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function lE(n,e){return n.useProto3Json||Q_(e)?e:{value:e}}function R_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $6(n,e){return R_(n,e.toTimestamp())}function ko(n){return St(!!n),We.fromTimestamp(function(t){let i=Gs(t);return new Un(i.seconds,i.nanos)}(n))}function uI(n,e){return cE(n,e).canonicalString()}function cE(n,e){let t=function(r){return new tn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IN(n){let e=tn.fromString(n);return St(MN(e)),e}function uE(n,e){return uI(n.databaseId,e.path)}function TC(n,e){let t=IN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(TN(t))}function DN(n,e){return uI(n.databaseId,e)}function H6(n){let e=IN(n);return e.length===4?tn.emptyPath():TN(e)}function dE(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TN(n){return St(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function UO(n,e,t){return{name:uE(n,e),fields:t.value.mapValue.fields}}function G6(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,y){return h.useProto3Json?(St(y===void 0||typeof y=="string"),ei.fromBase64String(y||"")):(St(y===void 0||y instanceof Buffer||y instanceof Uint8Array),ei.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(h){let y=h.code===void 0?ee.UNKNOWN:CN(h.code);return new Ce(y,h.message||"")}(s);t=new M_(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=TC(n,i.document.name),o=ko(i.document.updateTime),s=i.document.createTime?ko(i.document.createTime):We.min(),a=new qr({mapValue:{fields:i.document.fields}}),c=Kr.newFoundDocument(r,o,s,a),h=i.targetIds||[],y=i.removedTargetIds||[];t=new Id(h,y,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=TC(n,i.document),o=i.readTime?ko(i.readTime):We.min(),s=Kr.newNoDocument(r,o),a=i.removedTargetIds||[];t=new Id([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=TC(n,i.document),o=i.removedTargetIds||[];t=new Id([],o,r,null)}else{if(!("filter"in e))return Oe();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new rE(r,o),a=i.targetId;t=new A_(a,s)}}return t}function z6(n,e){let t;if(e instanceof vc)t={update:UO(n,e.key,e.value)};else if(e instanceof T_)t={delete:uE(n,e.key)};else if(e instanceof qs)t={update:UO(n,e.key,e.data),updateMask:e8(e.fieldMask)};else{if(!(e instanceof eE))return Oe();t={verify:uE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Pd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _c)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Oe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:$6(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe()}(n,e.precondition)),t}function q6(n,e){return n&&n.length>0?(St(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?ko(r.updateTime):ko(o);return s.isEqual(We.min())&&(s=ko(o)),new XC(s,r.transformResults||[])}(t,e))):[]}function W6(n,e){return{documents:[DN(n,e.path)]}}function Y6(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DN(n,r);let o=function(h){if(h.length!==0)return AN(Lo.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(h){if(h.length!==0)return h.map(y=>function(T){return{field:bd(T.field),direction:J6(T.dir)}}(y))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=lE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:r}}function K6(n){let e=H6(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){St(i===1);let y=t.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){let T=SN(_);return T instanceof Lo&&sN(T)?T.getFilters():[T]}(t.where));let s=[];t.orderBy&&(s=function(_){return _.map(T=>function(k){return new Rd(Cd(k.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let a=null;t.limit&&(a=function(_){let T;return T=typeof _=="object"?_.value:_,Q_(T)?null:T}(t.limit));let c=null;t.startAt&&(c=function(_){let T=!!_.before,x=_.values||[];return new xd(x,T)}(t.startAt));let h=null;return t.endAt&&(h=function(_){let T=!_.before,x=_.values||[];return new xd(x,T)}(t.endAt)),w6(e,r,s,o,a,"F",c,h)}function Q6(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Cd(t.unaryFilter.field);return In.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Cd(t.unaryFilter.field);return In.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Cd(t.unaryFilter.field);return In.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Cd(t.unaryFilter.field);return In.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return In.create(Cd(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lo.create(t.compositeFilter.filters.map(i=>SN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function J6(n){return B6[n]}function Z6(n){return j6[n]}function X6(n){return U6[n]}function bd(n){return{fieldPath:n.canonicalString()}}function Cd(n){return cr.fromServerFormat(n.fieldPath)}function AN(n){return n instanceof In?function(t){if(t.op==="=="){if(SO(t.value))return{unaryFilter:{field:bd(t.field),op:"IS_NAN"}};if(TO(t.value))return{unaryFilter:{field:bd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SO(t.value))return{unaryFilter:{field:bd(t.field),op:"IS_NOT_NAN"}};if(TO(t.value))return{unaryFilter:{field:bd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bd(t.field),op:Z6(t.op),value:t.value}}}(n):n instanceof Lo?function(t){let i=t.getFilters().map(r=>AN(r));return i.length===1?i[0]:{compositeFilter:{op:X6(t.op),filters:i}}}(n):Oe()}function e8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Of=class n{constructor(e,t,i,r,o=We.min(),s=We.min(),a=ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hE=class{constructor(e){this.ct=e}};function t8(n){let e=K6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ZC(e,e.limit,"L"):e}var O_=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Gt(e.integerValue));else if("doubleValue"in e){let i=Gt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Af(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Gs(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ja(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?iN(e)?this.dt(t,Number.MAX_SAFE_INTEGER):nN(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Oe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Gt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),Me.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};O_.vt=new O_;var fE=class{constructor(){this.un=new pE}addToCollectionParentIndex(e,t){return this.un.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(mc.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(mc.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}},pE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Xn(tn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xn(tn.comparator)).toArray()}};var eoe=new Uint8Array(0);var Ro=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);var Nf=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var mE=class{constructor(){this.changes=new Za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var _E=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Sf(i.mutation,r,Oo.empty(),Un.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,st()).next(()=>i))}getLocalViewOfDocuments(e,t,i=st()){let r=dc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Ef();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=dc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,st()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=zs(),s=Tf(),a=function(){return Tf()}();return t.forEach((c,h)=>{let y=i.get(h.key);r.has(h.key)&&(y===void 0||y.mutation instanceof qs)?o=o.insert(h.key,h):y!==void 0?(s.set(h.key,y.mutation.getFieldMask()),Sf(y.mutation,h,y.mutation.getFieldMask(),Un.now())):s.set(h.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,y)=>s.set(h,y)),t.forEach((h,y)=>{var _;return a.set(h,new gE(y,(_=s.get(h))!==null&&_!==void 0?_:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Tf(),r=new nn((s,a)=>s-a),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let h=t.get(c);if(h===null)return;let y=i.get(c)||Oo.empty();y=a.applyToLocalView(h,y),i.set(c,y);let _=(r.get(a.batchId)||st()).add(c);r=r.insert(a.batchId,_)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),h=c.key,y=c.value,_=pN();y.forEach(T=>{if(!o.has(T)){let x=wN(t.get(T),i.get(T));x!==null&&_.set(T,x),o=o.add(T)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,_))}return re.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):re.resolve(dc()),a=-1,c=o;return s.next(h=>re.forEach(h,(y,_)=>(a<_.largestBatchId&&(a=_.largestBatchId),o.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{c=c.insert(y,T)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,st())).next(y=>({batchId:a,changes:fN(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(i=>{let r=Ef();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Ef();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,c=>{let h=function(_,T){return new Od(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(y=>{y.forEach((_,T)=>{s=s.insert(_,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,h)=>{let y=h.getKey();s.get(y)===null&&(s=s.insert(y,Kr.newInvalidDocument(y)))});let a=Ef();return s.forEach((c,h)=>{let y=o.get(c);y!==void 0&&Sf(y.mutation,h,Oo.empty(),Un.now()),X_(t,h)&&(a=a.insert(c,h))}),a})}};var yE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return re.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:ko(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:t8(r.bundledQuery),readTime:ko(r.readTime)}}(t)),re.resolve()}};var vE=class{constructor(){this.overlays=new nn(Me.comparator),this.Ir=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){let i=dc();return re.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),re.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){let r=dc(),o=t.length+1,s=new Me(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new nn((h,y)=>h-y),s=this.overlays.getIterator();for(;s.hasNext();){let h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let y=o.get(h.largestBatchId);y===null&&(y=dc(),o=o.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}let a=dc(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,y)=>a.set(h,y)),!(a.size()>=r)););return re.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new iE(t,i));let o=this.Ir.get(t);o===void 0&&(o=st(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var wE=class{constructor(){this.sessionToken=ei.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}};var Pf=class{constructor(){this.Tr=new Xn(gn.Er),this.dr=new Xn(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new gn(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new gn(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new Me(new tn([])),i=new gn(t,e),r=new gn(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Me(new tn([])),i=new gn(t,e),r=new gn(t,e+1),o=st();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new gn(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},gn=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Me.comparator(e.key,t.key)||vt(e.wr,t.wr)}static Ar(e,t){return vt(e.wr,t.wr)||Me.comparator(e.key,t.key)}};var bE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Xn(gn.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new tE(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new gn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,t){return re.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new gn(t,0),r=new gn(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xn(vt);return t.forEach(r=>{let o=new gn(r,0),s=new gn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),re.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;Me.isDocumentKey(o)||(o=o.child(""));let s=new gn(new Me(o),0),a=new Xn(vt);return this.br.forEachWhile(c=>{let h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(a=a.add(c.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){St(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return re.forEach(t.mutations,r=>{let o=new gn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new gn(t,0),r=this.br.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var CE=class{constructor(e){this.Mr=e,this.docs=function(){return new nn(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let i=zs();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kr.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=zs(),s=t.path,a=new Me(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:h,value:{document:y}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||c6(l6(y),i)<=0||(r.has(y.key)||X_(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Oe()}Or(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EE(this)}getSize(e){return re.resolve(this.size)}},EE=class extends mE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var IE=class{constructor(e){this.persistence=e,this.Nr=new Za(t=>aI(t),lI),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pf,this.targetCount=0,this.kr=Nf.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),re.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Nf(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Kn(t),re.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),re.waitFor(o).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),re.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Br.containsKey(t))}};var DE=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new eN(0),this.Kr=!1,this.Kr=!0,this.$r=new wE,this.referenceDelegate=e(this),this.Ur=new IE(this),this.indexManager=new fE,this.remoteDocumentCache=function(r){return new CE(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new hE(t),this.Gr=new yE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new bE(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){we("MemoryPersistence","Starting transaction:",e);let r=new TE(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return re.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},TE=class extends VC{constructor(e){super(),this.currentSequenceNumber=e}},SE=class n{constructor(e){this.persistence=e,this.Jr=new Pf,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),re.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,i=>{let r=Me.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,We.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return re.or([()=>re.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var AE=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=st(),r=st();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var ME=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iR()?8:d6(Pn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ME;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Cf()<=ot.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",wd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(Cf()<=ot.DEBUG&&we("QueryEngine","Query:",wd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Cf()<=ot.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",wd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Po(t))):re.resolve())}Yi(e,t){if(RO(t))return re.resolve(null);let i=Po(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=ZC(t,null,"F"),i=Po(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=st(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let h=this.ts(t,a);return this.ns(t,h,s,c.readTime)?this.Yi(e,ZC(t,null,"F")):this.rs(e,h,t,c)}))})))}Zi(e,t,i,r){return RO(t)||r.isEqual(We.min())?re.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?re.resolve(null):(Cf()<=ot.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wd(t)),this.rs(e,s,t,a6(r,-1)).next(a=>a))})}ts(e,t){let i=new Xn(dN(e));return t.forEach((r,o)=>{X_(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return Cf()<=ot.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",wd(t)),this.Ji.getDocumentsMatchingQuery(e,t,mc.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var RE=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new nn(vt),this._s=new Za(o=>aI(o),lI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _E(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function n8(n,e,t,i){return new RE(n,e,t,i)}function xN(n,e){return S(this,null,function*(){let t=He(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=st();for(let h of r){s.push(h.batchId);for(let y of h.mutations)c=c.add(y.key)}for(let h of o){a.push(h.batchId);for(let y of h.mutations)c=c.add(y.key)}return t.localDocuments.getDocuments(i,c).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:a}))})})})}function i8(n,e){let t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,h,y){let _=h.batch,T=_.keys(),x=re.resolve();return T.forEach(k=>{x=x.next(()=>y.getEntry(c,k)).next(G=>{let $=h.docVersions.get(k);St($!==null),G.version.compareTo($)<0&&(_.applyToRemoteDocument(G,h),G.isValidDocument()&&(G.setReadTime(h.commitVersion),y.addEntry(G)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(c,_))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=st();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(c=c.add(a.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function RN(n){let e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function r8(n,e){let t=He(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((y,_)=>{let T=r.get(_);if(!T)return;a.push(t.Ur.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.Ur.addMatchingKeys(o,y.addedDocuments,_)));let x=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(ei.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),r=r.insert(_,x),function(G,$,Z){return G.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(T,x,y)&&a.push(t.Ur.updateTargetData(o,x))});let c=zs(),h=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),a.push(o8(o,s,e.documentUpdates).next(y=>{c=y.Ps,h=y.Is})),!i.isEqual(We.min())){let y=t.Ur.getLastRemoteSnapshotVersion(o).next(_=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(y)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,h)).next(()=>c)}).then(o=>(t.os=r,o))}function o8(n,e,t){let i=st(),r=st();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=zs();return t.forEach((a,c)=>{let h=o.get(a);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(We.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function s8(n,e){let t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function a8(n,e){let t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,re.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new Of(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function OE(n,e,t){return S(this,null,function*(){let i=He(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Gf(s))throw s;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function $O(n,e,t){let i=He(n),r=We.min(),o=st();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,y){let _=He(c),T=_._s.get(y);return T!==void 0?re.resolve(_.os.get(T)):_.Ur.getTargetData(h,y)}(i,s,Po(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:We.min(),t?o:st())).next(a=>(l8(i,E6(e),a),{documents:a,Ts:o})))}function l8(n,e,t){let i=n.us.get(e)||We.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}var N_=class{constructor(){this.activeTargetIds=M6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var NE=class{constructor(){this.so=new N_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new N_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var PE=class{_o(e){}shutdown(){}};var P_=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var g_=null;function SC(){return g_===null?g_=function(){return 268435456+Math.round(2147483648*Math.random())}():g_++,"0x"+g_.toString(16)}var c8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var kE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Zn="WebChannelConnection",FE=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let a=SC(),c=this.xo(t,i.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(t,c,h,r).then(y=>(we("RestConnection",`Received RPC '${t}' ${a}: `,y),y),y=>{throw Td("RestConnection",`RPC '${t}' ${a} failed with error: `,y,"url: ",c,"request:",r),y})}Lo(t,i,r,o,s,a){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=c8[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=SC();return new Promise((s,a)=>{let c=new bC;c.setWithCredentials(!0),c.listenOnce(CC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case bf.NO_ERROR:let y=c.getResponseJson();we(Zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),s(y);break;case bf.TIMEOUT:we(Zn,`RPC '${e}' ${o} timed out`),a(new Ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:let _=c.getStatus();if(we(Zn,`RPC '${e}' ${o} failed with status:`,_,"response text:",c.getResponseText()),_>0){let T=c.getResponseJson();Array.isArray(T)&&(T=T[0]);let x=T?.error;if(x&&x.status&&x.message){let k=function($){let Z=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN}(x.status);a(new Ce(k,x.message))}else a(new Ce(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ce(ee.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{we(Zn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);we(Zn,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",h,i,15)})}Bo(e,t,i){let r=SC(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DC(),a=IC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let y=o.join("");we(Zn,`Creating RPC '${e}' stream ${r}: ${y}`,c);let _=s.createWebChannel(y,c),T=!1,x=!1,k=new kE({Io:$=>{x?we(Zn,`Not sending because RPC '${e}' stream ${r} is closed:`,$):(T||(we(Zn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),T=!0),we(Zn,`RPC '${e}' stream ${r} sending:`,$),_.send($))},To:()=>_.close()}),G=($,Z,fe)=>{$.listen(Z,se=>{try{fe(se)}catch(ve){setTimeout(()=>{throw ve},0)}})};return G(_,vd.EventType.OPEN,()=>{x||(we(Zn,`RPC '${e}' stream ${r} transport opened.`),k.yo())}),G(_,vd.EventType.CLOSE,()=>{x||(x=!0,we(Zn,`RPC '${e}' stream ${r} transport closed`),k.So())}),G(_,vd.EventType.ERROR,$=>{x||(x=!0,Td(Zn,`RPC '${e}' stream ${r} transport errored:`,$),k.So(new Ce(ee.UNAVAILABLE,"The operation could not be completed")))}),G(_,vd.EventType.MESSAGE,$=>{var Z;if(!x){let fe=$.data[0];St(!!fe);let se=fe,ve=se.error||((Z=se[0])===null||Z===void 0?void 0:Z.error);if(ve){we(Zn,`RPC '${e}' stream ${r} received error:`,ve);let Ne=ve.status,me=function(O){let B=mn[O];if(B!==void 0)return CN(B)}(Ne),V=ve.message;me===void 0&&(me=ee.INTERNAL,V="Unknown error status: "+Ne+" with message "+ve.message),x=!0,k.So(new Ce(me,V)),_.close()}else we(Zn,`RPC '${e}' stream ${r} received:`,fe),k.bo(fe)}}),G(a,EC.STAT_EVENT,$=>{$.stat===p_.PROXY?we(Zn,`RPC '${e}' stream ${r} detected buffering proxy`):$.stat===p_.NOPROXY&&we(Zn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}};function AC(){return typeof document<"u"?document:null}function e0(n){return new aE(n,!0)}var k_=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&we("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var F_=class{constructor(e,t,i,r,o,s,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new k_(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Hs(t.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new Ce(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},LE=class extends F_{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=G6(this.serializer,e),i=function(o){if(!("targetChange"in o))return We.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?ko(s.readTime):We.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=dE(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=JC(c)?{documents:W6(o,c)}:{query:Y6(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EN(o,s.resumeToken);let h=lE(o,s.expectedCount);h!==null&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(We.min())>0){a.readTime=R_(o,s.snapshotVersion.toTimestamp());let h=lE(o,s.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);let i=Q6(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=dE(this.serializer),t.removeTarget=e,this.a_(t)}},VE=class extends F_{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=q6(e.writeResults,e.commitTime),i=ko(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=dE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>z6(this.serializer,i))};this.a_(t)}};var BE=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,cE(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(ee.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,cE(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ee.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},jE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hs(t),this.D_=!1):we("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var UE=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>S(this,null,function*(){wc(this)&&(we("RemoteStore","Restarting streams for network reachability change."),yield function(c){return S(this,null,function*(){let h=He(c);h.L_.add(4),yield zf(h),h.q_.set("Unknown"),h.L_.delete(4),yield t0(h)})}(this))}))}),this.q_=new jE(i,r)}};function t0(n){return S(this,null,function*(){if(wc(n))for(let e of n.B_)yield e(!0)})}function zf(n){return S(this,null,function*(){for(let e of n.B_)yield e(!1)})}function ON(n,e){let t=He(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),pI(t)?fI(t):Ud(t).r_()&&hI(t,e))}function dI(n,e){let t=He(n),i=Ud(t);t.N_.delete(e),i.r_()&&NN(t,e),t.N_.size===0&&(i.r_()?i.o_():wc(t)&&t.q_.set("Unknown"))}function hI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ud(n).A_(e)}function NN(n,e){n.Q_.xe(e),Ud(n).R_(e)}function fI(n){n.Q_=new sE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ud(n).start(),n.q_.v_()}function pI(n){return wc(n)&&!Ud(n).n_()&&n.N_.size>0}function wc(n){return He(n).L_.size===0}function PN(n){n.Q_=void 0}function u8(n){return S(this,null,function*(){n.q_.set("Online")})}function d8(n){return S(this,null,function*(){n.N_.forEach((e,t)=>{hI(n,e)})})}function h8(n,e){return S(this,null,function*(){PN(n),pI(n)?(n.q_.M_(e),fI(n)):n.q_.set("Unknown")})}function f8(n,e,t){return S(this,null,function*(){if(n.q_.set("Online"),e instanceof M_&&e.state===2&&e.cause)try{yield function(r,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield L_(n,i)}else if(e instanceof Id?n.Q_.Ke(e):e instanceof A_?n.Q_.He(e):n.Q_.We(e),!t.isEqual(We.min()))try{let i=yield RN(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){let y=o.N_.get(h);y&&o.N_.set(h,y.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,h)=>{let y=o.N_.get(c);if(!y)return;o.N_.set(c,y.withResumeToken(ei.EMPTY_BYTE_STRING,y.snapshotVersion)),NN(o,c);let _=new Of(y.target,c,h,y.sequenceNumber);hI(o,_)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){we("RemoteStore","Failed to raise snapshot:",i),yield L_(n,i)}})}function L_(n,e,t){return S(this,null,function*(){if(!Gf(e))throw e;n.L_.add(1),yield zf(n),n.q_.set("Offline"),t||(t=()=>RN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){we("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield t0(n)}))})}function kN(n,e){return e().catch(t=>L_(n,t,e))}function n0(n){return S(this,null,function*(){let e=He(n),t=Xa(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p8(e);)try{let r=yield s8(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,m8(e,r)}catch(r){yield L_(e,r)}FN(e)&&LN(e)})}function p8(n){return wc(n)&&n.O_.length<10}function m8(n,e){n.O_.push(e);let t=Xa(n);t.r_()&&t.V_&&t.m_(e.mutations)}function FN(n){return wc(n)&&!Xa(n).n_()&&n.O_.length>0}function LN(n){Xa(n).start()}function g8(n){return S(this,null,function*(){Xa(n).p_()})}function _8(n){return S(this,null,function*(){let e=Xa(n);for(let t of n.O_)e.m_(t.mutations)})}function y8(n,e,t){return S(this,null,function*(){let i=n.O_.shift(),r=nE.from(i,e,t);yield kN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield n0(n)})}function v8(n,e){return S(this,null,function*(){e&&Xa(n).V_&&(yield function(i,r){return S(this,null,function*(){if(function(s){return F6(s)&&s!==ee.ABORTED}(r.code)){let o=i.O_.shift();Xa(i).s_(),yield kN(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield n0(i)}})}(n,e)),FN(n)&&LN(n)})}function HO(n,e){return S(this,null,function*(){let t=He(n);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");let i=wc(t);t.L_.add(3),yield zf(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield t0(t)})}function w8(n,e){return S(this,null,function*(){let t=He(n);e?(t.L_.delete(2),yield t0(t)):e||(t.L_.add(2),yield zf(t),t.q_.set("Unknown"))})}function Ud(n){return n.K_||(n.K_=function(t,i,r){let o=He(t);return o.w_(),new LE(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:u8.bind(null,n),Ro:d8.bind(null,n),mo:h8.bind(null,n),d_:f8.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.K_.s_(),pI(n)?fI(n):n.q_.set("Unknown")):(yield n.K_.stop(),PN(n))}))),n.K_}function Xa(n){return n.U_||(n.U_=function(t,i,r){let o=He(t);return o.w_(),new VE(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:g8.bind(null,n),mo:v8.bind(null,n),f_:_8.bind(null,n),g_:y8.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.U_.s_(),yield n0(n)):(yield n.U_.stop(),n.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var $E=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mI(n,e){if(Hs("AsyncQueue",`${e}: ${n}`),Gf(n))return new Ce(ee.UNAVAILABLE,`${e}: ${n}`);throw n}var V_=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=Ef(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var B_=class{constructor(){this.W_=new nn(Me.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Ld=class n{constructor(e,t,i,r,o,s,a,c,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,V_.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Z_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var HE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},GE=class{constructor(){this.queries=GO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=He(t),o=r.queries;r.queries=GO(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new Ce(ee.ABORTED,"Firestore shutting down"))}};function GO(){return new Za(n=>uN(n),Z_)}function gI(n,e){return S(this,null,function*(){let t=He(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new HE,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=mI(s,`Initialization of query '${wd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&yI(t)})}function _I(n,e){return S(this,null,function*(){let t=He(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function b8(n,e){let t=He(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&yI(t)}function C8(n,e,t){let i=He(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function yI(n){n.Y_.forEach(e=>{e.next()})}var zE,zO;(zO=zE||(zE={})).ea="default",zO.Cache="cache";var kf=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ld(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zE.Cache}};var j_=class{constructor(e){this.key=e}},U_=class{constructor(e){this.key=e}},qE=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=dN(e),this.Ra=new V_(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new B_,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,_)=>{let T=r.get(y),x=X_(this.query,_)?_:null,k=!!T&&this.mutatedKeys.has(T.key),G=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations),$=!1;T&&x?T.data.isEqual(x.data)?k!==G&&(i.track({type:3,doc:x}),$=!0):this.ga(T,x)||(i.track({type:2,doc:x}),$=!0,(c&&this.Aa(x,c)>0||h&&this.Aa(x,h)<0)&&(a=!0)):!T&&x?(i.track({type:0,doc:x}),$=!0):T&&!x&&(i.track({type:1,doc:T}),$=!0,(c||h)&&(a=!0)),$&&(x?(s=s.add(x),o=G?o.add(y):o.delete(y)):(s=s.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let y=this.query.limitType==="F"?s.last():s.first();s=s.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((y,_)=>function(x,k){let G=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return G(x)-G(k)}(y.type,_.type)||this.Aa(y.doc,_.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,h=c!==this.Ea;return this.Ea=c,s.length!==0||h?{snapshot:new Ld(this.query,e.Ra,o,s,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new B_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=st(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new U_(i))}),this.da.forEach(i=>{e.has(i)||t.push(new j_(i))}),t}ba(e){this.Ta=e.Ts,this.da=st();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ld.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},WE=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},YE=class{constructor(e){this.key=e,this.va=!1}},KE=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Za(a=>uN(a),Z_),this.Ma=new Map,this.xa=new Set,this.Oa=new nn(Me.comparator),this.Na=new Map,this.La=new Pf,this.Ba={},this.ka=new Map,this.qa=Nf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function E8(n,e,t=!0){return S(this,null,function*(){let i=HN(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield VN(i,e,t,!0),r})}function I8(n,e){return S(this,null,function*(){let t=HN(n);yield VN(t,e,!0,!1)})}function VN(n,e,t,i){return S(this,null,function*(){let r=yield a8(n.localStore,Po(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield D8(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&ON(n.remoteStore,r),a})}function D8(n,e,t,i,r){return S(this,null,function*(){n.Ka=(_,T,x)=>function(G,$,Z,fe){return S(this,null,function*(){let se=$.view.ma(Z);se.ns&&(se=yield $O(G.localStore,$.query,!1).then(({documents:V})=>$.view.ma(V,se)));let ve=fe&&fe.targetChanges.get($.targetId),Ne=fe&&fe.targetMismatches.get($.targetId)!=null,me=$.view.applyChanges(se,G.isPrimaryClient,ve,Ne);return WO(G,$.targetId,me.wa),me.snapshot})}(n,_,T,x);let o=yield $O(n.localStore,e,!0),s=new qE(e,o.Ts),a=s.ma(o.documents),c=Rf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=s.applyChanges(a,n.isPrimaryClient,c);WO(n,t,h.wa);let y=new WE(e,t,s);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),h.snapshot})}function T8(n,e,t){return S(this,null,function*(){let i=He(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!Z_(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield OE(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&dI(i.remoteStore,r.targetId),QE(i,r.targetId)}).catch(Hf))):(QE(i,r.targetId),yield OE(i.localStore,r.targetId,!0))})}function S8(n,e){return S(this,null,function*(){let t=He(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dI(t.remoteStore,i.targetId))})}function A8(n,e,t){return S(this,null,function*(){let i=k8(n);try{let r=yield function(s,a){let c=He(s),h=Un.now(),y=a.reduce((x,k)=>x.add(k.key),st()),_,T;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=zs(),G=st();return c.cs.getEntries(x,y).next($=>{k=$,k.forEach((Z,fe)=>{fe.isValidDocument()||(G=G.add(Z))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,k)).next($=>{_=$;let Z=[];for(let fe of a){let se=k6(fe,_.get(fe.key).overlayedDocument);se!=null&&Z.push(new qs(fe.key,se,rN(se.value.mapValue),Ka.exists(!0)))}return c.mutationQueue.addMutationBatch(x,h,Z,a)}).next($=>{T=$;let Z=$.applyToLocalDocumentSet(_,G);return c.documentOverlayCache.saveOverlays(x,$.batchId,Z)})}).then(()=>({batchId:T.batchId,changes:fN(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let h=s.Ba[s.currentUser.toKey()];h||(h=new nn(vt)),h=h.insert(a,c),s.Ba[s.currentUser.toKey()]=h}(i,r.batchId,t),yield qf(i,r.changes),yield n0(i.remoteStore)}catch(r){let o=mI(r,"Failed to persist write");t.reject(o)}})}function BN(n,e){return S(this,null,function*(){let t=He(n);try{let i=yield r8(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?St(s.va):r.removedDocuments.size>0&&(St(s.va),s.va=!1))}),yield qf(t,i,e)}catch(i){yield Hf(i)}})}function qO(n,e,t){let i=He(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=He(s);c.onlineState=a;let h=!1;c.queries.forEach((y,_)=>{for(let T of _.j_)T.Z_(a)&&(h=!0)}),h&&yI(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function M8(n,e,t){return S(this,null,function*(){let i=He(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new nn(Me.comparator);s=s.insert(o,Kr.newNoDocument(o,We.min()));let a=st().add(o),c=new S_(We.min(),new Map,new nn(vt),s,a);yield BN(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),vI(i)}else yield OE(i.localStore,e,!1).then(()=>QE(i,e,t)).catch(Hf)})}function x8(n,e){return S(this,null,function*(){let t=He(n),i=e.batch.batchId;try{let r=yield i8(t.localStore,e);UN(t,i,null),jN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield qf(t,r)}catch(r){yield Hf(r)}})}function R8(n,e,t){return S(this,null,function*(){let i=He(n);try{let r=yield function(s,a){let c=He(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let y;return c.mutationQueue.lookupMutationBatch(h,a).next(_=>(St(_!==null),y=_.keys(),c.mutationQueue.removeMutationBatch(h,_))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,y,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y)).next(()=>c.localDocuments.getDocuments(h,y))})}(i.localStore,e);UN(i,e,t),jN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield qf(i,r)}catch(r){yield Hf(r)}})}function jN(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function UN(n,e,t){let i=He(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function QE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||$N(n,i)})}function $N(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(dI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),vI(n))}function WO(n,e,t){for(let i of t)i instanceof j_?(n.La.addReference(i.key,e),O8(n,i)):i instanceof U_?(we("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||$N(n,i.key)):Oe()}function O8(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(we("SyncEngine","New document in limbo: "+t),n.xa.add(i),vI(n))}function vI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Me(tn.fromString(e)),i=n.qa.next();n.Na.set(i,new YE(t)),n.Oa=n.Oa.insert(t,i),ON(n.remoteStore,new Of(Po(J_(t.path)),i,"TargetPurposeLimboResolution",eN.oe))}}function qf(n,e,t){return S(this,null,function*(){let i=He(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,e,t).then(h=>{var y;if((h||t)&&i.isPrimaryClient){let _=h?!h.fromCache:(y=t?.targetChanges.get(c.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(h){r.push(h);let _=AE.Wi(c.targetId,h);o.push(_)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,h){return S(this,null,function*(){let y=He(c);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(h,T=>re.forEach(T.$i,x=>y.persistence.referenceDelegate.addReference(_,T.targetId,x)).next(()=>re.forEach(T.Ui,x=>y.persistence.referenceDelegate.removeReference(_,T.targetId,x)))))}catch(_){if(!Gf(_))throw _;we("LocalStore","Failed to update sequence numbers: "+_)}for(let _ of h){let T=_.targetId;if(!_.fromCache){let x=y.os.get(T),k=x.snapshotVersion,G=x.withLastLimboFreeSnapshotVersion(k);y.os=y.os.insert(T,G)}}})}(i.localStore,o))})}function N8(n,e){return S(this,null,function*(){let t=He(n);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());let i=yield xN(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Ce(ee.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield qf(t,i.hs)}})}function P8(n,e){let t=He(n),i=t.Na.get(e);if(i&&i.va)return st().add(i.key);{let r=st(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let a=t.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function HN(n){let e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M8.bind(null,e),e.Ca.d_=b8.bind(null,e.eventManager),e.Ca.$a=C8.bind(null,e.eventManager),e}function k8(n){let e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R8.bind(null,e),e}var YO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=e0(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return n8(this.persistence,new xE,t.initialUser,this.serializer)}Ga(t){return new DE(SE.Zr,this.serializer)}Wa(t){return new NE}terminate(){return S(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var F8=(()=>{class n{initialize(t,i){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N8.bind(null,this.syncEngine),yield w8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new GE}()}createDatastore(t){let i=e0(t.databaseInfo.databaseId),r=function(s){return new FE(s)}(t.databaseInfo);return function(s,a,c,h){return new BE(s,a,c,h)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,a,c){return new UE(r,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>qO(this.syncEngine,i,0),function(){return P_.D()?new P_:new PE}())}createSyncEngine(t,i){return function(o,s,a,c,h,y,_){let T=new KE(o,s,a,c,h,y);return _&&(T.Qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return S(this,null,function*(){var t,i;yield function(o){return S(this,null,function*(){let s=He(o);we("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield zf(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Ff=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var JE=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=kn.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>S(this,null,function*(){we("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(we("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=mI(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function MC(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>S(this,null,function*(){i.isEqual(r)||(yield xN(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function KO(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield L8(n);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>HO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>HO(e.remoteStore,r)),n._onlineComponents=e})}function L8(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield MC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ee.FAILED_PRECONDITION||r.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Td("Error using user provided cache. Falling back to memory cache: "+t),yield MC(n,new YO)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield MC(n,new YO);return n._offlineComponents})}function GN(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield KO(n,n._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield KO(n,new F8))),n._onlineComponents})}function V8(n){return GN(n).then(e=>e.syncEngine)}function $_(n){return S(this,null,function*(){let e=yield GN(n),t=e.eventManager;return t.onListen=E8.bind(null,e.syncEngine),t.onUnlisten=T8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S8.bind(null,e.syncEngine),t})}function B8(n,e,t={}){let i=new Wr;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,c,h){let y=new Ff({next:T=>{y.Za(),s.enqueueAndForget(()=>_I(o,_));let x=T.docs.has(a);!x&&T.fromCache?h.reject(new Ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&c&&c.source==="server"?h.reject(new Ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(T)},error:T=>h.reject(T)}),_=new kf(J_(a.path),y,{includeMetadataChanges:!0,_a:!0});return gI(o,_)}(yield $_(n),n.asyncQueue,e,t,i)})),i.promise}function j8(n,e,t={}){let i=new Wr;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,c,h){let y=new Ff({next:T=>{y.Za(),s.enqueueAndForget(()=>_I(o,_)),T.fromCache&&c.source==="server"?h.reject(new Ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(T)},error:T=>h.reject(T)}),_=new kf(a,y,{includeMetadataChanges:!0,_a:!0});return gI(o,_)}(yield $_(n),n.asyncQueue,e,t,i)})),i.promise}function zN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var QO=new Map;function qN(n,e,t){if(!t)throw new Ce(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U8(n,e,t,i){if(e===!0&&i===!0)throw new Ce(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JO(n){if(!Me.isDocumentKey(n))throw new Ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZO(n){if(Me.isDocumentKey(n))throw new Ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=wI(n);throw new Ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var H_=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zN((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vd=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xC;switch(i.type){case"firstParty":return new PC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=QO.get(t);i&&(we("ComponentProvider","Removing Datastore"),QO.delete(t),i.terminate())}(this),Promise.resolve()}};function WN(n,e,t,i={}){var r;let o=(n=Yr(n,Vd))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Td("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=kn.MOCK_USER;else{a=Ug(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kn(h)}n._authCredentials=new RC(new v_(a,c))}}var Lf=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Bi=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Qa=class n extends Lf{constructor(e,t,i){super(e,t,J_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new Me(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function YN(n,e,...t){if(n=fn(n),qN("collection","path",e),n instanceof Vd){let i=tn.fromString(e,...t);return ZO(i),new Qa(n,null,i)}{if(!(n instanceof Bi||n instanceof Qa))throw new Ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(tn.fromString(e,...t));return ZO(i),new Qa(n.firestore,null,i)}}function bI(n,e,...t){if(n=fn(n),arguments.length===1&&(e=w_.newId()),qN("doc","path",e),n instanceof Vd){let i=tn.fromString(e,...t);return JO(i),new Bi(n,null,new Me(i))}{if(!(n instanceof Bi||n instanceof Qa))throw new Ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(tn.fromString(e,...t));return JO(i),new Bi(n.firestore,n instanceof Qa?n.converter:null,new Me(i))}}var G_=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new k_(this,"async_queue_retry"),this.Vu=()=>{let i=AC();i&&we("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=AC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=AC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Wr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Gf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Hs("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=$E.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function XO(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ws=class extends Vd{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new G_,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,yield e}})}};function KN(n,e){let t=typeof n=="object"?n:Ha(),i=typeof n=="string"?n:e||"(default)",r=ic(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=jg("firestore");o&&WN(r,...o)}return r}function i0(n){if(n._terminated)throw new Ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$8(n),n._firestoreClient}function $8(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,h,y){return new BC(a,c,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zN(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new JE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Vf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ei.fromBase64String(e))}catch(t){throw new Ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Bf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var z_=class{constructor(e){this._methodName=e}};var jf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}};var Uf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var H8=/^__.*__$/,ZE=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}};function QN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}var XE=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return q_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QN(this.Cu)&&H8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},eI=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||e0(e)}Qu(e,t,i,r=!1){return new XE({Cu:e,methodName:t,qu:i,path:cr.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function JN(n){let e=n._freezeSettings(),t=e0(n._databaseId);return new eI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZN(n,e,t,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,r);nP("Data must be an object, but it was:",s,i);let a=eP(i,s),c,h;if(o.merge)c=new Oo(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){let y=[];for(let _ of o.mergeFields){let T=G8(e,_,t);if(!s.contains(T))throw new Ce(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);q8(y,T)||y.push(T)}c=new Oo(y),h=s.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,h=s.fieldTransforms;return new ZE(new qr(a),c,h)}function XN(n,e){if(tP(n=fn(n)))return nP("Unsupported field value:",e,n),eP(n,e);if(n instanceof z_)return function(i,r){if(!QN(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=XN(a,r.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=fn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return x6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Un.fromDate(i);return{timestampValue:R_(r.serializer,o)}}if(i instanceof Un){let o=new Un(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:R_(r.serializer,o)}}if(i instanceof jf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vf)return{bytesValue:EN(r.serializer,i._byteString)};if(i instanceof Bi){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Uf)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return cI(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${wI(i)}`)}(n,e)}function eP(n,e){let t={};return tN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jd(n,(i,r)=>{let o=XN(r,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function tP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof jf||n instanceof Vf||n instanceof Bi||n instanceof z_||n instanceof Uf)}function nP(n,e,t){if(!tP(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=wI(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function G8(n,e,t){if((e=fn(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return iP(n,e);throw q_("Field path arguments must be of type string or ",n,!1,void 0,t)}var z8=new RegExp("[~\\*/\\[\\]]");function iP(n,e,t){if(e.search(z8)>=0)throw q_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bf(...e.split("."))._internalPath}catch{throw q_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function q_(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Ce(ee.INVALID_ARGUMENT,a+n+c)}function q8(n,e){return n.some(t=>t.isEqual(e))}var W_=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(rP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tI=class extends W_{data(){return super.data()}};function rP(n,e){return typeof e=="string"?iP(n,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}function oP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nI=class{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return jd(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Gt(s.doubleValue));return new Uf(o)}convertGeoPoint(e){return new jf(Gt(e.latitude),Gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=oI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mf(e));default:return null}}convertTimestamp(e){let t=Gs(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=tn.fromString(e);St(MN(i));let r=new I_(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return r.isEqual(t)||Hs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function sP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var fc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Y_=class extends W_{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(rP("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Dd=class extends Y_{data(e={}){return super.data(e)}},K_=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Dd(this._firestore,this._userDataWriter,i.key,i,new fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Dd(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Dd(r._firestore,r._userDataWriter,a.doc.key,a.doc,new fc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,y=-1;return a.type!==0&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),y=s.indexOf(a.doc.key)),{type:W8(a.type),doc:c,oldIndex:h,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function W8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}function aP(n){n=Yr(n,Bi);let e=Yr(n.firestore,Ws);return B8(i0(e),n._key).then(t=>fP(e,n,t))}var $f=class extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}};function lP(n){n=Yr(n,Lf);let e=Yr(n.firestore,Ws),t=i0(e),i=new $f(e);return oP(n._query),j8(t,n._query).then(r=>new K_(e,i,n,r))}function cP(n,e,t){n=Yr(n,Bi);let i=Yr(n.firestore,Ws),r=sP(n.converter,e,t);return hP(i,[ZN(JN(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Ka.none())])}function uP(n,e){let t=Yr(n.firestore,Ws),i=bI(n),r=sP(n.converter,e);return hP(t,[ZN(JN(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ka.exists(!1))]).then(()=>i)}function dP(n,...e){var t,i,r;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XO(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XO(e[s])){let _=e[s];e[s]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[s+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[s+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}let c,h,y;if(n instanceof Bi)h=Yr(n.firestore,Ws),y=J_(n._key.path),c={next:_=>{e[s]&&e[s](fP(h,n,_))},error:e[s+1],complete:e[s+2]};else{let _=Yr(n,Lf);h=Yr(_.firestore,Ws),y=_._query;let T=new $f(h);c={next:x=>{e[s]&&e[s](new K_(h,T,_,x))},error:e[s+1],complete:e[s+2]},oP(n._query)}return function(T,x,k,G){let $=new Ff(G),Z=new kf(x,$,k);return T.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return gI(yield $_(T),Z)})),()=>{$.Za(),T.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return _I(yield $_(T),Z)}))}}(i0(h),y,a,c)}function hP(n,e){return function(i,r){let o=new Wr;return i.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return A8(yield V8(i),r,o)})),o.promise}(i0(n),e)}function fP(n,e,t){let i=t.docs.get(e._key),r=new $f(n);return new Y_(n,r,e._key,i,new fc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Bd=r})(Ao),So(new Vi("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Ws(new OC(i.getProvider("auth-internal")),new FC(i.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I_(h.options.projectId,y)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ht(CO,"4.7.3",e),Ht(CO,"4.7.3","esm2017")})();var pt=class{constructor(e){return e}},pP="firestore",CI=class{constructor(){return oc(pP)}};var EI=new ue("angularfire2.firestore-instances");function Y8(n,e){let t=pd(pP,n,e);return t&&new pt(t)}function K8(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new pt(i)}}var Q8={provide:CI,deps:[[new an,EI]]},J8={provide:pt,useFactory:Y8,deps:[[new an,EI],zr]};function mP(n,...e){return Ht("angularfire",Ps.full,"fst"),Oi([J8,Q8,{provide:EI,useFactory:K8(n),multi:!0,deps:[Ke,kt,za,ks,[new an,uc],[new an,Ga],...e]}])}var bc=pn(uP,!0);var Rt=pn(YN,!0);var lt=pn(bI,!0);var Qt=pn(aP,!0);var Ys=pn(lP,!0);var gP=pn(KN,!0);var wi=pn(dP,!0);var bi=pn(cP,!0);var TP=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(Q(jr),Q(dn))}}static{this.\u0275dir=xt({type:n})}}return n})(),zd=(()=>{class n extends TP{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275dir=xt({type:n,features:[Jn]})}}return n})(),Vo=new ue(""),Z8={provide:Vo,useExisting:Kn(()=>Cc),multi:!0},Cc=(()=>{class n extends zd{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Li([Z8]),Jn]})}}return n})(),X8={provide:Vo,useExisting:Kn(()=>$i),multi:!0};function eq(){let n=Ss()?Ss().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tq=new ue(""),$i=(()=>{class n extends TP{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!eq())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(Q(jr),Q(dn),Q(tq,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Li([X8]),Jn]})}}return n})();function el(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function SP(n){return n!=null&&typeof n.length=="number"}var h0=new ue(""),f0=new ue(""),nq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ee=class{static min(e){return iq(e)}static max(e){return rq(e)}static required(e){return oq(e)}static requiredTrue(e){return sq(e)}static email(e){return aq(e)}static minLength(e){return lq(e)}static maxLength(e){return cq(e)}static pattern(e){return uq(e)}static nullValidator(e){return AP(e)}static compose(e){return PP(e)}static composeAsync(e){return kP(e)}};function iq(n){return e=>{if(el(e.value)||el(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rq(n){return e=>{if(el(e.value)||el(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function oq(n){return el(n.value)?{required:!0}:null}function sq(n){return n.value===!0?null:{required:!0}}function aq(n){return el(n.value)||nq.test(n.value)?null:{email:!0}}function lq(n){return e=>el(e.value)||!SP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function cq(n){return e=>SP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function uq(n){if(!n)return AP;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(el(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function AP(n){return null}function MP(n){return n!=null}function xP(n){return Ql(n)?jt(n):n}function RP(n){let e={};return n.forEach(t=>{e=t!=null?ie(ie({},e),t):e}),Object.keys(e).length===0?null:e}function OP(n,e){return e.map(t=>t(n))}function dq(n){return!n.validate}function NP(n){return n.map(e=>dq(e)?e:t=>e.validate(t))}function PP(n){if(!n)return null;let e=n.filter(MP);return e.length==0?null:function(t){return RP(OP(t,e))}}function MI(n){return n!=null?PP(NP(n)):null}function kP(n){if(!n)return null;let e=n.filter(MP);return e.length==0?null:function(t){let i=OP(t,e).map(xP);return Uy(i).pipe(Le(RP))}}function xI(n){return n!=null?kP(NP(n)):null}function _P(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FP(n){return n._rawValidators}function LP(n){return n._rawAsyncValidators}function II(n){return n?Array.isArray(n)?n:[n]:[]}function o0(n,e){return Array.isArray(n)?n.includes(e):n===e}function yP(n,e){let t=II(e);return II(n).forEach(r=>{o0(t,r)||t.push(r)}),t}function vP(n,e){return II(e).filter(t=>!o0(n,t))}var s0=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ks=class extends s0{get formDirective(){return null}get path(){return null}},tl=class extends s0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},a0=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kse=Ze(ie({},hq),{"[class.ng-submitted]":"isSubmitted"}),ti=(()=>{class n extends a0{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(Q(tl,2))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Kl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Jn]})}}return n})(),ni=(()=>{class n extends a0{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(Q(Ks,10))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Kl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Jn]})}}return n})();var Wf="VALID",r0="INVALID",$d="PENDING",Yf="DISABLED",nl=class{},l0=class extends nl{constructor(e,t){super(),this.value=e,this.source=t}},Qf=class extends nl{constructor(e,t){super(),this.pristine=e,this.source=t}},Jf=class extends nl{constructor(e,t){super(),this.touched=e,this.source=t}},Hd=class extends nl{constructor(e,t){super(),this.status=e,this.source=t}},DI=class extends nl{constructor(e){super(),this.source=e}},TI=class extends nl{constructor(e){super(),this.source=e}};function RI(n){return(p0(n)?n.validators:n)||null}function fq(n){return Array.isArray(n)?MI(n):n||null}function OI(n,e){return(p0(e)?e.asyncValidators:n)||null}function pq(n){return Array.isArray(n)?xI(n):n||null}function p0(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function VP(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new be(1e3,"");if(!i[t])throw new be(1001,"")}function BP(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new be(1002,"")})}var Gd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qu(()=>this.statusReactive()),this.statusReactive=Wu(void 0),this._pristine=Qu(()=>this.pristineReactive()),this.pristineReactive=Wu(!0),this._touched=Qu(()=>this.touchedReactive()),this.touchedReactive=Wu(!1),this._events=new gt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Eo(this.statusReactive)}set status(e){Eo(()=>this.statusReactive.set(e))}get valid(){return this.status===Wf}get invalid(){return this.status===r0}get pending(){return this.status==$d}get disabled(){return this.status===Yf}get enabled(){return this.status!==Yf}get pristine(){return Eo(this.pristineReactive)}set pristine(e){Eo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Eo(this.touchedReactive)}set touched(e){Eo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vP(e,this._rawAsyncValidators))}hasValidator(e){return o0(this._rawValidators,e)}hasAsyncValidator(e){return o0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ze(ie({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Jf(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Jf(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ze(ie({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Qf(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Qf(!0,i))}markAsPending(e={}){this.status=$d;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ze(ie({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yf,this.errors=null,this._forEachChild(r=>{r.disable(Ze(ie({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new l0(this.value,i)),this._events.next(new Hd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ze(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wf,this._forEachChild(i=>{i.enable(Ze(ie({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ze(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wf||this.status===$d)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new l0(this.value,t)),this._events.next(new Hd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ze(ie({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yf:Wf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=$d,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=xP(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Hd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?Yf:this.errors?r0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($d)?$d:this._anyControlsHaveStatus(r0)?r0:Wf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Qf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){p0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pq(this._rawAsyncValidators)}},Ui=class extends Gd{constructor(e,t,i){super(RI(t),OI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){BP(this,!0,e),Object.keys(e).forEach(i=>{VP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var SI=class extends Ui{};var qd=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Zf}),Zf="always";function jP(n,e){return[...e.path,n]}function c0(n,e,t=Zf){NI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),gq(n,e),yq(n,e),_q(n,e),mq(n,e)}function wP(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),d0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function u0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mq(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function NI(n,e){let t=FP(n);e.validator!==null?n.setValidators(_P(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=LP(n);e.asyncValidator!==null?n.setAsyncValidators(_P(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();u0(e._rawValidators,r),u0(e._rawAsyncValidators,r)}function d0(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=FP(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=LP(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return u0(e._rawValidators,i),u0(e._rawAsyncValidators,i),t}function gq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&UP(n,e)})}function _q(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&UP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function UP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yq(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $P(n,e){n==null,NI(n,e)}function vq(n,e){return d0(n,e)}function HP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function wq(n){return Object.getPrototypeOf(n.constructor)===zd}function GP(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function zP(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===$i?t=o:wq(o)?i=o:r=o}),r||i||t||null}function bq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Cq={provide:Ks,useExisting:Kn(()=>PI)},Kf=Promise.resolve(),PI=(()=>{class n extends Ks{get submitted(){return Eo(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Qu(()=>this.submittedReactive()),this.submittedReactive=Wu(!1),this._directives=new Set,this.ngSubmit=new ut,this.form=new Ui({},MI(t),xI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kf.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),c0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kf.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Kf.then(()=>{let i=this._findContainer(t.path),r=new Ui({});$P(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kf.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Kf.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),GP(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(Q(h0,10),Q(f0,10),Q(qd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Li([Cq]),Jn]})}}return n})();function bP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var De=class extends Gd{constructor(e=null,t,i){super(RI(t),OI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),p0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(CP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){CP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Eq=n=>n instanceof De;var Iq={provide:tl,useExisting:Kn(()=>kI)},EP=Promise.resolve(),kI=(()=>{class n extends tl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new De,this._registered=!1,this.name="",this.update=new ut,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=zP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),HP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){c0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){EP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Jl(i);EP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?jP(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(Q(Ks,9),Q(h0,10),Q(f0,10),Q(Vo,10),Q(Ds,8),Q(qd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Li([Iq]),Jn,Pi]})}}return n})(),ii=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Dq={provide:Vo,useExisting:Kn(()=>Qs),multi:!0},Qs=(()=>{class n extends zd{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&te("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Li([Dq]),Jn]})}}return n})(),Tq={provide:Vo,useExisting:Kn(()=>FI),multi:!0};var Sq=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FI=(()=>{class n extends zd{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=K(qd,{optional:!0})??Zf}ngOnInit(){this._control=this._injector.get(tl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(Q(jr),Q(dn),Q(Sq),Q(kt))}}static{this.\u0275dir=xt({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&te("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Li([Tq]),Jn]})}}return n})();var qP=new ue("");var Aq={provide:Ks,useExisting:Kn(()=>Ci)},Ci=(()=>{class n extends Ks{get submitted(){return Eo(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Qu(()=>this._submittedReactive()),this._submittedReactive=Wu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ut,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(d0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return c0(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){wP(t.control||null,t,!1),bq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),GP(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new DI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new TI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(wP(i||null,t),Eq(r)&&(c0(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);$P(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&vq(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NI(this.form,this),this._oldForm&&d0(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(Q(h0,10),Q(f0,10),Q(qd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Li([Aq]),Jn,Pi]})}}return n})();var Mq={provide:tl,useExisting:Kn(()=>Ei)},Ei=(()=>{class n extends tl{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ut,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=zP(this,o)}ngOnChanges(t){this._added||this._setUpControl(),HP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return jP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(Q(Ks,13),Q(h0,10),Q(f0,10),Q(Vo,10),Q(qP,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Li([Mq]),Jn,Pi]})}}return n})(),xq={provide:Vo,useExisting:Kn(()=>m0),multi:!0};function WP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Rq(n){return n.split(":")[0]}var m0=(()=>{class n extends zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=WP(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Rq(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Li([xq]),Jn]})}}return n})(),YP=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(WP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Q(dn),Q(jr),Q(m0,9))}}static{this.\u0275dir=xt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Oq={provide:Vo,useExisting:Kn(()=>KP),multi:!0};function IP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Nq(n){return n.split(":")[0]}var KP=(()=>{class n extends zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],h=this._getOptionValue(c.value);r.push(h)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let h=this._getOptionValue(c.value);r.push(h)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Nq(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yo(n)))(r||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Li([Oq]),Jn]})}}return n})(),QP=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(IP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(IP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Q(dn),Q(jr),Q(KP,9))}}static{this.\u0275dir=xt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var JP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({})}}return n})(),AI=class extends Gd{constructor(e,t,i){super(RI(t),OI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){BP(this,!1,e),e.forEach((i,r)=>{VP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function DP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Wd=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return DP(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ui(r,o)}record(t,i=null){let r=this._reduceControls(t);return new SI(r,i)}control(t,i,r){let o={};return this.useNonNullable?(DP(i)?o=i:(o.validators=i,o.asyncValidators=r),new De(t,Ze(ie({},o),{nonNullable:!0}))):new De(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new AI(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof De)return t;if(t instanceof Gd)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qd,useValue:t.callSetDisabledState??Zf}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({imports:[JP]})}}return n})(),Gi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:qd,useValue:t.callSetDisabledState??Zf}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({imports:[JP]})}}return n})();var Uo=uo(jo());var Pq=["favbutton"],kq=["favbuttondiv"],Fq=(n,e)=>e.email,ZP=()=>({standalone:!0});function Lq(n,e){if(n&1){let t=Fe();E(0,"button",15),te("click",function(){let r=ae(t).$implicit,o=q();return le(o.onOptionClick(r))}),J(1,"img",16),C()}if(n&2){let t=e.$implicit;wo("right",t.pos),P(),Xw("src",t.imagen,ki)}}var g0=class n{constructor(e,t,i){this.auth=e;this.router=t;this.firestore=i}favButton;favButtonDiv;userMail="";userPWD="";loggedUser="";flagError=!1;msjError="";fabOptions=[{email:"quebraffuyottu-7479@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"80px"},{email:"gruruttevauppeu-6330@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"140px"},{email:"xifroyaprouhoi-2328@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"200px"},{email:"veuqueuddauddamu-5932@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"260px"},{email:"gaukacreugrouxou-9905@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"320px"},{email:"admin@mail.com",pass:"123456",imagen:"/assets/images/admin.jpeg",pos:"380px"}];isExpanded=!1;convertBase64ToURL(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let i=atob(e),r=new Array(i.length);for(let a=0;a<i.length;a++)r[a]=i.charCodeAt(a);let o=new Uint8Array(r),s=new Blob([o],{type:t});return URL.createObjectURL(s)}toggleFab(){this.isExpanded?(this.favButtonDiv.nativeElement.classList.remove("active"),this.favButton.nativeElement.innerText="+"):(this.favButtonDiv.nativeElement.classList.add("active"),this.favButton.nativeElement.innerText="-"),this.isExpanded=!this.isExpanded}onOptionClick(e){console.log("Clicked option:",e),this.CompletarInputs(e.email,e.pass)}obtenerFechaActual=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${t}/${i}/${r} ${o}:${s}`};Login(){return S(this,null,function*(){Uo.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Uo.default.showLoading()}}),yield vO(this.auth,this.userMail,this.userPWD).then(e=>S(this,null,function*(){if(e.user.email!==null){let t=e.user.uid,i=lt(this.firestore,`usuarios/${t}`),o=(yield Qt(i)).data();if(Uo.default.close(),o?.rol=="paciente"&&e.user.emailVerified||o?.rol=="especialista"&&o?.verificado&&e.user.emailVerified||o?.rol=="administrador"){this.loggedUser=e.user.email;let s=Rt(this.firestore,"logins");switch(bc(s,{fecha:new Date,user:this.loggedUser}),Uo.default.fire({title:`Bienvenido ${o?.nombre}
Fecha de ingreso: ${this.obtenerFechaActual()}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),o?.rol){case"paciente":console.log("Ingreso un paciente"),this.flagError=!1,this.router.navigate(["home"]);break;case"especialista":console.log("Ingreso un especialista"),this.flagError=!1,this.router.navigate(["home"]);break;default:console.log("Ingreso un administrador"),this.flagError=!1,this.router.navigate(["home"]);break}}else o?.rol=="especialista"?(Us(this.auth),e.user.emailVerified?(Us(this.auth),Uo.default.fire({title:"El administrador aun no valido su cuenta",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):Uo.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):(Us(this.auth),Uo.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}))}})).catch(e=>{switch(Us(this.auth),Uo.default.close(),this.flagError=!0,console.log(e.code),e.code){case"auth/invalid-email":this.userMail==""?this.msjError="Por favor ingrese un mail":this.msjError="El mail ingresado es invalido";break;case"auth/invalid-credential":this.msjError="Contrase\xF1a incorrecta";break;case"auth/missing-password":this.msjError="Falta ingresar la contrase\xF1a";break;default:this.msjError="Ocurrio un error inesperado";break}Uo.default.fire({title:`${this.msjError}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})})})}CompletarInputs(e,t){this.userMail=e,this.userPWD=t}static \u0275fac=function(t){return new(t||n)(Q(Tt),Q(jn),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-login"]],viewQuery:function(t,i){if(t&1&&(Rn(Pq,5),Rn(kq,5)),t&2){let r;bn(r=Cn())&&(i.favButton=r.first),bn(r=Cn())&&(i.favButtonDiv=r.first)}},standalone:!0,features:[Be],decls:24,vars:6,consts:[["mail",""],["pass",""],["favbuttondiv",""],["favbutton",""],[1,"main-container"],[1,"login-container","container-fluid"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Ingresa tu correo",3,"ngModelChange","ngModel","ngModelOptions"],["for","password"],["type","password","id","password","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],[3,"click"],[1,"fab-button-container"],[1,"fab-button","main-fab",3,"click"],[1,"fab-button","fab-option",3,"right"],[1,"fab-button","fab-option",3,"click"],["alt","",3,"src"]],template:function(t,i){if(t&1){let r=Fe();E(0,"div",4)(1,"div",5)(2,"h2"),M(3,"Iniciar sesi\xF3n"),C(),E(4,"form")(5,"div",6)(6,"label",7),M(7,"Correo electr\xF3nico"),C(),E(8,"input",8,0),ng("ngModelChange",function(s){return ae(r),eb(i.userMail,s)||(i.userMail=s),le(s)}),C()(),E(10,"div",6)(11,"label",9),M(12,"Contrase\xF1a"),C(),E(13,"input",10,1),ng("ngModelChange",function(s){return ae(r),eb(i.userPWD,s)||(i.userPWD=s),le(s)}),C()()(),E(15,"button",11),te("click",function(){return ae(r),le(i.Login())}),M(16,"Ingresar"),C()(),E(17,"div",12,2)(19,"button",13,3),te("click",function(){return ae(r),le(i.toggleFab())}),M(21,"+"),C(),Jw(22,Lq,2,3,"button",14,Fq),C()()}t&2&&(P(8),tg("ngModel",i.userMail),Y("ngModelOptions",tb(4,ZP)),P(5),tg("ngModel",i.userPWD),Y("ngModelOptions",tb(5,ZP)),P(9),Zw(i.fabOptions))},dependencies:[Hi,ii,$i,ti,ni,kI,PI,Nt],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;flex-wrap:wrap;height:94.5vh;margin:0}.login-container[_ngcontent-%COMP%]{width:500px;max-height:350px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:200px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.fab-button-container[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;justify-content:end;padding:10px}.fab-button-container[_ngcontent-%COMP%]   .fab-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 8px #0000004d;cursor:pointer;transition:background-color .3s ease}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:0;transform:scale(0);pointer-events:auto}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto;right:80px;padding:0}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}']})};function Vq(n,e){if(n&1&&(E(0,"div",4)(1,"button",5),M(2,"Mi Perfil"),C()()),n&2){let t=q();wo("background-image","url("+t.userData.imagen1+")")}}function Bq(n,e){if(n&1&&(E(0,"div",4)(1,"button",5),M(2,"Mi Perfil"),C()()),n&2){let t=q();wo("background-image","url("+t.userData.imagen+")")}}function jq(n,e){n&1&&(E(0,"div",2)(1,"div",8)(2,"button",9),M(3,"Permisos y Administracion"),C()()(),E(4,"div",2)(5,"div",10)(6,"button",11),M(7,"Turnos"),C()()())}function Uq(n,e){if(n&1&&(X(0,jq,8,0),E(1,"div",2)(2,"div",6)(3,"button",7),M(4,"Solicitar Turnos"),C()()()),n&2){let t=q();$e(t.userData.rol=="administrador"?0:-1)}}function $q(n,e){n&1&&(E(0,"div",2)(1,"div",12)(2,"button",13),M(3,"Mis Turnos"),C()()())}var _0=class n{constructor(e,t){this.auth=e;this.firestore=t}userData;ngOnInit(){return S(this,null,function*(){let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);this.userData=i.data()})}static \u0275fac=function(t){return new(t||n)(Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-home"]],standalone:!0,features:[Be],decls:7,vars:3,consts:[[1,"main-container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","box-shadow"],[1,"card-body","perfil",3,"background-image"],[1,"card-body","perfil"],["type","button","routerLink","/perfil",1,"btn","btn-lg","btn-block","btn-primary"],[1,"card-body","solicitar-turnos"],["type","button","routerLink","/solicitar-turno",1,"btn","btn-lg","btn-block","btn-primary"],[1,"card-body","permisos"],["type","button","routerLink","/gestion-usuarios",1,"btn","btn-lg","btn-block","btn-primary"],[1,"card-body","turnos"],["type","button","routerLink","/turnos",1,"btn","btn-lg","btn-block","btn-primary"],[1,"card-body","mis-turnos"],["type","button","routerLink","/mis-turnos",1,"btn","btn-lg","btn-block","btn-primary"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),X(3,Vq,3,2,"div",3)(4,Bq,3,2,"div",3),C(),X(5,Uq,5,1,"div",2)(6,$q,4,0,"div",2),C()()),t&2&&(P(3),$e(i.userData.rol=="paciente"?3:4),P(2),$e(i.userData.rol=="paciente"||i.userData.rol=="administrador"?5:-1),P(),$e(i.userData.rol=="paciente"||i.userData.rol=="especialista"?6:-1))},dependencies:[ja,Ba,Hi,Nt],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0}.card-deck[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:left;padding:50px}.card[_ngcontent-%COMP%]{min-width:350px;margin:10px;min-height:400px;box-shadow:0 4px 8px #000}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:90%;background-color:#2c8ab3;border:#2c8ab3}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.card[_ngcontent-%COMP%]   .permisos[_ngcontent-%COMP%]{background-image:url(/assets/images/permisos.jpg);border-radius:5px;background-size:cover;background-position:center}.card[_ngcontent-%COMP%]   .solicitar-turnos[_ngcontent-%COMP%]{background-image:url(/assets/images/solicitar-turno.jpg);border-radius:5px;background-size:cover;background-position:center}.card[_ngcontent-%COMP%]   .perfil[_ngcontent-%COMP%]{border-radius:5px;background-size:cover;background-position:center}.card[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .mis-turnos[_ngcontent-%COMP%]{background-image:url(/assets/images/turnos.jpg);border-radius:5px;background-size:cover;background-position:center}"]})};var Ic=uo(jo());var Hq=new ue("recaptcha-language"),Gq=new ue("recaptcha-base-url"),zq=new ue("recaptcha-nonce-tag"),VI=new ue("recaptcha-settings"),XP=new ue("recaptcha-v3-site-key"),qq=new ue("recaptcha-loader-options");function Wq(n,e,t,{url:i,lang:r,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:c}=e(new URL(i||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),r&&a.searchParams.set("hl",r),s.src=a.href;let h=c||o;h&&s.setAttribute("nonce",h),s.async=!0,s.defer=!0,document.head.appendChild(s)}function Yq({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let i=n?{key:n}:"explicit";ek.loadScript(i,e,t)}var ek={loadScript:Wq,newLoadScript:Yq};function Kq(n){return n.asObservable().pipe(sn(e=>e!==null))}var BI=(()=>{class n{static{this.ready=null}constructor(t,i,r,o,s,a){this.platformId=t,this.language=i,this.baseUrl=r,this.nonce=o,this.v3SiteKey=s,this.options=a;let c=this.init();this.ready=c?Kq(c):Ie()}init(){if(n.ready)return n.ready;if(!ug(this.platformId))return;let t=new un(null);return n.ready=t,ek.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:i=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(i);let r=new URL(this.baseUrl??i);return this.language&&r.searchParams.set("hl",this.language),{url:r,nonce:this.nonce}},onLoaded:i=>{let r=i;this.options?.onLoaded&&(r=this.options.onLoaded(i)),t.next(r)}}),t}static{this.\u0275fac=function(i){return new(i||n)(ye(yi),ye(Hq,8),ye(Gq,8),ye(zq,8),ye(XP,8),ye(qq,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),Qq=0,Ec=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.loader=i,this.zone=r,this.id=`ngrecaptcha-${Qq++}`,this.errorMode="default",this.resolved=new ut,this.error=new ut,this.errored=new ut,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...i)=>{this.zone.run(()=>this.onError(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(i){return new(i||n)(Q(dn),Q(BI),Q(Ke),Q(VI,8))}}static{this.\u0275cmp=Re({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(i,r){i&2&&vo("id",r.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),tk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({})}}return n})(),rl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({providers:[BI],imports:[tk]})}}return n})(),nk=(()=>{class n{constructor(t,i,r){this.recaptchaLoader=i,this.zone=t,this.siteKey=r,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new gt,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new gt,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(t){let i=new gt;return this.grecaptcha?this.executeActionWithSubject(t,i):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,i])),i.asObservable()}executeActionWithSubject(t,i){let r=o=>{this.zone.run(()=>{i.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:t,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:t}).then(o=>{this.zone.run(()=>{i.next(o),i.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:t,token:o})})},r)}catch(o){r(o)}})}init(){this.recaptchaLoader.ready.subscribe(t=>{this.grecaptcha=t,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([i,r])=>this.executeActionWithSubject(i,r)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(i){return new(i||n)(ye(Ke),ye(BI),ye(XP))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();var Yd=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}static{this.\u0275fac=function(i){return new(i||n)(Q(Ec))}}static{this.\u0275dir=xt({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(i,r){i&1&&te("resolved",function(s){return r.onResolve(s)})},features:[Li([{multi:!0,provide:Vo,useExisting:Kn(()=>n)}])]})}}return n})(),Kd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=_i({type:n})}static{this.\u0275inj=gi({imports:[Hi,tk]})}}return n})();var ol=class n{constructor(e){this.firestore=e}registrarUsuarios(e,t){return S(this,null,function*(){try{let i=lt(this.firestore,`usuarios/${e}`);console.log(`usuarios/${e}`),yield bi(i,t),console.log("Usuario registrado con \xE9xito en Firestore")}catch(i){console.error("Error al registrar usuario:",i)}})}static \u0275fac=function(t){return new(t||n)(ye(pt))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jq=["fileInput"];function Zq(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"S\xF3lo debe contener letras"),C(),yt())}function Xq(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"S\xF3lo debe contener letras"),C(),yt())}function eW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"La edad debe ser entre 18 y 99"),C(),yt())}function tW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"Se deben ingresar 8 digitos"),C(),yt())}function nW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"Formato de email invalido"),C(),yt())}function iW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),C(),yt())}function rW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"Ingrese una imagen"),C(),yt())}function oW(n,e){n&1&&(_t(0),E(1,"small",17),M(2,"Complete el recaptcha"),C(),yt())}var y0=class n{constructor(e,t,i){this.usuarioService=e;this.auth=t;this.firestore=i}fileInput;registerForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new Ui({nombre:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),apellido:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),edad:new De("",[Ee.min(18),Ee.max(99),Ee.required]),dni:new De("",[Ee.required,Ee.minLength(8),Ee.maxLength(8)]),email:new De("",[Ee.required,Ee.email]),password:new De("",[Ee.required,Ee.minLength(6)]),imagen:new De("",[Ee.required,this.validarImagen]),recaptcha:new De("",Ee.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return S(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){Ic.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Ic.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,rol:"administrador"},t=lt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),r=(yield Qt(t)).data(),o=this.auth.currentUser;_d(this.auth,e.email,this.registerForm.value.password).then(s=>S(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),console.log(r?.rol),yd(this.auth,o),Ic.default.fire({title:"El usuario fue creado exitosamente",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.formularioEnviado=!1})).catch(s=>{switch(Ic.default.close(),s.code){case"auth/email-already-in-use":Ic.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:Ic.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let i=atob(e),r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);let o=new Uint8Array(r);return new Blob([o],{type:t})}onFileChange(e,t){let i=e.target.files[0];if(i){let r=new FileReader;r.onload=()=>{let o=r.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},r.readAsDataURL(i)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Q(ol),Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-registro-admins"]],viewQuery:function(t,i){if(t&1&&Rn(Jq,5),t&2){let r;bn(r=Cn())&&(i.fileInput=r.first)}},standalone:!0,features:[Be],decls:33,vars:9,consts:[["fileInput",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,i){if(t&1){let r=Fe();E(0,"div",1)(1,"h2"),M(2,"Registro de Administradores"),C(),E(3,"form",2)(4,"div",3),J(5,"input",4),X(6,Zq,3,0,"ng-container",5),C(),E(7,"div",3),J(8,"input",6),X(9,Xq,3,0,"ng-container",5),C(),E(10,"div",3),J(11,"input",7),X(12,eW,3,0,"ng-container",5),C(),E(13,"div",3),J(14,"input",8),X(15,tW,3,0,"ng-container",5),C(),E(16,"div",3),J(17,"input",9),X(18,nW,3,0,"ng-container",5),C(),E(19,"div",3),J(20,"input",10),X(21,iW,3,0,"ng-container",5),C(),E(22,"div",11)(23,"label",12),M(24,"Imagen de perfil"),C(),E(25,"input",13,0),te("change",function(s){return ae(r),le(i.onFileChange(s,"imagen"))}),C(),X(27,rW,3,0,"ng-container",5),C(),E(28,"div",14)(29,"re-captcha",15),te("resolved",function(s){return ae(r),le(i.resolved(s))}),C(),X(30,oW,3,0,"ng-container",5),C(),E(31,"button",16),te("click",function(){return ae(r),le(i.onSubmit())}),M(32,"Registrar Administrador"),C()()()}t&2&&(P(3),Y("formGroup",i.registerForm),P(3),Y("ngIf",(i.nombre==null?null:i.nombre.hasError("pattern"))||(i.nombre==null?null:i.nombre.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.apellido==null?null:i.apellido.hasError("pattern"))||(i.apellido==null?null:i.apellido.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.edad==null?null:i.edad.hasError("min"))||(i.edad==null?null:i.edad.hasError("max"))||(i.edad==null?null:i.edad.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.dni==null?null:i.dni.invalid)&&(i.dni==null?null:i.dni.touched)||(i.dni==null?null:i.dni.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.email==null?null:i.email.hasError("email"))||(i.email==null?null:i.email.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.password==null?null:i.password.hasError("minLength"))||(i.password==null?null:i.password.invalid)&&i.formularioEnviado),P(6),Y("ngIf",(i.imagen==null||i.imagen.errors==null?null:i.imagen.errors.invalidImageCount)&&i.formularioEnviado),P(3),Y("ngIf",(i.recaptcha==null?null:i.recaptcha.invalid)&&i.formularioEnviado))},dependencies:[Hi,ii,$i,Qs,ti,ni,Nt,Sr,Gi,Ci,Ei,Kd,Yd,rl,Ec],styles:[".register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left;height:60px;width:50%;font-size:15px}.recaptcha[_ngcontent-%COMP%]{height:90px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var sW=["pacientesBtn"],aW=["especialistasBtn"],lW=["administradoresBtn"];function cW(n,e){if(n&1&&(E(0,"tr")(1,"td"),J(2,"img",10),C(),E(3,"td"),M(4),C(),E(5,"td"),M(6),C(),E(7,"td"),M(8),C(),E(9,"td"),M(10),C(),E(11,"td"),M(12),C(),E(13,"td"),M(14),C()()),n&2){let t=e.$implicit;P(2),Y("src",t.imagen,ki),P(2),ge(t.nombre),P(2),ge(t.apellido),P(2),ge(t.edad),P(2),ge(t.dni),P(2),ge(t.email),P(2),ge(t.rol)}}function uW(n,e){if(n&1&&(E(0,"table",7)(1,"thead")(2,"tr"),J(3,"th",8),E(4,"th",8),M(5,"Nombre"),C(),E(6,"th",8),M(7,"Apellido"),C(),E(8,"th",8),M(9,"Edad"),C(),E(10,"th",8),M(11,"DNI"),C(),E(12,"th",8),M(13,"Email"),C(),E(14,"th",8),M(15,"Rol"),C()()(),E(16,"tbody"),X(17,cW,15,7,"tr",9),C()()),n&2){let t=q(2);P(17),Y("ngForOf",t.usuarios)}}function dW(n,e){if(n&1){let t=Fe();E(0,"input",14),te("click",function(){ae(t);let r=q().$implicit,o=q(3);return le(o.cambiarEstadoEspecialista(r,!1))}),C()}}function hW(n,e){if(n&1){let t=Fe();E(0,"input",15),te("click",function(){ae(t);let r=q().$implicit,o=q(3);return le(o.cambiarEstadoEspecialista(r,!0))}),C()}}function fW(n,e){if(n&1&&(E(0,"tr")(1,"td"),J(2,"img",10),C(),E(3,"td"),M(4),C(),E(5,"td"),M(6),C(),E(7,"td"),M(8),C(),E(9,"td"),M(10),C(),E(11,"td"),M(12),C(),E(13,"td"),M(14),C(),E(15,"td"),M(16),C(),E(17,"td")(18,"div",11),X(19,dW,1,0,"input",12)(20,hW,1,0,"input",13),C()()()),n&2){let t=e.$implicit;P(2),Y("src",t.imagen,ki),P(2),ge(t.nombre),P(2),ge(t.apellido),P(2),ge(t.edad),P(2),ge(t.dni),P(2),ge(t.email),P(2),ge(t.especialidades),P(2),ge(t.rol),P(3),$e(t.verificado?19:20)}}function pW(n,e){if(n&1&&(E(0,"table",7)(1,"thead")(2,"tr"),J(3,"th",8),E(4,"th",8),M(5,"Nombre"),C(),E(6,"th",8),M(7,"Apellido"),C(),E(8,"th",8),M(9,"Edad"),C(),E(10,"th",8),M(11,"DNI"),C(),E(12,"th",8),M(13,"Email"),C(),E(14,"th",8),M(15,"Especialidades"),C(),E(16,"th",8),M(17,"Rol"),C(),E(18,"th",8),M(19,"Inhabilitado/Habilitado"),C()()(),E(20,"tbody"),X(21,fW,21,9,"tr",9),C()()),n&2){let t=q(2);P(21),Y("ngForOf",t.usuarios)}}function mW(n,e){if(n&1&&(E(0,"tr")(1,"td"),J(2,"img",10),C(),E(3,"td"),M(4),C(),E(5,"td"),M(6),C(),E(7,"td"),M(8),C(),E(9,"td"),M(10),C(),E(11,"td"),M(12),C(),E(13,"td"),M(14),C(),E(15,"td"),M(16),C()()),n&2){let t=e.$implicit;P(2),Y("src",t.imagen1,ki),P(2),ge(t.nombre),P(2),ge(t.apellido),P(2),ge(t.edad),P(2),ge(t.dni),P(2),ge(t.email),P(2),ge(t.obraSocial),P(2),ge(t.rol)}}function gW(n,e){if(n&1&&(E(0,"table",7)(1,"thead")(2,"tr"),J(3,"th",8),E(4,"th",8),M(5,"Nombre"),C(),E(6,"th",8),M(7,"Apellido"),C(),E(8,"th",8),M(9,"Edad"),C(),E(10,"th",8),M(11,"DNI"),C(),E(12,"th",8),M(13,"Email"),C(),E(14,"th",8),M(15,"Obra Social"),C(),E(16,"th",8),M(17,"Rol"),C()()(),E(18,"tbody"),X(19,mW,17,8,"tr",9),C()()),n&2){let t=q(2);P(19),Y("ngForOf",t.usuarios)}}function _W(n,e){if(n&1){let t=Fe();E(0,"h2"),M(1,"Lista de Usuarios"),C(),E(2,"nav")(3,"button",5,0),te("click",function(){ae(t);let r=q();return le(r.obtenerUsuarios(""))}),M(5,"Pacientes"),C(),E(6,"button",6,1),te("click",function(){ae(t);let r=q();return le(r.obtenerUsuarios("especialistas"))}),M(8,"Especialistas"),C(),E(9,"button",6,2),te("click",function(){ae(t);let r=q();return le(r.obtenerUsuarios("administradores"))}),M(11,"Administradores"),C()(),X(12,uW,18,1,"table",7)(13,pW,22,1,"table",7)(14,gW,20,1,"table",7)}if(n&2){let t=q();P(12),$e(t.listaAdministradores?12:t.listaEspecialistas?13:14)}}function yW(n,e){n&1&&(E(0,"div",4)(1,"div",16)(2,"span",17),M(3,"Loading..."),C()()())}var v0=class n{constructor(e,t){this.auth=e;this.firestore=t}pacientesBtn;especialistasBtn;administradoresBtn;usuarios=[];usuariosCargados=!1;listaPacientes=!0;listaEspecialistas=!1;listaAdministradores=!1;ngOnInit(){this.obtenerUsuarios("")}obtenerUsuarios(e){return S(this,null,function*(){if(this.seleccionarLista(e),this.listaPacientes){let t=Rt(this.firestore,"usuarios");wi(t,i=>{this.usuarios=[],i.forEach(r=>{let o=r.data();o.rol=="paciente"&&(o.id=r.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else if(this.listaEspecialistas){let t=Rt(this.firestore,"usuarios");wi(t,i=>{this.usuarios=[],i.forEach(r=>{let o=r.data();o.rol=="especialista"&&(o.id=r.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else{let t=Rt(this.firestore,"usuarios");wi(t,i=>{this.usuarios=[],i.forEach(r=>{let o=r.data();o.rol=="administrador"&&(o.id=r.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}})}seleccionarLista(e){switch(e){case"administradores":this.listaAdministradores=!0,this.listaEspecialistas=!1,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.add("active");break;case"especialistas":this.listaAdministradores=!1,this.listaEspecialistas=!0,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.add("active"),this.administradoresBtn.nativeElement.classList.remove("active");break;default:this.listaAdministradores=!1,this.listaEspecialistas=!1,this.listaPacientes=!0,this.usuariosCargados&&(this.pacientesBtn.nativeElement.classList.add("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.remove("active"));break}}cambiarEstadoEspecialista(e,t){return S(this,null,function*(){e.verificado=t;let i={nombre:e.nombre,apellido:e.apellido,dni:e.dni,edad:e.edad,email:e.email,especialidades:e.especialidades,imagen:e.imagen,rol:e.rol,verificado:e.verificado},r=lt(this.firestore,`usuarios/${e.id}`);yield bi(r,i)})}static \u0275fac=function(t){return new(t||n)(Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-lista-usuarios"]],viewQuery:function(t,i){if(t&1&&(Rn(sW,5),Rn(aW,5),Rn(lW,5)),t&2){let r;bn(r=Cn())&&(i.pacientesBtn=r.first),bn(r=Cn())&&(i.especialistasBtn=r.first),bn(r=Cn())&&(i.administradoresBtn=r.first)}},standalone:!0,features:[Be],decls:3,vars:1,consts:[["pacientesBtn",""],["especialistasBtn",""],["administradoresBtn",""],[1,"card"],[1,"d-flex","justify-content-center"],[1,"lista","active",3,"click"],[1,"lista",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[3,"src"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input",3,"click"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,i){t&1&&(E(0,"div",3),X(1,_W,15,1)(2,yW,4,0,"div",4),C()),t&2&&(P(),$e(i.usuariosCargados?1:2))},dependencies:[Nt,On],styles:[".card[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;display:block}.lista[_ngcontent-%COMP%]{background-color:#194a60;color:#fff}.lista.active[_ngcontent-%COMP%]{background-color:#2c8ab3;color:#000}"]})};var Dc=uo(jo());var vW=["fileInput"];function wW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"S\xF3lo debe contener letras"),C(),yt())}function bW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"S\xF3lo debe contener letras"),C(),yt())}function CW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"La edad debe ser entre 18 y 99"),C(),yt())}function EW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"Se deben ingresar 8 digitos"),C(),yt())}function IW(n,e){if(n&1){let t=Fe();E(0,"li",26),te("click",function(){let r=ae(t).$implicit,o=q(2);return le(o.addTagFromSelect(r))}),M(1),C()}if(n&2){let t=e.$implicit;Y("value",t),P(),ge(t)}}function DW(n,e){if(n&1&&(E(0,"ul",24),X(1,IW,2,2,"li",25),C()),n&2){let t=q();P(),Y("ngForOf",t.especialidadesList)}}function TW(n,e){if(n&1){let t=Fe();E(0,"span",27),M(1),E(2,"button",28),te("click",function(){let r=ae(t).index,o=q();return le(o.removeTag(r))}),M(3,"x"),C()()}if(n&2){let t=e.$implicit;P(),Ur(" ",t," ")}}function SW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"Ingrese por lo menos una especialidad"),C(),yt())}function AW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"Formato de email invalido"),C(),yt())}function MW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),C(),yt())}function xW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"Ingrese una imagen"),C(),yt())}function RW(n,e){n&1&&(_t(0),E(1,"small",23),M(2,"Complete el recaptcha"),C(),yt())}var Qd=class n{constructor(e,t,i){this.usuarioService=e;this.auth=t;this.firestore=i}fileInput;registerForm;especialidadesList=["","Medicina","Enfermer\xEDa","Odontolog\xEDa","Psicolog\xEDa"];formularioEnviado=!1;tags=[];showDropdown=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new Ui({nombre:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),apellido:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),edad:new De("",[Ee.min(18),Ee.max(99),Ee.required]),dni:new De("",[Ee.required,Ee.minLength(8),Ee.maxLength(8)]),email:new De("",[Ee.required,Ee.email]),especialidades:new De(""),password:new De("",[Ee.required,Ee.minLength(6)]),imagen:new De("",[Ee.required,this.validarImagen]),recaptcha:new De("",Ee.required)})}resolved(e){this.recaptchaResponse=e}addTag(){let e=this.registerForm.value.especialidades.trim();e&&!this.tags.includes(e)&&(this.tags.push(e),this.registerForm.value.especialidades="")}removeTag(e){this.tags.splice(e,1)}handleKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.addTag(),this.showDropdown=!1,this.especialidades?.reset())}addTagFromSelect(e){e&&!this.tags.includes(e)&&this.tags.push(e)}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}handleInputFocus(){this.showDropdown=!0}handleInputBlur(){setTimeout(()=>{this.showDropdown=!1},200)}onSubmit(){return S(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){Dc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dc.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,especialidades:this.tags,verificado:!1,rol:"especialista"},t=lt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),r=(yield Qt(t)).data(),o=this.auth.currentUser;_d(this.auth,e.email,this.registerForm.value.password).then(s=>S(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),h_(this.auth.currentUser),console.log(r?.rol),r?.rol=="administrador"?yd(this.auth,o):Us(this.auth),Dc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.tags=[],this.formularioEnviado=!1})).catch(s=>{switch(Dc.default.close(),s.code){case"auth/email-already-in-use":Dc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:Dc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let i=atob(e),r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);let o=new Uint8Array(r);return new Blob([o],{type:t})}onFileChange(e,t){let i=e.target.files[0];if(i){let r=new FileReader;r.onload=()=>{let o=r.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},r.readAsDataURL(i)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get especialidades(){return this.registerForm.get("especialidades")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Q(ol),Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-registro-especialista"]],viewQuery:function(t,i){if(t&1&&Rn(vW,5),t&2){let r;bn(r=Cn())&&(i.fileInput=r.first)}},standalone:!0,features:[Be],decls:39,vars:12,consts:[["fileInput",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],[1,"form-group","especialidad"],["placeholder","Ingrese una especialidad","type","text","formControlName","especialidades",3,"keydown","focus","blur"],["id","especialidad",4,"ngIf"],[1,"tags-input-container"],["class","tag",4,"ngFor","ngForOf"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],[1,"form-group","password"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"],["id","especialidad"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"],[1,"tag"],[1,"remove-btn",3,"click"]],template:function(t,i){if(t&1){let r=Fe();E(0,"div",1)(1,"h2"),M(2,"Registro de Especialistas"),C(),E(3,"form",2)(4,"div",3),J(5,"input",4),X(6,wW,3,0,"ng-container",5),C(),E(7,"div",3),J(8,"input",6),X(9,bW,3,0,"ng-container",5),C(),E(10,"div",3),J(11,"input",7),X(12,CW,3,0,"ng-container",5),C(),E(13,"div",3),J(14,"input",8),X(15,EW,3,0,"ng-container",5),C(),E(16,"div",9)(17,"input",10),te("keydown",function(s){return ae(r),le(i.handleKeyDown(s))})("focus",function(){return ae(r),le(i.handleInputFocus())})("blur",function(){return ae(r),le(i.handleInputBlur())}),C(),X(18,DW,2,1,"ul",11),E(19,"div",12),X(20,TW,4,1,"span",13),C(),X(21,SW,3,0,"ng-container",5),C(),E(22,"div",3),J(23,"input",14),X(24,AW,3,0,"ng-container",5),C(),E(25,"div",15),J(26,"input",16),X(27,MW,3,0,"ng-container",5),C(),E(28,"div",17)(29,"label",18),M(30,"Imagen de perfil"),C(),E(31,"input",19,0),te("change",function(s){return ae(r),le(i.onFileChange(s,"imagen"))}),C(),X(33,xW,3,0,"ng-container",5),C(),E(34,"div",20)(35,"re-captcha",21),te("resolved",function(s){return ae(r),le(i.resolved(s))}),C(),X(36,RW,3,0,"ng-container",5),C(),E(37,"button",22),te("click",function(){return ae(r),le(i.onSubmit())}),M(38,"Registrarse"),C()()()}t&2&&(P(3),Y("formGroup",i.registerForm),P(3),Y("ngIf",(i.nombre==null?null:i.nombre.hasError("pattern"))||(i.nombre==null?null:i.nombre.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.apellido==null?null:i.apellido.hasError("pattern"))||(i.apellido==null?null:i.apellido.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.edad==null?null:i.edad.hasError("min"))||(i.edad==null?null:i.edad.hasError("max"))||(i.edad==null?null:i.edad.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.dni==null?null:i.dni.invalid)&&(i.dni==null?null:i.dni.touched)||(i.dni==null?null:i.dni.invalid)&&i.formularioEnviado),P(3),Y("ngIf",i.showDropdown&&i.especialidadesList.length),P(2),Y("ngForOf",i.tags),P(),Y("ngIf",i.tags.length==0&&i.formularioEnviado),P(3),Y("ngIf",(i.email==null?null:i.email.hasError("email"))||(i.email==null?null:i.email.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.password==null?null:i.password.hasError("minLength"))||(i.password==null?null:i.password.invalid)&&i.formularioEnviado),P(6),Y("ngIf",(i.imagen==null||i.imagen.errors==null?null:i.imagen.errors.invalidImageCount)&&i.formularioEnviado),P(3),Y("ngIf",(i.recaptcha==null?null:i.recaptcha.invalid)&&i.formularioEnviado))},dependencies:[Nt,On,Sr,Gi,ii,$i,Qs,ti,ni,Ci,Ei,Kd,Yd,rl,Ec],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;min-height:94.5vh;margin:0}.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:60px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}ul[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto;list-style:none;position:fixed;background:#fff;width:550px;border:1px solid black;padding:0}li[_ngcontent-%COMP%]:hover{width:100%;background-color:#c4c4c4}.form-group[_ngcontent-%COMP%]{margin-bottom:30px;text-align:left;height:60px;width:47%}.especialidad[_ngcontent-%COMP%]{height:90px}.recaptcha[_ngcontent-%COMP%]{margin-bottom:60px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}#nueva-especialidad[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.tags-input-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;border:1px solid #ddd;border-radius:4px;cursor:text;gap:5px;max-height:70px;overflow-y:auto}.tag[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:3px;display:flex;align-items:center}.remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;margin-left:5px;font-size:12px}select[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;border-radius:4px}.imagen-perfil[_ngcontent-%COMP%]{width:100px;height:100px;margin:10px}.image-input[_ngcontent-%COMP%]{margin-bottom:30px}"]})};var Tc=uo(jo());var OW=["fileInput1"],NW=["fileInput2"];function PW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"S\xF3lo debe contener letras"),C(),yt())}function kW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"S\xF3lo debe contener letras"),C(),yt())}function FW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"La edad debe ser entre 0 y 99"),C(),yt())}function LW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Se deben ingresar 8 digitos"),C(),yt())}function VW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Este campo es requerido"),C(),yt())}function BW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Formato de email invalido"),C(),yt())}function jW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),C(),yt())}function UW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Ingrese una imagen"),C(),yt())}function $W(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Ingrese una imagen"),C(),yt())}function HW(n,e){n&1&&(_t(0),E(1,"small",20),M(2,"Complete el recaptcha"),C(),yt())}var Jd=class n{constructor(e,t,i){this.usuarioService=e;this.auth=t;this.firestore=i}fileInput1;fileInput2;registroForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registroForm=new Ui({nombre:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),apellido:new De("",[Ee.pattern("^[a-zA-Z]+$"),Ee.required]),edad:new De("",[Ee.min(0),Ee.max(99),Ee.required]),dni:new De("",[Ee.required,Ee.minLength(8),Ee.maxLength(8)]),obraSocial:new De("",Ee.required),email:new De("",[Ee.required,Ee.email]),password:new De("",[Ee.required,Ee.minLength(6)]),imagen1:new De("",[Ee.required,this.validarImagen]),imagen2:new De("",[Ee.required,this.validarImagen]),recaptcha:new De("",Ee.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return S(this,null,function*(){if(this.formularioEnviado=!0,this.registroForm.valid){Tc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Tc.default.showLoading()}});let e={nombre:this.registroForm.value.nombre,apellido:this.registroForm.value.apellido,edad:this.registroForm.value.edad,dni:this.registroForm.value.dni,obraSocial:this.registroForm.value.obraSocial,email:this.registroForm.value.email,imagen1:this.registroForm.value.imagen1,imagen2:this.registroForm.value.imagen2,rol:"paciente"},t=lt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),r=(yield Qt(t)).data(),o=this.auth.currentUser;_d(this.auth,e.email,this.registroForm.value.password).then(s=>S(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),h_(this.auth.currentUser),console.log(r?.rol),r?.rol=="administrador"?(yd(this.auth,o),console.log("El usuario permanece logueado")):Us(this.auth),Tc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registroForm.reset(),this.fileInput1.nativeElement.value="",this.fileInput2.nativeElement.value="",this.formularioEnviado=!1})).catch(s=>{switch(Tc.default.close(),s.code){case"auth/email-already-in-use":Tc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:Tc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}onFileChange(e,t){let i=e.target.files[0];if(i){let r=new FileReader;r.onload=()=>{let o=r.result;this.registroForm.get(t)?.setValue([o]),this.registroForm.get(t)?.updateValueAndValidity()},r.readAsDataURL(i)}else this.registroForm.get(t)?.setValue([]),this.registroForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registroForm.get("nombre")}get apellido(){return this.registroForm.get("apellido")}get edad(){return this.registroForm.get("edad")}get dni(){return this.registroForm.get("dni")}get obraSocial(){return this.registroForm.get("obraSocial")}get email(){return this.registroForm.get("email")}get password(){return this.registroForm.get("password")}get imagen1(){return this.registroForm.get("imagen1")}get imagen2(){return this.registroForm.get("imagen2")}get recaptcha(){return this.registroForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Q(ol),Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-registro-paciente"]],viewQuery:function(t,i){if(t&1&&(Rn(OW,5),Rn(NW,5)),t&2){let r;bn(r=Cn())&&(i.fileInput1=r.first),bn(r=Cn())&&(i.fileInput2=r.first)}},standalone:!0,features:[Be],decls:39,vars:11,consts:[["fileInput1",""],["fileInput2",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["type","text","id","apellido","formControlName","apellido","placeholder","Ingresa tu apellido"],["type","number","id","edad","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["type","text","id","obra-social","formControlName","obraSocial","placeholder","Ingresa tu obra social"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","images"],["for","imagenes"],["type","file","id","imagen1","accept","image/*",3,"change"],["type","file","id","imagen2","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,i){if(t&1){let r=Fe();E(0,"div",2)(1,"h2"),M(2,"Registro de Pacientes"),C(),E(3,"form",3)(4,"div",4),J(5,"input",5),X(6,PW,3,0,"ng-container",6),C(),E(7,"div",4),J(8,"input",7),X(9,kW,3,0,"ng-container",6),C(),E(10,"div",4),J(11,"input",8),X(12,FW,3,0,"ng-container",6),C(),E(13,"div",4),J(14,"input",9),X(15,LW,3,0,"ng-container",6),C(),E(16,"div",4),J(17,"input",10),X(18,VW,3,0,"ng-container",6),C(),E(19,"div",4),J(20,"input",11),X(21,BW,3,0,"ng-container",6),C(),E(22,"div",4),J(23,"input",12),X(24,jW,3,0,"ng-container",6),C(),E(25,"div",13)(26,"label",14),M(27,"Sube tus im\xE1genes"),C(),E(28,"input",15,0),te("change",function(s){return ae(r),le(i.onFileChange(s,"imagen1"))}),C(),X(30,UW,3,0,"ng-container",6),E(31,"input",16,1),te("change",function(s){return ae(r),le(i.onFileChange(s,"imagen2"))}),C(),X(33,$W,3,0,"ng-container",6),C(),E(34,"div",17)(35,"re-captcha",18),te("resolved",function(s){return ae(r),le(i.resolved(s))}),C(),X(36,HW,3,0,"ng-container",6),C(),E(37,"button",19),te("click",function(){return ae(r),le(i.onSubmit())}),M(38,"Registrarse"),C()()()}t&2&&(P(3),Y("formGroup",i.registroForm),P(3),Y("ngIf",(i.nombre==null?null:i.nombre.hasError("pattern"))||(i.nombre==null?null:i.nombre.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.apellido==null?null:i.apellido.hasError("pattern"))||(i.apellido==null?null:i.apellido.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.edad==null?null:i.edad.hasError("min"))||(i.edad==null?null:i.edad.hasError("max"))||(i.edad==null?null:i.edad.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.dni==null?null:i.dni.invalid)&&(i.dni==null?null:i.dni.touched)||(i.dni==null?null:i.dni.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.obraSocial==null?null:i.obraSocial.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.email==null?null:i.email.hasError("email"))||(i.email==null?null:i.email.invalid)&&i.formularioEnviado),P(3),Y("ngIf",(i.password==null?null:i.password.hasError("minLength"))||(i.password==null?null:i.password.invalid)&&i.formularioEnviado),P(6),Y("ngIf",(i.imagen1==null||i.imagen1.errors==null?null:i.imagen1.errors.invalidImageCount)&&i.formularioEnviado),P(3),Y("ngIf",(i.imagen2==null||i.imagen2.errors==null?null:i.imagen2.errors.invalidImageCount)&&i.formularioEnviado),P(3),Y("ngIf",(i.recaptcha==null?null:i.recaptcha.invalid)&&i.formularioEnviado))},dependencies:[Gi,ii,$i,Qs,ti,ni,Ci,Ei,Nt,Sr,rl,Ec,Kd,Yd],styles:['@charset "UTF-8";.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:50px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px;width:100%}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{text-align:left;height:100px;width:47%}.recaptcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;height:120px;flex-wrap:wrap}.recaptcha[_ngcontent-%COMP%]   re-captcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.images[_ngcontent-%COMP%]{height:170px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}']})};var w0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[Be],decls:18,vars:0,consts:[[1,"main-container"],["type","button","data-bs-toggle","modal","data-bs-target","#adminRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#especialistaRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#pacienteRegister",1,"btn","btn-primary"],["id","adminRegister","tabindex","-1","aria-labelledby","adminRegisterLabel","aria-hidden","true",1,"modal","fade","modal-lg"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","especialistaRegister","tabindex","-1","aria-labelledby","especialistaRegisterLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","pacienteRegister","tabindex","-1","aria-labelledby","pacienteRegisterLabel","aria-hidden","true",1,"modal","fade"]],template:function(t,i){t&1&&(E(0,"div",0),J(1,"app-lista-usuarios"),E(2,"button",1),M(3," Registrar Administrador "),C(),E(4,"button",2),M(5," Registrar Especialista "),C(),E(6,"button",3),M(7," Registrar Paciente "),C(),E(8,"div",4)(9,"div",5)(10,"div",6),J(11,"app-registro-admins"),C()()(),E(12,"div",7)(13,"div",8),J(14,"app-registro-especialista"),C()(),E(15,"div",9)(16,"div",8),J(17,"app-registro-paciente"),C()()())},dependencies:[y0,v0,Qd,Jd],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px;height:94.5vh;margin:0}app-lista-usuarios[_ngcontent-%COMP%]{width:100%;height:600px;margin-top:20px}.modal-content[_ngcontent-%COMP%]{overflow-y:auto}"]})};var Zd=(n,e)=>{let t=d_(),i=K(jn);return t.currentUser?!0:(i.navigate(["/login"]),!1)};var b0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-registro"]],standalone:!0,features:[Be],decls:2,vars:0,template:function(t,i){t&1&&(E(0,"body"),J(1,"router-outlet"),C())},dependencies:[of],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;height:94.5vh;margin:0;padding:0 50px}"]})};var C0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-opciones-registro"]],standalone:!0,features:[Be],decls:21,vars:0,consts:[[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal","text-body-emphasis"],[1,"fs-5","text-body-secondary"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center","container-fluid"],[1,"col"],[1,"card-body"],["type","button","routerLink","../registro/registro-paciente",1,"w-100","btn","btn-lg"],[1,"image-button-container"],["src","/assets/images/paciente.jpg"],[1,"overlay-text"],["type","button","routerLink","../registro/registro-especialista",1,"w-100","btn","btn-lg"],["src","/assets/images/doctor.jpg"]],template:function(t,i){t&1&&(E(0,"header")(1,"div",0)(2,"h1",1),M(3,"Bienvenido"),C(),E(4,"p",2),M(5,"Seleccione una opci\xF3n"),C()()(),E(6,"div",3)(7,"div",4)(8,"div",5)(9,"button",6)(10,"div",7),J(11,"img",8),E(12,"span",9),M(13,"Registrarse como paciente"),C()()()()(),E(14,"div",4)(15,"div",5)(16,"button",10)(17,"div",7),J(18,"img",11),E(19,"span",9),M(20,"Registrarse como especialista"),C()()()()()())},dependencies:[ja,Ba],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]{border-radius:50%;width:600px;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border-radius:50%;width:400px;height:400px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]{border-radius:50%;position:relative;width:400px;overflow:hidden}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:400px;max-height:400px;object-fit:cover;border:1px solid rgba(0,0,0,.357);display:block}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   .overlay-text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]:hover   .overlay-text[_ngcontent-%COMP%]{opacity:1}.row[_ngcontent-%COMP%]{margin:0}']})};var Xf=uo(jo());function GW(n,e){if(n&1&&(E(0,"div",10),J(1,"input",11),E(2,"label",12),M(3),nb(4,"titlecase"),C(),E(5,"label",13),M(6,"Desde:"),C(),J(7,"input",14),E(8,"label",13),M(9,"Hasta:"),C(),J(10,"input",14),C()),n&2){let t=e.$implicit;P(),Y("id",t)("formControlName",t),P(),Y("for",t),P(),ge(ib(4,10,t)),P(2),Y("for","inicio"+t),P(2),Y("id","inicio"+t)("formControlName","inicio"+t),P(),Y("for","fin"+t),P(2),Y("id","fin"+t)("formControlName","fin"+t)}}function zW(n,e){if(n&1&&(E(0,"small",17),M(1),C()),n&2){let t=e.$implicit;P(),ge(t)}}function qW(n,e){if(n&1&&(E(0,"div",15),X(1,zW,2,1,"small",16),J(2,"br"),C()),n&2){let t=q();P(),Y("ngForOf",t.form.errors==null?null:t.form.errors.incompleteSchedule)}}function WW(n,e){if(n&1&&(E(0,"small",17),M(1),C()),n&2){let t=e.$implicit;P(),ge(t)}}function YW(n,e){if(n&1&&(E(0,"div",15),X(1,WW,2,1,"small",16),J(2,"br"),C()),n&2){let t=q();P(),Y("ngForOf",t.form.errors==null?null:t.form.errors.horarioFueraDeRango)}}function KW(n,e){if(n&1&&(E(0,"small",17),M(1),C()),n&2){let t=e.$implicit;P(),ge(t)}}function QW(n,e){if(n&1&&(E(0,"div",15),X(1,KW,2,1,"small",16),J(2,"br"),C()),n&2){let t=q();P(),Y("ngForOf",t.form.errors==null?null:t.form.errors.rangoNoValido)}}function JW(n,e){n&1&&(E(0,"div",15)(1,"small",17),M(2,"Ingrese el tiempo de la consulta"),C(),J(3,"br"),C())}function ZW(n,e){if(n&1&&(E(0,"div",15)(1,"small",17),M(2),C(),J(3,"br"),C()),n&2){let t=q();P(2),ge(t.form.errors==null?null:t.form.errors.sinDiasSeleccionados)}}var E0=class n{constructor(e,t){this.auth=e;this.firestore=t}horarioEspecialidad;listaHorarios=[];form;modal;dias=["lunes","martes","miercoles","jueves","viernes","sabado"];horariosCargados=!1;formularioEnviado=!1;envioExitoso=!1;ngOnInit(){this.form=new Ui({minutos:new De({value:"",disabled:!0},Ee.required),lunes:new De(!1),iniciolunes:new De({value:"",disabled:!0}),finlunes:new De({value:"",disabled:!0}),martes:new De(!1),iniciomartes:new De({value:"",disabled:!0}),finmartes:new De({value:"",disabled:!0}),miercoles:new De(!1),iniciomiercoles:new De({value:"",disabled:!0}),finmiercoles:new De({value:"",disabled:!0}),jueves:new De(!1),iniciojueves:new De({value:"",disabled:!0}),finjueves:new De({value:"",disabled:!0}),viernes:new De(!1),inicioviernes:new De({value:"",disabled:!0}),finviernes:new De({value:"",disabled:!0}),sabado:new De(!1),iniciosabado:new De({value:"",disabled:!0}),finsabado:new De({value:"",disabled:!0})},{validators:[this.validateDias,this.validateAlMenosUnDiaSeleccionado,this.validateHorarios,this.validateRangoHorario]}),this.dias.forEach(e=>{this.form.get(e)?.valueChanges.subscribe(t=>{t?(this.form.get(`inicio${e}`)?.enable(),this.form.get(`fin${e}`)?.enable()):(this.form.get(`inicio${e}`)?.disable(),this.form.get(`fin${e}`)?.disable(),this.form.get(`inicio${e}`)?.reset(""),this.form.get(`fin${e}`)?.reset("")),this.actualizarMinutos(this.dias)})}),this.actualizarMinutos(this.dias),this.cargarFormulario(),this.form.valueChanges.subscribe(()=>{this.envioExitoso=!1})}validateRangoHorario(e){let t=["lunes","martes","miercoles","jueves","viernes","sabado"],i=[];for(let r of t){let o=e.get(r),s=e.get(`inicio${r}`),a=e.get(`fin${r}`);o?.value&&s?.value>a?.value-1&&i.push(`El horario de inicio de ${r} es mayor o igual al horario de fin`)}return i.length==0?null:{rangoNoValido:i}}validateHorarios(e){let t=["lunes","martes","miercoles","jueves","viernes","sabado"],i=[];for(let r of t){let o=e.get(r),s=e.get(`inicio${r}`),a=e.get(`fin${r}`);o?.value&&(r=="sabado"?s?.value<8||s?.value>13?i.push(`El horario de inicio de ${r} tiene que ser entre las 8 y las 13`):(a?.value<9||a?.value>14)&&i.push(`El horario de fin de ${r} tiene que ser entre las 9 y las 14`):s?.value<8||s?.value>18?i.push(`El horario de inicio de ${r} tiene que ser entre las 8 y las 18`):(a?.value<9||a?.value>19)&&i.push(`El horario de fin de ${r} tiene que ser entre las 9 y las 19`))}return i.length==0?null:{horarioFueraDeRango:i}}validateDias(e){let t=["lunes","martes","miercoles","jueves","viernes","sabado"],i=[];for(let r of t){let o=e.get(r),s=e.get(`inicio${r}`),a=e.get(`fin${r}`);o?.value&&(!s?.value||!a?.value)&&i.push(`${r} tiene horarios incompletos`)}return i.length==0?null:{incompleteSchedule:i}}validateAlMenosUnDiaSeleccionado(e){return["lunes","martes","miercoles","jueves","viernes","sabado"].some(r=>e.get(r)?.value)?null:{sinDiasSeleccionados:"Por favor seleccione al menos un dia"}}obtenerDiasHabilitados(){let e=[];return this.dias.forEach(t=>{if(this.form.get(t)?.value){let i={diaAtencion:t,inicio:this.form.get(`inicio${t}`)?.value,fin:this.form.get(`fin${t}`)?.value};console.log(t),e.push(i)}}),e}actualizarMinutos(e){e.some(i=>this.form.get(i)?.value)?this.minutos?.enable():(this.minutos?.disable(),this.minutos?.reset(""))}obtenerHorarios(){return S(this,null,function*(){let e=Rt(this.firestore,"horariosAtencion");wi(e,t=>{t.forEach(i=>{let r=i.data();this.auth.currentUser?.uid==r.especialistaId&&(r.id=i.id,this.listaHorarios.push(r))}),this.horariosCargados=!0})})}cargarFormulario(){this.listaHorarios.forEach(e=>{e.especialidad==this.horarioEspecialidad&&e.especialistaId==this.auth.currentUser?.uid&&(this.minutos?.enable(),this.minutos.setValue(e.minutosTurno),e.horarios.forEach(t=>{this.form.get(`${t.diaAtencion}`)?.setValue(!0),this.form.get(`inicio${t.diaAtencion}`)?.setValue(t.inicio),this.form.get(`fin${t.diaAtencion}`)?.setValue(t.fin)}))})}CargarHorariosPorEspecialidad(){return S(this,null,function*(){this.formularioEnviado=!0;let e=!1,i={especialistaId:this.auth.currentUser?.uid,especialidad:this.horarioEspecialidad,minutosTurno:this.minutos.value,horarios:this.obtenerDiasHabilitados()};if(this.form.valid){Xf.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Xf.default.showLoading()}});try{for(let r of this.listaHorarios)if(r.especialidad==this.horarioEspecialidad&&r.especialistaId==this.auth.currentUser?.uid){let o=lt(this.firestore,`horariosAtencion/${r.id}`);yield bi(o,i),e=!0,Xf.default.fire({title:"Se editaron los horarios de la especialidad",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Se editaron los horarios de la especialidad")}if(!e){let r=Rt(this.firestore,"horariosAtencion");yield bc(r,i),Xf.default.fire({title:"Se cargaron los horarios de la especialidad",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Se cargaron los horarios de la especialidad")}this.envioExitoso=!0,this.formularioEnviado=!1}catch(r){console.error("Error al registrar los horarios del usuario:",r)}}else console.log("Formulario Invalido")})}CargarHorarios(){return S(this,null,function*(){let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`);(yield Qt(t)).data()?.especialidades.forEach(o=>S(this,null,function*(){let s={especialistaId:this.auth.currentUser?.uid,especialidad:o,horarios:[{dia:"lunes",horaInicio:"08:00",horaFin:"19:00"},{dia:"martes",horaInicio:"08:00",horaFin:"19:00"},{dia:"miercoles",horaInicio:"08:00",horaFin:"19:00"},{dia:"jueves",horaInicio:"08:00",horaFin:"19:00"},{dia:"viernes",horaInicio:"08:00",horaFin:"19:00"},{dia:"sabado",horaInicio:"08:00",horaFin:"14:00"}],minutosTurno:30};try{let a=Rt(this.firestore,"horariosAtencion");yield bc(a,s),console.log("Los horarios del usuario se registraron con exito")}catch(a){console.error("Error al registrar los horarios del usuario:",a)}}))})}get minutos(){return this.form.get("minutos")}set minutos(e){this.minutos.value=e}get lunes(){return this.form.get("lunes")}set lunes(e){this.lunes.value=e}get finlunes(){return this.form.get("finlunes")}set finlunes(e){this.finlunes.value=e}get iniciolunes(){return this.form.get("iniciolunes")}set iniciolunes(e){this.iniciolunes.value=e}get martes(){return this.form.get("martes")}set martes(e){this.martes.value=e}get finmartes(){return this.form.get("finmartes")}set finmartes(e){this.finmartes.value=e}get iniciomartes(){return this.form.get("iniciomartes")}set iniciomartes(e){this.iniciomartes.value=e}get miercoles(){return this.form.get("miercoles")}set miercoles(e){this.miercoles.value=e}get finmiercoles(){return this.form.get("finmiercoles")}set finmiercoles(e){this.finmiercoles.value=e}get iniciomiercoles(){return this.form.get("iniciomiercoles")}set iniciomiercoles(e){this.iniciomiercoles.value=e}get jueves(){return this.form.get("jueves")}set jueves(e){this.jueves.value=e}get finjueves(){return this.form.get("finjueves")}set finjueves(e){this.finjueves.value=e}get iniciojueves(){return this.form.get("iniciojueves")}set iniciojueves(e){this.iniciojueves.value=e}get viernes(){return this.form.get("viernes")}set viernes(e){this.viernes.value=e}get finviernes(){return this.form.get("finviernes")}set finviernes(e){this.finviernes.value=e}get inicioviernes(){return this.form.get("inicioviernes")}set inicioviernes(e){this.inicioviernes.value=e}get sabado(){return this.form.get("sabado")}set sabado(e){this.sabado.value=e}get finsabado(){return this.form.get("finsabado")}set finsabado(e){this.finsabado.value=e}get iniciosabado(){return this.form.get("iniciosabado")}set iniciosabado(e){this.iniciosabado.value=e}static \u0275fac=function(t){return new(t||n)(Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-form-horarios"]],inputs:{horarioEspecialidad:"horarioEspecialidad",listaHorarios:"listaHorarios"},standalone:!0,features:[Be],decls:18,vars:8,consts:[[1,"modal-content","modal-xl","register-container","container-fluid"],[3,"formGroup"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group","tiempo"],["for","minutos",1,"minutos"],["id","minutos","formControlName","minutos"],["value","30"],["value","60"],["class","error",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form-group"],["type","checkbox",3,"id","formControlName"],[1,"dia",3,"for"],[3,"for"],["type","number",3,"id","formControlName"],[1,"error"],["class","text-danger",4,"ngFor","ngForOf"],[1,"text-danger"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"form",1),X(2,GW,11,12,"div",2),E(3,"div",3)(4,"label",4),M(5,"Tiempo de turno"),C(),E(6,"select",5)(7,"option",6),M(8,"30"),C(),E(9,"option",7),M(10,"60"),C()()(),X(11,qW,3,1,"div",8)(12,YW,3,1,"div",8)(13,QW,3,1,"div",8)(14,JW,4,0,"div",8)(15,ZW,4,1,"div",8),E(16,"button",9),te("click",function(){return i.CargarHorariosPorEspecialidad()}),M(17,"Guardar horarios"),C()()()),t&2&&(P(),Y("formGroup",i.form),P(),Y("ngForOf",i.dias),P(9),Y("ngIf",(i.form.errors==null?null:i.form.errors.incompleteSchedule)&&i.formularioEnviado),P(),Y("ngIf",(i.form.errors==null?null:i.form.errors.horarioFueraDeRango)&&i.formularioEnviado),P(),Y("ngIf",(i.form.errors==null?null:i.form.errors.rangoNoValido)&&i.formularioEnviado),P(),Y("ngIf",(i.minutos==null?null:i.minutos.invalid)&&i.formularioEnviado),P(),Y("ngIf",(i.form.errors==null?null:i.form.errors.sinDiasSeleccionados)&&i.formularioEnviado),P(),Y("disabled",i.form.pristine||i.envioExitoso))},dependencies:[Gi,ii,YP,QP,$i,Qs,Cc,m0,ti,ni,Ci,Ei,Nt,On,Sr,PM,Hi],styles:[".modal-content[_ngcontent-%COMP%]{padding:3%}.form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:start;min-width:7%;margin-left:10%;margin-bottom:1%}.form-group[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .minutos[_ngcontent-%COMP%]{margin-left:0}.form-group[_ngcontent-%COMP%]   .minutos[_ngcontent-%COMP%]{margin-right:10%}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15%}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:5%}.form-group.tiempo[_ngcontent-%COMP%]{justify-content:start}.error[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:100%}"]})};var XW=["modal"];function e9(n,e){if(n&1&&(E(0,"div",4),J(1,"img",12)(2,"img",12),C()),n&2){let t=q();P(),Y("src",t.userData.imagen1,ki),P(),Y("src",t.userData.imagen2,ki)}}function t9(n,e){if(n&1&&J(0,"div",4),n&2){let t=q();wo("background-image","url("+t.userData.imagen+")")}}function n9(n,e){if(n&1&&(E(0,"div",7)(1,"p",8),M(2,"Obra Social"),C()(),E(3,"div",9)(4,"p",10),M(5),C()()),n&2){let t=q();P(5),ge(t.userData.obraSocial)}}function i9(n,e){if(n&1&&(E(0,"div",7)(1,"p",8),M(2,"Especialidades"),C()(),E(3,"div",9)(4,"p",10),M(5),C()()),n&2){let t=q();P(5),ge(t.userData.especialidades)}}function r9(n,e){if(n&1&&(E(0,"div")(1,"h2"),M(2),C(),J(3,"app-form-horarios",14),C()),n&2){let t=e.$implicit,i=q(2);P(2),ge(t),P(),Y("horarioEspecialidad",t)("listaHorarios",i.horarios)}}function o9(n,e){if(n&1&&(E(0,"div",11)(1,"div",3)(2,"h1"),M(3,"Horarios"),C(),X(4,r9,4,3,"div",13),C()()),n&2){let t=q();P(4),Y("ngForOf",t.userData.especialidades)}}var I0=class n{constructor(e,t){this.auth=e;this.firestore=t}modal;userData;horarios;horariosCargados=!1;ngOnInit(){return S(this,null,function*(){let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);this.userData=i.data(),this.obtenerHorarios()})}obtenerHorarios(){return S(this,null,function*(){let e=Rt(this.firestore,"horariosAtencion");wi(e,t=>{this.horarios=[],t.forEach(i=>{let r=i.data();this.auth.currentUser?.uid==r.especialistaId&&(r.id=i.id,this.horarios.push(r))}),console.log(this.horarios),this.horariosCargados=!0})})}static \u0275fac=function(t){return new(t||n)(Q(Tt),Q(pt))};static \u0275cmp=Re({type:n,selectors:[["app-perfil"]],viewQuery:function(t,i){if(t&1&&Rn(XW,5),t&2){let r;bn(r=Cn())&&(i.modal=r.first)}},standalone:!0,features:[Be],decls:45,vars:8,consts:[[1,"main-container"],[1,"row"],[1,"col-lg-3"],[1,"card","mb-4","profile"],[1,"card-body"],[1,"card-body",3,"background-image"],[1,"col-lg-9"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],[1,"col-lg"],["alt","",3,"src"],[4,"ngFor","ngForOf"],[3,"horarioEspecialidad","listaHorarios"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),X(4,e9,3,2,"div",4)(5,t9,1,2,"div",5),C()(),E(6,"div",6)(7,"div",3)(8,"div",4)(9,"div",1)(10,"div",7)(11,"p",8),M(12,"Nombre Completo"),C()(),E(13,"div",9)(14,"p",10),M(15),C()()(),J(16,"hr"),E(17,"div",1)(18,"div",7)(19,"p",8),M(20,"Email"),C()(),E(21,"div",9)(22,"p",10),M(23),C()()(),J(24,"hr"),E(25,"div",1)(26,"div",7)(27,"p",8),M(28,"Edad"),C()(),E(29,"div",9)(30,"p",10),M(31),C()()(),J(32,"hr"),E(33,"div",1)(34,"div",7)(35,"p",8),M(36,"D.N.I"),C()(),E(37,"div",9)(38,"p",10),M(39),C()()(),J(40,"hr"),E(41,"div",1),X(42,n9,6,1)(43,i9,6,1),C()()()(),X(44,o9,5,1,"div",11),C()()),t&2&&(P(4),$e(i.userData.rol=="paciente"?4:5),P(11),$r("",i.userData.nombre," ",i.userData.apellido,""),P(8),ge(i.userData.email),P(8),ge(i.userData.edad),P(8),ge(i.userData.dni),P(3),$e(i.userData.rol=="paciente"?42:i.userData.rol=="especialista"?43:-1),P(2),$e(i.userData.rol=="especialista"&&i.horariosCargados?44:-1))},dependencies:[Nt,On,E0],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;min-height:94.5vh;margin:0;display:flex;align-items:center}.row[_ngcontent-%COMP%]{width:100%}.profile[_ngcontent-%COMP%]{min-height:50vh;padding:3%}.profile[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-radius:5px;background-size:cover;background-position:center}.profile[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}"]})};var HI=uo(ik()),D0=uo(jo());var S0=n=>({selected:n});function s9(n,e){if(n&1){let t=Fe();E(0,"button",9),te("click",function(){let r=ae(t).$implicit,o=q(3);return le(o.seleccionarPaciente(r))}),J(1,"img",10),E(2,"h3",11),M(3),C()()}if(n&2){let t=e.$implicit,i=q(3);Y("ngClass",Ku(4,S0,t===i.pacienteSeleccionado)),P(),Y("src",t.imagen1,ki),P(2),$r("",t.nombre," ",t.apellido,"")}}function a9(n,e){if(n&1&&(E(0,"h2"),M(1,"Seleccione un paciente"),C(),X(2,s9,4,6,"button",8)),n&2){let t=q(2);P(2),Y("ngForOf",t.pacientes)}}function l9(n,e){n&1&&(E(0,"div",7)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}function c9(n,e){if(n&1&&(E(0,"div",2),X(1,a9,3,1)(2,l9,4,0,"div",7),C()),n&2){let t=q();P(),$e(t.pacientesCargados?1:2)}}function u9(n,e){if(n&1){let t=Fe();E(0,"button",9),te("click",function(){let r=ae(t).$implicit,o=q(3);return le(o.seleccionarEspecialista(r))}),J(1,"img",10),E(2,"h3",11),M(3),C()()}if(n&2){let t=e.$implicit,i=q(3);Y("ngClass",Ku(4,S0,t===i.especialistaSeleccionado&&i.especialistaFueSeleccionado)),P(),Y("src",t.imagen,ki),P(2),$r("",t.nombre," ",t.apellido,"")}}function d9(n,e){if(n&1&&(E(0,"h2"),M(1,"Seleccione un especialista"),C(),X(2,u9,4,6,"button",8)),n&2){let t=q(2);P(2),Y("ngForOf",t.especialistas)}}function h9(n,e){n&1&&(E(0,"div",7)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}function f9(n,e){if(n&1&&(E(0,"div",3),X(1,d9,3,1)(2,h9,4,0,"div",7),C()),n&2){let t=q();P(),$e(t.especialistasCargados?1:2)}}function p9(n,e){if(n&1){let t=Fe();E(0,"button",9),te("click",function(){let r=ae(t).$implicit,o=q(3);return le(o.seleccionarEspecialidad(r))}),J(1,"img",10),E(2,"h3",11),M(3),C()()}if(n&2){let t=e.$implicit,i=q(3);Y("ngClass",Ku(3,S0,t===i.especialidadSeleccionada&&i.especialidadFueSeleccionada)),P(),Y("src",i.mostrarImagenEspecialidad(t),ki),P(2),ge(t)}}function m9(n,e){if(n&1&&(E(0,"h2"),M(1,"Seleccione una especialidad"),C(),X(2,p9,4,5,"button",8)),n&2){let t=q(2);P(2),Y("ngForOf",t.especialistaSeleccionado.especialidades)}}function g9(n,e){n&1&&(E(0,"div",7)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}function _9(n,e){if(n&1&&(E(0,"div",4),X(1,m9,3,1)(2,g9,4,0,"div",7),C()),n&2){let t=q();P(),$e(t.especialistasCargados?1:2)}}function y9(n,e){if(n&1){let t=Fe();E(0,"button",9),te("click",function(){let r=ae(t).$implicit,o=q(3);return le(o.obtenerTurnos(r))}),E(1,"h3",11),M(2),C()()}if(n&2){let t=e.$implicit,i=q(3);Y("ngClass",Ku(2,S0,t===i.diaSeleccionado&&i.diaFueSeleccionado)),P(2),ge(t)}}function v9(n,e){if(n&1&&(E(0,"h2"),M(1,"Seleccione un dia"),C(),X(2,y9,3,4,"button",8)),n&2){let t=q(2);P(2),Y("ngForOf",t.diasDisponibles)}}function w9(n,e){n&1&&(E(0,"div",7)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}function b9(n,e){if(n&1&&(E(0,"div",5),X(1,v9,3,1)(2,w9,4,0,"div",7),C()),n&2){let t=q();P(),$e(t.horariosEspecialidadCargados?1:2)}}function C9(n,e){if(n&1){let t=Fe();E(0,"button",15),te("click",function(){let r=ae(t).$implicit,o=q(3);return le(o.cargarTurno(r))}),E(1,"h3",11),M(2),C()()}if(n&2){let t=e.$implicit;P(2),ge(t)}}function E9(n,e){if(n&1&&(E(0,"h2"),M(1,"Seleccione un Turno"),C(),X(2,C9,3,1,"button",14)),n&2){let t=q(2);P(2),Y("ngForOf",t.turnosDisponibles)}}function I9(n,e){n&1&&(E(0,"div",7)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}function D9(n,e){if(n&1&&(E(0,"div",6),X(1,E9,3,1)(2,I9,4,0,"div",7),C()),n&2){let t=q();P(),$e(t.horariosEspecialidadCargados?1:2)}}var T0=class n{constructor(e,t,i){this.firestore=e;this.auth=t;this.router=i}pacientes=[];pacientesCargados=!1;pacienteSeleccionado;pacienteFueSeleccionado=!1;especialistas=[];especialistasCargados=!1;especialistaFueSeleccionado=!1;especialistaSeleccionado;especialidadFueSeleccionada=!1;especialidadSeleccionada;horariosEspecialidad;horariosEspecialidadCargados=!1;diasDisponibles=[];diaFueSeleccionado=!1;turnosDisponibles=[];turnos=[];diaSeleccionado;userData;ngOnInit(){return S(this,null,function*(){let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);this.userData=i.data(),this.userData.rol=="paciente"?this.obtenerEspecialistas():this.obtenerPacientes(),this.obtenerTurnosDB()})}obtenerPacientes(){return S(this,null,function*(){let e=Rt(this.firestore,"usuarios");wi(e,t=>{t.forEach(i=>S(this,null,function*(){let r=i.data();r.rol=="paciente"&&(r.id=i.id,this.pacientes.push(r))})),console.log(this.pacientes),this.pacientesCargados=!0})})}obtenerEspecialistas(){return S(this,null,function*(){let e=Rt(this.firestore,"usuarios");wi(e,t=>{t.forEach(i=>{let r=i.data();r.especialidades=[],r.rol=="especialista"&&(r.id=i.id,this.especialistas.push(r))}),console.log(this.especialistas),this.especialistasCargados=!0})})}seleccionarPaciente(e){return S(this,null,function*(){this.pacienteSeleccionado=e,yield this.obtenerEspecialistas(),this.pacienteFueSeleccionado=!0,console.log(this.pacienteSeleccionado),this.especialidadFueSeleccionada=!1,this.diaFueSeleccionado=!1,this.especialidadFueSeleccionada=!1})}seleccionarEspecialista(e){return S(this,null,function*(){this.especialistaSeleccionado=e,yield this.obtenerEspecialidadesConHorarios(e),this.especialistaFueSeleccionado=!0,console.log(this.especialistaSeleccionado),this.especialidadFueSeleccionada=!1,this.diaFueSeleccionado=!1})}seleccionarEspecialidad(e){return S(this,null,function*(){this.horariosEspecialidadCargados=!1,this.especialidadFueSeleccionada=!0,this.especialidadSeleccionada=e,this.diasDisponibles=[],console.log(this.especialidadSeleccionada),this.obtenerDiasDisponibles(),this.diaFueSeleccionado=!1})}mostrarImagenEspecialidad(e){let t;switch(e){case"Pediatria":t="/assets/images/pediatria.jpg";break;case"Cardiologia":t="/assets/images/cardiologia.jpg";break;case"Odontolog\xEDa":t="/assets/images/odontologia.jpg";break;default:t="/assets/images/por-defecto.jpg";break}return t}obtenerEspecialidadesConHorarios(e){return S(this,null,function*(){let t=Rt(this.firestore,"horariosAtencion");this.especialistaSeleccionado.especialidades=[];try{(yield Ys(t)).forEach(r=>{let o=r.data();e.id==o.especialistaId&&o.horarios.length!=0&&this.especialistaSeleccionado.especialidades.push(o.especialidad)})}catch(i){console.error("Error al obtener los horarios:",i)}})}obtenerTurnos(e){this.turnosDisponibles=[],this.diaSeleccionado=e,this.listarTurnosPorDia(e),this.diaFueSeleccionado=!0}formatearFecha(e){let t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}-${i}-${r}`}obtenerDiasEspecificos(e,t){let i=new Date;for(let r=1;r<e;r++){let o=new Date(i);o.setDate(i.getDate()+1+r);let s=o.getDay();t.includes(s)&&this.diasDisponibles.push(this.formatearFecha(o))}}pasarDiasSemanaANumero(e){let t=[];return e.forEach(i=>{switch(i){case"lunes":t.push(1);break;case"martes":t.push(2);break;case"miercoles":t.push(3);break;case"jueves":t.push(4);break;case"viernes":t.push(5);break;default:t.push(6);break}}),t}obtenerHorarios(){return S(this,null,function*(){let e=Rt(this.firestore,"horariosAtencion");try{(yield Ys(e)).forEach(i=>{let r=i.data();this.especialistaSeleccionado.id==r.especialistaId&&r.especialidad==this.especialidadSeleccionada&&(r.id=i.id,this.horariosEspecialidad=r)}),console.log(this.horariosEspecialidad),this.horariosEspecialidadCargados=!0}catch(t){console.error("Error al obtener los horarios:",t)}})}obtenerDiasDisponibles(){return S(this,null,function*(){let e=[],t=[];try{yield this.obtenerHorarios(),this.horariosEspecialidad.horarios.forEach(i=>{e.push(i.diaAtencion)}),console.log(e),t=this.pasarDiasSemanaANumero(e),console.log(t),this.obtenerDiasEspecificos(15,t),console.log(this.diasDisponibles)}catch(i){console.error("Error al obtener los d\xEDas disponibles:",i)}})}obtenerDiasDeSemana(e){let t=["lunes","martes","miercoles","jueves","viernes","sabado"],[i,r,o]=e.split("-").map(Number),s=new Date(o,r-1,i);return t[s.getDay()-1]}listarTurnosPorDia(e){let t=this.horariosEspecialidad,i=this.obtenerDiasDeSemana(e);console.log(i),t.horarios.forEach(r=>{r.diaAtencion==i&&this.generarTurnos(r.inicio,r.fin,t.minutosTurno)})}generarTurnos(e,t,i){let r=(0,HI.default)({hour:e,minute:0}),o=(0,HI.default)({hour:t,minute:0}),s=[],a=r;for(;a.format("HH:mm")!=o.format("HH:mm");){let c=!0,h=a.format("HH:mm");this.turnos.forEach(y=>{y.idEspecialista==this.especialistaSeleccionado.id&&y.fecha==this.diaSeleccionado&&y.hora==h&&(y.estado=="Aceptado"||y.estado=="Finalizado"||y.estado=="Solicitado")&&(c=!1)}),c&&s.push(h),a=a.clone().add(i,"minutes")}console.log(s),this.turnosDisponibles=s}cargarTurno(e){return S(this,null,function*(){let t;D0.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{D0.default.showLoading()}}),this.userData.rol=="administrador"?t=this.pacienteSeleccionado.id:t=this.auth.currentUser?.uid;let i={hora:e,fecha:this.diaSeleccionado,especialidad:this.especialidadSeleccionada,idPaciente:t,idEspecialista:this.especialistaSeleccionado.id,estado:"Solicitado"},r=Rt(this.firestore,"turnos");yield bc(r,i),D0.default.fire({title:"El turno fue solicitado con exito",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.router.navigate(["/home"])})}obtenerTurnosDB(){return S(this,null,function*(){let e=Rt(this.firestore,"turnos");try{(yield Ys(e)).forEach(i=>{let r=i.data();this.turnos.push(r)}),console.log(this.turnos)}catch(t){console.error("Error al obtener los horarios:",t)}})}static \u0275fac=function(t){return new(t||n)(Q(pt),Q(Tt),Q(jn))};static \u0275cmp=Re({type:n,selectors:[["app-solicitar-turno"]],standalone:!0,features:[Be],decls:7,vars:5,consts:[[1,"main-container"],[1,"pasos"],[1,"pacientes"],[1,"especialistas"],[1,"especialidades"],[1,"dias"],[1,"turnos"],[1,"d-flex","justify-content-center"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card",3,"click","ngClass"],[1,"card-img-top",3,"src"],[1,"card-title"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1),X(2,c9,3,1,"div",2)(3,f9,3,1,"div",3)(4,_9,3,1,"div",4)(5,b9,3,1,"div",5)(6,D9,3,1,"div",6),C()()),t&2&&(P(2),$e(i.userData.rol=="administrador"?2:-1),P(),$e(i.userData.rol=="paciente"||i.userData.rol=="administrador"&&i.pacienteFueSeleccionado?3:-1),P(),$e(i.especialistaFueSeleccionado?4:-1),P(),$e(i.especialidadFueSeleccionada?5:-1),P(),$e(i.diaFueSeleccionado?6:-1))},dependencies:[Nt,NM,On],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;min-height:94.5vh;margin:0;display:flex;align-items:center}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]{width:95vw;height:80vh;display:flex;justify-content:center}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]{margin:0 10px;height:100%;width:20%;min-width:300px;background-color:#fff;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto;border-radius:5px}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;height:30%;padding:0;border:none;margin:5%;background-size:cover;background-position:center;border:1px solid rgb(156,156,156)}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;height:20%;text-align:center}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:0;height:80%}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:3px solid #2c8ab3}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialistas[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .especialidades[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .pacientes[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:10%}.main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .pasos[_ngcontent-%COMP%]   .turnos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}"]})};function T9(n,e){if(n&1&&(E(0,"div",7),J(1,"input",8),E(2,"label",9),M(3),C()()),n&2){let t=e.$implicit;P(),Y("id",t.id)("name",t.id)("value",t.id)("formControlName",t.id),P(),Y("for",t.id)("id",t.id),P(),$r("",t.nombre," ",t.apellido,"")}}function S9(n,e){if(n&1&&(E(0,"div",7),J(1,"input",8),E(2,"label",10),M(3),C()()),n&2){let t=e.$implicit;P(),Y("id",t)("name",t)("value",t)("formControlName",t),P(),Y("for",t),P(),ge(t)}}function A9(n,e){if(n&1){let t=Fe();E(0,"form",1)(1,"h3"),M(2,"Especialistas"),C(),E(3,"div",3),X(4,T9,4,8,"div",4),C(),E(5,"h3"),M(6,"Especialidades"),C(),E(7,"div",5),X(8,S9,4,6,"div",4),C(),E(9,"button",6),te("click",function(){ae(t);let r=q();return le(r.aplicarFiltrosFn())}),M(10,"Aplicar Filtros"),C()()}if(n&2){let t=q();Y("formGroup",t.filtros),P(4),Y("ngForOf",t.especialistas),P(4),Y("ngForOf",t.especialidades)}}function M9(n,e){n&1&&(E(0,"div",2)(1,"div",11)(2,"span",12),M(3,"Loading..."),C()()())}var A0=class n{constructor(e,t){this.firestore=e;this.fb=t}filtrar=new ut;filtros;especialidades=[];especialistas=[];especialistasCargados=!1;ngOnInit(){return S(this,null,function*(){yield this.obtenerEspecialistas(),this.obtenerEspecialidades();let e=this.especialistas.reduce((i,r)=>(i[r.id]=!0,i),{}),t=this.especialidades.reduce((i,r)=>(i[r]=!0,i),{});this.filtros=this.fb.group(ie(ie({},e),t))})}obtenerEspecialistas(){return S(this,null,function*(){let e=Rt(this.firestore,"usuarios");try{(yield Ys(e)).forEach(i=>{let r=i.data();r.rol=="especialista"&&(r.id=i.id,this.especialistas.push(r))}),console.log(this.especialistas),this.especialistasCargados=!0}catch{console.error("Error al obtener especialistas")}})}obtenerEspecialidades(){this.especialistas.forEach(e=>{e.especialidades.forEach(t=>{this.especialidades.includes(t)||this.especialidades.push(t)})}),console.log(this.especialidades)}aplicarFiltrosFn(){let e=Object.keys(this.filtros.value).filter(r=>this.filtros.value[r]),t=e.filter(r=>this.especialistas.some(o=>o.id===r)),i=e.filter(r=>this.especialidades.includes(r));this.filtrar.emit({especialistas:t,especialidades:i})}static \u0275fac=function(t){return new(t||n)(Q(pt),Q(Wd))};static \u0275cmp=Re({type:n,selectors:[["app-filtro"]],outputs:{filtrar:"filtrar"},standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"card"],[3,"formGroup"],[1,"d-flex","justify-content-center"],[1,"especialistas"],["class","form-group",4,"ngFor","ngForOf"],[1,"especialidades"],[3,"click"],[1,"form-group"],["type","checkbox",3,"id","name","value","formControlName"],[3,"for","id"],[3,"for"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,i){t&1&&(E(0,"div",0),X(1,A9,11,3,"form",1)(2,M9,4,0,"div",2),C()),t&2&&(P(),$e(i.especialistasCargados?1:2))},dependencies:[Gi,ii,Cc,ti,ni,Ci,Ei,Nt,On],styles:[".d-flex[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.especialistas[_ngcontent-%COMP%], .especialidades[_ngcontent-%COMP%]{display:flex}.especialistas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .especialidades[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}"]})};var O0=uo(jo());var x9=["*"];var R9=["dialog"];var rk={animation:!0,transitionTimerDelayMs:5},O9=(()=>{class n{constructor(){this.animation=rk.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N9(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function ok(n){return typeof n=="string"}function GI(n){return n!=null}function P9(n){return n&&n.then}function sk(n){return(n||document.body).getBoundingClientRect()}function k9(n){return e=>new xe(t=>{let i=s=>n.run(()=>t.next(s)),r=s=>n.run(()=>t.error(s)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:o})})}var F9=()=>{},{transitionTimerDelayMs:L9}=rk,M0=new Map,Sc=(n,e,t,i)=>{let r=i.context||{},o=M0.get(e);if(o)switch(i.runningTransition){case"continue":return Vn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),M0.delete(e)}let s=t(e,i.animation,r)||F9;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>s()),Ie(void 0).pipe(k9(n));let a=new gt,c=new gt,h=a.pipe(zy(!0));M0.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let y=N9(e);return n.runOutsideAngular(()=>{let _=Cr(e,"transitionend").pipe(zn(h),sn(({target:x})=>x===e)),T=$y(y+L9).pipe(zn(h));Hy(T,_,c).pipe(zn(h)).subscribe(()=>{M0.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var Lce=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var V9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ak(n){let e=Array.from(n.querySelectorAll(V9)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var B9=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=Cr(e,"focusin").pipe(zn(t),Le(o=>o.target));Cr(e,"keydown").pipe(zn(t),sn(o=>o.key==="Tab"),zp(r)).subscribe(([o,s])=>{let[a,c]=ak(e);(s===a||s===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Cr(e,"click").pipe(zn(t),zp(r),Le(o=>o[1])).subscribe(o=>o.focus())})};var Vce=new Date(1882,10,12),Bce=new Date(2174,10,25);var jce=1e3*60*60*24;var WI=1080,j9=24*WI,U9=12*WI+793,Uce=29*j9+U9,$ce=11*WI+204;var $9=(()=>{class n{constructor(){this._ngbConfig=K(O9),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eh=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var H9=(()=>{class n{constructor(){this._document=K(hn)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),G9=(()=>{class n{constructor(){this._nativeElement=K(dn).nativeElement,this._zone=K(Ke),this._injector=K(kt)}ngOnInit(){Yu(()=>Sc(this._zone,this._nativeElement,(t,i)=>{i&&sk(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:fs.MixedReadWrite})}hide(){return Sc(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Re({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(eg("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Kl("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Be],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),x0=class{update(e){}close(e){}dismiss(e){}},z9=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],q9=["animation","backdropClass"],zI=class{_applyWindowOptions(e,t){z9.forEach(i=>{GI(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){q9.forEach(i=>{GI(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(zn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(zn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new gt,this._dismissed=new gt,this._hidden=new gt,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();P9(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ie(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),yh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},qI=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(qI||{}),W9=(()=>{class n{constructor(){this._document=K(hn),this._elRef=K(dn),this._zone=K(Ke),this._injector=K(kt),this._closed$=new gt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ut,this.shown=new gt,this.hidden=new gt}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":ok(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,Yu(()=>this._show(),{injector:this._injector,phase:fs.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Sc(this._zone,t,()=>t.classList.remove("show"),i),o=Sc(this._zone,this._dialogEl.nativeElement,()=>{},i),s=yh(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Sc(this._zone,this._elRef.nativeElement,(o,s)=>{s&&sk(o),o.classList.add("show")},t),r=Sc(this._zone,this._dialogEl.nativeElement,()=>{},t);yh(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Cr(t,"keydown").pipe(zn(this._closed$),sn(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(qI.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Cr(this._dialogEl.nativeElement,"mousedown").pipe(zn(this._closed$),Zt(()=>i=!1),Gn(()=>Cr(t,"mouseup").pipe(zn(this._closed$),Er(1))),sn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Cr(t,"click").pipe(zn(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(qI.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=ak(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Sc(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Re({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&Rn(R9,7),i&2){let o;bn(o=Cn())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(vo("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),eg("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Kl("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Be],ngContentSelectors:x9,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(cM(),E(0,"div",1,0)(2,"div",2),uM(3),C()()),i&2&&eg("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),Y9=(()=>{class n{constructor(){this._applicationRef=K(Co),this._injector=K(kt),this._environmentInjector=K(xn),this._document=K(hn),this._scrollBar=K(H9),this._activeWindowCmptHasChanged=new gt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ut;let t=K(Ke);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];B9(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:GI(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new x0;t=r.injector||t;let a=t.get(xn,null)||this._environmentInjector,c=this._getContentRef(t,a,i,s,r),h=r.backdrop!==!1?this._attachBackdrop(o):void 0,y=this._attachWindowComponent(o,c.nodes),_=new zI(y,c,h,r.beforeDismiss);return this._registerModalRef(_),this._registerWindowCmpt(y),_.hidden.pipe(Er(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=T=>{_.close(T)},s.dismiss=T=>{_.dismiss(T)},s.update=T=>{_.update(T)},_.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),h&&h.instance&&h.changeDetectorRef.detectChanges(),y.changeDetectorRef.detectChanges(),_}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=ag(G9,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=ag(W9,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof ys?this._createFromTemplateRef(r,o):ok(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new eh([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new eh([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new eh([[i]])}_createFromComponent(t,i,r,o,s){let a=kt.create({providers:[{provide:x0,useValue:o}],parent:t}),c=ag(r,{environmentInjector:i,elementInjector:a}),h=c.location.nativeElement;return s.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new eh([[h]],c.hostView,c)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),R0=(()=>{class n{constructor(){this._injector=K(kt),this._modalStack=K(Y9),this._config=K($9)}open(t,i={}){let r=ie(Ze(ie({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hce=new ue("live announcer delay",{providedIn:"root",factory:()=>100});function K9(n,e){if(n&1&&(E(0,"td",7),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function Q9(n,e){if(n&1&&(E(0,"td",8),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function J9(n,e){if(n&1&&(E(0,"td",9),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function Z9(n,e){if(n&1&&(E(0,"td",10),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function X9(n,e){if(n&1&&(E(0,"td",11),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function e7(n,e){n&1&&(E(0,"div")(1,"small"),M(2,"Ingrese un motivo"),C()())}function t7(n,e){if(n&1){let t=Fe();E(0,"div",14)(1,"h4",15),M(2,"Cancelar Turno"),C(),E(3,"button",16),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",17)(5,"p"),M(6,"Ingrese el motivo de la cancelaci\xF3n:"),C(),J(7,"textarea",null,1),C(),X(9,e7,3,0,"div",18),E(10,"div",19)(11,"button",20),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(12,"Cerrar"),C(),E(13,"button",21),te("click",function(){let r=ae(t).$implicit,o=en(8),s=q(2).$implicit,a=q(2);return le(a.cancelarTurno(s,o.value,r))}),M(14,"Cancelar turno"),C()()}if(n&2){let t=q(4);P(9),Y("ngIf",t.motivoCancelacionVacio&&t.motivoCancelacionEnviado)}}function n7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",12),te("click",function(){ae(t);let r=en(4),o=q(3);return le(o.abrirModal(r))}),M(2,"Cancelar Turno"),C()(),X(3,t7,15,1,"ng-template",13,0,bo)}if(n&2){let t=q().$implicit;P(),vo("data-bs-target","#"+t.id)}}function i7(n,e){if(n&1&&(E(0,"td"),M(1),C()),n&2){let t=q().$implicit;P(),Ur("Motivo cancelacion: ",t.motivoCancelacion,"")}}function r7(n,e){if(n&1&&(E(0,"td"),M(1),C()),n&2){let t=q().$implicit;P(),Ur("Motivo rechazo: ",t.motivoRechazo,"")}}function o7(n,e){n&1&&J(0,"td")}function s7(n,e){if(n&1&&(E(0,"tr")(1,"td"),M(2),C(),E(3,"td"),M(4),C(),E(5,"td"),M(6),C(),E(7,"td"),M(8),C(),E(9,"td"),M(10),C(),X(11,K9,2,1,"td",7)(12,Q9,2,1,"td",8)(13,J9,2,1,"td",9)(14,Z9,2,1,"td",10)(15,X9,2,1,"td",11)(16,n7,5,1)(17,i7,2,1,"td")(18,r7,2,1,"td")(19,o7,1,0,"td"),C()),n&2){let t=e.$implicit;P(2),ge(t.fecha),P(2),ge(t.hora),P(2),ge(t.paciente),P(2),ge(t.especialista),P(2),ge(t.especialidad),P(),$e(t.estado=="Solicitado"?11:t.estado=="Cancelado"?12:t.estado=="Rechazado"?13:t.estado=="Aceptado"?14:t.estado=="Finalizado"?15:-1),P(5),$e(t.estado!="Aceptado"&&t.estado!="Finalizado"&&t.estado!="Rechazado"&&t.estado!="Cancelado"?16:t.estado=="Cancelado"?17:t.estado=="Rechazado"?18:19)}}function a7(n,e){if(n&1&&(E(0,"table",3)(1,"thead")(2,"tr")(3,"th",5),M(4,"Fecha"),C(),E(5,"th",5),M(6,"Hora"),C(),E(7,"th",5),M(8,"Paciente"),C(),E(9,"th",5),M(10,"Especialista"),C(),E(11,"th",5),M(12,"Especialidad"),C(),E(13,"th",5),M(14,"Estado"),C(),J(15,"th",5),C()(),E(16,"tbody"),X(17,s7,20,7,"tr",6),C()()),n&2){let t=q();P(17),Y("ngForOf",t.turnosFiltrados)}}function l7(n,e){n&1&&(E(0,"div",4)(1,"div",22)(2,"span",23),M(3,"Loading..."),C()()())}var N0=class n{constructor(e,t){this.firestore=e;this.modalService=t}filtros=null;turnosCargados=!1;turnos=[];turnosFiltrados=[];motivoCancelacionVacio=!0;motivoCancelacionEnviado=!1;ngOnInit(){this.obtenerTurnos()}ngOnChanges(){console.log(this.filtros),this.turnosFiltrados=this.turnos.filter(e=>this.filtros.especialidades.includes(e.especialidad)||this.filtros.especialistas.includes(e.idEspecialista))}obtenerTurnos(){return S(this,null,function*(){let e=Rt(this.firestore,"turnos");wi(e,t=>S(this,null,function*(){this.turnos=[],this.turnosCargados=!1;let i=t.docs.map(r=>S(this,null,function*(){let o=r.data(),[s,a]=yield Promise.all([this.obtenerUsuarioPorId(o.idPaciente),this.obtenerUsuarioPorId(o.idEspecialista)]);return o.id=r.id,o.paciente=`${s.nombre} ${s.apellido}`,o.especialista=`${a.nombre} ${a.apellido}`,o}));this.turnos=yield Promise.all(i),console.log(this.turnos),this.turnosFiltrados=this.turnos,this.turnosCargados=!0}))})}obtenerUsuarioPorId(e){return S(this,null,function*(){try{let t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);return i.exists()?i.data():null}catch(t){console.error("Error al obtener los datos de los usuarios: "+t)}})}abrirModal(e){this.modalService.open(e)}cancelarTurno(e,t,i){return S(this,null,function*(){this.motivoCancelacionEnviado=!0;let r={especialidad:e.especialidad,estado:"Cancelado",fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,motivoCancelacion:t.trim()};if(t!=""&&(this.motivoCancelacionVacio=!1),!this.motivoCancelacionVacio){O0.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{O0.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),O0.default.fire({title:"El turno fue cancelado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.motivoCancelacionEnviado=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}}})}static \u0275fac=function(t){return new(t||n)(Q(pt),Q(R0))};static \u0275cmp=Re({type:n,selectors:[["app-listado-turnos"]],inputs:{filtros:"filtros"},standalone:!0,features:[Pi,Be],decls:3,vars:1,consts:[["content",""],["textarea",""],[1,"card"],[1,"table"],[1,"d-flex","justify-content-center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"solicitado"],[1,"cancelado"],[1,"rechazado"],[1,"aceptado"],[1,"finalizado"],["data-bs-toggle","modal",3,"click"],[1,"cancelar-container"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,i){t&1&&(E(0,"div",2),X(1,a7,18,1,"table",3)(2,l7,4,0,"div",4),C()),t&2&&(P(),$e(i.turnosCargados?1:2))},dependencies:[Nt,On,Sr,Hi],styles:[".cancelar-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;justify-content:center}.cancelar-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}textarea[_ngcontent-%COMP%]{width:100%}.solicitado[_ngcontent-%COMP%]{background-color:#edff9f;color:#000}.cancelado[_ngcontent-%COMP%]{background-color:#aaa;color:#000}.rechazado[_ngcontent-%COMP%]{background-color:#ff9f9f;color:#000}.aceptado[_ngcontent-%COMP%]{background-color:#9fff9f;color:#000}.finalizado[_ngcontent-%COMP%]{background-color:#9ffffa;color:#000}"]})};var P0=class n{filtros;actualizarFiltros(e){this.filtros=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-turnos-admin"]],standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"main-container"],[3,"filtrar"],[3,"filtros"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"app-filtro",1),te("filtrar",function(o){return i.actualizarFiltros(o)}),C(),J(2,"app-listado-turnos",2),C()),t&2&&(P(2),Y("filtros",i.filtros))},dependencies:[A0,N0],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0}"]})};function c7(n,e){if(n&1&&(E(0,"div",7),J(1,"input",8),E(2,"label",9),M(3),C()()),n&2){let t=e.$implicit;P(),Y("id",t.id)("name",t.id)("value",t.id)("formControlName",t.id),P(),Y("for",t.id)("id",t.id),P(),$r("",t.nombre," ",t.apellido,"")}}function u7(n,e){if(n&1&&(E(0,"h3"),M(1,"Especialistas"),C(),E(2,"div",6),X(3,c7,4,8,"div",4),C()),n&2){let t=q(2);P(3),Y("ngForOf",t.especialistas)}}function d7(n,e){if(n&1&&(E(0,"div",7),J(1,"input",8),E(2,"label",9),M(3),C()()),n&2){let t=e.$implicit;P(),Y("id",t.id)("name",t.id)("value",t.id)("formControlName",t.id),P(),Y("for",t.id)("id",t.id),P(),$r("",t.nombre," ",t.apellido,"")}}function h7(n,e){if(n&1&&(E(0,"h3"),M(1,"Pacientes"),C(),E(2,"div",10),X(3,d7,4,8,"div",4),C()),n&2){let t=q(2);P(3),Y("ngForOf",t.pacientes)}}function f7(n,e){if(n&1&&(E(0,"div",7),J(1,"input",8),E(2,"label",11),M(3),C()()),n&2){let t=e.$implicit;P(),Y("id",t)("name",t)("value",t)("formControlName",t),P(),Y("for",t),P(),ge(t)}}function p7(n,e){if(n&1){let t=Fe();E(0,"form",1),X(1,u7,4,1)(2,h7,4,1),E(3,"h3"),M(4,"Especialidades"),C(),E(5,"div",3),X(6,f7,4,6,"div",4),C(),E(7,"button",5),te("click",function(){ae(t);let r=q();return le(r.aplicarFiltrosFn())}),M(8,"Aplicar Filtros"),C()()}if(n&2){let t=q();Y("formGroup",t.filtros),P(),$e(t.userData.rol=="paciente"?1:2),P(5),Y("ngForOf",t.especialidades)}}function m7(n,e){n&1&&(E(0,"div",2)(1,"div",12)(2,"span",13),M(3,"Loading..."),C()()())}var k0=class n{constructor(e,t,i){this.firestore=e;this.fb=t;this.auth=i}filtrar=new ut;filtros;especialidades=[];especialistas=[];pacientes=[];especialistasCargados=!1;pacientesCargados=!1;userData;ngOnInit(){return S(this,null,function*(){yield this.obtenerEspecialistas(),yield this.obtenerPacientes(),this.obtenerEspecialidades();let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);this.userData=i.data();let r=this.especialidades.reduce((o,s)=>(o[s]=!0,o),{});if(this.userData.rol=="paciente"){let o=this.especialistas.reduce((s,a)=>(s[a.id]=!0,s),{});this.filtros=this.fb.group(ie(ie({},o),r))}else{let o=this.pacientes.reduce((s,a)=>(s[a.id]=!0,s),{});this.filtros=this.fb.group(ie(ie({},o),r))}})}obtenerEspecialistas(){return S(this,null,function*(){let e=Rt(this.firestore,"usuarios");try{(yield Ys(e)).forEach(i=>{let r=i.data();r.rol=="especialista"&&(r.id=i.id,this.especialistas.push(r))}),this.especialistasCargados=!0}catch{console.error("Error al obtener especialistas")}})}obtenerPacientes(){return S(this,null,function*(){let e=Rt(this.firestore,"usuarios");try{(yield Ys(e)).forEach(i=>{let r=i.data();r.rol=="paciente"&&(r.id=i.id,this.pacientes.push(r))}),this.pacientesCargados=!0}catch{console.error("Error al obtener pacientes")}})}obtenerEspecialidades(){this.especialistas.forEach(e=>{e.especialidades.forEach(t=>{this.especialidades.includes(t)||this.especialidades.push(t)})})}aplicarFiltrosFn(){let e=Object.keys(this.filtros.value).filter(i=>this.filtros.value[i]),t=e.filter(i=>this.especialidades.includes(i));if(this.userData.rol=="paciente"){let i=e.filter(r=>this.especialistas.some(o=>o.id===r));this.filtrar.emit({especialistas:i,especialidades:t})}else{let i=e.filter(r=>this.pacientes.some(o=>o.id===r));this.filtrar.emit({pacientes:i,especialidades:t})}}static \u0275fac=function(t){return new(t||n)(Q(pt),Q(Wd),Q(Tt))};static \u0275cmp=Re({type:n,selectors:[["app-filtro"]],outputs:{filtrar:"filtrar"},standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"card"],[1,"filtros",3,"formGroup"],[1,"d-flex","justify-content-center"],[1,"especialidades"],["class","form-group",4,"ngFor","ngForOf"],[3,"click"],[1,"especialistas"],[1,"form-group"],["type","checkbox",3,"id","name","value","formControlName"],[3,"for","id"],[1,"pacientes"],[3,"for"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,i){t&1&&(E(0,"div",0),X(1,p7,9,3,"form",1)(2,m7,4,0,"div",2),C()),t&2&&(P(),$e(i.pacientesCargados?1:2))},dependencies:[Gi,ii,Cc,ti,ni,Ci,Ei,Nt,On],styles:[".especialistas[_ngcontent-%COMP%], .especialidades[_ngcontent-%COMP%], .pacientes[_ngcontent-%COMP%]{display:flex}.especialistas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .especialidades[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .pacientes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.card[_ngcontent-%COMP%]{min-height:80%;max-height:80%;overflow-y:auto;display:flex}.d-flex[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var Dn=uo(jo());function g7(n,e){if(n&1&&(E(0,"td",9),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function _7(n,e){if(n&1&&(E(0,"td",10),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function y7(n,e){if(n&1&&(E(0,"td",11),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function v7(n,e){if(n&1&&(E(0,"td",12),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function w7(n,e){if(n&1&&(E(0,"td",13),M(1),C()),n&2){let t=q().$implicit;P(),ge(t.estado)}}function b7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q();let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Rechazar Turno"),C(),E(3,"button",16),te("click",function(){ae(t),q();let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(4,"Cancelar Turno"),C(),E(5,"button",16),te("click",function(){ae(t);let r=q(2).$implicit,o=q(2);return le(o.aceptarTurno(r))}),M(6,"Aceptar Turno"),C()()}}function C7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q();let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Cancelar Turno"),C()()}}function E7(n,e){n&1&&(E(0,"div")(1,"small"),M(2,"Ingrese un motivo"),C()())}function I7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Rechazar Turno"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20)(5,"p"),M(6,"Ingrese el motivo de rechazo:"),C(),J(7,"textarea",null,1),C(),X(9,E7,3,0,"div",21),E(10,"div",22)(11,"button",23),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(12,"Cerrar"),C(),E(13,"button",24),te("click",function(){let r=ae(t).$implicit,o=en(8),s=q(2).$implicit,a=q(2);return le(a.rechazarTurno(s,o.value,r))}),M(14,"Rechazar turno"),C()()}if(n&2){let t=q(4);P(9),Y("ngIf",t.motivoRechazoVacio&&t.motivoRechazoEnviado)}}function D7(n,e){n&1&&(E(0,"div")(1,"small"),M(2,"Ingrese un motivo"),C()())}function T7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Cancelar Turno"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20)(5,"p"),M(6,"Ingrese el motivo de la cancelaci\xF3n:"),C(),J(7,"textarea",null,1),C(),X(9,D7,3,0,"div",21),E(10,"div",22)(11,"button",23),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(12,"Cerrar"),C(),E(13,"button",24),te("click",function(){let r=ae(t).$implicit,o=en(8),s=q(2).$implicit,a=q(2);return le(a.cancelarTurno(s,o.value,r))}),M(14,"Cancelar turno"),C()()}if(n&2){let t=q(4);P(9),Y("ngIf",t.motivoCancelacionVacio&&t.motivoCancelacionEnviado)}}function S7(n,e){if(n&1&&X(0,b7,7,0,"td")(1,C7,3,0,"td")(2,I7,15,1,"ng-template",14,0,bo)(4,T7,15,1,"ng-template",15,0,bo),n&2){let t=q(3);$e(t.userData.rol=="especialista"?0:1)}}function A7(n,e){if(n&1&&(E(0,"td"),M(1),C()),n&2){let t=q().$implicit;P(),Ur("Motivo cancelacion: ",t.motivoCancelacion,"")}}function M7(n,e){if(n&1&&(E(0,"td"),M(1),C()),n&2){let t=q().$implicit;P(),Ur("Motivo rechazo: ",t.motivoRechazo,"")}}function x7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Finalizar Turno"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20)(5,"p"),M(6,"Ingrese una rese\xF1a:"),C(),J(7,"textarea",null,1),C(),E(9,"div",22)(10,"button",23),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(11,"Cerrar"),C(),E(12,"button",24),te("click",function(){let r=ae(t).$implicit,o=en(8),s=q(2).$implicit,a=q(2);return le(a.finalizarTurno(s,o.value,r))}),M(13,"Finalizar Turno"),C()()}}function R7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t);let r=en(4),o=q(3);return le(o.abrirModal(r))}),M(2,"Finalizar Turno"),C()(),X(3,x7,14,0,"ng-template",25,0,bo)}}function O7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q(2);let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Ver Rese\xF1a"),C()()}}function N7(n,e){n&1&&J(0,"td")}function P7(n,e){if(n&1&&X(0,O7,3,0,"td")(1,N7,1,0,"td"),n&2){let t=q(2).$implicit;$e(t.resenia!=null?0:1)}}function k7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q(2);let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Ver Rese\xF1a"),C(),E(3,"button",16),te("click",function(){ae(t),q(2);let r=en(5),o=q(3);return le(o.abrirModal(r))}),M(4,"Calificar Atencion"),C(),E(5,"button",16),te("click",function(){ae(t),q(2);let r=en(7),o=q(3);return le(o.abrirModal(r))}),M(6,"Encuesta"),C()()}}function F7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q(2);let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Ver Rese\xF1a"),C(),E(3,"button",16),te("click",function(){ae(t),q(2);let r=en(5),o=q(3);return le(o.abrirModal(r))}),M(4,"Calificar Atencion"),C()()}}function L7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q(2);let r=en(3),o=q(3);return le(o.abrirModal(r))}),M(2,"Ver Rese\xF1a"),C(),E(3,"button",16),te("click",function(){ae(t),q(2);let r=en(7),o=q(3);return le(o.abrirModal(r))}),M(4,"Encuesta"),C()()}}function V7(n,e){if(n&1){let t=Fe();E(0,"td")(1,"button",16),te("click",function(){ae(t),q(2);let r=en(5),o=q(3);return le(o.abrirModal(r))}),M(2,"Calificar Atencion"),C()()}}function B7(n,e){n&1&&J(0,"td")}function j7(n,e){if(n&1&&X(0,k7,7,0,"td")(1,F7,5,0,"td")(2,L7,5,0,"td")(3,V7,3,0,"td")(4,B7,1,0,"td"),n&2){let t=q(2).$implicit;$e(t.resenia!=null&&t.calificacionAtencion==null&&t.calificacionEncuesta==null?0:t.resenia!=null&&t.calificacionAtencion==null?1:t.resenia!=null&&t.calificacionEncuesta==null?2:t.calificacionAtencion==null?3:4)}}function U7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Rese\xF1a"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20)(5,"p"),M(6),C()()}if(n&2){let t=q(2).$implicit;P(6),ge(t.resenia)}}function $7(n,e){n&1&&(E(0,"div")(1,"small"),M(2,"Ingrese un comentario"),C()())}function H7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Califique su atencion"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20),J(5,"textarea",null,1),C(),X(7,$7,3,0,"div",21),E(8,"div",22)(9,"button",23),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(10,"Cerrar"),C(),E(11,"button",24),te("click",function(){let r=ae(t).$implicit,o=en(6),s=q(2).$implicit,a=q(2);return le(a.calificarAtencion(s,o.value,r))}),M(12,"Enviar"),C()()}if(n&2){let t=q(4);P(7),Y("ngIf",t.calificacionAtencionVacia&&t.calificacionEnviada)}}function G7(n,e){n&1&&(E(0,"div")(1,"small"),M(2,"Seleccione una puntuacion"),C()())}function z7(n,e){if(n&1){let t=Fe();E(0,"div",17)(1,"h4",18),M(2,"Encuesta"),C(),E(3,"button",19),te("click",function(){let r=ae(t).$implicit;return le(r.close())}),C()(),E(4,"div",20)(5,"p"),M(6,"Del 1 al 10 como calificaria los servicios brindados?"),C(),E(7,"form",29)(8,"div",30)(9,"label",31),M(10,"1"),C(),J(11,"input",32),C(),E(12,"div",30)(13,"label",33),M(14,"2"),C(),J(15,"input",32),C(),E(16,"div",30)(17,"label",34),M(18,"3"),C(),J(19,"input",32),C(),E(20,"div",30)(21,"label",35),M(22,"4"),C(),J(23,"input",32),C(),E(24,"div",30)(25,"label",36),M(26,"5"),C(),J(27,"input",32),C(),E(28,"div",30)(29,"label",37),M(30,"6"),C(),J(31,"input",32),C(),E(32,"div",30)(33,"label",38),M(34,"7"),C(),J(35,"input",32),C(),E(36,"div",30)(37,"label",39),M(38,"8"),C(),J(39,"input",32),C(),E(40,"div",30)(41,"label",40),M(42,"9"),C(),J(43,"input",32),C(),E(44,"div",30)(45,"label",41),M(46,"10"),C(),J(47,"input",32),C()()(),X(48,G7,3,0,"div",21),E(49,"div",22)(50,"button",23),te("click",function(){let r=ae(t).$implicit;return le(r.dismiss())}),M(51,"Cerrar"),C(),E(52,"button",24),te("click",function(){let r=ae(t).$implicit,o=q(2).$implicit,s=q(2);return le(s.enviarEncuesta(o,s.puntaje==null?null:s.puntaje.value,r))}),M(53,"Enviar"),C()()}if(n&2){let t=q(4);P(7),Y("formGroup",t.encuesta),P(4),Y("value",1),P(4),Y("value",2),P(4),Y("value",3),P(4),Y("value",4),P(4),Y("value",5),P(4),Y("value",6),P(4),Y("value",7),P(4),Y("value",8),P(4),Y("value",9),P(4),Y("value",10),P(),Y("ngIf",t.puntajeEnviado&&t.puntajeVacio)}}function q7(n,e){if(n&1&&X(0,P7,2,1)(1,j7,5,1)(2,U7,7,1,"ng-template",26,0,bo)(4,H7,13,1,"ng-template",27,2,bo)(6,z7,54,12,"ng-template",28,3,bo),n&2){let t=q(3);$e(t.userData.rol=="especialista"?0:1)}}function W7(n,e){n&1&&J(0,"td")}function Y7(n,e){if(n&1&&(E(0,"tr")(1,"td"),M(2),C(),E(3,"td"),M(4),C(),E(5,"td"),M(6),C(),E(7,"td"),M(8),C(),E(9,"td"),M(10),C(),X(11,g7,2,1,"td",9)(12,_7,2,1,"td",10)(13,y7,2,1,"td",11)(14,v7,2,1,"td",12)(15,w7,2,1,"td",13)(16,S7,6,1)(17,A7,2,1,"td")(18,M7,2,1,"td")(19,R7,5,0)(20,q7,8,1)(21,W7,1,0,"td"),C()),n&2){let t=e.$implicit,i=q(2);P(2),ge(t.fecha),P(2),ge(t.hora),P(2),ge(t.paciente),P(2),ge(t.especialista),P(2),ge(t.especialidad),P(),$e(t.estado=="Solicitado"?11:t.estado=="Cancelado"?12:t.estado=="Rechazado"?13:t.estado=="Aceptado"?14:t.estado=="Finalizado"?15:-1),P(5),$e(t.estado!="Aceptado"&&t.estado!="Finalizado"&&t.estado!="Rechazado"&&t.estado!="Cancelado"?16:t.estado=="Cancelado"?17:t.estado=="Rechazado"?18:t.estado=="Aceptado"&&i.userData.rol=="especialista"?19:t.estado=="Finalizado"?20:21)}}function K7(n,e){if(n&1&&(E(0,"table",5)(1,"thead")(2,"tr")(3,"th",7),M(4,"Fecha"),C(),E(5,"th",7),M(6,"Hora"),C(),E(7,"th",7),M(8,"Paciente"),C(),E(9,"th",7),M(10,"Especialista"),C(),E(11,"th",7),M(12,"Especialidad"),C(),E(13,"th",7),M(14,"Estado"),C(),J(15,"th",7),C()(),E(16,"tbody"),X(17,Y7,22,7,"tr",8),C()()),n&2){let t=q();P(17),Y("ngForOf",t.turnosFiltrados)}}function Q7(n,e){n&1&&(E(0,"div",6)(1,"div",42)(2,"span",43),M(3,"Loading..."),C()()())}var F0=class n{constructor(e,t,i,r){this.firestore=e;this.modalService=t;this.auth=i;this.fb=r;this.encuesta=this.fb.group({puntaje:""})}filtros=null;turnosCargados=!1;turnos=[];turnosFiltrados=[];motivoCancelacionVacio=!0;motivoCancelacionEnviado=!1;motivoRechazoEnviado=!1;motivoRechazoVacio=!0;calificacionEnviada=!1;calificacionAtencionVacia=!0;userData;encuesta;puntajeEnviado=!1;puntajeVacio=!0;ngOnInit(){return S(this,null,function*(){this.obtenerTurnos();let e=this.auth.currentUser?.uid,t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);this.userData=i.data()})}ngOnChanges(){return S(this,null,function*(){console.log(this.filtros),this.userData.rol=="paciente"?this.turnosFiltrados=this.turnos.filter(e=>this.filtros.especialidades.includes(e.especialidad)||this.filtros.especialistas.includes(e.idEspecialista)):this.turnosFiltrados=this.turnos.filter(e=>this.filtros.especialidades.includes(e.especialidad)||this.filtros.pacientes.includes(e.idPaciente))})}obtenerTurnos(){return S(this,null,function*(){let e=Rt(this.firestore,"turnos");wi(e,t=>S(this,null,function*(){this.turnos=[],this.turnosCargados=!1;let i=t.docs.map(r=>S(this,null,function*(){let o=r.data(),[s,a]=yield Promise.all([this.obtenerUsuarioPorId(o.idPaciente),this.obtenerUsuarioPorId(o.idEspecialista)]);return o.id=r.id,o.paciente=`${s.nombre} ${s.apellido}`,o.especialista=`${a.nombre} ${a.apellido}`,o}));this.turnos=yield Promise.all(i),console.log(this.turnos),this.turnos=this.turnos.filter(r=>this.userData.rol=="paciente"&&r.idPaciente==this.auth.currentUser?.uid||this.userData.rol=="especialista"&&r.idEspecialista==this.auth.currentUser?.uid),this.turnosFiltrados=this.turnos,this.turnosCargados=!0}))})}obtenerUsuarioPorId(e){return S(this,null,function*(){try{let t=lt(this.firestore,`usuarios/${e}`),i=yield Qt(t);return i.exists()?i.data():null}catch(t){console.error("Error al obtener los datos de los usuarios: "+t)}})}abrirModal(e){this.modalService.open(e)}cancelarTurno(e,t,i){return S(this,null,function*(){this.motivoCancelacionEnviado=!0;let r={especialidad:e.especialidad,estado:"Cancelado",fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,motivoCancelacion:t.trim()};if(t!=""&&(this.motivoCancelacionVacio=!1),!this.motivoCancelacionVacio){Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),Dn.default.fire({title:"El turno fue cancelado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.motivoCancelacionEnviado=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}}})}rechazarTurno(e,t,i){return S(this,null,function*(){this.motivoRechazoEnviado=!0;let r={especialidad:e.especialidad,estado:"Rechazado",fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,motivoRechazo:t.trim()};if(t!=""&&(this.motivoRechazoVacio=!1),!this.motivoRechazoVacio){Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),Dn.default.fire({title:"El turno fue rechazado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.motivoRechazoEnviado=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}}})}calificarAtencion(e,t,i){return S(this,null,function*(){this.calificacionEnviada=!0;let r={especialidad:e.especialidad,estado:e.estado,fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,calificacionAtencion:t.trim()};if(t!=""&&(this.calificacionAtencionVacia=!1),!this.calificacionAtencionVacia){Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),Dn.default.fire({title:"La calificacion fue enviada",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.calificacionEnviada=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}}})}enviarEncuesta(e,t,i){return S(this,null,function*(){this.puntajeEnviado=!0;let r={especialidad:e.especialidad,estado:e.estado,fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,puntajeEncuesta:t};if(t!=""&&(this.puntajeVacio=!1),!this.puntajeVacio){Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),Dn.default.fire({title:"La encuesta fue enviada",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.puntajeEnviado=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}}})}aceptarTurno(e){return S(this,null,function*(){this.motivoRechazoEnviado=!0;let t={especialidad:e.especialidad,estado:"Aceptado",fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente};Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let i=lt(this.firestore,`turnos/${e.id}`);yield bi(i,t),Dn.default.fire({title:"El turno fue Aceptado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.motivoRechazoEnviado=!1}catch(i){console.error("Error al obtener los datos de los usuarios: "+i)}})}finalizarTurno(e,t,i){return S(this,null,function*(){this.motivoRechazoEnviado=!0;let r={especialidad:e.especialidad,estado:"Finalizado",fecha:e.fecha,hora:e.hora,idEspecialista:e.idEspecialista,idPaciente:e.idPaciente,resenia:t};Dn.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Dn.default.showLoading()}});try{let o=lt(this.firestore,`turnos/${e.id}`);yield bi(o,r),Dn.default.fire({title:"El turno fue Finalizado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),this.motivoRechazoEnviado=!1,i.close()}catch(o){console.error("Error al obtener los datos de los usuarios: "+o)}})}get puntaje(){return this.encuesta.get("puntaje")}static \u0275fac=function(t){return new(t||n)(Q(pt),Q(R0),Q(Tt),Q(Wd))};static \u0275cmp=Re({type:n,selectors:[["app-listado-turnos"]],inputs:{filtros:"filtros"},standalone:!0,features:[Pi,Be],decls:3,vars:1,consts:[["content",""],["textarea",""],["content2",""],["content3",""],[1,"card"],[1,"table"],[1,"d-flex","justify-content-center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"solicitado"],[1,"cancelado"],[1,"rechazado"],[1,"aceptado"],[1,"finalizado"],[1,"rechazar-container"],[1,"cancelar-container"],["data-bs-toggle","modal",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"finalizar-container"],[1,"resenia"],[1,"calificacion"],[1,"encuesta"],[3,"formGroup"],[1,"puntaje"],["for","1"],["type","radio","formControlName","puntaje",3,"value"],["for","2"],["for","3"],["for","4"],["for","5"],["for","6"],["for","7"],["for","8"],["for","9"],["for","10"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,i){t&1&&(E(0,"div",4),X(1,K7,18,1,"table",5)(2,Q7,4,0,"div",6),C()),t&2&&(P(),$e(i.turnosCargados?1:2))},dependencies:[Nt,On,Sr,Hi,ii,$i,FI,ti,ni,Gi,Ci,Ei],styles:[".cancelar-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;justify-content:center}.cancelar-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}textarea[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{min-height:80%}.solicitado[_ngcontent-%COMP%]{background-color:#edff9f;color:#000}.cancelado[_ngcontent-%COMP%]{background-color:#aaa;color:#000}.rechazado[_ngcontent-%COMP%]{background-color:#ff9f9f;color:#000}.aceptado[_ngcontent-%COMP%]{background-color:#9fff9f;color:#000}.finalizado[_ngcontent-%COMP%]{background-color:#9ffffa;color:#000}"]})};var L0=class n{filtros;actualizarFiltros(e){this.filtros=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Re({type:n,selectors:[["app-mis-turnos"]],standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"main-container"],[3,"filtrar"],[3,"filtros"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"app-filtro",1),te("filtrar",function(o){return i.actualizarFiltros(o)}),C(),J(2,"app-listado-turnos",2),C()),t&2&&(P(2),Y("filtros",i.filtros))},dependencies:[k0,F0],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0;padding:20px;display:flex;flex-wrap:wrap}app-filtro[_ngcontent-%COMP%], app-listado-turnos[_ngcontent-%COMP%]{width:100%}"]})};var ck=[{component:Lg,path:""},{component:g0,path:"login"},{component:C0,path:"opciones-registro"},{component:b0,path:"registro",children:[{component:Jd,path:"registro-paciente"},{component:Qd,path:"registro-especialista"}]},{component:_0,path:"home",canActivate:[Zd]},{component:w0,path:"gestion-usuarios",canActivate:[Zd]},{component:I0,path:"perfil",canActivate:[Zd]},{component:T0,path:"solicitar-turno",canActivate:[Zd]},{component:P0,path:"turnos",canActivate:[Zd]},{component:L0,path:"mis-turnos"}];var mk="firebasestorage.googleapis.com",J7="storageBucket",Z7=2*60*1e3,X7=10*60*1e3;var $o=class n extends vi{constructor(e,t,i=0){super(YI(e),`Firebase Storage: ${t} (${YI(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return YI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Zs=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Zs||{});function YI(n){return"storage/"+n}function eY(){let n="An unknown error occurred, please check the error payload for server response.";return new $o(Zs.UNKNOWN,n)}function tY(){return new $o(Zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nY(){return new $o(Zs.CANCELED,"User canceled the upload/download.")}function iY(n){return new $o(Zs.INVALID_URL,"Invalid URL '"+n+"'.")}function rY(n){return new $o(Zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uk(n){return new $o(Zs.INVALID_ARGUMENT,n)}function gk(){return new $o(Zs.APP_DELETED,"The Firebase app was deleted.")}function oY(n){return new $o(Zs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Js=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw rY(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function h(ve){ve.path_=decodeURIComponent(ve.path)}let y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${r}/o${T}`,"i"),k={bucket:1,path:3},G=t===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,$="([^?#]*)",Z=new RegExp(`^https?://${G}/${r}/${$}`,"i"),se=[{regex:a,indices:c,postModify:o},{regex:x,indices:k,postModify:h},{regex:Z,indices:{bucket:1,path:2},postModify:h}];for(let ve=0;ve<se.length;ve++){let Ne=se[ve],me=Ne.regex.exec(e);if(me){let V=me[Ne.indices.bucket],R=me[Ne.indices.path];R||(R=""),i=new n(V,R),Ne.postModify(i);break}}if(i==null)throw iY(e);return i}},KI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function sY(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let h=!1;function y(...$){h||(h=!0,e.apply(null,$))}function _($){r=setTimeout(()=>{r=null,n(x,c())},$)}function T(){o&&clearTimeout(o)}function x($,...Z){if(h){T();return}if($){T(),y.call(null,$,...Z);return}if(c()||s){T(),y.call(null,$,...Z);return}i<64&&(i*=2);let se;a===1?(a=2,se=0):se=(i+Math.random())*1e3,_(se)}let k=!1;function G($){k||(k=!0,T(),!h&&(r!==null?($||(a=2),clearTimeout(r),_(0)):$||(a=1)))}return _(0),o=setTimeout(()=>{s=!0,G(!0)},t),G}function aY(n){n(!1)}function lY(n){return n!==void 0}function dk(n,e,t,i){if(i<e)throw uk(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw uk(`Invalid value for '${n}'. Expected ${t} or less.`)}function cY(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var QI=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(QI||{});function uY(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var JI=class{constructor(e,t,i,r,o,s,a,c,h,y,_,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=y,this.connectionFactory_=_,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new th(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===QI.NO_ERROR,c=o.getStatus();if(!a||uY(c,this.additionalRetryCodes_)&&this.retry){let y=o.getErrorCode()===QI.ABORT;i(!1,new th(!1,null,y));return}let h=this.successCodes_.indexOf(c)!==-1;i(!0,new th(h,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());lY(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=eY();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?gk():nY();s(c)}else{let c=tY();s(c)}};this.canceled_?t(!1,new th(!1,null,!0)):this.backoffId_=sY(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},th=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function dY(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function hY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fY(n,e){e&&(n["X-Firebase-GMPID"]=e)}function pY(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function mY(n,e,t,i,r,o,s=!0){let a=cY(n.urlParams),c=n.url+a,h=Object.assign({},n.headers);return fY(h,e),dY(h,t),hY(h,o),pY(h,i),new JI(c,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function gY(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function _Y(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var jue=256*1024;var ZI=class n{constructor(e,t){this._service=e,t instanceof Js?this._location=t:this._location=Js.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Js(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _Y(this._location.path)}get storage(){return this._service}get parent(){let e=gY(this._location.path);if(e===null)return null;let t=new Js(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw oY(e)}};function hk(n,e){let t=e?.[J7];return t==null?null:Js.makeFromBucketSpec(t,n)}function yY(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Ug(r,n.app.options.projectId))}var XI=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z7,this._maxUploadRetryTime=X7,this._requests=new Set,r!=null?this._bucket=Js.makeFromBucketSpec(r,this._host):this._bucket=hk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Js.makeFromBucketSpec(this._url,e):this._bucket=hk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ZI(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new KI(gk());{let s=mY(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return S(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},fk="@firebase/storage",pk="0.13.2";var _k="storage";function yk(n=Ha(),e){n=fn(n);let i=ic(n,_k).getImmediate({identifier:e}),r=jg("storage");return r&&vk(i,...r),i}function vk(n,e,t,i={}){yY(n,e,t,i)}function vY(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new XI(t,i,r,e,Ao)}function wY(){So(new Vi(_k,vY,"PUBLIC").setMultipleInstances(!0)),Ht(fk,pk,""),Ht(fk,pk,"esm2017")}wY();var ep=class{constructor(e){return e}},wk="storage",eD=class{constructor(){return oc(wk)}};var tD=new ue("angularfire2.storage-instances");function bY(n,e){let t=pd(wk,n,e);return t&&new ep(t)}function CY(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ep(i)}}var EY={provide:eD,deps:[[new an,tD]]},IY={provide:ep,useFactory:bY,deps:[[new an,tD],zr]};function bk(n,...e){return Ht("angularfire",Ps.full,"gcs"),Oi([IY,EY,{provide:tD,useFactory:CY(n),multi:!0,deps:[Ke,kt,za,ks,[new an,uc],[new an,Ga],...e]}])}var Ck=pn(yk,!0);var Ek={providers:[vM({eventCoalescing:!0}),Gx(ck),bR(()=>CR({projectId:"tp2-labo4-96998",appId:"1:551030929167:web:1f1f826c51083b0685707a",storageBucket:"tp2-labo4-96998.firebasestorage.app",apiKey:"AIzaSyCPPiaFLgtdkkMbMyrg-j3h-CwQm8aBZiY",authDomain:"tp2-labo4-96998.firebaseapp.com",messagingSenderId:"551030929167"})),yO(()=>d_()),mP(()=>gP()),bk(()=>Ck()),qM(),_w(rl,nk),{provide:VI,useValue:{siteKey:"6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih"}}]};var nD=uo(jo());function DY(n,e){n&1&&(E(0,"button",2),J(1,"img",3),M(2," Inicio "),C())}function TY(n,e){if(n&1){let t=Fe();E(0,"button",4),J(1,"img",3),M(2," Inicio "),C(),E(3,"button",5),te("click",function(){ae(t);let r=q();return le(r.logout())}),M(4," Salir "),C()}}var V0=class n{constructor(e,t){this.router=e;this.auth=t}title="tp2_labo4";goTo(e){console.log(e),this.router.navigate([e])}isLoggedOut(){return this.auth.currentUser==null}logout(){nD.default.fire({title:"\xBFEsta seguro que desea cerrar la sesi\xF3n?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Cerrar Sesi\xF3n",cancelButtonText:"Cancelar",background:"#fff",color:"#000"}).then(e=>{e.isConfirmed&&(nD.default.showLoading(),this.auth.signOut(),this.goTo("/login"))})}static \u0275fac=function(t){return new(t||n)(Q(jn),Q(Tt))};static \u0275cmp=Re({type:n,selectors:[["app-root"]],standalone:!0,features:[Be],decls:5,vars:1,consts:[[1,"navbar"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","favicon.ico","alt","Logo","width","30","height","24",1,"d-inline-block","align-text-top"],["routerLink","/home",1,"navbar-brand"],[1,"navbar-brand",3,"click"]],template:function(t,i){t&1&&(E(0,"nav",0)(1,"div",1),X(2,DY,3,0,"button",2)(3,TY,5,0),C()(),J(4,"router-outlet")),t&2&&(P(2),$e(i.isLoggedOut()?2:3))},dependencies:[of,ja,Ba],styles:["nav[_ngcontent-%COMP%]{background-color:#2c8ab3;padding:0}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px;background-color:#2c8ab3;border:none}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1;height:100%}.container-fluid[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:start}"]})};ex(V0,Ek).catch(n=>console.error(n));
