var vP=Object.create;var wm=Object.defineProperty,wP=Object.defineProperties,_P=Object.getOwnPropertyDescriptor,EP=Object.getOwnPropertyDescriptors,IP=Object.getOwnPropertyNames,Zb=Object.getOwnPropertySymbols,Xb=Object.getPrototypeOf,e0=Object.prototype.hasOwnProperty,bP=Object.prototype.propertyIsEnumerable,CP=Reflect.get;var Jb=(n,e,t)=>e in n?wm(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H=(n,e)=>{for(var t in e||={})e0.call(e,t)&&Jb(n,t,e[t]);if(Zb)for(var t of Zb(e))bP.call(e,t)&&Jb(n,t,e[t]);return n},be=(n,e)=>wP(n,EP(e));var DP=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var TP=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IP(e))!e0.call(n,i)&&i!==t&&wm(n,i,{get:()=>e[i],enumerable:!(r=_P(e,i))||r.enumerable});return n};var zd=(n,e,t)=>(t=n!=null?vP(Xb(n)):{},TP(e||!n||!n.__esModule?wm(t,"default",{value:n,enumerable:!0}):t,n));var Bi=(n,e,t)=>CP(Xb(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Zl=DP((Fr,kb)=>{"use strict";(function(n,e){typeof Fr=="object"&&typeof kb<"u"?kb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Fr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),N=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},V=l=>{console.error(`${M} ${l}`)},W=[],z=l=>{W.includes(l)||(W.push(l),N(l))},Z=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;z(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},ge=l=>typeof l=="function"?l():l,J=l=>l&&typeof l.toPromise=="function",T=l=>J(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,C=()=>document.body.querySelector(`.${g.container}`),A=l=>{let h=C();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(g.popup),D=()=>S(g.icon),Rn=()=>S(g["icon-content"]),bi=()=>S(g.title),$c=()=>S(g["html-container"]),Ci=()=>S(g.image),Vr=()=>S(g["progress-steps"]),Di=()=>S(g["validation-message"]),un=()=>A(`.${g.actions} .${g.confirm}`),Ti=()=>A(`.${g.actions} .${g.cancel}`),jt=()=>A(`.${g.actions} .${g.deny}`),Tt=()=>S(g["input-label"]),Ai=()=>A(`.${g.loader}`),xn=()=>S(g.actions),Xl=()=>S(g.footer),Xn=()=>S(g["timer-progress-bar"]),Hc=()=>S(g.close),em=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Si=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((G,me)=>{let Ve=parseInt(G.getAttribute("tabindex")||"0"),Je=parseInt(me.getAttribute("tabindex")||"0");return Ve>Je?1:Ve<Je?-1:0}),w=l.querySelectorAll(em),P=Array.from(w).filter(G=>G.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter(G=>Ft(G))},Ri=()=>ln(document.body,g.shown)&&!ln(document.body,g["toast-shown"])&&!ln(document.body,g["no-backdrop"]),xi=()=>{let l=R();return l?ln(l,g.toast):!1},qc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Ot=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(me=>{l.appendChild(me)});let G=w.querySelector("body");G&&Array.from(G.childNodes).forEach(me=>{me instanceof HTMLVideoElement||me instanceof HTMLAudioElement?l.appendChild(me.cloneNode(!0)):l.appendChild(me)})}},ln=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},ed=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Bt=(l,h,y)=>{if(ed(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}Ie(l,w)}},zs=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},zc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Gc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},Ie=(l,h)=>{Gc(l,h,!0)},dn=(l,h)=>{Gc(l,h,!1)},er=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&ln(P,h))return P}},Mn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},et=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},ut=l=>{l&&(l.style.display="none")},lt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{tr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},At=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},tr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?et(l,y):ut(l)},Ft=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),td=()=>!Ft(un())&&!Ft(jt())&&!Ft(Ti()),nd=l=>l.scrollHeight>l.clientHeight,Mi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Gs=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Xn();y&&Ft(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},rd=()=>{let l=Xn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Wc=()=>typeof window>"u"||typeof document>"u",tm=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),nm=()=>{let l=C();return l?(l.remove(),dn([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Nn=()=>{s.currentInstance.resetValidationMessage()},id=()=>{let l=R(),h=er(l,g.input),y=er(l,g.file),w=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),G=er(l,g.select),me=l.querySelector(`.${g.checkbox} input`),Ve=er(l,g.textarea);h.oninput=Nn,y.onchange=Nn,G.onchange=Nn,me.onchange=Nn,Ve.oninput=Nn,w.oninput=()=>{Nn(),P.value=w.value},w.onchange=()=>{Nn(),P.value=w.value}},od=l=>typeof l=="string"?document.querySelector(l):l,Oo=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Kc=l=>{window.getComputedStyle(l).direction==="rtl"&&Ie(C(),g.rtl)},Qc=l=>{let h=nm();if(Wc()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&Ie(y,g["no-transition"]),Ot(y,tm);let w=od(l.target);w.appendChild(y),Oo(l),Kc(w),id()},Pn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?sd(l,h):l&&Ot(h,l)},sd=(l,h)=>{l.jquery?Ws(h,l):Ot(h,l.toString())},Ws=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},ad=(l,h)=>{let y=xn(),w=Ai();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?ut(y):et(y),Bt(y,h,"actions"),Fo(y,w,h),Ot(w,h.loaderHtml||""),Bt(w,h,"loader"))};function Fo(l,h,y){let w=un(),P=jt(),G=Ti();!w||!P||!G||(wt(w,"confirm",y),wt(P,"deny",y),wt(G,"cancel",y),cd(w,P,G,y),y.reverseButtons&&(y.toast?(l.insertBefore(G,w),l.insertBefore(P,w)):(l.insertBefore(G,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function cd(l,h,y,w){if(!w.buttonsStyling){dn([l,h,y],g.styled);return}Ie([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,Ie(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,Ie(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,Ie(y,g["default-outline"]))}function wt(l,h,y){let w=O(h);tr(l,y[`show${w}Button`],"inline-block"),Ot(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Bt(l,y,`${h}Button`)}let ud=(l,h)=>{let y=Hc();y&&(Ot(y,h.closeButtonHtml||""),Bt(y,h,"closeButton"),tr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Lo=(l,h)=>{let y=C();y&&(Vo(y,h.backdrop),rm(y,h.position),im(y,h.grow),Bt(y,h,"container"))};function Vo(l,h){typeof h=="string"?l.style.background=h:h||Ie([document.documentElement,document.body],g["no-backdrop"])}function rm(l,h){h&&(h in g?Ie(l,g[h]):(N('The "position" parameter is not valid, defaulting to "center"'),Ie(l,g.center)))}function im(l,h){h&&Ie(l,g[`grow-${h}`])}var ke={innerParams:new WeakMap,domCache:new WeakMap};let om=["input","file","range","select","radio","checkbox","textarea"],sm=(l,h)=>{let y=R();if(!y)return;let w=ke.innerParams.get(l),P=!w||h.input!==w.input;om.forEach(G=>{let me=er(y,g[G]);me&&(Yc(G,h.inputAttributes),me.className=g[G],P&&ut(me))}),h.input&&(P&&Ks(h),Qs(h))},Ks=l=>{if(!l.input)return;if(!Ge[l.input]){V(`Unexpected type of input! Expected ${Object.keys(Ge).join(" | ")}, got "${l.input}"`);return}let h=Zc(l.input);if(!h)return;let y=Ge[l.input](h,l);et(h),l.inputAutoFocus&&setTimeout(()=>{zc(y)})},ld=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Yc=(l,h)=>{let y=R();if(!y)return;let w=zs(y,l);if(w){ld(w);for(let P in h)w.setAttribute(P,h[P])}},Qs=l=>{if(!l.input)return;let h=Zc(l.input);h&&Bt(h,l,"input")},_n=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Ni=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=g["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&Ie(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Zc=l=>{let h=R();if(h)return er(h,g[l]||g.input)},Pi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ge={};Ge.text=Ge.email=Ge.password=Ge.number=Ge.tel=Ge.url=Ge.search=Ge.date=Ge["datetime-local"]=Ge.time=Ge.week=Ge.month=(l,h)=>(Pi(l,h.inputValue),Ni(l,l,h),_n(l,h),l.type=h.input,l),Ge.file=(l,h)=>(Ni(l,l,h),_n(l,h),l),Ge.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Pi(y,h.inputValue),y.type=h.input,Pi(w,h.inputValue),Ni(y,l,h),l},Ge.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Ot(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Ni(l,l,h),l},Ge.radio=l=>(l.textContent="",l),Ge.checkbox=(l,h)=>{let y=zs(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Ot(w,h.inputPlaceholder||h.inputLabel),y},Ge.textarea=(l,h)=>{Pi(l,h.inputValue),_n(l,h),Ni(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let G=l.offsetWidth+y(l);G>w?R().style.width=`${G}px`:Mn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let dd=(l,h)=>{let y=$c();y&&(lt(y),Bt(y,h,"htmlContainer"),h.html?(Pn(h.html,y),et(y,"block")):h.text?(y.textContent=h.text,et(y,"block")):ut(y),sm(l,h))},hd=(l,h)=>{let y=Xl();y&&(lt(y),tr(y,h.footer,"block"),h.footer&&Pn(h.footer,y),Bt(y,h,"footer"))},am=(l,h)=>{let y=ke.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){nr(w,h),Uo(w,h);return}if(!h.icon&&!h.iconHtml){ut(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),ut(w);return}et(w),nr(w,h),Uo(w,h),Ie(w,h.showClass&&h.showClass.icon)}},Uo=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&dn(l,w);Ie(l,h.icon&&E[h.icon]),Xc(l,h),fd(),Bt(l,h,"icon")},fd=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Jc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,jo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,nr=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=pd(h.iconHtml):h.icon==="success"?(w=Jc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=jo:h.icon&&(w=pd({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Ot(l,w)},Xc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])At(l,y,"background-color",h.iconColor);At(l,".swal2-success-ring","border-color",h.iconColor)}},pd=l=>`<div class="${g["icon-content"]}">${l}</div>`,gd=(l,h)=>{let y=Ci();if(y){if(!h.imageUrl){ut(y);return}et(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Mn(y,"width",h.imageWidth),Mn(y,"height",h.imageHeight),y.className=g.image,Bt(y,h,"image")}},md=(l,h)=>{let y=C(),w=R();if(!(!y||!w)){if(h.toast){Mn(y,"width",h.width),w.style.width="100%";let P=Ai();P&&w.insertBefore(P,D())}else Mn(w,"width",h.width);Mn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),ut(Di()),yd(w,h)}},yd=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Ft(l)?y.popup:""}`,h.toast?(Ie([document.documentElement,document.body],g["toast-shown"]),Ie(l,g.toast)):Ie(l,g.modal),Bt(l,h,"popup"),typeof h.customClass=="string"&&Ie(l,h.customClass),h.icon&&Ie(l,g[`icon-${h.icon}`])},eu=(l,h)=>{let y=Vr();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){ut(y);return}et(y),y.textContent="",P>=w.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((G,me)=>{let Ve=tu(G);if(y.appendChild(Ve),me===P&&Ie(Ve,g["active-progress-step"]),me!==w.length-1){let Je=vd(h);y.appendChild(Je)}})},tu=l=>{let h=document.createElement("li");return Ie(h,g["progress-step"]),Ot(h,l),h},vd=l=>{let h=document.createElement("li");return Ie(h,g["progress-step-line"]),l.progressStepsDistance&&Mn(h,"width",l.progressStepsDistance),h},wd=(l,h)=>{let y=bi();y&&(lt(y),tr(y,h.title||h.titleText,"block"),h.title&&Pn(h.title,y),h.titleText&&(y.innerText=h.titleText),Bt(y,h,"title"))},_d=(l,h)=>{md(l,h),Lo(l,h),eu(l,h),am(l,h),gd(l,h),wd(l,h),ud(l,h),dd(l,h),ad(l,h),hd(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},cm=()=>Ft(R()),nu=()=>{var l;return(l=un())===null||l===void 0?void 0:l.click()},Ed=()=>{var l;return(l=jt())===null||l===void 0?void 0:l.click()},um=()=>{var l;return(l=Ti())===null||l===void 0?void 0:l.click()},tn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),En=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Ys=(l,h,y)=>{En(l),h.toast||(l.keydownHandler=w=>Zs(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},ki=(l,h)=>{var y;let w=Si();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},ru=["ArrowRight","ArrowDown"],qe=["ArrowLeft","ArrowUp"],Zs=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Bo(h,l):h.key==="Tab"?$o(h):[...ru,...qe].includes(h.key)?lm(h.key):h.key==="Escape"&&Id(h,l,y)))},Bo=(l,h)=>{if(!ge(h.allowEnterKey))return;let y=zs(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;nu(),l.preventDefault()}},$o=l=>{let h=l.target,y=Si(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?ki(w,-1):ki(w,1),l.stopPropagation(),l.preventDefault()},lm=l=>{let h=xn(),y=un(),w=jt(),P=Ti();if(!h||!y||!w||!P)return;let G=[y,w,P];if(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))return;let me=ru.includes(l)?"nextElementSibling":"previousElementSibling",Ve=document.activeElement;if(Ve){for(let Je=0;Je<h.children.length;Je++){if(Ve=Ve[me],!Ve)return;if(Ve instanceof HTMLButtonElement&&Ft(Ve))break}Ve instanceof HTMLButtonElement&&Ve.focus()}},Id=(l,h,y)=>{ge(h.allowEscapeKey)&&(l.preventDefault(),y(tn.esc))};var Oi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let dm=()=>{let l=C();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},bd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Cd=typeof window<"u"&&!!window.GestureEvent,Ho=()=>{if(Cd&&!ln(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,Ie(document.body,g.iosfix),rr()}},rr=()=>{let l=C();if(!l)return;let h;l.ontouchstart=y=>{h=Dd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Dd=l=>{let h=l.target,y=C(),w=$c();return!y||!w||Td(l)||Ad(l)?!1:h===y||!nd(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(nd(w)&&w.contains(h))},Td=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Ad=l=>l.touches&&l.touches.length>1,Fi=()=>{if(ln(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);dn(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},hm=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Li=null,fm=l=>{Li===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Li=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Li+hm()}px`)},ir=()=>{Li!==null&&(document.body.style.paddingRight=`${Li}px`,Li=null)};function Sd(l,h,y,w){xi()?We(l,w):(u(y).then(()=>We(l,w)),En(s)),Cd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Ri()&&(ir(),Fi(),bd()),pm()}function pm(){dn([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function nn(l){l=qo(l);let h=Oi.swalPromiseResolve.get(this),y=Js(this);this.isAwaitingPromise?l.isDismissed||(kn(this),h(l)):y&&h(l)}let Js=l=>{let h=R();if(!h)return!1;let y=ke.innerParams.get(l);if(!y||ln(h,y.hideClass.popup))return!1;dn(h,y.showClass.popup),Ie(h,y.hideClass.popup);let w=C();return dn(w,y.showClass.backdrop),Ie(w,y.hideClass.backdrop),Rd(l,h,y),!0};function iu(l){let h=Oi.swalPromiseReject.get(this);kn(this),h&&h(l)}let kn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ke.innerParams.get(l)||l._destroy())},qo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Rd=(l,h,y)=>{let w=C(),P=Mi(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),P?ou(l,h,w,y.returnFocus,y.didClose):Sd(l,w,y.returnFocus,y.didClose)},ou=(l,h,y,w,P)=>{s.swalCloseEventFinishedCallback=Sd.bind(null,l,y,w,P);let G=function(me){me.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",G),h.removeEventListener("transitionend",G))};h.addEventListener("animationend",G),h.addEventListener("transitionend",G)},We=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Vi=l=>{let h=R();if(h||new qd,h=R(),!h)return;let y=Ai();xi()?ut(D()):gm(h,l),et(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},gm=(l,h)=>{let y=xn(),w=Ai();!y||!w||(!h&&Ft(un())&&(h=un()),et(y),h&&(ut(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),Ie([l,y],g.loading))},xd=(l,h)=>{h.input==="select"||h.input==="radio"?On(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(J(h.inputValue)||I(h.inputValue))&&(Vi(un()),kd(l,h))},Md=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Nd(y);case"radio":return Xs(y);case"file":return Pd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Nd=l=>l.checked?1:0,Xs=l=>l.checked?l.value:null,Pd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,On=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?mm(y,Go(P),h):h.input==="radio"&&zo(y,Go(P),h)};J(h.inputOptions)||I(h.inputOptions)?(Vi(un()),T(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},kd=(l,h)=>{let y=l.getInput();y&&(ut(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,et(y),y.focus(),l.hideLoading()}).catch(w=>{V(`Error in inputValue promise: ${w}`),y.value="",et(y),y.focus(),l.hideLoading()}))};function mm(l,h,y){let w=er(l,g.select);if(!w)return;let P=(G,me,Ve)=>{let Je=document.createElement("option");Je.value=Ve,Ot(Je,me),Je.selected=ea(Ve,y.inputValue),G.appendChild(Je)};h.forEach(G=>{let me=G[0],Ve=G[1];if(Array.isArray(Ve)){let Je=document.createElement("optgroup");Je.label=me,Je.disabled=!1,w.appendChild(Je),Ve.forEach(ia=>P(Je,ia[1],ia[0]))}else P(w,Ve,me)}),w.focus()}function zo(l,h,y){let w=er(l,g.radio);if(!w)return;h.forEach(G=>{let me=G[0],Ve=G[1],Je=document.createElement("input"),ia=document.createElement("label");Je.type="radio",Je.name=g.radio,Je.value=me,ea(me,y.inputValue)&&(Je.checked=!0);let vm=document.createElement("span");Ot(vm,Ve),vm.className=g.label,ia.appendChild(Je),ia.appendChild(vm),w.appendChild(ia)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let Go=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=Go(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Go(w)),h.push([y,w])}),h},ea=(l,h)=>!!h&&h.toString()===l.toString(),ta=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.input?Fd(l,"confirm"):Wo(l,!0)},Od=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Fd(l,"deny"):Ur(l,!1)},na=(l,h)=>{l.disableButtons(),h(tn.cancel)},Fd=(l,h)=>{let y=ke.innerParams.get(l);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),P=Md(l,y);y.inputValidator?Ld(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Ur(l,P):Wo(l,P)},Ld=(l,h,y)=>{let w=ke.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then(G=>{l.enableButtons(),l.enableInput(),G?l.showValidationMessage(G):y==="deny"?Ur(l,h):Wo(l,h)})},Ur=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnDeny&&Vi(jt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),kn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>au(l||void 0,P))):l.close({isDenied:!0,value:h})},su=(l,h)=>{l.close({isConfirmed:!0,value:h})},au=(l,h)=>{l.rejectPromise(h)},Wo=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Vi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(P=>{Ft(Di())||P===!1?(l.hideLoading(),kn(l)):su(l,typeof P>"u"?h:P)}).catch(P=>au(l||void 0,P))):su(l,h)};function Ui(){let l=ke.innerParams.get(this);if(!l)return;let h=ke.domCache.get(this);ut(h.loader),xi()?l.icon&&et(D()):Vd(h),dn([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Vd=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?et(h[0],"inline-block"):td()&&ut(l.actions)};function Ko(){let l=ke.innerParams.get(this),h=ke.domCache.get(this);return h?zs(h.popup,l.input):null}function cu(l,h,y){let w=ke.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function uu(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function or(){cu(this,["confirmButton","denyButton","cancelButton"],!1)}function lu(){cu(this,["confirmButton","denyButton","cancelButton"],!0)}function du(){uu(this.getInput(),!1)}function hu(){uu(this.getInput(),!0)}function fu(l){let h=ke.domCache.get(this),y=ke.innerParams.get(this);Ot(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&Ie(h.validationMessage,y.customClass.validationMessage),et(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),zc(w),Ie(w,g.inputerror))}function Qo(){let l=ke.domCache.get(this);l.validationMessage&&ut(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),dn(h,g.inputerror))}let dt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ud=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],jd={allowEnterKey:void 0},ji=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(dt,l),f=l=>Ud.indexOf(l)!==-1,m=l=>jd[l],v=l=>{c(l)||N(`Unknown parameter "${l}"`)},x=l=>{ji.includes(l)&&N(`The parameter "${l}" is incompatible with toasts`)},k=l=>{let h=m(l);h&&Z(l,h)},$=l=>{l.backdrop===!1&&l.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),k(h)};function Le(l){let h=R(),y=ke.innerParams.get(this);if(!h||ln(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=_t(l),P=Object.assign({},y,w);_d(this,P),ke.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let _t=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:N(`Invalid parameter to update: ${y}`)}),h};function Ae(){let l=ke.domCache.get(this),h=ke.innerParams.get(this);if(!h){Et(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),St(this)}let St=l=>{Et(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Et=l=>{l.isAwaitingPromise?(sr(ke,l),l.isAwaitingPromise=!0):(sr(Oi,l),sr(ke,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},sr=(l,h)=>{for(let y in l)l[y].delete(h)};var hn=Object.freeze({__proto__:null,_destroy:Ae,close:nn,closeModal:nn,closePopup:nn,closeToast:nn,disableButtons:lu,disableInput:hu,disableLoading:Ui,enableButtons:or,enableInput:du,getInput:Ko,handleAwaitingPromise:kn,hideLoading:Ui,rejectPromise:iu,resetValidationMessage:Qo,showValidationMessage:fu,update:Le});let ra=(l,h,y)=>{l.toast?pu(l,h,y):(NN(h),PN(h),kN(l,h,y))},pu=(l,h,y)=>{h.popup.onclick=()=>{l&&(MN(l)||l.timer||l.input)||y(tn.close)}},MN=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Bd=!1,NN=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Bd=!0)}}},PN=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Bd=!0)}}},kN=(l,h,y)=>{h.container.onclick=w=>{if(Bd){Bd=!1;return}w.target===h.container&&ge(l.allowOutsideClick)&&y(tn.backdrop)}},ON=l=>typeof l=="object"&&l.jquery,qb=l=>l instanceof Element||ON(l),FN=l=>{let h={};return typeof l[0]=="object"&&!qb(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||qb(P)?h[y]=P:P!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function LN(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function VN(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let UN=()=>s.timeout&&s.timeout.getTimerLeft(),zb=()=>{if(s.timeout)return rd(),s.timeout.stop()},Gb=()=>{if(s.timeout){let l=s.timeout.start();return Gs(l),l}},jN=()=>{let l=s.timeout;return l&&(l.running?zb():Gb())},BN=l=>{if(s.timeout){let h=s.timeout.increase(l);return Gs(h,!0),h}},$N=()=>!!(s.timeout&&s.timeout.isRunning()),Wb=!1,ym={};function HN(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ym[l]=this,Wb||(document.body.addEventListener("click",qN),Wb=!0)}let qN=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in ym){let w=h.getAttribute(y);if(w){ym[y].fire({template:w});return}}};class zN{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var G=arguments.length,me=new Array(G),Ve=0;Ve<G;Ve++)me[Ve]=arguments[Ve];y.apply(w,me)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach(G=>{try{G.apply(this,w)}catch(me){console.error(me)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new zN;var GN=Object.freeze({__proto__:null,argsToParams:FN,bindClickHandler:HN,clickCancel:um,clickConfirm:nu,clickDeny:Ed,enableLoading:Vi,fire:LN,getActions:xn,getCancelButton:Ti,getCloseButton:Hc,getConfirmButton:un,getContainer:C,getDenyButton:jt,getFocusableElements:Si,getFooter:Xl,getHtmlContainer:$c,getIcon:D,getIconContent:Rn,getImage:Ci,getInputLabel:Tt,getLoader:Ai,getPopup:R,getProgressSteps:Vr,getTimerLeft:UN,getTimerProgressBar:Xn,getTitle:bi,getValidationMessage:Di,increaseTimer:BN,isDeprecatedParameter:m,isLoading:qc,isTimerRunning:$N,isUpdatableParameter:f,isValidParameter:c,isVisible:cm,mixin:VN,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:Gb,showLoading:Vi,stopTimer:zb,toggleTimer:jN});class WN{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Kb=["swal-title","swal-html","swal-footer"],KN=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return nP(y),Object.assign(QN(y),YN(y),ZN(y),JN(y),XN(y),eP(y),tP(y,Kb))},QN=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Yo(w,["name","value"]);let P=w.getAttribute("name"),G=w.getAttribute("value");!P||!G||(typeof dt[P]=="boolean"?h[P]=G!=="false":typeof dt[P]=="object"?h[P]=JSON.parse(G):h[P]=G)}),h},YN=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),G=w.getAttribute("value");!P||!G||(h[P]=new Function(`return ${G}`)())}),h},ZN=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Yo(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${O(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},JN=l=>{let h={},y=l.querySelector("swal-image");return y&&(Yo(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},XN=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Yo(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},eP=l=>{let h={},y=l.querySelector("swal-input");y&&(Yo(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Yo(P,["value"]);let G=P.getAttribute("value");if(!G)return;let me=P.innerHTML;h.inputOptions[G]=me})),h},tP=(l,h)=>{let y={};for(let w in h){let P=h[w],G=l.querySelector(P);G&&(Yo(G,[]),y[P.replace(/^swal-/,"")]=G.innerHTML.trim())}return y},nP=l=>{let h=Kb.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||N(`Unrecognized element <${w}>`)})},Yo=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Qb=10,rP=l=>{let h=C(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;sP(h,y,l),setTimeout(()=>{iP(h,y)},Qb),Ri()&&(oP(h,l.scrollbarPadding,P),dm()),!xi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),dn(h,g["no-transition"])},$d=l=>{let h=R();if(l.target!==h)return;let y=C();h.removeEventListener("animationend",$d),h.removeEventListener("transitionend",$d),y.style.overflowY="auto"},iP=(l,h)=>{Mi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",$d),h.addEventListener("transitionend",$d)):l.style.overflowY="auto"},oP=(l,h,y)=>{Ho(),h&&y!=="hidden"&&fm(y),setTimeout(()=>{l.scrollTop=0})},sP=(l,h,y)=>{Ie(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),et(h,"grid"),setTimeout(()=>{Ie(h,y.showClass.popup),h.style.removeProperty("opacity")},Qb)):et(h,"grid"),Ie([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ie([document.documentElement,document.body],g["height-auto"])};var Yb={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function aP(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=Yb.email),l.input==="url"&&(l.inputValidator=Yb.url))}function cP(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),l.target="body")}function uP(l){aP(l),l.showLoaderOnConfirm&&!l.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cP(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Qc(l)}let ar;var Hd=new WeakMap;class it{constructor(){if(r(this,Hd,void 0),typeof window>"u")return;ar=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Hd,this,this._main(ar.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(Object.assign({},y,h)),s.currentInstance){let G=Oi.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:me}=s.currentInstance;s.currentInstance._destroy(),me||G({isDismissed:!0}),Ri()&&bd()}s.currentInstance=ar;let w=dP(h,y);uP(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let P=hP(ar);return _d(ar,w),ke.innerParams.set(ar,w),lP(ar,P,w)}then(h){return t(Hd,this).then(h)}finally(h){return t(Hd,this).finally(h)}}let lP=(l,h,y)=>new Promise((w,P)=>{let G=me=>{l.close({isDismissed:!0,dismiss:me})};Oi.swalPromiseResolve.set(l,w),Oi.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{ta(l)},h.denyButton.onclick=()=>{Od(l)},h.cancelButton.onclick=()=>{na(l,G)},h.closeButton.onclick=()=>{G(tn.close)},ra(y,h,G),Ys(s,y,G),xd(l,y),rP(y),fP(s,y,G),pP(h,y),setTimeout(()=>{h.container.scrollTop=0})}),dP=(l,h)=>{let y=KN(l),w=Object.assign({},dt,h,y,l);return w.showClass=Object.assign({},dt.showClass,w.showClass),w.hideClass=Object.assign({},dt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},hP=l=>{let h={popup:R(),container:C(),actions:xn(),confirmButton:un(),denyButton:jt(),cancelButton:Ti(),loader:Ai(),closeButton:Hc(),validationMessage:Di(),progressSteps:Vr()};return ke.domCache.set(l,h),h},fP=(l,h,y)=>{let w=Xn();ut(w),h.timer&&(l.timeout=new WN(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(et(w),Bt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Gs(h.timer)})))},pP=(l,h)=>{if(!h.toast){if(!ge(h.allowEnterKey)){Z("allowEnterKey"),yP();return}gP(l)||mP(l,h)||ki(-1,1)}},gP=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&Ft(y))return y.focus(),!0;return!1},mP=(l,h)=>h.focusDeny&&Ft(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Ft(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Ft(l.confirmButton)?(l.confirmButton.focus(),!0):!1,yP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}it.prototype.disableButtons=lu,it.prototype.enableButtons=or,it.prototype.getInput=Ko,it.prototype.disableInput=hu,it.prototype.enableInput=du,it.prototype.hideLoading=Ui,it.prototype.disableLoading=Ui,it.prototype.showValidationMessage=fu,it.prototype.resetValidationMessage=Qo,it.prototype.close=nn,it.prototype.closePopup=nn,it.prototype.closeModal=nn,it.prototype.closeToast=nn,it.prototype.rejectPromise=iu,it.prototype.update=Le,it.prototype._destroy=Ae,Object.assign(it,GN),Object.keys(hn).forEach(l=>{it[l]=function(){return ar&&ar[l]?ar[l](...arguments):null}}),it.DismissReason=tn,it.version="11.14.4";let qd=it;return qd.default=qd,qd});typeof Fr<"u"&&Fr.Sweetalert2&&(Fr.swal=Fr.sweetAlert=Fr.Swal=Fr.SweetAlert=Fr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function t0(n,e){return Object.is(n,e)}var It=null,Gd=!1,Wd=1,jr=Symbol("SIGNAL");function Se(n){let e=It;return It=n,e}function n0(){return It}var mu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Im(n){if(Gd)throw new Error("");if(It===null)return;It.consumerOnSignalRead(n);let e=It.nextProducerIndex++;if(Zd(It),e<It.producerNode.length&&It.producerNode[e]!==n&&gu(It)){let t=It.producerNode[e];Yd(t,It.producerIndexOfThis[e])}It.producerNode[e]!==n&&(It.producerNode[e]=n,It.producerIndexOfThis[e]=gu(It)?s0(n,It,e):0),It.producerLastReadVersion[e]=n.version}function AP(){Wd++}function r0(n){if(!(gu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wd)){if(!n.producerMustRecompute(n)&&!Cm(n)){n.dirty=!1,n.lastCleanEpoch=Wd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Wd}}function i0(n){if(n.liveConsumerNode===void 0)return;let e=Gd;Gd=!0;try{for(let t of n.liveConsumerNode)t.dirty||SP(t)}finally{Gd=e}}function o0(){return It?.consumerAllowSignalWrites!==!1}function SP(n){n.dirty=!0,i0(n),n.consumerMarkedDirty?.(n)}function Qd(n){return n&&(n.nextProducerIndex=0),Se(n)}function bm(n,e){if(Se(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(gu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Cm(n){Zd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(r0(t),r!==t.version))return!0}return!1}function Dm(n){if(Zd(n),gu(n))for(let e=0;e<n.producerNode.length;e++)Yd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function s0(n,e,t){if(a0(n),n.liveConsumerNode.length===0&&c0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=s0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Yd(n,e){if(a0(n),n.liveConsumerNode.length===1&&c0(n))for(let r=0;r<n.producerNode.length;r++)Yd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Zd(i),i.producerIndexOfThis[r]=e}}function gu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function a0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function c0(n){return n.producerNode!==void 0}function u0(n){let e=Object.create(RP);e.computation=n;let t=()=>{if(r0(e),Im(e),e.value===Kd)throw e.error;return e.value};return t[jr]=e,t}var _m=Symbol("UNSET"),Em=Symbol("COMPUTING"),Kd=Symbol("ERRORED"),RP=be(H({},mu),{value:_m,dirty:!0,error:null,equal:t0,producerMustRecompute(n){return n.value===_m||n.value===Em},producerRecomputeValue(n){if(n.value===Em)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Em;let t=Qd(n),r;try{r=n.computation()}catch(i){r=Kd,n.error=i}finally{bm(n,t)}if(e!==_m&&e!==Kd&&r!==Kd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function xP(){throw new Error}var l0=xP;function d0(){l0()}function h0(n){l0=n}var MP=null;function f0(n){let e=Object.create(g0);e.value=n;let t=()=>(Im(e),e.value);return t[jr]=e,t}function Tm(n,e){o0()||d0(),n.equal(n.value,e)||(n.value=e,NP(n))}function p0(n,e){o0()||d0(),Tm(n,e(n.value))}var g0=be(H({},mu),{equal:t0,value:void 0});function NP(n){n.version++,AP(),i0(n),MP?.()}function le(n){return typeof n=="function"}function oa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jd=oa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Zo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var tt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Jd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{m0(o)}catch(s){e=e??[],s instanceof Jd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Jd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)m0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Zo(t,e)}remove(e){let{_finalizers:t}=this;t&&Zo(t,e),e instanceof n&&e._removeParent(this)}};tt.EMPTY=(()=>{let n=new tt;return n.closed=!0,n})();var Am=tt.EMPTY;function Xd(n){return n instanceof tt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function m0(n){le(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sa={setTimeout(n,e,...t){let{delegate:r}=sa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=sa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eh(n){sa.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function yu(){}var y0=Sm("C",void 0,void 0);function v0(n){return Sm("E",void 0,n)}function w0(n){return Sm("N",n,void 0)}function Sm(n,e,t){return{kind:n,value:e,error:t}}var Jo=null;function aa(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!Jo;if(e&&(Jo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Jo;if(Jo=null,t)throw r}}else n()}function _0(n){Fn.useDeprecatedSynchronousErrorHandling&&Jo&&(Jo.errorThrown=!0,Jo.error=n)}var Xo=class extends tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xd(e)&&e.add(this)):this.destination=OP}static create(e,t,r){return new ca(e,t,r)}next(e){this.isStopped?xm(w0(e),this):this._next(e)}error(e){this.isStopped?xm(v0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xm(y0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PP=Function.prototype.bind;function Rm(n,e){return PP.call(n,e)}var Mm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){th(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){th(r)}else th(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){th(t)}}},ca=class extends Xo{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rm(e.next,o),error:e.error&&Rm(e.error,o),complete:e.complete&&Rm(e.complete,o)}):i=e}this.destination=new Mm(i)}};function th(n){Fn.useDeprecatedSynchronousErrorHandling?_0(n):eh(n)}function kP(n){throw n}function xm(n,e){let{onStoppedNotification:t}=Fn;t&&sa.setTimeout(()=>t(n,e))}var OP={closed:!0,next:yu,error:kP,complete:yu};var ua=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fn(n){return n}function Nm(...n){return Pm(n)}function Pm(n){return n.length===0?fn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=LP(t)?t:new ca(t,r,i);return aa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=E0(r),new r((i,o)=>{let s=new ca({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ua](){return this}pipe(...t){return Pm(t)(this)}toPromise(t){return t=E0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function E0(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function FP(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function LP(n){return n&&n instanceof Xo||FP(n)&&Xd(n)}function km(n){return le(n?.lift)}function xe(n){return e=>{if(km(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Om(n,e,t,r,i)}var Om=class extends Xo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function la(){return xe((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var da=class extends Ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,km(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tt;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tt.EMPTY)}return e}refCount(){return la()(this)}};var I0=oa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class n extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new nh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new I0}next(t){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Am:(this.currentObservers=null,o.push(t),new tt(()=>{this.currentObservers=null,Zo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ee;return t.source=this,t}}return n.create=(e,t)=>new nh(e,t),n})(),nh=class extends Rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Am}};var Lt=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fm={now(){return(Fm.delegate||Date).now()},delegate:void 0};var rh=class extends tt{constructor(e,t){super()}schedule(e,t=0){return this}};var vu={setInterval(n,e,...t){let{delegate:r}=vu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=vu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ha=class extends rh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return vu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&vu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Zo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};fa.now=Fm.now;var pa=class extends fa{constructor(e,t=fa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Lm=new pa(ha);var ih=class extends ha{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var oh=class extends pa{};var Vm=new oh(ih);var pn=new Ee(n=>n.complete());function b0(n){return n&&le(n.schedule)}function C0(n){return n[n.length-1]}function sh(n){return le(C0(n))?n.pop():void 0}function $i(n){return b0(C0(n))?n.pop():void 0}function Um(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function T0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(g){s(g)}}function u(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function D0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function es(n){return this instanceof es?(this.v=n,this):new es(n)}function A0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(M){return Promise.resolve(M).then(E,g)}}function a(E,M){r[E]&&(i[E]=function(O){return new Promise(function(N,V){o.push([E,O,N,V])>1||u(E,O)})},M&&(i[E]=M(i[E])))}function u(E,M){try{d(r[E](M))}catch(O){_(o[0][3],O)}}function d(E){E.value instanceof es?Promise.resolve(E.value.v).then(p,g):_(o[0][2],E)}function p(E){u("next",E)}function g(E){u("throw",E)}function _(E,M){E(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function S0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof D0=="function"?D0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var ah=n=>n&&typeof n.length=="number"&&typeof n!="function";function ch(n){return le(n?.then)}function uh(n){return le(n[ua])}function lh(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function dh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hh=VP();function fh(n){return le(n?.[hh])}function ph(n){return A0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield es(t.read());if(i)return yield es(void 0);yield yield es(r)}}finally{t.releaseLock()}})}function gh(n){return le(n?.getReader)}function ht(n){if(n instanceof Ee)return n;if(n!=null){if(uh(n))return UP(n);if(ah(n))return jP(n);if(ch(n))return BP(n);if(lh(n))return R0(n);if(fh(n))return $P(n);if(gh(n))return HP(n)}throw dh(n)}function UP(n){return new Ee(e=>{let t=n[ua]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jP(n){return new Ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function BP(n){return new Ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,eh)})}function $P(n){return new Ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function R0(n){return new Ee(e=>{qP(n,e).catch(t=>e.error(t))})}function HP(n){return R0(ph(n))}function qP(n,e){var t,r,i,o;return T0(this,void 0,void 0,function*(){try{for(t=S0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function rn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Hi(n,e=0){return xe((t,r)=>{t.subscribe(Ce(r,i=>rn(r,n,()=>r.next(i),e),()=>rn(r,n,()=>r.complete(),e),i=>rn(r,n,()=>r.error(i),e)))})}function qi(n,e=0){return xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function x0(n,e){return ht(n).pipe(qi(e),Hi(e))}function M0(n,e){return ht(n).pipe(qi(e),Hi(e))}function N0(n,e){return new Ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function P0(n,e){return new Ee(t=>{let r;return rn(t,e,()=>{r=n[hh](),rn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function mh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ee(t=>{rn(t,e,()=>{let r=n[Symbol.asyncIterator]();rn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function k0(n,e){return mh(ph(n),e)}function O0(n,e){if(n!=null){if(uh(n))return x0(n,e);if(ah(n))return N0(n,e);if(ch(n))return M0(n,e);if(lh(n))return mh(n,e);if(fh(n))return P0(n,e);if(gh(n))return k0(n,e)}throw dh(n)}function Ke(n,e){return e?O0(n,e):ht(n)}function se(...n){let e=$i(n);return Ke(n,e)}function ga(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new Ee(e?i=>e.schedule(r,0,i):r)}function jm(n){return!!n&&(n instanceof Ee||le(n.lift)&&le(n.subscribe))}var Br=oa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return xe((t,r)=>{let i=0;t.subscribe(Ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:zP}=Array;function GP(n,e){return zP(e)?n(...e):n(e)}function yh(n){return he(e=>GP(n,e))}var{isArray:WP}=Array,{getPrototypeOf:KP,prototype:QP,keys:YP}=Object;function vh(n){if(n.length===1){let e=n[0];if(WP(e))return{args:e,keys:null};if(ZP(e)){let t=YP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ZP(n){return n&&typeof n=="object"&&KP(n)===QP}function wh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wu(...n){let e=$i(n),t=sh(n),{args:r,keys:i}=vh(n);if(r.length===0)return Ke([],e);let o=new Ee(JP(r,e,i?s=>wh(i,s):fn));return t?o.pipe(yh(t)):o}function JP(n,e,t=fn){return r=>{F0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)F0(e,()=>{let d=Ke(n[u],e),p=!1;d.subscribe(Ce(r,g=>{o[u]=g,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function F0(n,e,t){n?rn(t,n,e):e()}function L0(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=O=>d<r?M(O):u.push(O),M=O=>{o&&e.next(O),d++;let N=!1;ht(t(O,p++)).subscribe(Ce(e,V=>{i?.(V),o?E(V):e.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let V=u.shift();s?rn(e,s,()=>M(V)):M(V)}_()}catch(V){e.error(V)}}))};return n.subscribe(Ce(e,E,()=>{g=!0,_()})),()=>{a?.()}}function ft(n,e,t=1/0){return le(e)?ft((r,i)=>he((o,s)=>e(r,o,i,s))(ht(n(r,i))),t):(typeof e=="number"&&(t=e),xe((r,i)=>L0(r,i,n,t)))}function ma(n=1/0){return ft(fn,n)}function V0(){return ma(1)}function ya(...n){return V0()(Ke(n,$i(n)))}function _h(n){return new Ee(e=>{ht(n()).subscribe(e)})}function Bm(...n){let e=sh(n),{args:t,keys:r}=vh(n),i=new Ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let g=!1;ht(t[p]).subscribe(Ce(o,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?wh(r,a):a),o.complete())}))}});return e?i.pipe(yh(e)):i}function on(n,e){return xe((t,r)=>{let i=0;t.subscribe(Ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zi(n){return xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ce(t,void 0,void 0,s=>{o=ht(n(s,zi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function U0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(Ce(s,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function $r(n,e){return le(e)?ft(n,e,1):ft(n,1)}function Gi(n){return xe((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hr(n){return n<=0?()=>pn:xe((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $m(n){return he(()=>n)}function Eh(n=XP){return xe((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function XP(){return new Br}function ts(n){return xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,o)=>n(i,o,r)):fn,Hr(1),t?Gi(e):Eh(()=>new Br))}function va(n){return n<=0?()=>pn:xe((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,o)=>n(i,o,r)):fn,va(1),t?Gi(e):Eh(()=>new Br))}function qm(n,e){return xe(U0(n,e,arguments.length>=2,!0))}function zm(...n){let e=$i(n);return xe((t,r)=>{(e?ya(n,t,e):ya(n,t)).subscribe(r)})}function sn(n,e){return xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ce(r,u=>{i?.unsubscribe();let d=0,p=o++;ht(n(u,p)).subscribe(i=Ce(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gm(n){return xe((e,t)=>{ht(n).subscribe(Ce(t,()=>t.complete(),yu)),!t.closed&&e.subscribe(t)})}function pt(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):fn}var AC="https://g.co/ng/security#xss",X=class extends Error{constructor(e,t){super(of(e,t)),this.code=e}};function of(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function xu(n){return{toString:n}.toString()}var Ih="__parameters__";function ek(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function SC(n,e,t){return xu(()=>{let r=ek(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let g=u.hasOwnProperty(Ih)?u[Ih]:Object.defineProperty(u,Ih,{value:[]})[Ih];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ay=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function tk(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Zt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Zt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function j0(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var nk=ze({__forward_ref__:ze});function Kr(n){return n.__forward_ref__=Kr,n.toString=function(){return Zt(this())},n}function Yt(n){return RC(n)?n():n}function RC(n){return typeof n=="function"&&n.hasOwnProperty(nk)&&n.__forward_ref__===Kr}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function sf(n){return B0(n,MC)||B0(n,NC)}function xC(n){return sf(n)!==null}function B0(n,e){return n.hasOwnProperty(e)?n[e]:null}function rk(n){let e=n&&(n[MC]||n[NC]);return e||null}function $0(n){return n&&(n.hasOwnProperty(H0)||n.hasOwnProperty(ik))?n[H0]:null}var MC=ze({\u0275prov:ze}),H0=ze({\u0275inj:ze}),NC=ze({ngInjectableDef:ze}),ik=ze({ngInjectorDef:ze}),K=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function PC(n){return n&&!!n.\u0275providers}var ok=ze({\u0275cmp:ze}),sk=ze({\u0275dir:ze}),ak=ze({\u0275pipe:ze}),ck=ze({\u0275mod:ze}),Ph=ze({\u0275fac:ze}),Eu=ze({__NG_ELEMENT_ID__:ze}),q0=ze({__NG_ENV_ID__:ze});function af(n){return typeof n=="string"?n:n==null?"":String(n)}function uk(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():af(n)}function lk(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new X(-200,n)}function uv(n,e){throw new X(-201,!1)}var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{}),cy;function kC(){return cy}function In(n){let e=cy;return cy=n,e}function OC(n,e,t){let r=sf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ve.Optional)return null;if(e!==void 0)return e;uv(n,"Injector")}var dk={},Iu=dk,uy="__NG_DI_FLAG__",kh="ngTempTokenPath",hk="ngTokenPath",fk=/\n/gm,pk="\u0275",z0="__source",ba;function gk(){return ba}function Wi(n){let e=ba;return ba=n,e}function mk(n,e=ve.Default){if(ba===void 0)throw new X(-203,!1);return ba===null?OC(n,void 0,e):ba.get(n,e&ve.Optional?null:void 0,e)}function ee(n,e=ve.Default){return(kC()||mk)(Yt(n),e)}function j(n,e=ve.Default){return ee(n,cf(e))}function cf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ly(n){let e=[];for(let t=0;t<n.length;t++){let r=Yt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=yk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function FC(n,e){return n[uy]=e,n.prototype[uy]=e,n}function yk(n){return n[uy]}function vk(n,e,t,r){let i=n[kh];throw e[z0]&&i.unshift(e[z0]),n.message=wk(`
`+n.message,i,t,r),n[hk]=i,n[kh]=null,n}function wk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==pk?n.slice(2):n;let i=Zt(e);if(Array.isArray(e))i=e.map(Zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fk,`
  `)}`}var st=FC(SC("Optional"),8);var lv=FC(SC("SkipSelf"),4);function Da(n,e){let t=n.hasOwnProperty(Ph);return t?n[Ph]:null}function _k(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Ek(n){return n.flat(Number.POSITIVE_INFINITY)}function dv(n,e){n.forEach(t=>Array.isArray(t)?dv(t,e):e(t))}function LC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ik(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function bk(n,e,t){let r=Mu(n,e);return r>=0?n[r|1]=t:(r=~r,Ik(n,r,e,t)),r}function Wm(n,e){let t=Mu(n,e);if(t>=0)return n[t|1]}function Mu(n,e){return Ck(n,e,1)}function Ck(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ta={},bn=[],Aa=new K(""),VC=new K("",-1),UC=new K(""),Fh=class{get(e,t=Iu){if(t===Iu){let r=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw r.name="NullInjectorError",r}return t}},jC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jC||{}),dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(dr||{}),Yi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Yi||{});function Dk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function dy(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Tk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function BC(n){return n===3||n===4||n===6}function Tk(n){return n.charCodeAt(0)===64}function bu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?G0(n,t,i,null,e[++r]):G0(n,t,i,null,null))}}return n}function G0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var $C="ng-template";function Ak(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Dk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(hv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function hv(n){return n.type===4&&n.value!==$C}function Sk(n,e,t){let r=n.type===4&&!t?$C:n.value;return e===r}function Rk(n,e,t){let r=4,i=n.attrs,o=i!==null?Nk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Ln(r)&&!Ln(u))return!1;if(s&&Ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Sk(n,u,t)||u===""&&e.length===1){if(Ln(r))return!1;s=!0}}else if(r&8){if(i===null||!Ak(n,i,u,t)){if(Ln(r))return!1;s=!0}}else{let d=e[++a],p=xk(u,i,hv(n),t);if(p===-1){if(Ln(r))return!1;s=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Ln(r))return!1;s=!0}}}}return Ln(r)||s}function Ln(n){return(n&1)===0}function xk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Pk(e,n)}function Mk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Rk(n,e[r],t))return!0;return!1}function Nk(n){for(let e=0;e<n.length;e++){let t=n[e];if(BC(t))return e}return n.length}function Pk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function W0(n,e){return n?":not("+e.trim()+")":e}function kk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ln(s)&&(e+=W0(o,i),i=""),r=s,o=o||!Ln(r);t++}return i!==""&&(e+=W0(o,i)),e}function Ok(n){return n.map(kk).join(",")}function Fk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Ln(i))break;i=o}r++}return{attrs:e,classes:t}}function gt(n){return xu(()=>{let e=WC(n),t=be(H({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dr.Emulated,styles:n.styles||bn,_:null,schemas:n.schemas||null,tView:null,id:""});KC(t);let r=n.dependencies;return t.directiveDefs=Q0(r,!1),t.pipeDefs=Q0(r,!0),t.id=Uk(t),t})}function Lk(n){return Zi(n)||HC(n)}function Vk(n){return n!==null}function mr(n){return xu(()=>({type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function K0(n,e){if(n==null)return Ta;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Yi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Yi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function xt(n){return xu(()=>{let e=WC(n);return KC(e),e})}function Zi(n){return n[ok]||null}function HC(n){return n[sk]||null}function qC(n){return n[ak]||null}function zC(n){let e=Zi(n)||HC(n)||qC(n);return e!==null?e.standalone:!1}function GC(n,e){let t=n[ck]||null;if(!t&&e===!0)throw new Error(`Type ${Zt(n)} does not have '\u0275mod' property.`);return t}function WC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ta,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:K0(n.inputs,e),outputs:K0(n.outputs),debugInfo:null}}function KC(n){n.features?.forEach(e=>e(n))}function Q0(n,e){if(!n)return null;let t=e?qC:Lk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Vk)}function Uk(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function an(n){return{\u0275providers:n}}function jk(...n){return{\u0275providers:QC(!0,n),\u0275fromNgModule:!0}}function QC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return dv(e,s=>{let a=s;hy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YC(i,o),t}function YC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];fv(i,o=>{e(o,r)})}}function hy(n,e,t,r){if(n=Yt(n),!n)return!1;let i=null,o=$0(n),s=!o&&Zi(n);if(!o&&!s){let u=n.ngModule;if(o=$0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)hy(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{dv(o.imports,p=>{hy(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&YC(d,e)}if(!a){let d=Da(i)||(()=>new i);e({provide:i,useFactory:d,deps:bn},i),e({provide:UC,useValue:i,multi:!0},i),e({provide:Aa,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;fv(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function fv(n,e){for(let t of n)PC(t)&&(t=t.\u0275providers),Array.isArray(t)?fv(t,e):e(t)}var Bk=ze({provide:String,useValue:ze});function ZC(n){return n!==null&&typeof n=="object"&&Bk in n}function $k(n){return!!(n&&n.useExisting)}function Hk(n){return!!(n&&n.useFactory)}function Sa(n){return typeof n=="function"}function qk(n){return!!n.useClass}var uf=new K(""),Ah={},zk={},Km;function pv(){return Km===void 0&&(Km=new Fh),Km}var Xt=class{},Cu=class extends Xt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,py(e,s=>this.processProvider(s)),this.records.set(VC,wa(void 0,this)),i.has("environment")&&this.records.set(Xt,wa(void 0,this));let o=this.records.get(uf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(UC,bn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Wi(this),r=In(void 0),i;try{return e()}finally{Wi(t),In(r)}}get(e,t=Iu,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(q0))return e[q0](this);r=cf(r);let i,o=Wi(this),s=In(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=Yk(e)&&sf(e);d&&this.injectableDefInScope(d)?u=wa(fy(e),Ah):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?pv():this.parent;return t=r&ve.Optional&&t===Iu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[kh]=a[kh]||[]).unshift(Zt(e)),o)throw a;return vk(a,e,"R3InjectorError",this.source)}else throw a}finally{In(s),Wi(o)}}resolveInjectorInitializers(){let e=Se(null),t=Wi(this),r=In(void 0),i;try{let o=this.get(Aa,bn,ve.Self);for(let s of o)s()}finally{Wi(t),In(r),Se(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Yt(e);let t=Sa(e)?e:Yt(e&&e.provide),r=Wk(e);if(!Sa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wa(void 0,Ah,!0),i.factory=()=>ly(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Se(null);try{return t.value===Ah&&(t.value=zk,t.value=t.factory()),typeof t.value=="object"&&t.value&&Qk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Yt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fy(n){let e=sf(n),t=e!==null?e.factory:Da(n);if(t!==null)return t;if(n instanceof K)throw new X(204,!1);if(n instanceof Function)return Gk(n);throw new X(204,!1)}function Gk(n){if(n.length>0)throw new X(204,!1);let t=rk(n);return t!==null?()=>t.factory(n):()=>new n}function Wk(n){if(ZC(n))return wa(void 0,n.useValue);{let e=JC(n);return wa(e,Ah)}}function JC(n,e,t){let r;if(Sa(n)){let i=Yt(n);return Da(i)||fy(i)}else if(ZC(n))r=()=>Yt(n.useValue);else if(Hk(n))r=()=>n.useFactory(...ly(n.deps||[]));else if($k(n))r=()=>ee(Yt(n.useExisting));else{let i=Yt(n&&(n.useClass||n.provide));if(Kk(n))r=()=>new i(...ly(n.deps));else return Da(i)||fy(i)}return r}function wa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Kk(n){return!!n.deps}function Qk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Yk(n){return typeof n=="function"||typeof n=="object"&&n instanceof K}function py(n,e){for(let t of n)Array.isArray(t)?py(t,e):t&&PC(t)?py(t.\u0275providers,e):e(t)}function Dn(n,e){n instanceof Cu&&n.assertNotDestroyed();let t,r=Wi(n),i=In(void 0);try{return e()}finally{Wi(r),In(i)}}function XC(){return kC()!==void 0||gk()!=null}function Zk(n){if(!XC())throw new X(-203,!1)}function Jk(n){return typeof n=="function"}var Qr=0,de=1,ae=2,Ht=3,Vn=4,jn=5,Du=6,Lh=7,Jt=8,Ra=9,hr=10,ot=11,Tu=12,Y0=13,Fa=14,Un=15,rs=16,_a=17,qr=18,lf=19,eD=20,Ki=21,Qm=22,Cn=23,fr=25,tD=1;var is=7,Vh=8,xa=9,$t=10,Uh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Uh||{});function Qi(n){return Array.isArray(n)&&typeof n[tD]=="object"}function Yr(n){return Array.isArray(n)&&n[tD]===!0}function gv(n){return(n.flags&4)!==0}function df(n){return n.componentOffset>-1}function hf(n){return(n.flags&1)===1}function Ji(n){return!!n.template}function gy(n){return(n[ae]&512)!==0}var my=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function nD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Zr(){return rD}function rD(n){return n.type.prototype.ngOnChanges&&(n.setInput=eO),Xk}Zr.ngInherit=!0;function Xk(){let n=oD(this),e=n?.current;if(e){let t=n.previous;if(t===Ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function eO(n,e,t,r,i){let o=this.declaredInputs[r],s=oD(n)||tO(n,{previous:Ta,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new my(d&&d.currentValue,t,u===Ta),nD(n,e,i,t)}var iD="__ngSimpleChanges__";function oD(n){return n[iD]||null}function tO(n,e){return n[iD]=e}var Z0=null;var ur=function(n,e,t){Z0?.(n,e,t)},nO="svg",rO="math";function pr(n){for(;Array.isArray(n);)n=n[Qr];return n}function sD(n,e){return pr(e[n])}function Tn(n,e){return pr(e[n.index])}function mv(n,e){return n.data[e]}function no(n,e){let t=e[n];return Qi(t)?t:t[Qr]}function iO(n){return(n[ae]&4)===4}function yv(n){return(n[ae]&128)===128}function oO(n){return Yr(n[Ht])}function Xi(n,e){return e==null?null:n[e]}function aD(n){n[_a]=0}function cD(n){n[ae]&1024||(n[ae]|=1024,yv(n)&&pf(n))}function sO(n,e){for(;n>0;)e=e[Fa],n--;return e}function ff(n){return!!(n[ae]&9216||n[Cn]?.dirty)}function yy(n){n[hr].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),ff(n)&&pf(n)}function pf(n){n[hr].changeDetectionScheduler?.notify(0);let e=os(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!yv(e)));)e=os(e)}function uD(n,e){if((n[ae]&256)===256)throw new X(911,!1);n[Ki]===null&&(n[Ki]=[]),n[Ki].push(e)}function aO(n,e){if(n[Ki]===null)return;let t=n[Ki].indexOf(e);t!==-1&&n[Ki].splice(t,1)}function os(n){let e=n[Ht];return Yr(e)?e[Ht]:e}var we={lFrame:vD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var lD=!1;function cO(){return we.lFrame.elementDepthCount}function uO(){we.lFrame.elementDepthCount++}function lO(){we.lFrame.elementDepthCount--}function dD(){return we.bindingsEnabled}function dO(){return we.skipHydrationRootTNode!==null}function hO(n){return we.skipHydrationRootTNode===n}function fO(){we.skipHydrationRootTNode=null}function Ne(){return we.lFrame.lView}function Ct(){return we.lFrame.tView}function at(n){return we.lFrame.contextLView=n,n[Jt]}function ct(n){return we.lFrame.contextLView=null,n}function qt(){let n=hD();for(;n!==null&&n.type===64;)n=n.parent;return n}function hD(){return we.lFrame.currentTNode}function pO(){let n=we.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function hs(n,e){let t=we.lFrame;t.currentTNode=n,t.isParent=e}function vv(){return we.lFrame.isParent}function fD(){we.lFrame.isParent=!1}function pD(){return lD}function J0(n){lD=n}function gO(){let n=we.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mO(n){return we.lFrame.bindingIndex=n}function Nu(){return we.lFrame.bindingIndex++}function yO(n){let e=we.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vO(){return we.lFrame.inI18n}function wO(n,e){let t=we.lFrame;t.bindingIndex=t.bindingRootIndex=n,vy(e)}function _O(){return we.lFrame.currentDirectiveIndex}function vy(n){we.lFrame.currentDirectiveIndex=n}function EO(n){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function gD(){return we.lFrame.currentQueryIndex}function wv(n){we.lFrame.currentQueryIndex=n}function IO(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[jn]:null}function mD(n,e,t){if(t&ve.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ve.Host);)if(i=IO(o),i===null||(o=o[Fa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=we.lFrame=yD();return r.currentTNode=e,r.lView=n,!0}function _v(n){let e=yD(),t=n[de];we.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yD(){let n=we.lFrame,e=n===null?null:n.child;return e===null?vD(n):e}function vD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function wD(){let n=we.lFrame;return we.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var _D=wD;function Ev(){let n=wD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bO(n){return(we.lFrame.contextLView=sO(n,we.lFrame.contextLView))[Jt]}function fs(){return we.lFrame.selectedIndex}function ss(n){we.lFrame.selectedIndex=n}function gf(){let n=we.lFrame;return mv(n.tView,n.selectedIndex)}function CO(){return we.lFrame.currentNamespace}var ED=!0;function mf(){return ED}function yf(n){ED=n}function DO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function vf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Sh(n,e,t){ID(n,e,3,t)}function Rh(n,e,t,r){(n[ae]&3)===t&&ID(n,e,t,r)}function Ym(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function ID(n,e,t,r){let i=r!==void 0?n[_a]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[_a]+=65536),(a<o||o==-1)&&(TO(n,t,e,u),n[_a]=(n[_a]&4294901760)+u+2),u++}function X0(n,e){ur(4,n,e);let t=Se(null);try{e.call(n)}finally{Se(t),ur(5,n,e)}}function TO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ae]>>14<n[_a]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,X0(a,o)):X0(a,o)}var Ca=-1,as=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function AO(n){return n instanceof as}function SO(n){return(n.flags&8)!==0}function RO(n){return(n.flags&16)!==0}var Zm={},wy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cf(r);let i=this.injector.get(e,Zm,r);return i!==Zm||t===Zm?i:this.parentInjector.get(e,t,r)}};function bD(n){return n!==Ca}function jh(n){return n&32767}function xO(n){return n>>16}function Bh(n,e){let t=xO(n),r=e;for(;t>0;)r=r[Fa],t--;return r}var _y=!0;function eC(n){let e=_y;return _y=n,e}var MO=256,CD=MO-1,DD=5,NO=0,lr={};function PO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Eu)&&(r=t[Eu]),r==null&&(r=t[Eu]=NO++);let i=r&CD,o=1<<i;e.data[n+(i>>DD)]|=o}function $h(n,e){let t=TD(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,Jm(r.data,n),Jm(e,null),Jm(r.blueprint,null));let i=Iv(n,e),o=n.injectorIndex;if(bD(i)){let s=jh(i),a=Bh(i,e),u=a[de].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Jm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function TD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Iv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=MD(i),r===null)return Ca;if(t++,i=i[Fa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ca}function Ey(n,e,t){PO(n,e,t)}function kO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(BC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function AD(n,e,t){if(t&ve.Optional||n!==void 0)return n;uv(e,"NodeInjector")}function SD(n,e,t,r){if(t&ve.Optional&&r===void 0&&(r=null),!(t&(ve.Self|ve.Host))){let i=n[Ra],o=In(void 0);try{return i?i.get(e,r,t&ve.Optional):OC(e,r,t&ve.Optional)}finally{In(o)}}return AD(r,e,t)}function RD(n,e,t,r=ve.Default,i){if(n!==null){if(e[ae]&2048&&!(r&ve.Self)){let s=VO(n,e,t,r,lr);if(s!==lr)return s}let o=xD(n,e,t,r,lr);if(o!==lr)return o}return SD(e,t,r,i)}function xD(n,e,t,r,i){let o=FO(t);if(typeof o=="function"){if(!mD(e,n,r))return r&ve.Host?AD(i,t,r):SD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))uv(t);else return s}finally{_D()}}else if(typeof o=="number"){let s=null,a=TD(n,e),u=Ca,d=r&ve.Host?e[Un][jn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Iv(n,e):e[a+8],u===Ca||!nC(r,!1)?a=-1:(s=e[de],a=jh(u),e=Bh(u,e)));a!==-1;){let p=e[de];if(tC(o,a,p.data)){let g=OO(a,e,t,s,r,d);if(g!==lr)return g}u=e[a+8],u!==Ca&&nC(r,e[de].data[a+8]===d)&&tC(o,a,e)?(s=p,a=jh(u),e=Bh(u,e)):a=-1}}return i}function OO(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],u=r==null?df(a)&&_y:r!=s&&(a.type&3)!==0,d=i&ve.Host&&o===a,p=xh(a,s,t,u,d);return p!==null?cs(e,s,p,a):lr}function xh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,g=r?a:a+p,_=i?a+p:d;for(let E=g;E<_;E++){let M=s[E];if(E<u&&t===M||E>=u&&M.type===t)return E}if(i){let E=s[u];if(E&&Ji(E)&&E.type===t)return u}return null}function cs(n,e,t,r){let i=n[t],o=e.data;if(AO(i)){let s=i;s.resolving&&lk(uk(o[t]));let a=eC(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?In(s.injectImpl):null,p=mD(n,r,ve.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&DO(t,o[t],e)}finally{d!==null&&In(d),eC(a),s.resolving=!1,_D()}}return i}function FO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Eu)?n[Eu]:void 0;return typeof e=="number"?e>=0?e&CD:LO:e}function tC(n,e,t){let r=1<<n;return!!(t[e+(n>>DD)]&r)}function nC(n,e){return!(n&ve.Self)&&!(n&ve.Host&&e)}var ns=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return RD(this._tNode,this._lView,e,cf(r),t)}};function LO(){return new ns(qt(),Ne())}function La(n){return xu(()=>{let e=n.prototype.constructor,t=e[Ph]||Iy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ph]||Iy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Iy(n){return RC(n)?()=>{let e=Iy(Yt(n));return e&&e()}:Da(n)}function VO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!(s[ae]&512);){let a=xD(o,s,t,r|ve.Self,lr);if(a!==lr)return a;let u=o.parent;if(!u){let d=s[eD];if(d){let p=d.get(t,lr,r);if(p!==lr)return p}u=MD(s),s=s[Fa]}o=u}return i}function MD(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[jn]:null}function bv(n){return kO(qt(),n)}function rC(n,e=null,t=null,r){let i=ND(n,e,t,r);return i.resolveInjectorInitializers(),i}function ND(n,e=null,t=null,r,i=new Set){let o=[t||bn,jk(n)];return r=r||(typeof n=="object"?void 0:Zt(n)),new Cu(o,e||pv(),r||null,i)}var bt=class n{static{this.THROW_IF_NOT_FOUND=Iu}static{this.NULL=new Fh}static create(e,t){if(Array.isArray(e))return rC({name:""},t,e,"");{let r=e.name??"";return rC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Y({token:n,providedIn:"any",factory:()=>ee(VC)})}static{this.__NG_ELEMENT_ID__=-1}};var UO=new K("");UO.__NG_ELEMENT_ID__=n=>{let e=qt();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(n&ve.Optional)return null;throw new X(204,!1)};var jO="ngOriginalError";function Xm(n){return n[jO]}var PD=!0,Cv=(()=>{class n{static{this.__NG_ELEMENT_ID__=BO}static{this.__NG_ENV_ID__=t=>t}}return n})(),by=class extends Cv{constructor(e){super(),this._lView=e}onDestroy(e){return uD(this._lView,e),()=>aO(this._lView,e)}};function BO(){return new by(Ne())}var ro=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Cy=class extends Rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XC()&&(this.destroyRef=j(Cv,{optional:!0})??void 0,this.pendingTasks=j(ro,{optional:!0})??void 0)}emit(e){let t=Se(null);try{super.next(e)}finally{Se(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof tt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Xe=Cy;function Hh(...n){}function kD(n){let e,t;function r(){n=Hh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function iC(n){return queueMicrotask(()=>n()),()=>{n=Hh}}var Dv="isAngularZone",qh=Dv+"_ID",$O=0,Me=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=PD}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,zO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new X(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,HO,Hh,Hh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},HO={};function Tv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){kD(()=>{n.callbackScheduled=!1,Dy(n),n.isCheckStableRunning=!0,Tv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dy(n)}function zO(n){let e=()=>{qO(n)},t=$O++;n._inner=n._inner.fork({name:"angular",properties:{[Dv]:!0,[qh]:t,[qh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(GO(u))return r.invokeTask(o,s,a,u);try{return oC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sC(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return oC(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!WO(u)&&e(),sC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dy(n),Tv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sC(n){n._nesting--,Tv(n)}var Ty=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function GO(n){return OD(n,"__ignore_ng_zone__")}function WO(n){return OD(n,"__scheduler_tick__")}function OD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var zr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xm(e);for(;t&&Xm(t);)t=Xm(t);return t||null}},KO=new K("",{providedIn:"root",factory:()=>{let n=j(Me),e=j(zr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function QO(){return Va(qt(),Ne())}function Va(n,e){return new Bn(Tn(n,e))}var Bn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=QO}}return n})();function YO(n){return n instanceof Bn?n.nativeElement:n}function ZO(){return this._results[Symbol.iterator]()}var Ay=class n{get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=ZO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Ek(e);(this._changesDetected=!_k(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function FD(n){return(n.flags&128)===128}var LD=new Map,JO=0;function XO(){return JO++}function e1(n){LD.set(n[lf],n)}function Sy(n){LD.delete(n[lf])}var aC="__ngContext__";function eo(n,e){Qi(e)?(n[aC]=e[lf],e1(e)):n[aC]=e}function VD(n){return jD(n[Tu])}function UD(n){return jD(n[Vn])}function jD(n){for(;n!==null&&!Yr(n);)n=n[Vn];return n}var Ry;function BD(n){Ry=n}function t1(){if(Ry!==void 0)return Ry;if(typeof document<"u")return document;throw new X(210,!1)}var Av=new K("",{providedIn:"root",factory:()=>n1}),n1="ng",Sv=new K(""),An=new K("",{providedIn:"platform",factory:()=>"unknown"});var Rv=new K("",{providedIn:"root",factory:()=>t1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var r1="h",i1="b";var o1=()=>null;function xv(n,e,t=!1){return o1(n,e,t)}var $D=!1,s1=new K("",{providedIn:"root",factory:()=>$D});var bh;function a1(){if(bh===void 0&&(bh=null,ay.trustedTypes))try{bh=ay.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bh}function cC(n){return a1()?.createScriptURL(n)||n}var zh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AC})`}};function Pu(n){return n instanceof zh?n.changingThisBreaksApplicationSecurity:n}function Mv(n,e){let t=c1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${AC})`)}return t===e}function c1(n){return n instanceof zh&&n.getTypeName()||null}var u1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function HD(n){return n=String(n),n.match(u1)?n:"unsafe:"+n}var wf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wf||{});function Nv(n){let e=zD();return e?e.sanitize(wf.URL,n)||"":Mv(n,"URL")?Pu(n):HD(af(n))}function l1(n){let e=zD();if(e)return cC(e.sanitize(wf.RESOURCE_URL,n)||"");if(Mv(n,"ResourceURL"))return cC(Pu(n));throw new X(904,!1)}function d1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?l1:Nv}function qD(n,e,t){return d1(e,t)(n)}function zD(){let n=Ne();return n&&n[hr].sanitizer}var h1=/^>|^->|<!--|-->|--!>|<!-$/g,f1=/(<|>)/g,p1="\u200B$1\u200B";function g1(n){return n.replace(h1,e=>e.replace(f1,p1))}function GD(n){return n instanceof Function?n():n}function m1(n){return(n??j(bt)).get(An)==="browser"}var Gr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Gr||{}),y1;function Pv(n,e){return y1(n,e)}function Ea(n,e,t,r,i){if(r!=null){let o,s=!1;Yr(r)?o=r:Qi(r)&&(s=!0,r=r[Qr]);let a=pr(r);n===0&&t!==null?i==null?YD(e,t,a):Gh(e,t,a,i||null,!0):n===1&&t!==null?Gh(e,t,a,i||null,!0):n===2?P1(e,a,s):n===3&&e.destroyNode(a),o!=null&&O1(e,n,o,t,i)}}function v1(n,e){return n.createText(e)}function w1(n,e,t){n.setValue(e,t)}function _1(n,e){return n.createComment(g1(e))}function WD(n,e,t){return n.createElement(e,t)}function E1(n,e){KD(n,e),e[Qr]=null,e[jn]=null}function I1(n,e,t,r,i,o){r[Qr]=i,r[jn]=e,If(n,r,t,1,i,o)}function KD(n,e){e[hr].changeDetectionScheduler?.notify(9),If(n,e,e[ot],2,null,null)}function b1(n){let e=n[Tu];if(!e)return ey(n[de],n);for(;e;){let t=null;if(Qi(e))t=e[Tu];else{let r=e[$t];r&&(t=r)}if(!t){for(;e&&!e[Vn]&&e!==n;)Qi(e)&&ey(e[de],e),e=e[Ht];e===null&&(e=n),Qi(e)&&ey(e[de],e),t=e&&e[Vn]}e=t}}function C1(n,e,t,r){let i=$t+r,o=t.length;r>0&&(t[i-1][Vn]=e),r<o-$t?(e[Vn]=t[i],LC(t,$t+r,e)):(t.push(e),e[Vn]=null),e[Ht]=t;let s=e[rs];s!==null&&t!==s&&QD(s,e);let a=e[qr];a!==null&&a.insertView(n),yy(e),e[ae]|=128}function QD(n,e){let t=n[xa],r=e[Ht];if(Qi(r))n[ae]|=Uh.HasTransplantedViews;else{let i=r[Ht][Un];e[Un]!==i&&(n[ae]|=Uh.HasTransplantedViews)}t===null?n[xa]=[e]:t.push(e)}function kv(n,e){let t=n[xa],r=t.indexOf(e);t.splice(r,1)}function Au(n,e){if(n.length<=$t)return;let t=$t+e,r=n[t];if(r){let i=r[rs];i!==null&&i!==n&&kv(i,r),e>0&&(n[t-1][Vn]=r[Vn]);let o=Oh(n,$t+e);E1(r[de],r);let s=o[qr];s!==null&&s.detachView(o[de]),r[Ht]=null,r[Vn]=null,r[ae]&=-129}return r}function _f(n,e){if(!(e[ae]&256)){let t=e[ot];t.destroyNode&&If(n,e,t,3,null,null),b1(e)}}function ey(n,e){if(e[ae]&256)return;let t=Se(null);try{e[ae]&=-129,e[ae]|=256,e[Cn]&&Dm(e[Cn]),T1(n,e),D1(n,e),e[de].type===1&&e[ot].destroy();let r=e[rs];if(r!==null&&Yr(e[Ht])){r!==e[Ht]&&kv(r,e);let i=e[qr];i!==null&&i.detachView(n)}Sy(e)}finally{Se(t)}}function D1(n,e){let t=n.cleanup,r=e[Lh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Lh]=null);let i=e[Ki];if(i!==null){e[Ki]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function T1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ur(4,a,u);try{u.call(a)}finally{ur(5,a,u)}}else{ur(4,i,o);try{o.call(i)}finally{ur(5,i,o)}}}}}function A1(n,e,t){return S1(n,e.parent,t)}function S1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Qr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===dr.None||o===dr.Emulated)return null}return Tn(r,t)}}function Gh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YD(n,e,t){n.appendChild(e,t)}function uC(n,e,t,r,i){r!==null?Gh(n,e,t,r,i):YD(n,e,t)}function ZD(n,e){return n.parentNode(e)}function R1(n,e){return n.nextSibling(e)}function x1(n,e,t){return N1(n,e,t)}function M1(n,e,t){return n.type&40?Tn(n,t):null}var N1=M1,lC;function Ef(n,e,t,r){let i=A1(n,r,e),o=e[ot],s=r.parent||e[jn],a=x1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)uC(o,i,t[u],a,!1);else uC(o,i,t,a,!1);lC!==void 0&&lC(o,r,e,t,i)}function _u(n,e){if(e!==null){let t=e.type;if(t&3)return Tn(e,n);if(t&4)return xy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return _u(n,r);{let i=n[e.index];return Yr(i)?xy(-1,i):pr(i)}}else{if(t&128)return _u(n,e.next);if(t&32)return Pv(e,n)()||pr(n[e.index]);{let r=JD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=os(n[Un]);return _u(i,r)}else return _u(n,e.next)}}}return null}function JD(n,e){if(e!==null){let r=n[Un][jn],i=e.projection;return r.projection[i]}return null}function xy(n,e){let t=$t+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return _u(r,i)}return e[is]}function P1(n,e,t){n.removeChild(null,e,t)}function Ov(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&eo(pr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Ov(n,e,t.child,r,i,o,!1),Ea(e,n,i,a,o);else if(u&32){let d=Pv(t,r),p;for(;p=d();)Ea(e,n,i,p,o);Ea(e,n,i,a,o)}else u&16?k1(n,e,r,t,i,o):Ea(e,n,i,a,o);t=s?t.projectionNext:t.next}}function If(n,e,t,r,i,o){Ov(t,r,n.firstChild,e,i,o,!1)}function k1(n,e,t,r,i,o){let s=t[Un],u=s[jn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Ea(e,n,i,p,o)}else{let d=u,p=s[Ht];FD(r)&&(d.flags|=128),Ov(n,e,d,p,i,o,!0)}}function O1(n,e,t,r,i){let o=t[is],s=pr(t);o!==s&&Ea(e,n,r,o,i);for(let a=$t;a<t.length;a++){let u=t[a];If(u[de],u,n,e,r,o)}}function F1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Gr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gr.Important),n.setStyle(t,r,i,o))}}function L1(n,e,t){n.setAttribute(e,"style",t)}function XD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&dy(n,e,r),i!==null&&XD(n,e,i),o!==null&&L1(n,e,o)}var io={};function ye(n=1){tT(Ct(),Ne(),fs()+n,!1)}function tT(n,e,t,r){if(!r)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Rh(e,o,0,t)}ss(t)}function ne(n,e=ve.Default){let t=Ne();if(t===null)return ee(n,e);let r=qt();return RD(r,t,Yt(n),e)}function nT(){let n="invalid";throw new Error(n)}function rT(n,e,t,r,i,o){let s=Se(null);try{let a=null;i&Yi.SignalBased&&(a=e[r][jr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Yi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):nD(e,a,r,o)}finally{Se(s)}}function V1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ss(~i);else{let o=i,s=t[++r],a=t[++r];wO(s,o);let u=e[o];a(2,u)}}}finally{ss(-1)}}function bf(n,e,t,r,i,o,s,a,u,d,p){let g=e.blueprint.slice();return g[Qr]=i,g[ae]=r|4|128|8|64,(d!==null||n&&n[ae]&2048)&&(g[ae]|=2048),aD(g),g[Ht]=g[Fa]=n,g[Jt]=t,g[hr]=s||n&&n[hr],g[ot]=a||n&&n[ot],g[Ra]=u||n&&n[Ra]||null,g[jn]=o,g[lf]=XO(),g[Du]=p,g[eD]=d,g[Un]=e.type==2?n[Un]:g,g}function ku(n,e,t,r,i){let o=n.data[e];if(o===null)o=U1(n,e,t,r,i),vO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=pO();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function U1(n,e,t,r,i){let o=hD(),s=vv(),a=s?o:o&&o.parent,u=n.data[e]=z1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function iT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function oT(n,e,t,r,i){let o=fs(),s=r&2;try{ss(-1),s&&e.length>fr&&tT(n,e,fr,!1),ur(s?2:0,i),t(r,i)}finally{ss(o),ur(s?3:1,i)}}function Fv(n,e,t){if(gv(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Se(r)}}}function Lv(n,e,t){dD()&&(Z1(n,e,t,Tn(t,e)),(t.flags&64)===64&&cT(n,e,t))}function Vv(n,e,t=Tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function sT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Uv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Uv(n,e,t,r,i,o,s,a,u,d,p){let g=fr+r,_=g+i,E=j1(g,_),M=typeof d=="function"?d():d;return E[de]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function j1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:io);return t}function B1(n,e,t,r){let o=r.get(s1,$D)||t===dr.ShadowDom,s=n.selectRootElement(e,o);return $1(s),s}function $1(n){H1(n)}var H1=()=>null;function q1(n,e,t,r){let i=dT(e);i.push(t),n.firstCreatePass&&hT(n).push(r,i.length-1)}function z1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dC(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Yi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?hC(r,t,d,a,u):hC(r,t,d,a)}return r}function hC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function G1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=o[p],_=t?t.get(g):null,E=_?_.inputs:null,M=_?_.outputs:null;u=dC(0,g.inputs,p,u,E),d=dC(1,g.outputs,p,d,M);let O=u!==null&&s!==null&&!hv(e)?cF(u,p,s):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function W1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function jv(n,e,t,r,i,o,s,a){let u=Tn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?($v(n,t,p,r,i),df(e)&&K1(t,e.index)):e.type&3?(r=W1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function K1(n,e){let t=no(e,n);t[ae]&16||(t[ae]|=64)}function Bv(n,e,t,r){if(dD()){let i=r===null?null:{"":-1},o=X1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aT(n,e,t,s,i,a),i&&eF(t,r,i)}t.mergedAttrs=bu(t.mergedAttrs,t.attrs)}function aT(n,e,t,r,i,o){for(let d=0;d<r.length;d++)Ey($h(t,e),n,r[d].type);nF(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=iT(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=bu(t.mergedAttrs,p.hostAttrs),rF(n,t,e,u,p),tF(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}G1(n,t,o)}function Q1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Y1(s)!=a&&s.push(a),s.push(t,r,o)}}function Y1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Z1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;df(t)&&iF(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||$h(t,e),eo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=cs(e,n,a,t);if(eo(d,e),s!==null&&aF(e,a-i,d,u,t,s),Ji(u)){let p=no(t.index,e);p[Jt]=cs(e,n,a,t)}}}function cT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=_O();try{ss(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];vy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&J1(u,d)}}finally{ss(-1),vy(s)}}function J1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function X1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Mk(e,s.selectors,!1))if(r||(r=[]),Ji(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;My(n,e,u)}else r.unshift(s),My(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function My(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eF(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new X(-301,!1);r.push(e[i],o)}}}function tF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ji(e)&&(t[""]=n)}}function nF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function rF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Da(i.type,!0)),s=new as(o,Ji(i),ne);n.blueprint[r]=s,t[r]=s,Q1(n,e,r,iT(n,t,i.hostVars,io),i)}function iF(n,e,t){let r=Tn(e,n),i=sT(t),o=n[hr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Cf(n,bf(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function oF(n,e,t,r,i,o){let s=Tn(n,e);sF(e[ot],s,o,n.value,t,r,i)}function sF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?af(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function aF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],g=s[a++];rT(r,t,u,d,p,g)}}function cF(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function uT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function lT(n,e){let t=n.contentQueries;if(t!==null){let r=Se(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];wv(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function Cf(n,e){return n[Tu]?n[Y0][Vn]=e:n[Tu]=e,n[Y0]=e,e}function Ny(n,e,t){wv(0);let r=Se(null);try{e(n,t)}finally{Se(r)}}function dT(n){return n[Lh]??=[]}function hT(n){return n.cleanup??=[]}function fT(n,e){let t=n[Ra],r=t?t.get(zr,null):null;r&&r.handleError(e)}function $v(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],p=n.data[s];rT(p,d,r,a,u,i)}}function uF(n,e,t){let r=sD(e,n);w1(n[ot],r,t)}function lF(n,e){let t=no(e,n),r=t[de];dF(r,t);let i=t[Qr];i!==null&&t[Du]===null&&(t[Du]=xv(i,t[Ra])),Hv(r,t,t[Jt])}function dF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Hv(n,e,t){_v(e);try{let r=n.viewQuery;r!==null&&Ny(1,r,t);let i=n.template;i!==null&&oT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[qr]?.finishViewCreation(n),n.staticContentQueries&&lT(n,e),n.staticViewQueries&&Ny(2,n.viewQuery,t);let o=n.components;o!==null&&hF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,Ev()}}function hF(n,e){for(let t=0;t<e.length;t++)lF(n,e[t])}function qv(n,e,t,r){let i=Se(null);try{let o=e.tView,a=n[ae]&4096?4096:16,u=bf(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[rs]=d;let p=n[qr];return p!==null&&(u[qr]=p.createEmbeddedView(o)),Hv(o,u,t),u}finally{Se(i)}}function fF(n,e){let t=$t+e;if(t<n.length)return n[t]}function Wh(n,e){return!e||e.firstChild===null||FD(n)}function zv(n,e,t,r=!0){let i=e[de];if(C1(i,e,n,t),r){let s=xy(t,n),a=e[ot],u=ZD(a,n[is]);u!==null&&I1(i,n[jn],a,e,u,s)}let o=e[Du];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pF(n,e){let t=Au(n,e);return t!==void 0&&_f(t[de],t),t}function Kh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(pr(o)),Yr(o)&&gF(o,r);let s=t.type;if(s&8)Kh(n,e,t.child,r);else if(s&32){let a=Pv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=JD(e,t);if(Array.isArray(a))r.push(...a);else{let u=os(e[Un]);Kh(u[de],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function gF(n,e){for(let t=$t;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Kh(r[de],r,i,e)}n[is]!==n[Qr]&&e.push(n[is])}var pT=[];function mF(n){return n[Cn]??yF(n)}function yF(n){let e=pT.pop()??Object.create(wF);return e.lView=n,e}function vF(n){n.lView[Cn]!==n&&(n.lView=null,pT.push(n))}var wF=be(H({},mu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{pf(n.lView)},consumerOnSignalRead(){this.lView[Cn]=this}});function _F(n){let e=n[Cn]??Object.create(EF);return e.lView=n,e}var EF=be(H({},mu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=os(n.lView);for(;e&&!gT(e[de]);)e=os(e);e&&cD(e)},consumerOnSignalRead(){this.lView[Cn]=this}});function gT(n){return n.type!==2}var IF=100;function mT(n,e=!0,t=0){let r=n[hr],i=r.rendererFactory,o=!1;o||i.begin?.();try{bF(n,t)}catch(s){throw e&&fT(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function bF(n,e){let t=pD();try{J0(!0),Py(n,e);let r=0;for(;ff(n);){if(r===IF)throw new X(103,!1);r++,Py(n,1)}}finally{J0(t)}}function CF(n,e,t,r){let i=e[ae];if((i&256)===256)return;let o=!1,s=!1;!o&&e[hr].inlineEffectRunner?.flush(),_v(e);let a=!0,u=null,d=null;o||(gT(n)?(d=mF(e),u=Qd(d)):n0()===null?(a=!1,d=_F(e),u=Qd(d)):e[Cn]&&(Dm(e[Cn]),e[Cn]=null));try{aD(e),mO(n.bindingStartIndex),t!==null&&oT(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let E=n.preOrderCheckHooks;E!==null&&Sh(e,E,null)}else{let E=n.preOrderHooks;E!==null&&Rh(e,E,0,null),Ym(e,0)}if(s||DF(e),yT(e,0),n.contentQueries!==null&&lT(n,e),!o)if(p){let E=n.contentCheckHooks;E!==null&&Sh(e,E)}else{let E=n.contentHooks;E!==null&&Rh(e,E,1),Ym(e,1)}V1(n,e);let g=n.components;g!==null&&wT(e,g,0);let _=n.viewQuery;if(_!==null&&Ny(2,_,r),!o)if(p){let E=n.viewCheckHooks;E!==null&&Sh(e,E)}else{let E=n.viewHooks;E!==null&&Rh(e,E,2),Ym(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qm]){for(let E of e[Qm])E();e[Qm]=null}o||(e[ae]&=-73)}catch(p){throw o||pf(e),p}finally{d!==null&&(bm(d,u),a&&vF(d)),Ev()}}function yT(n,e){for(let t=VD(n);t!==null;t=UD(t))for(let r=$t;r<t.length;r++){let i=t[r];vT(i,e)}}function DF(n){for(let e=VD(n);e!==null;e=UD(e)){if(!(e[ae]&Uh.HasTransplantedViews))continue;let t=e[xa];for(let r=0;r<t.length;r++){let i=t[r];cD(i)}}}function TF(n,e,t){let r=no(e,n);vT(r,t)}function vT(n,e){yv(n)&&Py(n,e)}function Py(n,e){let r=n[de],i=n[ae],o=n[Cn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cm(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)CF(r,n,r.template,n[Jt]);else if(i&8192){yT(n,1);let a=r.components;a!==null&&wT(n,a,1)}}function wT(n,e,t){for(let r=0;r<e.length;r++)TF(n,e[r],t)}function Gv(n,e){let t=pD()?64:1088;for(n[hr].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let r=os(n);if(gy(n)&&!r)return n;n=r}return null}var us=class{get rootNodes(){let e=this._lView,t=e[de];return Kh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ht];if(Yr(e)){let t=e[Vh],r=t?t.indexOf(this):-1;r>-1&&(Au(e,r),Oh(t,r))}this._attachedToViewContainer=!1}_f(this._lView[de],this._lView)}onDestroy(e){uD(this._lView,e)}markForCheck(){Gv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){yy(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,mT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gy(this._lView),t=this._lView[rs];t!==null&&!e&&kv(t,this._lView),KD(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let t=gy(this._lView),r=this._lView[rs];r!==null&&!t&&QD(r,this._lView),yy(this._lView)}},ls=(()=>{class n{static{this.__NG_ELEMENT_ID__=RF}}return n})(),AF=ls,SF=class extends AF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=qv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new us(i)}};function RF(){return Wv(qt(),Ne())}function Wv(n,e){return n.type&4?new SF(e,n,Va(n,e)):null}var E7=new RegExp(`^(\\d+)*(${i1}|${r1})*(.*)`);var xF=()=>null;function Qh(n,e){return xF(n,e)}var Ma=class{},Df=new K("",{providedIn:"root",factory:()=>!1});var _T=new K(""),ET=new K(""),ky=class{},Yh=class{};function MF(n){let e=Error(`No component factory found for ${Zt(n)}.`);return e[NF]=n,e}var NF="ngComponent";var Oy=class{resolveComponentFactory(e){throw MF(e)}},Na=class{static{this.NULL=new Oy}},Pa=class{},ps=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>PF()}}return n})();function PF(){let n=Ne(),e=qt(),t=no(e.index,n);return(Qi(t)?t:n)[ot]}var kF=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}}return n})();function Zh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=j0(i,a);else if(o==2){let u=a,d=e[++s];r=j0(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Jh=class extends Na{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zi(e);return new ka(t,this.ngModule)}};function fC(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Yi.None;e?t.push({propName:s,templateName:r,isSignal:(a&Yi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function OF(n){let e=n.toLowerCase();return e==="svg"?nO:e==="math"?rO:null}var ka=class extends Yh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=fC(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return fC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Ok(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof Xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new wy(e,s):e,u=a.get(Pa,null);if(u===null)throw new X(407,!1);let d=a.get(kF,null),p=a.get(Ma,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",M=r?B1(_,r,this.componentDef.encapsulation,a):WD(_,E,OF(E)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let N=null;M!==null&&(N=xv(M,a,!0));let V=Uv(0,null,null,1,0,null,null,null,null,null,null),W=bf(null,V,null,O,null,null,g,_,a,null,N);_v(W);let z,Z,ge=null;try{let J=this.componentDef,T,I=null;J.findHostDirectiveDefs?(T=[],I=new Map,J.findHostDirectiveDefs(J,T,I),T.push(J)):T=[J];let C=FF(W,M);ge=LF(C,M,J,T,W,g,_),Z=mv(V,fr),M&&jF(_,J,M,r),t!==void 0&&BF(Z,this.ngContentSelectors,t),z=UF(ge,J,T,I,W,[$F]),Hv(V,W,null)}catch(J){throw ge!==null&&Sy(ge),Sy(W),J}finally{Ev()}return new Fy(this.componentType,z,Va(Z,W),W,Z)}finally{Se(o)}}},Fy=class extends ky{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new us(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;$v(o[de],o,i,e,t),this.previousInputValues.set(e,t);let s=no(this._tNode.index,o);Gv(s,1)}}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FF(n,e){let t=n[de],r=fr;return n[r]=e,ku(t,r,2,"#host",null)}function LF(n,e,t,r,i,o,s){let a=i[de];VF(r,n,e,s);let u=null;e!==null&&(u=xv(e,i[Ra]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=bf(i,sT(t),null,p,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&My(a,n,r.length-1),Cf(i,g),i[n.index]=g}function VF(n,e,t,r){for(let i of n)e.mergedAttrs=bu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zh(e,e.mergedAttrs,!0),t!==null&&eT(r,t,e))}function UF(n,e,t,r,i,o){let s=qt(),a=i[de],u=Tn(s,i);aT(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let g=s.directiveStart+p,_=cs(i,a,g,s);eo(_,i)}cT(a,i,s),u&&eo(u,i);let d=cs(i,a,s.directiveStart+s.componentOffset,s);if(n[Jt]=i[Jt]=d,o!==null)for(let p of o)p(d,e);return Fv(a,s,i),d}function jF(n,e,t,r){if(r)dy(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=Fk(e.selectors[0]);i&&dy(n,t,i),o&&o.length>0&&XD(n,t,o.join(" "))}}function BF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function $F(){let n=qt();vf(Ne()[de],n)}var oo=(()=>{class n{static{this.__NG_ELEMENT_ID__=HF}}return n})();function HF(){let n=qt();return bT(n,Ne())}var qF=oo,IT=class extends qF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){let e=Iv(this._hostTNode,this._hostLView);if(bD(e)){let t=Bh(e,this._hostLView),r=jh(e),i=t[de].data[r+8];return new ns(i,t)}else return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Wh(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Jk(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new ka(Zi(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?d:this.parentInjector).get(Xt,null);O&&(o=O)}let p=Zi(u.componentType??{}),g=Qh(this._lContainer,p?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,o);return this.insertImpl(E.hostView,a,Wh(this._hostTNode,g)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ht],d=new IT(u,u[jn],u[Ht]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return zv(s,i,o,r),e.attachToViewContainerRef(),LC(ty(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);r&&(Oh(ty(this._lContainer),t),_f(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);return r&&Oh(ty(this._lContainer),t)!=null?new us(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pC(n){return n[Vh]}function ty(n){return n[Vh]||(n[Vh]=[])}function bT(n,e){let t,r=e[n.index];return Yr(r)?t=r:(t=uT(r,e,null,n),e[n.index]=t,Cf(e,t)),GF(t,e,n,r),new IT(t,n,e)}function zF(n,e){let t=n[ot],r=t.createComment(""),i=Tn(e,n),o=ZD(t,i);return Gh(t,o,r,R1(t,i),!1),r}var GF=QF,WF=()=>!1;function KF(n,e,t){return WF(n,e,t)}function QF(n,e,t,r){if(n[is])return;let i;t.type&8?i=pr(r):i=zF(e,t),n[is]=i}var Ly=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Vy=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Kv(e,t).matches!==null&&this.queries[t].setDirty()}},Uy=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=rL(e):this.predicate=e}},jy=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},By=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,YF(t,o)),this.matchTNodeWithReadOption(e,t,xh(t,e,o,!1,!1))}else r===ls?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bn||i===oo||i===ls&&t.type&4)this.addMatch(t.index,-2);else{let o=xh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function YF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ZF(n,e){return n.type&11?Va(n,e):n.type&4?Wv(n,e):null}function JF(n,e,t,r){return t===-1?ZF(e,n):t===-2?XF(n,e,r):cs(n,n[de],t,e)}function XF(n,e,t){if(t===Bn)return Va(e,n);if(t===ls)return Wv(e,n);if(t===oo)return bT(e,n)}function CT(n,e,t,r){let i=e[qr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)a.push(null);else{let p=o[d];a.push(JF(e,p,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function $y(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=CT(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let d=o[a+1],p=e[-u];for(let g=$t;g<p.length;g++){let _=p[g];_[rs]===_[Ht]&&$y(_[de],_,d,r)}if(p[xa]!==null){let g=p[xa];for(let _=0;_<g.length;_++){let E=g[_];$y(E[de],E,d,r)}}}}}return r}function eL(n,e){return n[qr].queries[e].queryList}function tL(n,e,t){let r=new Ay((t&4)===4);return q1(n,e,r,r.destroy),(e[qr]??=new Vy).queries.push(new Ly(r))-1}function nL(n,e,t){let r=Ct();return r.firstCreatePass&&(iL(r,new Uy(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),tL(r,Ne(),e)}function rL(n){return n.split(",").map(e=>e.trim())}function iL(n,e,t){n.queries===null&&(n.queries=new jy),n.queries.track(new By(e,t))}function Kv(n,e){return n.queries.getByIndex(e)}function oL(n,e){let t=n[de],r=Kv(t,e);return r.crossesNgTemplate?$y(t,n,e,[]):CT(t,n,r,e)}var gC=new Set;function so(n){gC.has(n)||(gC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function sL(n){return typeof n=="function"&&n[jr]!==void 0}function Ua(n,e){so("NgSignals");let t=f0(n),r=t[jr];return e?.equal&&(r.equal=e.equal),t.set=i=>Tm(r,i),t.update=i=>p0(r,i),t.asReadonly=aL.bind(t),t}function aL(){let n=this[jr];if(n.readonlyFn===void 0){let e=()=>this();e[jr]=n,n.readonlyFn=e}return n.readonlyFn}function DT(n){return sL(n)&&typeof n.set=="function"}function cL(n){return Object.getPrototypeOf(n.prototype).constructor}function $n(n){let e=cL(n.type),t=!0,r=[n];for(;e;){let i;if(Ji(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ch(n.inputs),s.inputTransforms=Ch(n.inputTransforms),s.declaredInputs=Ch(n.declaredInputs),s.outputs=Ch(n.outputs);let a=i.hostBindings;a&&fL(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&dL(n,u),d&&hL(n,d),uL(n,i),tk(n.outputs,i.outputs),Ji(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$n&&(t=!1)}}e=Object.getPrototypeOf(e)}lL(r)}function uL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function lL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bu(i.hostAttrs,t=bu(t,i.hostAttrs))}}function Ch(n){return n===Ta?{}:n===bn?[]:n}function dL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function hL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function fL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Qv(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var to=class{},Su=class{};var Hy=class extends to{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jh(this);let o=GC(e);this._bootstrapComponents=GD(o.bootstrap),this._r3Injector=ND(e,t,[{provide:to,useValue:this},{provide:Na,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qy=class extends Su{constructor(e){super(),this.moduleType=e}create(e){return new Hy(this.moduleType,e,[])}};var Xh=class extends to{constructor(e){super(),this.componentFactoryResolver=new Jh(this),this.instance=null;let t=new Cu([...e.providers,{provide:to,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],e.parent||pv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tf(n,e,t=null){return new Xh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function TT(n){return gL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function pL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function gL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mL(n,e,t){return n[e]=t}function yL(n,e){return n[e]}function ja(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vL(n){return(n.flags&32)===32}function wL(n,e,t,r,i,o,s,a,u){let d=e.consts,p=ku(e,n,4,s||null,a||null);Bv(e,t,p,Xi(d,u)),vf(e,p);let g=p.tView=Uv(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function zy(n,e,t,r,i,o,s,a,u,d){let p=t+fr,g=e.firstCreatePass?wL(p,e,n,r,i,o,s,a,u):e.data[p];hs(g,!1);let _=_L(e,n,g,t);mf()&&Ef(e,n,_,g),eo(_,n);let E=uT(_,n,_,g);return n[p]=E,Cf(n,E),KF(E,g,n),hf(g)&&Lv(e,n,g),u!=null&&Vv(n,g,d),g}function Fe(n,e,t,r,i,o,s,a){let u=Ne(),d=Ct(),p=Xi(d.consts,o);return zy(u,d,n,e,t,r,i,p,s,a),Fe}var _L=EL;function EL(n,e,t,r){return yf(!0),e[ot].createComment("")}var Ia=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ia||{}),AT=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Gy=class n{constructor(){this.ngZone=j(Me),this.scheduler=j(Ma),this.errorHandler=j(zr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ia.EarlyRead,Ia.Write,Ia.MixedReadWrite,Ia.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}},Wy=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Yv(n,e){!e?.injector&&Zk(Yv);let t=e?.injector??j(bt);return m1(t)?(so("NgAfterNextRender"),bL(n,t,e,!0)):CL}function IL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bL(n,e,t,r){let i=e.get(AT);i.impl??=e.get(Gy);let o=t?.phase??Ia.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Cv):null,a=new Wy(i.impl,IL(n,o),r,s);return i.impl.register(a),a}var CL={destroy(){}};function Af(n,e,t,r){let i=Ne(),o=Nu();if(ja(i,o,e)){let s=Ct(),a=gf();oF(a,i,n,e,t,r)}return Af}function ST(n,e,t,r){return ja(n,Nu(),t)?e+af(t)+r:io}function Dh(n,e){return n<<17|e<<2}function ds(n){return n>>17&32767}function DL(n){return(n&2)==2}function TL(n,e){return n&131071|e<<17}function Ky(n){return n|2}function Oa(n){return(n&131068)>>2}function ny(n,e){return n&-131069|e<<2}function AL(n){return(n&1)===1}function Qy(n){return n|1}function SL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ds(s),u=Oa(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||Mu(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=ds(n[a+1]);n[r+1]=Dh(_,a),_!==0&&(n[_+1]=ny(n[_+1],r)),n[a+1]=TL(n[a+1],r)}else n[r+1]=Dh(a,0),a!==0&&(n[a+1]=ny(n[a+1],r)),a=r;else n[r+1]=Dh(u,0),a===0?a=r:n[u+1]=ny(n[u+1],r),u=r;d&&(n[r+1]=Ky(n[r+1])),mC(n,p,r,!0),mC(n,p,r,!1),RL(e,p,n,r,o),s=Dh(a,u),o?e.classBindings=s:e.styleBindings=s}function RL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Mu(o,e)>=0&&(t[r+1]=Qy(t[r+1]))}function mC(n,e,t,r){let i=n[t+1],o=e===null,s=r?ds(i):Oa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];xL(u,e)&&(a=!0,n[s+1]=r?Qy(d):Ky(d)),s=r?ds(d):Oa(d)}a&&(n[t+1]=r?Ky(i):Qy(i))}function xL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Mu(n,e)>=0:!1}function _e(n,e,t){let r=Ne(),i=Nu();if(ja(r,i,e)){let o=Ct(),s=gf();jv(o,s,r,n,e,r[ot],t,!1)}return _e}function yC(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";$v(n,t,o[s],s,r)}function Sf(n,e,t){return RT(n,e,t,!1),Sf}function Rf(n,e){return RT(n,e,null,!0),Rf}function RT(n,e,t,r){let i=Ne(),o=Ct(),s=yO(2);if(o.firstUpdatePass&&NL(o,n,s,r),e!==io&&ja(i,s,e)){let a=o.data[fs()];LL(o,a,i,i[ot],n,i[s+1]=VL(e,t),r,s)}}function ML(n,e){return e>=n.expandoStartIndex}function NL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[fs()],s=ML(n,t);UL(o,r)&&e===null&&!s&&(e=!1),e=PL(i,o,e,r),SL(i,o,e,t,s,r)}}function PL(n,e,t,r){let i=EO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ry(null,n,e,t,r),t=Ru(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ry(i,n,e,t,r),o===null){let u=kL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ry(null,n,e,u[1],r),u=Ru(u,e.attrs,r),OL(n,e,r,u))}else o=FL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function kL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oa(r)!==0)return n[ds(r)]}function OL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ds(i)]=r}function FL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ru(r,s,t)}return Ru(r,e.attrs,t)}function ry(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ru(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ru(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),bk(n,s,t?!0:e[++o]))}return n===void 0?null:n}function LL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=AL(d)?vC(u,e,t,i,Oa(d),s):void 0;if(!ef(p)){ef(o)||DL(d)&&(o=vC(u,null,t,i,a,s));let g=sD(fs(),t);F1(r,s,g,i,o)}}function vC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=t[i+1];_===io&&(_=g?bn:void 0);let E=g?Wm(_,r):p===r?_:void 0;if(d&&!ef(E)&&(E=Wm(u,r)),ef(E)&&(a=E,s))return a;let M=n[i+1];i=s?ds(M):Oa(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Wm(u,r))}return a}function ef(n){return n!==void 0}function VL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Zt(Pu(n)))),n}function UL(n,e){return(n.flags&(e?8:16))!==0}var Yy=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function iy(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function jL(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let d=n.at(o),p=e[o],g=iy(o,d,o,p,t);if(g!==0){g<0&&n.updateValue(o,p),o++;continue}let _=n.at(s),E=e[u],M=iy(s,_,u,E,t);if(M!==0){M<0&&n.updateValue(s,E),s--,u--;continue}let O=t(o,d),N=t(s,_),V=t(o,p);if(Object.is(V,N)){let W=t(u,E);Object.is(W,O)?(n.swap(o,s),n.updateValue(s,E),u--,s--):n.move(s,o),n.updateValue(o,p),o++;continue}if(r??=new tf,i??=_C(n,o,s,t),Zy(n,r,o,V))n.updateValue(o,p),o++,s++;else if(i.has(V))r.set(O,n.detach(o)),s--;else{let W=n.create(o,e[o]);n.attach(o,W),o++,s++}}for(;o<=u;)wC(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),d=u.next();for(;!d.done&&o<=s;){let p=n.at(o),g=d.value,_=iy(o,p,o,g,t);if(_!==0)_<0&&n.updateValue(o,g),o++,d=u.next();else{r??=new tf,i??=_C(n,o,s,t);let E=t(o,g);if(Zy(n,r,o,E))n.updateValue(o,g),o++,s++,d=u.next();else if(!i.has(E))n.attach(o,n.create(o,g)),o++,s++,d=u.next();else{let M=t(o,p);r.set(M,n.detach(o)),s--}}}for(;!d.done;)wC(n,r,t,n.length,d.value),d=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function Zy(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function wC(n,e,t,r,i){if(Zy(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function _C(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var tf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var Jy=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-$t}};var Xy=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function xT(n,e,t,r,i,o,s,a,u,d,p,g,_){so("NgControlFlow");let E=Ne(),M=Ct(),O=u!==void 0,N=Ne(),V=a?s.bind(N[Un][Jt]):s,W=new Xy(O,V);N[fr+n]=W,zy(E,M,n+1,e,t,r,i,Xi(M.consts,o)),O&&zy(E,M,n+2,u,d,p,g,Xi(M.consts,_))}var ev=class extends Yy{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$t}at(e){return this.getLView(e)[Jt].$implicit}attach(e,t){let r=t[Du];this.needsIndexUpdate||=e!==this.length,zv(this.lContainer,t,e,Wh(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,BL(this.lContainer,e)}create(e,t){let r=Qh(this.lContainer,this.templateTNode.tView.ssrId),i=qv(this.hostLView,this.templateTNode,new Jy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){_f(e[de],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Jt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Jt].$index=e}getLView(e){return $L(this.lContainer,e)}};function MT(n){let e=Se(null),t=fs();try{let r=Ne(),i=r[de],o=r[t],s=t+1,a=EC(r,s);if(o.liveCollection===void 0){let d=IC(i,s);o.liveCollection=new ev(a,r,d)}else o.liveCollection.reset();let u=o.liveCollection;if(jL(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let d=Nu(),p=u.length===0;if(ja(r,d,p)){let g=t+2,_=EC(r,g);if(p){let E=IC(i,g),M=Qh(_,E.tView.ssrId),O=qv(r,E,void 0,{dehydratedView:M});zv(_,O,0,Wh(E,M))}else pF(_,0)}}}finally{Se(e)}}function EC(n,e){return n[e]}function BL(n,e){return Au(n,e)}function $L(n,e){return fF(n,e)}function IC(n,e){return mv(n,e)}function HL(n,e,t,r,i,o){let s=e.consts,a=Xi(s,i),u=ku(e,n,2,r,a);return Bv(e,t,u,Xi(s,o)),u.attrs!==null&&Zh(u,u.attrs,!1),u.mergedAttrs!==null&&Zh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U(n,e,t,r){let i=Ne(),o=Ct(),s=fr+n,a=i[ot],u=o.firstCreatePass?HL(s,o,i,e,t,r):o.data[s],d=qL(o,i,u,a,e,n);i[s]=d;let p=hf(u);return hs(u,!0),eT(a,d,u),!vL(u)&&mf()&&Ef(o,i,d,u),cO()===0&&eo(d,i),uO(),p&&(Lv(o,i,u),Fv(o,u,i)),r!==null&&Vv(i,u),U}function F(){let n=qt();vv()?fD():(n=n.parent,hs(n,!1));let e=n;hO(e)&&fO(),lO();let t=Ct();return t.firstCreatePass&&(vf(t,n),gv(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&SO(e)&&yC(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RO(e)&&yC(t,e,Ne(),e.stylesWithoutHost,!1),F}function Re(n,e,t,r){return U(n,e,t,r),F(),Re}var qL=(n,e,t,r,i,o)=>(yf(!0),WD(r,i,CO()));function zL(n,e,t,r,i){let o=e.consts,s=Xi(o,r),a=ku(e,n,8,"ng-container",s);s!==null&&Zh(a,s,!0);let u=Xi(o,i);return Bv(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function $e(n,e,t){let r=Ne(),i=Ct(),o=n+fr,s=i.firstCreatePass?zL(o,i,r,e,t):i.data[o];hs(s,!0);let a=GL(i,r,s,n);return r[o]=a,mf()&&Ef(i,r,a,s),eo(a,r),hf(s)&&(Lv(i,r,s),Fv(i,s,r)),t!=null&&Vv(r,s),$e}function He(){let n=qt(),e=Ct();return vv()?fD():(n=n.parent,hs(n,!1)),e.firstCreatePass&&(vf(e,n),gv(n)&&e.queries.elementEnd(n)),He}var GL=(n,e,t,r)=>(yf(!0),_1(e[ot],""));function Hn(){return Ne()}var nf="en-US";var WL=nf;function KL(n){typeof n=="string"&&(WL=n.toLowerCase().replace(/_/g,"-"))}var QL=(n,e,t)=>{};function Qe(n,e,t,r){let i=Ne(),o=Ct(),s=qt();return NT(o,i,i[ot],s,n,e,r),Qe}function YL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Lh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function NT(n,e,t,r,i,o,s){let a=hf(r),d=n.firstCreatePass&&hT(n),p=e[Jt],g=dT(e),_=!0;if(r.type&3||s){let O=Tn(r,e),N=s?s(O):O,V=g.length,W=s?Z=>s(pr(Z[r.index])):r.index,z=null;if(!s&&a&&(z=YL(n,e,i,r.index)),z!==null){let Z=z.__ngLastListenerFn__||z;Z.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,_=!1}else{o=CC(r,e,p,o),QL(O,i,o);let Z=t.listen(N,i,o);g.push(o,Z),d&&d.push(i,W,V,V+1)}}else o=CC(r,e,p,o);let E=r.outputs,M;if(_&&E!==null&&(M=E[i])){let O=M.length;if(O)for(let N=0;N<O;N+=2){let V=M[N],W=M[N+1],ge=e[V][W].subscribe(o),J=g.length;g.push(o,ge),d&&d.push(i,r.index,J,-(J+1))}}}function bC(n,e,t,r){let i=Se(null);try{return ur(6,e,t),t(r)!==!1}catch(o){return fT(n,o),!1}finally{ur(7,e,t),Se(i)}}function CC(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?no(n.index,e):e;Gv(s,5);let a=bC(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=bC(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ba(n=1){return bO(n)}function Zv(n,e,t){return PT(n,"",e,"",t),Zv}function PT(n,e,t,r,i){let o=Ne(),s=ST(o,e,t,r);if(s!==io){let a=Ct(),u=gf();jv(a,u,o,n,s,o[ot],i,!1)}return PT}function yr(n,e,t){nL(n,e,t)}function qn(n){let e=Ne(),t=Ct(),r=gD();wv(r+1);let i=Kv(t,r);if(n.dirty&&iO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=oL(e,r);n.reset(o,YO),n.notifyOnChanges()}return!0}return!1}function zn(){return eL(Ne(),gD())}function q(n,e=""){let t=Ne(),r=Ct(),i=n+fr,o=r.firstCreatePass?ku(r,i,1,e,null):r.data[i],s=ZL(r,t,o,e,n);t[i]=s,mf()&&Ef(r,t,s,o),hs(o,!1)}var ZL=(n,e,t,r,i)=>(yf(!0),v1(e[ot],r));function Jv(n){return xf("",n,""),Jv}function xf(n,e,t){let r=Ne(),i=ST(r,n,e,t);return i!==io&&uF(r,fs(),i),xf}function Mf(n,e,t){DT(e)&&(e=e());let r=Ne(),i=Nu();if(ja(r,i,e)){let o=Ct(),s=gf();jv(o,s,r,n,e,r[ot],t,!1)}return Mf}function Xv(n,e){let t=DT(n);return t&&n.set(e),t}function Nf(n,e){let t=Ne(),r=Ct(),i=qt();return NT(r,t,t[ot],i,n,e),Nf}function JL(n,e,t){let r=Ct();if(r.firstCreatePass){let i=Ji(n);tv(t,r.data,r.blueprint,i,!0),tv(e,r.data,r.blueprint,i,!1)}}function tv(n,e,t,r,i){if(n=Yt(n),Array.isArray(n))for(let o=0;o<n.length;o++)tv(n[o],e,t,r,i);else{let o=Ct(),s=Ne(),a=qt(),u=Sa(n)?n:Yt(n.provide),d=JC(n),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Sa(n)||!n.multi){let E=new as(d,i,ne),M=sy(u,e,i?p:p+_,g);M===-1?(Ey($h(a,s),o,u),oy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)):(t[M]=E,s[M]=E)}else{let E=sy(u,e,p+_,g),M=sy(u,e,p,p+_),O=E>=0&&t[E],N=M>=0&&t[M];if(i&&!N||!i&&!O){Ey($h(a,s),o,u);let V=tV(i?eV:XL,t.length,i,r,d);!i&&N&&(t[M].providerFactory=V),oy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=kT(t[i?M:E],d,!i&&r);oy(o,n,E>-1?E:M,V)}!i&&r&&N&&t[M].componentProviders++}}}function oy(n,e,t,r){let i=Sa(e),o=qk(e);if(i||o){let u=(o?Yt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function kT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function XL(n,e,t,r){return nv(this.multi,[])}function eV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=cs(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),nv(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],nv(i,o);return o}function nv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function tV(n,e,t,r,i){let o=new as(n,t,ne);return o.multi=[],o.index=e,o.componentProviders=0,kT(o,i,r&&!t),o}function gs(n,e=[]){return t=>{t.providersResolver=(r,i)=>JL(r,i?i(n):n,e)}}var nV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=QC(!1,t.type),i=r.length>0?Tf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(ee(Xt))})}}return n})();function mt(n){so("NgStandalone"),n.getStandaloneInjector=e=>e.get(nV).getOrCreateStandaloneInjector(n)}function ew(n,e,t){let r=gO()+n,i=Ne();return i[r]===io?mL(i,r,t?e.call(t):e()):yL(i,r)}var Wr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},OT=new Wr("18.2.10");var Pf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var FT=new K("");function ms(n){return!!n&&typeof n.then=="function"}function LT(n){return!!n&&typeof n.subscribe=="function"}var kf=new K(""),VT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=j(kf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ms(o))t.push(o);else if(LT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ou=new K("");function rV(){h0(()=>{throw new X(600,!1)})}function iV(n){return n.isBoundToModule}var oV=10;function sV(n,e,t){try{let r=t();return ms(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ao=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(KO),this.afterRenderManager=j(AT),this.zonelessEnabled=j(Df),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Rt,this.afterTick=new Rt,this.componentTypes=[],this.components=[],this.isStable=j(ro).hasPendingTasks.pipe(he(t=>!t)),this._injector=j(Xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Yh;if(!this._injector.get(VT).done){let _=!i&&zC(t),E=!1;throw new X(405,E)}let s;i?s=t:s=this._injector.get(Na).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=iV(s)?void 0:this._injector.get(to),u=r||s.selector,d=s.create(bt.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(FT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Mh(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new X(101,!1);let t=Se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Se(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Pa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<oV;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)aV(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ff(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ou,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aV(n,e,t,r){if(!t&&!ff(n))return;mT(n,e,t&&!r?0:1)}var rv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Of=(()=>{class n{compileModuleSync(t){return new qy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=GC(t),o=GD(i.declarations).reduce((s,a)=>{let u=Zi(a);return u&&s.push(new ka(u)),s},[]);return new rv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cV=(()=>{class n{constructor(){this.zone=j(Me),this.changeDetectionScheduler=j(Ma),this.applicationRef=j(ao)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uV=new K("",{factory:()=>!1});function UT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Me(be(H({},BT()),{scheduleInRootZone:t})),[{provide:Me,useFactory:n},{provide:Aa,multi:!0,useFactory:()=>{let r=j(cV,{optional:!0});return()=>r.initialize()}},{provide:Aa,multi:!0,useFactory:()=>{let r=j(lV);return()=>{r.initialize()}}},e===!0?{provide:_T,useValue:!0}:[],{provide:ET,useValue:t??PD}]}function jT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=UT({ngZoneFactory:()=>{let i=BT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&so("NgZone_CoalesceEvent"),new Me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return an([{provide:uV,useValue:!0},{provide:Df,useValue:!1},r])}function BT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lV=(()=>{class n{constructor(){this.subscription=new tt,this.initialized=!1,this.zone=j(Me),this.pendingTasks=j(ro)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dV=(()=>{class n{constructor(){this.appRef=j(ao),this.taskService=j(ro),this.ngZone=j(Me),this.zonelessEnabled=j(Df),this.disableScheduling=j(_T,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new tt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(ET,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ty||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?iC:kD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hV(){return typeof $localize<"u"&&$localize.locale||nf}var tw=new K("",{providedIn:"root",factory:()=>j(tw,ve.Optional|ve.SkipSelf)||hV()});var iv=new K("");function Th(n){return!n.moduleRef}function fV(n){let e=Th(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Me);return t.run(()=>{Th(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(zr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Th(n)){let o=()=>e.destroy(),s=n.platformInjector.get(iv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(iv);s.add(o),n.moduleRef.onDestroy(()=>{Mh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return sV(r,t,()=>{let o=e.get(VT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(tw,nf);if(KL(s||nf),Th(n)){let a=e.get(ao);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return pV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function pV(n,e){let t=n.injector.get(ao);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new X(-403,!1);e.push(n)}var Nh=null;function gV(n=[],e){return bt.create({name:e,providers:[{provide:uf,useValue:"platform"},{provide:iv,useValue:new Set([()=>Nh=null])},...n]})}function mV(n=[]){if(Nh)return Nh;let e=gV(n);return Nh=e,rV(),yV(e),e}function yV(n){n.get(Sv,null)?.forEach(t=>t())}var ys=(()=>{class n{static{this.__NG_ELEMENT_ID__=vV}}return n})();function vV(n){return wV(qt(),Ne(),(n&16)===16)}function wV(n,e,t){if(df(n)&&!t){let r=no(n.index,e);return new us(r,r)}else if(n.type&175){let r=e[Un];return new us(r,e)}return null}var ov=class{constructor(){}supports(e){return TT(e)}create(e){return new sv(e)}},_V=(n,e)=>e,sv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_V}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<DC(r,i,o)?t:r,a=DC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let E=_<o.length?o[_]:o[_]=0,M=E+_;p<=M&&M<d&&(o[_]=E+1)}let g=s.previousIndex;o[g]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!TT(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,pL(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new av(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new rf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},av=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},rf=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new cv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function TC(){return new nw([new ov])}var nw=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:TC})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TC()),deps:[[n,new lv,new st]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new X(901,!1)}}return n})();function $T(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=mV(r),o=[UT({}),{provide:Ma,useExisting:dV},...t||[]],s=new Xh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return fV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function vs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $a(n,e){so("NgSignals");let t=u0(n);return e?.equal&&(t[jr].equal=e.equal),t}function vr(n){let e=Se(null);try{return n()}finally{Se(e)}}function HT(n){let e=Zi(n);if(!e)return null;let t=new ka(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var KT=null;function Xr(){return KT}function QT(n){KT??=n}var Ff=class{};var Gt=new K(""),aw=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(IV),providedIn:"platform"})}}return n})(),YT=new K(""),IV=(()=>{class n extends aw{constructor(){super(),this._doc=j(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xr().getBaseHref(this._doc)}onPopState(t){let r=Xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function cw(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function qT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Jr(n){return n&&n[0]!=="?"?"?"+n:n}var ei=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(uw),providedIn:"root"})}}return n})(),ZT=new K(""),uw=(()=>{class n extends ei{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cw(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(aw),ee(ZT,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JT=(()=>{class n extends ei{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=cw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(aw),ee(ZT,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),qa=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=DV(qT(zT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jr(r))}normalize(t){return n.stripTrailingSlash(CV(this._basePath,zT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Jr}static{this.joinWithSlash=cw}static{this.stripTrailingSlash=qT}static{this.\u0275fac=function(r){return new(r||n)(ee(ei))}}static{this.\u0275prov=Y({token:n,factory:()=>bV(),providedIn:"root"})}}return n})();function bV(){return new qa(ee(ei))}function CV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zT(n){return n.replace(/\/index.html$/,"")}function DV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Lf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rw=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},XT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new rw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),GT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);GT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ne(oo),ne(ls),ne(nw))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function GT(n,e){n.context.$implicit=e.item}var za=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new iw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ne(oo),ne(ls))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),iw=class{constructor(){this.$implicit=null,this.ngIf=null}};function WT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Zt(e)}'.`)}var Gn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mr({type:n})}static{this.\u0275inj=gr({})}}return n})(),lw="browser",TV="server";function AV(n){return n===lw}function Vf(n){return n===TV}var eA=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>AV(j(An))?new ow(j(Gt),window):new sw})}}return n})(),ow=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=SV(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function SV(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ha=class{};var Vu=class{},jf=class{},ti=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var hw=class{encodeKey(e){return tA(e)}encodeValue(e){return tA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function RV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var xV=/%(\d[a-f0-9])/gi,MV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tA(n){return encodeURIComponent(n).replace(xV,(e,t)=>MV[t]??e)}function Uf(n){return`${n}`}var uo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=RV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Uf):[Uf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Uf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Uf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var fw=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function NV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rA(n){return typeof Blob<"u"&&n instanceof Blob}function iA(n){return typeof FormData<"u"&&n instanceof FormData}function PV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Lu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(NV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ti,this.context??=new fw,!this.params)this.params=new uo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nA(this.body)||rA(this.body)||iA(this.body)||PV(this.body)?this.body:this.body instanceof uo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||iA(this.body)?null:rA(this.body)?this.body.type||null:nA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof uo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,E)=>_.set(E,e.setHeaders[E]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,E)=>_.set(E,e.setParams[E]),p)),new n(t,r,s,{params:p,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},lo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lo||{}),Uu=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ti,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Bf=class n extends Uu{constructor(e={}){super(e),this.type=lo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ju=class n extends Uu{constructor(e={}){super(e),this.type=lo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},co=class extends Uu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cA=200,kV=204;function dw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var OV=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Lu)o=t;else{let u;i.headers instanceof ti?u=i.headers:u=new ti(i.headers);let d;i.params&&(i.params instanceof uo?d=i.params:d=new uo({fromObject:i.params})),o=new Lu(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=se(o).pipe($r(u=>this.handler.handle(u)));if(t instanceof Lu||i.observe==="events")return s;let a=s.pipe(on(u=>u instanceof ju));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(he(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(he(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(he(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new uo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,dw(i,r))}post(t,r,i={}){return this.request("POST",t,dw(i,r))}put(t,r,i={}){return this.request("PUT",t,dw(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ee(Vu))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),FV=/^\)\]\}',?\n/,LV="X-Request-URL";function oA(n){if(n.url)return n.url;let e=LV.toLocaleLowerCase();return n.headers.get(e)}var VV=(()=>{class n{constructor(){this.fetchImpl=j(pw,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=j(Me)}handle(t){return new Ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(gw,o=>r.error(new co({error:o}))),()=>i.abort()})}doRequest(t,r,i){return b(this,null,function*(){let o=this.createRequestInit(t),s;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,H({signal:r},o)));UV(E),i.next({type:lo.Sent}),s=yield E}catch(E){i.error(new co({error:E,status:E.status??0,statusText:E.statusText,url:t.urlWithParams,headers:E.headers}));return}let a=new ti(s.headers),u=s.statusText,d=oA(s)??t.urlWithParams,p=s.status,g=null;if(t.reportProgress&&i.next(new Bf({headers:a,status:p,statusText:u,url:d})),s.body){let E=s.headers.get("content-length"),M=[],O=s.body.getReader(),N=0,V,W,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>b(this,null,function*(){for(;;){let{done:ge,value:J}=yield O.read();if(ge)break;if(M.push(J),N+=J.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(V??=new TextDecoder).decode(J,{stream:!0}):void 0;let T=()=>i.next({type:lo.DownloadProgress,total:E?+E:void 0,loaded:N,partialText:W});z?z.run(T):T()}}}));let Z=this.concatChunks(M,N);try{let ge=s.headers.get("Content-Type")??"";g=this.parseBody(t,Z,ge)}catch(ge){i.error(new co({error:ge,headers:new ti(s.headers),status:s.status,statusText:s.statusText,url:oA(s)??t.urlWithParams}));return}}p===0&&(p=g?cA:0),p>=200&&p<300?(i.next(new ju({body:g,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new co({error:g,headers:a,status:p,statusText:u,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(FV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),pw=class{};function gw(){}function UV(n){n.then(gw,gw)}function jV(n,e){return e(n)}function BV(n,e,t){return(r,i)=>Dn(t,()=>e(r,o=>n(o,i)))}var uA=new K(""),$V=new K(""),HV=new K("",{providedIn:"root",factory:()=>!0});var sA=(()=>{class n extends Vu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=j(ro),this.contributeToStability=j(HV)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uA),...this.injector.get($V,[])]));this.chain=r.reduceRight((i,o)=>BV(i,o,this.injector),jV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ts(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(ee(jf),ee(Xt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();var qV=/^\)\]\}',?\n/;function zV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var aA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ke(r.\u0275loadImpl()):se(null)).pipe(sn(()=>new Ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((O,N)=>s.setRequestHeader(O,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let O=t.detectContentTypeHeader();O!==null&&s.setRequestHeader("Content-Type",O)}if(t.responseType){let O=t.responseType.toLowerCase();s.responseType=O!=="json"?O:"text"}let a=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let O=s.statusText||"OK",N=new ti(s.getAllResponseHeaders()),V=zV(s)||t.url;return u=new Bf({headers:N,status:s.status,statusText:O,url:V}),u},p=()=>{let{headers:O,status:N,statusText:V,url:W}=d(),z=null;N!==kV&&(z=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=z?cA:0);let Z=N>=200&&N<300;if(t.responseType==="json"&&typeof z=="string"){let ge=z;z=z.replace(qV,"");try{z=z!==""?JSON.parse(z):null}catch(J){z=ge,Z&&(Z=!1,z={error:J,text:z})}}Z?(o.next(new ju({body:z,headers:O,status:N,statusText:V,url:W||void 0})),o.complete()):o.error(new co({error:z,headers:O,status:N,statusText:V,url:W||void 0}))},g=O=>{let{url:N}=d(),V=new co({error:O,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(V)},_=!1,E=O=>{_||(o.next(d()),_=!0);let N={type:lo.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},M=O=>{let N={type:lo.UploadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),o.next(N)};return s.addEventListener("load",p),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(a),o.next({type:lo.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",p),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ee(Ha))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),lA=new K(""),GV="XSRF-TOKEN",WV=new K("",{providedIn:"root",factory:()=>GV}),KV="X-XSRF-TOKEN",QV=new K("",{providedIn:"root",factory:()=>KV}),$f=class{},YV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ee(Gt),ee(An),ee(WV))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function ZV(n,e){let t=n.url.toLowerCase();if(!j(lA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=j($f).getToken(),i=j(QV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function dA(...n){let e=[OV,aA,sA,{provide:Vu,useExisting:sA},{provide:jf,useFactory:()=>j(VV,{optional:!0})??j(aA)},{provide:uA,useValue:ZV,multi:!0},{provide:lA,useValue:!0},{provide:$f,useClass:YV}];for(let t of n)e.push(...t.\u0275providers);return an(e)}var vw=class extends Ff{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ww=class n extends vw{static makeCurrent(){QT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=JV();return t==null?null:XV(t)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lf(document.cookie,e)}},Bu=null;function JV(){return Bu=Bu||document.querySelector("base"),Bu?Bu.getAttribute("href"):null}function XV(n){return new URL(n,document.baseURI).pathname}var e2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),_w=new K(""),gA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ee(_w),ee(Me))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),Hf=class{constructor(e){this._doc=e}},mw="ng-app-id",mA=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vf(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${mw}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(mw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(mw,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ee(Gt),ee(Av),ee(Rv,8),ee(An))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),yw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iw=/%COMP%/g,yA="%COMP%",t2=`_nghost-${yA}`,n2=`_ngcontent-${yA}`,r2=!0,i2=new K("",{providedIn:"root",factory:()=>r2});function o2(n){return n2.replace(Iw,n)}function s2(n){return t2.replace(Iw,n)}function vA(n,e){return e.map(t=>t.replace(Iw,n))}var hA=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Vf(a),this.defaultRenderer=new $u(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===dr.ShadowDom&&(r=be(H({},r),{encapsulation:dr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof qf?i.applyToHost(t):i instanceof Hu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case dr.Emulated:o=new qf(u,d,r,this.appId,p,s,a,g);break;case dr.ShadowDom:return new Ew(u,d,t,r,s,a,this.nonce,g);default:o=new Hu(u,d,r,p,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ee(gA),ee(mA),ee(Av),ee(i2),ee(Gt),ee(An),ee(Me),ee(Rv))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),$u=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(yw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=yw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=yw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gr.DashCase|Gr.Important)?e.style.setProperty(t,r,i&Gr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Xr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function fA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ew=class extends $u{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=vA(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hu=class extends $u{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?vA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qf=class extends Hu{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=o2(d),this.hostAttr=s2(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},a2=(()=>{class n extends Hf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ee(Gt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),pA=["alt","control","meta","shift"],c2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},l2=(()=>{class n extends Hf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pA.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=c2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pA.forEach(s=>{if(s!==i){let a=u2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ee(Gt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function wA(n,e){return $T(H({rootComponent:n},d2(e)))}function d2(n){return{appProviders:[...m2,...n?.providers??[]],platformProviders:g2}}function h2(){ww.makeCurrent()}function f2(){return new zr}function p2(){return BD(document),document}var g2=[{provide:An,useValue:lw},{provide:Sv,useValue:h2,multi:!0},{provide:Gt,useFactory:p2,deps:[]}];var m2=[{provide:uf,useValue:"root"},{provide:zr,useFactory:f2,deps:[]},{provide:_w,useClass:a2,multi:!0,deps:[Gt,Me,An]},{provide:_w,useClass:l2,multi:!0,deps:[Gt]},hA,mA,gA,{provide:Pa,useExisting:hA},{provide:Ha,useClass:e2,deps:[]},[]];var _A=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ee(Gt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pe="primary",il=Symbol("RouteTitle"),Aw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Za(n){return new Aw(n)}function v2(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function w2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wr(n[t],e[t]))return!1;return!0}function wr(n,e){let t=n?Sw(n):void 0,r=e?Sw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!MA(n[i],e[i]))return!1;return!0}function Sw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function NA(n){return n.length>0?n[n.length-1]:null}function po(n){return jm(n)?n:ms(n)?Ke(Promise.resolve(n)):se(n)}var _2={exact:kA,subset:OA},PA={exact:E2,subset:I2,ignored:()=>!0};function EA(n,e,t){return _2[t.paths](n.root,e.root,t.matrixParams)&&PA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function E2(n,e){return wr(n,e)}function kA(n,e,t){if(!_s(n.segments,e.segments)||!Wf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!kA(n.children[r],e.children[r],t))return!1;return!0}function I2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MA(n[t],e[t]))}function OA(n,e,t){return FA(n,e,e.segments,t)}function FA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!_s(i,t)||e.hasChildren()||!Wf(i,t,r))}else if(n.segments.length===t.length){if(!_s(n.segments,t)||!Wf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!OA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!_s(n.segments,i)||!Wf(n.segments,i,r)||!n.children[pe]?!1:FA(n.children[pe],e,o,r)}}function Wf(n,e,t){return e.every((r,i)=>PA[t](n[i].parameters,r.parameters))}var ri=class{constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){return D2.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kf(this)}},ws=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Za(this.parameters),this._parameterMap}toString(){return VA(this)}};function b2(n,e){return _s(n,e)&&n.every((t,r)=>wr(t.parameters,e[r].parameters))}function _s(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function C2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var ol=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new Ja,providedIn:"root"})}}return n})(),Ja=class{parse(e){let t=new xw(e);return new ri(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qu(e.root,!0)}`,r=S2(e.queryParams),i=typeof e.fragment=="string"?`#${T2(e.fragment)}`:"";return`${t}${r}${i}`}},D2=new Ja;function Kf(n){return n.segments.map(e=>VA(e)).join("/")}function qu(n,e){if(!n.hasChildren())return Kf(n);if(e){let t=n.children[pe]?qu(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${qu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=C2(n,(r,i)=>i===pe?[qu(n.children[pe],!1)]:[`${i}:${qu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${Kf(n)}/${t[0]}`:`${Kf(n)}/(${t.join("//")})`}}function LA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zf(n){return LA(n).replace(/%3B/gi,";")}function T2(n){return encodeURI(n)}function Rw(n){return LA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qf(n){return decodeURIComponent(n)}function IA(n){return Qf(n.replace(/\+/g,"%20"))}function VA(n){return`${Rw(n.path)}${A2(n.parameters)}`}function A2(n){return Object.entries(n).map(([e,t])=>`;${Rw(e)}=${Rw(t)}`).join("")}function S2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${zf(t)}=${zf(i)}`).join("&"):`${zf(t)}=${zf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var R2=/^[^\/()?;#]+/;function bw(n){let e=n.match(R2);return e?e[0]:""}var x2=/^[^\/()?;=#]+/;function M2(n){let e=n.match(x2);return e?e[0]:""}var N2=/^[^=?&#]+/;function P2(n){let e=n.match(N2);return e?e[0]:""}var k2=/^[^&#]+/;function O2(n){let e=n.match(k2);return e?e[0]:""}var xw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Ue(e,t)),r}parseSegment(){let e=bw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new ws(Qf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=M2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=bw(this.remaining);i&&(r=i,this.capture(r))}e[Qf(t)]=Qf(r)}parseQueryParam(e){let t=P2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=O2(this.remaining);s&&(r=s,this.capture(r))}let i=IA(t),o=IA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[pe]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function UA(n){return n.segments.length>0?new Ue([],{[pe]:n}):n}function jA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=jA(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return F2(t)}function F2(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Es(n){return n instanceof ri}function L2(n,e,t=null,r=null){let i=BA(n);return $A(i,e,t,r)}function BA(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=UA(r);return e??i}function $A(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Cw(i,i,i,t,r);let o=V2(e);if(o.toRoot())return Cw(i,i,new Ue([],{}),t,r);let s=U2(o,i,n),a=s.processChildren?Wu(s.segmentGroup,s.index,o.commands):qA(s.segmentGroup,s.index,o.commands);return Cw(i,s.segmentGroup,a,t,r)}function Yf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yu(n){return typeof n=="object"&&n!=null&&n.outlets}function Cw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=HA(n,e,t);let a=UA(jA(s));return new ri(a,o,i)}function HA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=HA(o,e,t)}),new Ue(n.segments,r)}var Zf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yf(r[0]))throw new X(4003,!1);let i=r.find(Yu);if(i&&i!==NA(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function V2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Zf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zf(t,e,r)}var Ka=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function U2(n,e,t){if(n.isAbsolute)return new Ka(e,!0,0);if(!t)return new Ka(e,!1,NaN);if(t.parent===null)return new Ka(t,!0,0);let r=Yf(n.commands[0])?0:1,i=t.segments.length-1+r;return j2(t,i,n.numberOfDoubleDots)}function j2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Ka(r,!1,i-o)}function B2(n){return Yu(n[0])?n[0].outlets:{[pe]:n}}function qA(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Wu(n,e,t);let r=$2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ue(n.segments.slice(r.pathIndex),n.children),Wu(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?Mw(n,e,t):r.match?Wu(n,0,i):Mw(n,e,t)}function Wu(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=B2(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Wu(n.children[pe],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function $2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Yu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!CA(u,d,s))return o;r+=2}else{if(!CA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Yu(o)){let u=H2(o.outlets);return new Ue(r,u)}if(i===0&&Yf(t[0])){let u=n.segments[e];r.push(new ws(u.path,bA(t[0]))),i++;continue}let s=Yu(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Yf(a)?(r.push(new ws(s,bA(a))),i+=2):(r.push(new ws(s,{})),i++)}return new Ue(r,{})}function H2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Mw(new Ue([],{}),0,r))}),e}function bA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CA(n,e,t){return n==t.path&&wr(e,t.parameters)}var Ku="imperative",Mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Mt||{}),Sn=class{constructor(e,t){this.id=e,this.url=t}},Xa=class extends Sn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Mt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends Sn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(mn||{}),Jf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Jf||{}),ni=class extends Sn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ho=class extends Sn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Mt.NavigationSkipped}},Zu=class extends Sn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xf=class extends Sn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nw=class extends Sn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pw=class extends Sn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kw=class extends Sn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ow=class extends Sn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fw=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lw=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vw=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uw=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jw=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bw=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ep=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ju=class{},ec=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function q2(n,e){return n.providers&&!n._injector&&(n._injector=Tf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wn(n){return n.outlet||pe}function z2(n,e){let t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function sl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $w=class{get injector(){return sl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new al(this.rootInjector),this.attachRef=null}},al=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $w(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ee(Xt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Hw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Hw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=qw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qw(e,this._root).map(t=>t.value)}};function Hw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Hw(n,t);if(r)return r}return null}function qw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=qw(n,t);if(r.length)return r.unshift(e),r}return[]}var gn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var np=class extends tp{constructor(e,t){super(e),this.snapshot=t,Xw(this,e)}toString(){return this.snapshot.toString()}};function zA(n){let e=G2(n),t=new Lt([new ws("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new fo(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new np(new gn(a,[]),e)}function G2(n){let e={},t={},r={},i="",o=new Qa([],e,r,i,t,pe,n,null,{});return new ip("",new gn(o,[]))}var fo=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(he(d=>d[il]))??se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>Za(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>Za(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:H(H({},e.params),n.params),data:H(H({},e.data),n.data),resolve:H(H(H(H({},n.data),e.data),i?.data),n._resolvedData)}:r={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},i&&WA(i)&&(r.resolve[il]=i.title),r}var Qa=class{get title(){return this.data?.[il]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Za(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Za(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ip=class extends tp{constructor(e,t){super(t),this.url=e,Xw(this,t)}toString(){return GA(this._root)}};function Xw(n,e){e.value._routerState=n,e.children.forEach(t=>Xw(n,t))}function GA(n){let e=n.children.length>0?` { ${n.children.map(GA).join(", ")} } `:"";return`${n.value}${e}`}function Dw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),wr(e.params,t.params)||n.paramsSubject.next(t.params),w2(e.url,t.url)||n.urlSubject.next(t.url),wr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zw(n,e){let t=wr(n.params,e.params)&&b2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||zw(n.parent,e.parent))}function WA(n){return typeof n.title=="string"||n.title===null}var e_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=j(al),this.location=j(oo),this.changeDetector=j(ys),this.inputBinder=j(cp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Gw(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zr]})}}return n})(),Gw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fo?this.route:e===al?this.childContexts:this.parent.get(e,t)}},cp=new K(""),DA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=wu([r.queryParams,r.params,r.data]).pipe(sn(([o,s,a],u)=>(a=H(H(H({},o),s),a),u===0?se(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=HT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function W2(n,e,t){let r=Xu(n,e._root,t?t._root:void 0);return new np(r,e)}function Xu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=K2(n,e,t);return new gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xu(n,a)),s}}let r=Q2(e.value),i=e.children.map(o=>Xu(n,o));return new gn(r,i)}}function K2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xu(n,r,i);return Xu(n,r)})}function Q2(n){return new fo(new Lt(n.url),new Lt(n.params),new Lt(n.queryParams),new Lt(n.fragment),new Lt(n.data),n.outlet,n.component,n)}var el=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},KA="ngNavigationCancelingError";function op(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QA(!1,mn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function QA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[KA]=!0,t.cancellationCode=e,t}function Y2(n){return YA(n)&&Es(n.url)}function YA(n){return!!n&&n[KA]}var Z2=(n,e,t,r)=>he(i=>(new Ww(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ww=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Uw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Dw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},sp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ya=class{constructor(e,t){this.component=e,this.route=t}};function J2(n,e,t){let r=n._root,i=e?e._root:null;return zu(r,i,t,[r.value])}function X2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xC(n)?n:e.get(n):r}function zu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wa(e);return n.children.forEach(s=>{eU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qu(a,t.getContext(s),i)),i}function eU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=tU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zu(n,e,a?a.children:null,r,i):zu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ya(a.outlet.component,s))}else s&&Qu(e,a,i),i.canActivateChecks.push(new sp(r)),o.component?zu(n,null,a?a.children:null,r,i):zu(n,null,t,r,i);return i}function tU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!_s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(n.url,e.url)||!wr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zw(n,e)||!wr(n.queryParams,e.queryParams);case"paramsChange":default:return!zw(n,e)}}function Qu(n,e,t){let r=Wa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qu(s,e.children.getContext(o),t):Qu(s,null,t):Qu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ya(e.outlet.component,i)):t.canDeactivateChecks.push(new Ya(null,i)):t.canDeactivateChecks.push(new Ya(null,i))}function cl(n){return typeof n=="function"}function nU(n){return typeof n=="boolean"}function rU(n){return n&&cl(n.canLoad)}function iU(n){return n&&cl(n.canActivate)}function oU(n){return n&&cl(n.canActivateChild)}function sU(n){return n&&cl(n.canDeactivate)}function aU(n){return n&&cl(n.canMatch)}function ZA(n){return n instanceof Br||n?.name==="EmptyError"}var Gf=Symbol("INITIAL_VALUE");function tc(){return sn(n=>wu(n.map(e=>e.pipe(Hr(1),zm(Gf)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===Gf)return Gf;if(t===!1||cU(t))return t}return!0}),on(e=>e!==Gf),Hr(1)))}function cU(n){return Es(n)||n instanceof el}function uU(n,e){return ft(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?se(be(H({},t),{guardsResult:!0})):lU(s,r,i,n).pipe(ft(a=>a&&nU(a)?dU(r,o,n,e):se(a)),he(a=>be(H({},t),{guardsResult:a})))})}function lU(n,e,t,r){return Ke(n).pipe(ft(i=>mU(i.component,i.route,t,e,r)),cr(i=>i!==!0,!0))}function dU(n,e,t,r){return Ke(e).pipe($r(i=>ya(fU(i.route.parent,r),hU(i.route,r),gU(n,i.path,t),pU(n,i.route,t))),cr(i=>i!==!0,!0))}function hU(n,e){return n!==null&&e&&e(new jw(n)),se(!0)}function fU(n,e){return n!==null&&e&&e(new Vw(n)),se(!0)}function pU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>_h(()=>{let s=sl(e)??t,a=nc(o,s),u=iU(a)?a.canActivate(e,n):Dn(s,()=>a(e,n));return po(u).pipe(cr())}));return se(i).pipe(tc())}function gU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>X2(s)).filter(s=>s!==null).map(s=>_h(()=>{let a=s.guards.map(u=>{let d=sl(s.node)??t,p=nc(u,d),g=oU(p)?p.canActivateChild(r,n):Dn(d,()=>p(r,n));return po(g).pipe(cr())});return se(a).pipe(tc())}));return se(o).pipe(tc())}function mU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let u=sl(e)??i,d=nc(a,u),p=sU(d)?d.canDeactivate(n,e,t,r):Dn(u,()=>d(n,e,t,r));return po(p).pipe(cr())});return se(s).pipe(tc())}function yU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=nc(s,n),u=rU(a)?a.canLoad(e,t):Dn(n,()=>a(e,t));return po(u)});return se(o).pipe(tc(),JA(r))}function JA(n){return Nm(pt(e=>{if(typeof e!="boolean")throw op(n,e)}),he(e=>e===!0))}function vU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=nc(s,n),u=aU(a)?a.canMatch(e,t):Dn(n,()=>a(e,t));return po(u)});return se(o).pipe(tc(),JA(r))}var tl=class{constructor(e){this.segmentGroup=e||null}},nl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ga(n){return ga(new tl(n))}function wU(n){return ga(new X(4e3,!1))}function _U(n){return ga(QA(!1,mn.GuardRejected))}var Kw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[pe])return wU(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:E,data:M,title:O}=i,N=Dn(o,()=>a({params:E,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(N instanceof ri)throw new nl(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new nl(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ri(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Qw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EU(n,e,t,r,i){let o=XA(n,e,t);return o.matched?(r=q2(e,r),vU(r,e,t,i).pipe(he(s=>s===!0?o:H({},Qw)))):se(o)}function XA(n,e,t){if(e.path==="**")return IU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?H({},Qw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||v2)(t,n,e);if(!i)return H({},Qw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?H(H({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function IU(n){return{matched:!0,parameters:n.length>0?NA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function TA(n,e,t,r){return t.length>0&&DU(n,t,r)?{segmentGroup:new Ue(e,CU(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&TU(n,t,r)?{segmentGroup:new Ue(n.segments,bU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function bU(n,e,t,r){let i={};for(let o of t)if(up(n,e,o)&&!r[Wn(o)]){let s=new Ue([],{});i[Wn(o)]=s}return H(H({},r),i)}function CU(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&Wn(r)!==pe){let i=new Ue([],{});t[Wn(r)]=i}return t}function DU(n,e,t){return t.some(r=>up(n,e,r)&&Wn(r)!==pe)}function TU(n,e,t){return t.some(r=>up(n,e,r))}function up(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function AU(n,e,t){return e.length===0&&!n.children[t]}var Yw=class{};function SU(n,e,t,r,i,o,s="emptyOnly"){return new Zw(n,e,t,r,i,s,o).recognize()}var RU=31,Zw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=TA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new gn(r,t),o=new ip("",i),s=L2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Qa([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(he(r=>({children:r,rootSnapshot:t})),zi(r=>{if(r instanceof nl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof tl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(he(s=>s instanceof gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ke(o).pipe($r(s=>{let a=r.children[s],u=z2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),qm((s,a)=>(s.push(...a),s)),Gi(null),Hm(),ft(s=>{if(s===null)return Ga(r);let a=eS(s);return xU(a),se(a)}))}processSegment(e,t,r,i,o,s,a){return Ke(t).pipe($r(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(zi(d=>{if(d instanceof tl)return se(null);throw d}))),cr(u=>!!u),zi(u=>{if(ZA(u))return AU(r,i,o)?se(new Yw):Ga(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Wn(r)!==s&&(s===pe||!up(i,o,r))?Ga(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ga(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=XA(t,i,o);if(!u)return Ga(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RU&&(this.allowRedirects=!1));let E=new Qa(o,d,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,AA(i),Wn(i),i.component??i._loadedComponent??null,i,SA(i)),M=rp(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(ft(N=>this.processSegment(e,r,t,N.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=EU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(sn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,M=new Qa(_,g,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,AA(r),Wn(r),r.component??r._loadedComponent??null,r,SA(r)),O=rp(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:V}=TA(t,_,E,d);if(V.length===0&&N.hasChildren())return this.processChildren(p,d,N,M).pipe(he(z=>new gn(M,z)));if(d.length===0&&V.length===0)return se(new gn(M,[]));let W=Wn(r)===o;return this.processSegment(p,d,N,V,W?pe:o,!0,M).pipe(he(z=>new gn(M,z instanceof gn?[z]:[])))}))):Ga(t)))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):yU(e,t,r,this.urlSerializer).pipe(ft(i=>i?this.configLoader.loadChildren(e,t).pipe(pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):_U(t))):se({routes:[],injector:e})}};function xU(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function MU(n){let e=n.value.routeConfig;return e&&e.path===""}function eS(n){let e=[],t=new Set;for(let r of n){if(!MU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=eS(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function AA(n){return n.data||{}}function SA(n){return n.resolve||{}}function NU(n,e,t,r,i,o){return ft(s=>SU(n,e,t,r,s.extractedUrl,i,o).pipe(he(({state:a,tree:u})=>be(H({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function PU(n,e){return ft(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of tS(u))s.add(d);let a=0;return Ke(s).pipe($r(u=>o.has(u)?kU(u,r,n,e):(u.data=rp(u,u.parent,n).resolve,se(void 0))),pt(()=>a++),va(1),ft(u=>a===s.size?se(t):pn))})}function tS(n){let e=n.children.map(t=>tS(t)).flat();return[n,...e]}function kU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!WA(i)&&(o[il]=i.title),OU(o,n,e,r).pipe(he(s=>(n._resolvedData=s,n.data=rp(n,n.parent,t).resolve,null)))}function OU(n,e,t,r){let i=Sw(n);if(i.length===0)return se({});let o={};return Ke(i).pipe(ft(s=>FU(n[s],e,t,r).pipe(cr(),pt(a=>{if(a instanceof el)throw op(new Ja,a);o[s]=a}))),va(1),$m(o),zi(s=>ZA(s)?pn:ga(s)))}function FU(n,e,t,r){let i=sl(e)??r,o=nc(n,i),s=o.resolve?o.resolve(e,t):Dn(i,()=>o(e,t));return po(s)}function Tw(n){return sn(e=>{let t=n(e);return t?Ke(t).pipe(he(()=>e)):se(e)})}var nS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[il]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(LU),providedIn:"root"})}}return n})(),LU=(()=>{class n extends nS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ee(_A))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ul=new K("",{providedIn:"root",factory:()=>({})}),VU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=gt({type:n,selectors:[["ng-component"]],standalone:!0,features:[mt],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[e_],encapsulation:2})}}return n})();function t_(n){let e=n.children&&n.children.map(t_),t=e?be(H({},n),{children:e}):H({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=VU),t}var rl=new K(""),n_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Of)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=po(t.loadComponent()).pipe(he(rS),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ts(()=>{this.componentLoaders.delete(t)})),i=new da(r,()=>new Rt).pipe(la());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=UU(r,this.compiler,t,this.onLoadEndListener).pipe(ts(()=>{this.childrenLoaders.delete(r)})),s=new da(o,()=>new Rt).pipe(la());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UU(n,e,t,r){return po(n.loadChildren()).pipe(he(rS),ft(i=>i instanceof Su||Array.isArray(i)?se(i):Ke(e.compileModuleAsync(i))),he(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(rl,[],{optional:!0,self:!0}).flat()),{routes:s.map(t_),injector:o}}))}function jU(n){return n&&typeof n=="object"&&"default"in n}function rS(n){return jU(n)?n.default:n}var r_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(BU),providedIn:"root"})}}return n})(),BU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iS=new K(""),oS=new K("");function $U(n,e,t){let r=n.get(oS),i=n.get(Gt);return n.get(Me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),HU(n))),{onViewTransitionCreated:u}=r;return u&&Dn(n,()=>u({transition:a,from:e,to:t})),s})}function HU(n){return new Promise(e=>{Yv({read:()=>setTimeout(e)},{injector:n})})}var qU=new K(""),i_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rt,this.transitionAbortSubject=new Rt,this.configLoader=j(n_),this.environmentInjector=j(Xt),this.urlSerializer=j(ol),this.rootContexts=j(al),this.location=j(qa),this.inputBindingEnabled=j(cp,{optional:!0})!==null,this.titleStrategy=j(nS),this.options=j(ul,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(r_),this.createViewTransition=j(iS,{optional:!0}),this.navigationErrorHandler=j(qU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Fw(i)),r=i=>this.events.next(new Lw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be(H(H({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Lt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ku,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(on(o=>o.id!==0),he(o=>be(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sn(o=>{let s=!1,a=!1;return se(o).pipe(sn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",mn.SupersededByNewNavigation),pn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new ho(u.id,this.urlSerializer.serialize(u.rawUrl),g,Jf.IgnoredSameUrlNavigation)),u.resolve(!1),pn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return se(u).pipe(sn(g=>{let _=this.transitions?.getValue();return this.events.next(new Xa(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?pn:Promise.resolve(g)}),NU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=be(H({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Xf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:E,restoredState:M,extras:O}=u,N=new Xa(g,this.urlSerializer.serialize(_),E,M);this.events.next(N);let V=zA(this.rootComponentType).snapshot;return this.currentTransition=o=be(H({},u),{targetSnapshot:V,urlAfterRedirects:_,extras:be(H({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,se(o)}else{let g="";return this.events.next(new ho(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Jf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),pn}}),pt(u=>{let d=new Nw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),he(u=>(this.currentTransition=o=be(H({},u),{guards:J2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),uU(this.environmentInjector,u=>this.events.next(u)),pt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw op(this.urlSerializer,u.guardsResult);let d=new Pw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),on(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",mn.GuardRejected),!1)),Tw(u=>{if(u.guards.canActivateChecks.length)return se(u).pipe(pt(d=>{let p=new kw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),sn(d=>{let p=!1;return se(d).pipe(PU(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",mn.NoDataFromResolver)}}))}),pt(d=>{let p=new Ow(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Tw(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(pt(_=>{p.component=_}),he(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return wu(d(u.targetSnapshot.root)).pipe(Gi(null),Hr(1))}),Tw(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ke(p).pipe(he(()=>o)):se(o)}),he(u=>{let d=W2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=be(H({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),pt(()=>{this.events.next(new Ju)}),Z2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Hr(1),pt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Gm(this.transitionAbortSubject.pipe(pt(u=>{throw u}))),ts(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",mn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(u=>{if(a=!0,YA(u))this.events.next(new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Y2(u)?this.events.next(new ec(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Zu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof el){let{message:g,cancellationCode:_}=op(this.urlSerializer,p);this.events.next(new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new ec(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return pn}))}))}cancelNavigationTransition(t,r,i){let o=new ni(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zU(n){return n!==Ku}var GU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(WU),providedIn:"root"})}}return n})(),Jw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},WU=(()=>{class n extends Jw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=La(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>j(KU),providedIn:"root"})}}return n})(),KU=(()=>{class n extends sS{constructor(){super(...arguments),this.location=j(qa),this.urlSerializer=j(ol),this.options=j(ul,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(r_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Xa)this.stateMemento=this.createStateMemento();else if(t instanceof ho)this.rawUrlTree=r.initialUrl;else if(t instanceof Xf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ju?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ni&&(t.code===mn.GuardRejected||t.code===mn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Zu?this.restoreHistory(r,!0):t instanceof _r&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ri?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=H(H({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=La(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gu||{});function aS(n,e){n.events.pipe(on(t=>t instanceof _r||t instanceof ni||t instanceof Zu||t instanceof ho),he(t=>t instanceof _r||t instanceof ho?Gu.COMPLETE:(t instanceof ni?t.code===mn.Redirect||t.code===mn.SupersededByNewNavigation:!1)?Gu.REDIRECTING:Gu.FAILED),on(t=>t!==Gu.REDIRECTING),Hr(1)).subscribe(()=>{e()})}function QU(n){throw n}var YU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(Pf),this.stateManager=j(sS),this.options=j(ul,{optional:!0})||{},this.pendingTasks=j(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(i_),this.urlSerializer=j(ol),this.location=j(qa),this.urlHandlingStrategy=j(r_),this._events=new Rt,this.errorHandler=this.options.errorHandler||QU,this.navigated=!1,this.routeReuseStrategy=j(GU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(rl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(cp,{optional:!0}),this.eventsSubscription=new tt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ni&&r.code!==mn.Redirect&&r.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _r)this.navigated=!0;else if(r instanceof ec){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=H({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zU(i.source)},s);this.scheduleNavigation(a,Ku,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}XU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ku,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=H({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(t_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=BA(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return $A(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ku,null,r)}navigate(t,r={skipLocationChange:!1}){return JU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=H({},YU):r===!1?i=H({},ZU):i=r,Es(t))return EA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return EA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return aS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function XU(n){return!(n instanceof Ju)&&!(n instanceof ec)}var rc=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Es(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:qD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Es(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ne(Kn),ne(fo),bv("tabindex"),ne(ps),ne(Bn),ne(ei))}}static{this.\u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Qe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Af("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vs],replaceUrl:[2,"replaceUrl","replaceUrl",vs],routerLink:"routerLink"},standalone:!0,features:[Qv,Zr]})}}return n})();var ap=class{};var ej=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof _r),$r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Tf(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ke(i).pipe(ma())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=se(null);let o=i.pipe(ft(s=>s===null?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ke([o,s]).pipe(ma())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(ee(Kn),ee(Of),ee(Xt),ee(ap),ee(n_))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cS=new K(""),tj=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _r?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ho&&t.code===Jf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ep&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ep(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){nT()}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function uS(n,...e){return an([{provide:rl,multi:!0,useValue:n},[],{provide:fo,useFactory:lS,deps:[Kn]},{provide:Ou,multi:!0,useFactory:dS},e.map(t=>t.\u0275providers)])}function lS(n){return n.routerState.root}function ll(n,e){return{\u0275kind:n,\u0275providers:e}}function dS(){let n=j(bt);return e=>{let t=n.get(ao);if(e!==t.components[0])return;let r=n.get(Kn),i=n.get(hS);n.get(o_)===1&&r.initialNavigation(),n.get(fS,null,ve.Optional)?.setUpPreloading(),n.get(cS,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hS=new K("",{factory:()=>new Rt}),o_=new K("",{providedIn:"root",factory:()=>1});function nj(){return ll(2,[{provide:o_,useValue:0},{provide:kf,multi:!0,deps:[bt],useFactory:e=>{let t=e.get(YT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Kn),o=e.get(hS);aS(i,()=>{r(!0)}),e.get(i_).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))}}])}function rj(){return ll(3,[{provide:kf,multi:!0,useFactory:()=>{let e=j(Kn);return()=>{e.setUpLocationChangeListener()}}},{provide:o_,useValue:2}])}var fS=new K("");function ij(n){return ll(0,[{provide:fS,useExisting:ej},{provide:ap,useExisting:n}])}function oj(){return ll(8,[DA,{provide:cp,useExisting:DA}])}function sj(n){let e=[{provide:iS,useValue:$U},{provide:oS,useValue:H({skipNextTransition:!!n?.skipInitialTransition},n)}];return ll(9,e)}var RA=new K("ROUTER_FORROOT_GUARD"),aj=[qa,{provide:ol,useClass:Ja},Kn,al,{provide:fo,useFactory:lS,deps:[Kn]},n_,[]],ic=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[aj,[],{provide:rl,multi:!0,useValue:t},{provide:RA,useFactory:dj,deps:[[Kn,new st,new lv]]},{provide:ul,useValue:r||{}},r?.useHash?uj():lj(),cj(),r?.preloadingStrategy?ij(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?hj(r):[],r?.bindToComponentInputs?oj().\u0275providers:[],r?.enableViewTransitions?sj().\u0275providers:[],fj()]}}static forChild(t){return{ngModule:n,providers:[{provide:rl,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ee(RA,8))}}static{this.\u0275mod=mr({type:n})}static{this.\u0275inj=gr({})}}return n})();function cj(){return{provide:cS,useFactory:()=>{let n=j(eA),e=j(Me),t=j(ul),r=j(i_),i=j(ol);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tj(i,r,n,e,t)}}}function uj(){return{provide:ei,useClass:JT}}function lj(){return{provide:ei,useClass:uw}}function dj(n){return"guarded"}function hj(n){return[n.initialNavigation==="disabled"?rj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?nj().\u0275providers:[]]}var xA=new K("");function fj(){return[{provide:xA,useFactory:dS},{provide:Ou,multi:!0,useExisting:xA}]}var dp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[mt],decls:21,vars:0,consts:[[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal","text-body-emphasis"],[1,"fs-5","text-body-secondary"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center","container-fluid"],[1,"col"],[1,"card-body"],["type","button","routerLink","registro-paciente",1,"w-100","btn","btn-lg"],[1,"image-button-container"],["src","/assets/images/paciente.jpg"],[1,"overlay-text"],["type","button","routerLink","registro-especialista",1,"w-100","btn","btn-lg"],["src","/assets/images/ai-generative-portrait-of-confident-male-doctor-in-white-coat-and-stethoscope-standing-with-arms-crossed-and-looking-at-camera-photo.jpg"]],template:function(t,r){t&1&&(U(0,"header")(1,"div",0)(2,"h1",1),q(3,"Bienvenido"),F(),U(4,"p",2),q(5,"Seleccione una opci\xF3n"),F()()(),U(6,"div",3)(7,"div",4)(8,"div",5)(9,"button",6)(10,"div",7),Re(11,"img",8),U(12,"span",9),q(13,"Registrarse como paciente"),F()()()()(),U(14,"div",4)(15,"div",5)(16,"button",10)(17,"div",7),Re(18,"img",11),U(19,"span",9),q(20,"Registrarse como especialista"),F()()()()()())},dependencies:[ic,rc],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]{border-radius:50%;width:600px;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border-radius:50%;width:400px;height:400px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]{border-radius:50%;position:relative;width:400px;overflow:hidden}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:400px;max-height:400px;object-fit:cover;border:1px solid rgba(0,0,0,.357);display:block}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   .overlay-text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]:hover   .overlay-text[_ngcontent-%COMP%]{opacity:1}.row[_ngcontent-%COMP%]{margin:0}']})};var gS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},pj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,s||(_=64)),r.push(t[p],t[g],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new a_;let _=o<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},a_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gj=function(n){let e=gS(n);return mS.encodeByteArray(e,!0)},dl=function(n){return gj(n).replace(/\./g,"")},u_=function(n){try{return mS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yj=()=>mj().__FIREBASE_DEFAULTS__,vj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&u_(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return yj()||vj()||wj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l_=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pp=n=>{let e=l_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},d_=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},h_=n=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${n}`]};var hp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function gp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dl(JSON.stringify(t)),dl(JSON.stringify(s)),""].join(".")}function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function _j(){var n;let e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){let n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IS(){return!_j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f_(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Ej="FirebaseError",en=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}},ii=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ij(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new en(i,a,r)}};function Ij(n,e){return n.replace(bj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bj=/\{\$([^}]+)}/g;function CS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Is(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(pS(o)&&pS(s)){if(!Is(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function pS(n){return n!==null&&typeof n=="object"}function hl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function sc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DS(n,e){let t=new c_(n,e);return t.subscribe.bind(t)}var c_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Cj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=s_),i.error===void 0&&(i.error=s_),i.complete===void 0&&(i.complete=s_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function s_(){}var JK=4*60*60*1e3;function Pt(n){return n&&n._delegate?n._delegate:n}var cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bs="[DEFAULT]";var p_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new hp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tj(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dj(n){return n===bs?void 0:n}function Tj(n){return n.instantiationMode==="EAGER"}var mp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new p_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Aj=[],De=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(De||{}),Sj={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Rj=De.INFO,xj={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Mj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=xj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mo=class{constructor(e){this.name=e,this._logLevel=Rj,this._logHandler=Mj,this._userLogHandler=null,Aj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var Nj=(n,e)=>e.some(t=>n instanceof t),TS,AS;function Pj(){return TS||(TS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kj(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SS=new WeakMap,m_=new WeakMap,RS=new WeakMap,g_=new WeakMap,v_=new WeakMap;function Oj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Er(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SS.set(t,n)}).catch(()=>{}),v_.set(e,n),e}function Fj(n){if(m_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});m_.set(n,e)}var y_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return m_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Er(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xS(n){y_=n(y_)}function Lj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yp(this),e,...t);return RS.set(r,e.sort?e.sort():[e]),Er(r)}:kj().includes(n)?function(...e){return n.apply(yp(this),e),Er(SS.get(this))}:function(...e){return Er(n.apply(yp(this),e))}}function Vj(n){return typeof n=="function"?Lj(n):(n instanceof IDBTransaction&&Fj(n),Nj(n,Pj())?new Proxy(n,y_):n)}function Er(n){if(n instanceof IDBRequest)return Oj(n);if(g_.has(n))return g_.get(n);let e=Vj(n);return e!==n&&(g_.set(n,e),v_.set(e,n)),e}var yp=n=>v_.get(n);function NS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Er(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Er(s.result),u.oldVersion,u.newVersion,Er(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Uj=["get","getKey","getAll","getAllKeys","count"],jj=["put","add","delete","clear"],w_=new Map;function MS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w_.get(e))return w_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=jj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uj.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return w_.set(e,o),o}xS(n=>be(H({},n),{get:(e,t,r)=>MS(e,t)||n.get(e,t,r),has:(e,t)=>!!MS(e,t)||n.has(e,t)}));var E_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Bj(n){let e=n.getComponent();return e?.type==="VERSION"}var I_="@firebase/app",PS="0.10.13";var oi=new mo("@firebase/app"),$j="@firebase/app-compat",Hj="@firebase/analytics-compat",qj="@firebase/analytics",zj="@firebase/app-check-compat",Gj="@firebase/app-check",Wj="@firebase/auth",Kj="@firebase/auth-compat",Qj="@firebase/database",Yj="@firebase/data-connect",Zj="@firebase/database-compat",Jj="@firebase/functions",Xj="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",rB="@firebase/messaging-compat",iB="@firebase/performance",oB="@firebase/performance-compat",sB="@firebase/remote-config",aB="@firebase/remote-config-compat",cB="@firebase/storage",uB="@firebase/storage-compat",lB="@firebase/firestore",dB="@firebase/vertexai-preview",hB="@firebase/firestore-compat",fB="firebase",pB="10.14.1";var b_="[DEFAULT]",gB={[I_]:"fire-core",[$j]:"fire-core-compat",[qj]:"fire-analytics",[Hj]:"fire-analytics-compat",[Gj]:"fire-app-check",[zj]:"fire-app-check-compat",[Wj]:"fire-auth",[Kj]:"fire-auth-compat",[Qj]:"fire-rtdb",[Yj]:"fire-data-connect",[Zj]:"fire-rtdb-compat",[Jj]:"fire-fn",[Xj]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[rB]:"fire-fcm-compat",[iB]:"fire-perf",[oB]:"fire-perf-compat",[sB]:"fire-rc",[aB]:"fire-rc-compat",[cB]:"fire-gcs",[uB]:"fire-gcs-compat",[lB]:"fire-fst",[hB]:"fire-fst-compat",[dB]:"fire-vertex","fire-js":"fire-js",[fB]:"fire-js-all"};var fl=new Map,mB=new Map,C_=new Map;function kS(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ir(n){let e=n.name;if(C_.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;C_.set(e,n);for(let t of fl.values())kS(t,n);for(let t of mB.values())kS(t,n);return!0}function Cs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n.settings!==void 0}var yB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new ii("app","Firebase",yB);var D_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}};var br=pB;function S_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(t||(t=d_()),!t)throw yo.create("no-options");let o=fl.get(i);if(o){if(Is(t,o.options)&&Is(r,o.config))return o;throw yo.create("duplicate-app",{appName:i})}let s=new mp(i);for(let u of C_.values())s.addComponent(u);let a=new D_(t,r,s);return fl.set(i,a),a}function vo(n=b_){let e=fl.get(n);if(!e&&n===b_&&d_())return S_();if(!e)throw yo.create("no-app",{appName:n});return e}function vp(){return Array.from(fl.values())}function Ye(n,e,t){var r;let i=(r=gB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}Ir(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var vB="firebase-heartbeat-database",wB=1,pl="firebase-heartbeat-store",__=null;function VS(){return __||(__=NS(vB,wB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw yo.create("idb-open",{originalErrorMessage:n.message})})),__}function _B(n){return b(this,null,function*(){try{let t=(yield VS()).transaction(pl),r=yield t.objectStore(pl).get(US(n));return yield t.done,r}catch(e){if(e instanceof en)oi.warn(e.message);else{let t=yo.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}})}function OS(n,e){return b(this,null,function*(){try{let r=(yield VS()).transaction(pl,"readwrite");yield r.objectStore(pl).put(e,US(n)),yield r.done}catch(t){if(t instanceof en)oi.warn(t.message);else{let r=yo.create("idb-set",{originalErrorMessage:t?.message});oi.warn(r.message)}}})}function US(n){return`${n.name}!${n.options.appId}`}var EB=1024,IB=30*24*60*60*1e3,T_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new A_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=IB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oi.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=FS(),{heartbeatsToSend:r,unsentEntries:i}=bB(this._heartbeatsCache.heartbeats),o=dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oi.warn(t),""}})}};function FS(){return new Date().toISOString().substring(0,10)}function bB(n,e=EB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),LS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var A_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return f_()?bS().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield _B(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function LS(n){return dl(JSON.stringify({version:2,heartbeats:n})).length}function CB(n){Ir(new cn("platform-logger",e=>new E_(e),"PRIVATE")),Ir(new cn("heartbeat",e=>new T_(e),"PRIVATE")),Ye(I_,PS,n),Ye(I_,PS,"esm2017"),Ye("fire-js","")}CB("");var DB="firebase",TB="10.14.1";Ye(DB,TB,"app");var si=new Wr("ANGULARFIRE2_VERSION");function cc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ts=(n,e)=>{let t=e?[e]:vp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},wo=class{constructor(){return Ts(AB)}},AB="app-check";function ac(){}var wp=class{zone;delegate;constructor(e,t=Vm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},R_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)),t.pipe(pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_o=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wp(Zone.current)),this.insideAngular=t.run(()=>new wp(Zone.current,Lm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ee(Me))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _p(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function SB(n){return _p().ngZone.runOutsideAngular(()=>n())}function Ds(n){return _p().ngZone.run(()=>n())}function RB(n){return xB(_p())(n)}function xB(n){return function(t){return t=t.lift(new R_(n.ngZone)),t.pipe(qi(n.outsideAngular),Hi(n.insideAngular))}}var MB=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ds(()=>n.apply(void 0,r))},Vt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac))),r[o]=MB(r[o],t));let i=SB(()=>n.apply(this,r));if(!e)if(i instanceof Ee){let o=_p();return i.pipe(qi(o.outsideAngular),Hi(o.insideAngular))}else return Ds(()=>i);return i instanceof Ee?i.pipe(RB):i instanceof Promise?Ds(()=>new Promise((o,s)=>i.then(a=>Ds(()=>o(a)),a=>Ds(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ds(()=>i)};var Yn=class{constructor(e){return e}},ai=class{constructor(){return vp()}};function NB(n){return n&&n.length===1?n[0]:new Yn(vo())}var x_=new K("angularfire2._apps"),PB={provide:Yn,useFactory:NB,deps:[[new st,x_]]},kB={provide:ai,deps:[[new st,x_]]};function OB(n){return(e,t)=>{let r=t.get(An);Ye("angularfire",si.full,"core"),Ye("angularfire",si.full,"app"),Ye("angular",OT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Yn(i)}}function jS(n,...e){return an([PB,kB,{provide:x_,useFactory:OB(n),multi:!0,deps:[Me,bt,_o,...e]}])}var BS=Vt(S_,!0);function iR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oR=iR,sR=new ii("auth","Firebase",iR());var Tp=new mo("@firebase/auth");function FB(n,...e){Tp.logLevel<=De.WARN&&Tp.warn(`Auth (${br}): ${n}`,...e)}function Ip(n,...e){Tp.logLevel<=De.ERROR&&Tp.error(`Auth (${br}): ${n}`,...e)}function Dr(n,...e){throw X_(n,...e)}function As(n,...e){return X_(n,...e)}function aR(n,e,t){let r=Object.assign(Object.assign({},oR()),{[e]:t});return new ii("auth","Firebase",r).create(e,{appName:n.name})}function li(n){return aR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sR.create(n,...e)}function ie(n,e,...t){if(!n)throw X_(e,...t)}function ci(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ip(e),new Error(e)}function Io(n,e){n||ci(e)}function k_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LB(){return $S()==="http:"||$S()==="https:"}function $S(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function VB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LB()||wS()||"connection"in navigator)?navigator.onLine:!0}function UB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ss=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=yS()||_S()}get(){return VB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eE(n,e){Io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ap=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BB=new Ss(3e4,6e4);function di(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function hi(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){return cR(n,i,()=>b(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=hl(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:e,headers:_},d);return vS()||(E.referrerPolicy="no-referrer"),Ap.fetch()(uR(n,n.config.apiHost,t,g),E)}))})}function cR(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},jB),e);try{let i=new O_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ep(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ep(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ep(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw aR(n,p,d);Dr(n,p)}}catch(i){if(i instanceof en)throw i;Dr(n,"network-request-failed",{message:String(i)})}})}function Il(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){let d=yield hi(n,e,t,r,i);return"mfaPendingCredential"in d&&Dr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function uR(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?eE(n.config,i):`${n.config.apiScheme}://${i}`}function $B(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var O_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(As(this.auth,"network-request-failed")),BB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ep(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=As(n,e,r);return i.customData._tokenResponse=t,i}function HS(n){return n!==void 0&&n.enterprise!==void 0}var F_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $B(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function HB(n,e){return b(this,null,function*(){return hi(n,"GET","/v2/recaptchaConfig",di(n,e))})}function qB(n,e){return b(this,null,function*(){return hi(n,"POST","/v1/accounts:delete",e)})}function lR(n,e){return b(this,null,function*(){return hi(n,"POST","/v1/accounts:lookup",e)})}function gl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tE(n,e=!1){return b(this,null,function*(){let t=Pt(n),r=yield t.getIdToken(e),i=nE(r);ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gl(M_(i.auth_time)),issuedAtTime:gl(M_(i.iat)),expirationTime:gl(M_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function M_(n){return Number(n)*1e3}function nE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ip("JWT malformed, contained fewer than 3 sections"),null;try{let i=u_(t);return i?JSON.parse(i):(Ip("Failed to decode base64 JWT payload"),null)}catch(i){return Ip("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qS(n){let e=nE(n);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function yl(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof en&&zB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function zB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var L_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield yl(n,lR(t,{idToken:r}));ie(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dR(o.providerUserInfo):[],a=GB(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vl(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function rE(n){return b(this,null,function*(){let e=Pt(n);yield Sp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function GB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dR(n){return n.map(e=>{var{providerId:t}=e,r=Um(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function WB(n,e){return b(this,null,function*(){let t=yield cR(n,{},()=>b(this,null,function*(){let r=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=uR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ap.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function KB(n,e){return b(this,null,function*(){return hi(n,"POST","/v2/accounts:revokeToken",di(n,e))})}var ml=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ie(e.length!==0,"internal-error");let t=qS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield WB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ci("not implemented")}};function Eo(n,e){ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var uc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield yl(this,this.stsTokenManager.getToken(this.auth,e));return ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return tE(this,e)}reload(){return rE(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Sp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Qn(this.auth.app))return Promise.reject(li(this.auth));let e=yield this.getIdToken();return yield yl(this,qB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=t.createdAt)!==null&&d!==void 0?d:void 0,W=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:Z,isAnonymous:ge,providerData:J,stsTokenManager:T}=t;ie(z&&T,e,"internal-error");let I=ml.fromJSON(this.name,T);ie(typeof z=="string",e,"internal-error"),Eo(g,e.name),Eo(_,e.name),ie(typeof Z=="boolean",e,"internal-error"),ie(typeof ge=="boolean",e,"internal-error"),Eo(E,e.name),Eo(M,e.name),Eo(O,e.name),Eo(N,e.name),Eo(V,e.name),Eo(W,e.name);let C=new n({uid:z,auth:e,email:_,emailVerified:Z,displayName:g,isAnonymous:ge,photoURL:M,phoneNumber:E,tenantId:O,stsTokenManager:I,createdAt:V,lastLoginAt:W});return J&&Array.isArray(J)&&(C.providerData=J.map(A=>Object.assign({},A))),N&&(C._redirectEventId=N),C}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new ml;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?dR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ml;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var zS=new Map;function ui(n){Io(n instanceof Function,"Expected a class definition");let e=zS.get(n);return e?(Io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zS.set(n,e),e)}var QB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),V_=QB;function bp(n,e,t){return`firebase:${n}:${e}:${t}`}var Rp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?uc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(ui(V_),e,r);let i=(yield Promise.all(t.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||ui(V_),s=bp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let g=uc._fromJSON(e,p);d!==o&&(a=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function GS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(vR(e))return"Webos";if(fR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(mR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function hR(n=Nt()){return/firefox\//i.test(n)}function fR(n=Nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(n=Nt()){return/crios\//i.test(n)}function gR(n=Nt()){return/iemobile/i.test(n)}function mR(n=Nt()){return/android/i.test(n)}function yR(n=Nt()){return/blackberry/i.test(n)}function vR(n=Nt()){return/webos/i.test(n)}function iE(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YB(n=Nt()){var e;return iE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZB(){return ES()&&document.documentMode===10}function wR(n=Nt()){return iE(n)||mR(n)||vR(n)||yR(n)||/windows phone/i.test(n)||gR(n)}function _R(n,e=[]){let t;switch(n){case"Browser":t=GS(Nt());break;case"Worker":t=`${GS(Nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}var U_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function JB(t){return b(this,arguments,function*(n,e={}){return hi(n,"GET","/v2/passwordPolicy",di(n,e))})}var XB=6,j_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:XB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var B_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new U_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Rp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield lR(this,{idToken:e}),r=yield uc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(Qn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Sp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UB()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Qn(this.app))return Promise.reject(li(this));let t=e?Pt(e):null;return t&&ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Qn(this.app)?Promise.reject(li(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qn(this.app)?Promise.reject(li(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(ui(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield JB(this),t=new j_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ui(e)||this._popupRedirectResolver;ie(t,this,"argument-error"),this.redirectPersistenceManager=yield Rp.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_R(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&FB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function xs(n){return Pt(n)}var xp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(t=>this.observer=t)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e$(n){Lp=n}function ER(n){return Lp.loadJS(n)}function t$(){return Lp.recaptchaEnterpriseScript}function n$(){return Lp.gapiScript}function IR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var r$="recaptcha-enterprise",i$="NO_RECAPTCHA",$_=class{constructor(e){this.type=r$,this.auth=xs(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(this,null,function*(){HB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new F_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;HS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(i$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&HS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=t$();u.length!==0&&(u+=a),ER(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function WS(n,e,t,r=!1){return b(this,null,function*(){let i=new $_(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function H_(n,e,t,r){return b(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield WS(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>b(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield WS(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function oE(n,e){let t=Cs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Is(o,e??{}))return i;Dr(i,"already-initialized")}return t.initialize({options:e})}function o$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sE(n,e,t){let r=xs(n);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=bR(e),{host:s,port:a}=s$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||a$()}function bR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function s$(n){let e=bR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:KS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:KS(s)}}}function KS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function a$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var wl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}};function c$(n,e){return b(this,null,function*(){return hi(n,"POST","/v1/accounts:signUp",e)})}function u$(n,e){return b(this,null,function*(){return Il(n,"POST","/v1/accounts:signInWithPassword",di(n,e))})}function l$(n,e){return b(this,null,function*(){return hi(n,"POST","/v1/accounts:sendOobCode",di(n,e))})}function d$(n,e){return b(this,null,function*(){return l$(n,e)})}function h$(n,e){return b(this,null,function*(){return Il(n,"POST","/v1/accounts:signInWithEmailLink",di(n,e))})}function f$(n,e){return b(this,null,function*(){return Il(n,"POST","/v1/accounts:signInWithEmailLink",di(n,e))})}var _l=class n extends wl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,t,"signInWithPassword",u$);case"emailLink":return h$(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,r,"signUpPassword",c$);case"emailLink":return f$(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function N_(n,e){return b(this,null,function*(){return Il(n,"POST","/v1/accounts:signInWithIdp",di(n,e))})}function p$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g$(n){let e=oc(sc(n)).link,t=e?oc(sc(e)).deep_link_id:null,r=oc(sc(n)).deep_link_id;return(r?oc(sc(r)).link:null)||r||t||e||n}var Mp=class n{constructor(e){var t,r,i,o,s,a;let u=oc(sc(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=p$((i=u.mode)!==null&&i!==void 0?i:null);ie(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=g$(e);try{return new n(t)}catch{return null}}};var CR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return _l._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Mp.parseLink(r);return ie(i,"argument-error"),_l._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Np=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var q_=class extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function m$(n,e){return b(this,null,function*(){return Il(n,"POST","/v1/accounts:signUp",di(n,e))})}var lc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield uc._fromIdTokenResponse(e,r,i),s=QS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=QS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function QS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var z_=class n extends en{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function DR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?z_._fromErrorAndOperation(n,o,e,r):o})}function y$(n,e,t=!1){return b(this,null,function*(){let r=yield yl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lc._forOperation(n,"link",r)})}function v$(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(Qn(r.app))return Promise.reject(li(r));let i="reauthenticate";try{let o=yield yl(n,DR(r,i,e,n),t);ie(o.idToken,r,"internal-error");let s=nE(o.idToken);ie(s,r,"internal-error");let{sub:a}=s;return ie(n.uid===a,r,"user-mismatch"),lc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}})}function TR(n,e,t=!1){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(li(n));let r="signIn",i=yield DR(n,r,e),o=yield lc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function aE(n,e){return b(this,null,function*(){return TR(xs(n),e)})}function w$(n,e,t){var r;ie(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ie(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ie(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ie(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function AR(n){return b(this,null,function*(){let e=xs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function cE(n,e,t){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(li(n));let r=xs(n),s=yield H_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&AR(n),u}),a=yield lc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function uE(n,e,t){return Qn(n.app)?Promise.reject(li(n)):aE(Pt(n),CR.credential(e,t)).catch(r=>b(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&AR(n),r}))}function lE(n,e){return b(this,null,function*(){let t=Pt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&w$(t.auth,i,e);let{email:o}=yield d$(t.auth,i);o!==n.email&&(yield n.reload())})}function dE(n,e,t,r){return Pt(n).onIdTokenChanged(e,t,r)}function hE(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function fE(n){return Pt(n).signOut()}var Pp="__sak";var kp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _$=1e3,E$=10,I$=(()=>{class n extends kp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);ZB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,E$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},_$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Bi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Bi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Bi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),SR=I$;var b$=(()=>{class n extends kp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),pE=b$;function C$(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var D$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>b(this,null,function*(){return p(r.origin,s)})),d=yield C$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function RR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var G_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=RR("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Cr(){return window}function T$(n){Cr().location.href=n}function xR(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}function A$(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function S$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R$(){return xR()?self:null}var MR="firebaseLocalStorageDb",x$=1,Op="firebaseLocalStorage",NR="fbase_key",Rs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Vp(n,e){return n.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function M$(){let n=indexedDB.deleteDatabase(MR);return new Rs(n).toPromise()}function W_(){let n=indexedDB.open(MR,x$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Op,{keyPath:NR})}catch(i){t(i)}}),n.addEventListener("success",()=>b(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),yield M$(),e(yield W_()))}))})}function YS(n,e,t){return b(this,null,function*(){let r=Vp(n,!0).put({[NR]:e,value:t});return new Rs(r).toPromise()})}function N$(n,e){return b(this,null,function*(){let t=Vp(n,!1).get(e),r=yield new Rs(t).toPromise();return r===void 0?null:r.value})}function ZS(n,e){let t=Vp(n,!0).delete(e);return new Rs(t).toPromise()}var P$=800,k$=3,O$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield W_(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>k$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return xR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=D$._getInstance(R$()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield A$(),!this.activeServiceWorker)return;this.sender=new G_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||S$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield W_();return yield YS(t,Pp,"1"),yield ZS(t,Pp),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>YS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>N$(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>ZS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Vp(o,!1).getAll();return new Rs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),P$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),PR=O$;var zQ=IR("rcb"),GQ=new Ss(3e4,6e4);function F$(n,e){return e?ui(e):(ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var El=class extends wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return N_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return N_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return N_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function L$(n){return TR(n.auth,new El(n),n.bypassAuthState)}function V$(n){let{auth:e,user:t}=n;return ie(t,e,"internal-error"),v$(t,new El(n),n.bypassAuthState)}function U$(n){return b(this,null,function*(){let{auth:e,user:t}=n;return ie(t,e,"internal-error"),y$(t,new El(n),n.bypassAuthState)})}var K_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L$;case"linkViaPopup":case"linkViaRedirect":return U$;case"reauthViaPopup":case"reauthViaRedirect":return V$;default:Dr(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var WQ=new Ss(2e3,1e4);var j$="pendingRedirect",Cp=new Map,Q_=class n extends K_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Cp.get(this.auth._key());if(!e){try{let r=(yield B$(this.resolver,this.auth))?yield Bi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Bi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Bi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function B$(n,e){return b(this,null,function*(){let t=q$(e),r=H$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function $$(n,e){Cp.set(n._key(),e)}function H$(n){return ui(n._redirectPersistence)}function q$(n){return bp(j$,n.config.apiKey,n.name)}function z$(n,e,t=!1){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(li(n));let r=xs(n),i=F$(r,e),s=yield new Q_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var G$=10*60*1e3,Y_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(As(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G$&&this.cachedEventUids.clear(),this.cachedEventUids.has(JS(e))}saveEventToCache(e){this.cachedEventUids.add(JS(e)),this.lastProcessedEventTime=Date.now()}};function JS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function W$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(n);default:return!1}}function K$(t){return b(this,arguments,function*(n,e={}){return hi(n,"GET","/v1/projects",e)})}var Q$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y$=/^https?/;function Z$(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield K$(n);for(let t of e)try{if(J$(t))return}catch{}Dr(n,"unauthorized-domain")})}function J$(n){let e=k_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!Y$.test(t))return!1;if(Q$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var X$=new Ss(3e4,6e4);function XS(){let n=Cr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eH(n){return new Promise((e,t)=>{var r,i,o;function s(){XS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XS(),t(As(n,"network-request-failed"))},timeout:X$.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Cr().gapi)===null||o===void 0)&&o.load)s();else{let a=IR("iframefcb");return Cr()[a]=()=>{gapi.load?s():t(As(n,"network-request-failed"))},ER(`${n$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Dp=null,e})}var Dp=null;function tH(n){return Dp=Dp||eH(n),Dp}var nH=new Ss(5e3,15e3),rH="__/auth/iframe",iH="emulator/auth/iframe",oH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aH(n){let e=n.config;ie(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?eE(e,iH):`https://${n.config.authDomain}/${rH}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=sH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${hl(r).slice(1)}`}function cH(n){return b(this,null,function*(){let e=yield tH(n),t=Cr().gapi;return ie(t,n,"internal-error"),e.open({where:document.body,url:aH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oH,dontclear:!0},r=>new Promise((i,o)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=As(n,"network-request-failed"),a=Cr().setTimeout(()=>{o(s)},nH.get());function u(){Cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var uH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lH=500,dH=600,hH="_blank",fH="http://localhost",Fp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function pH(n,e,t,r=lH,i=dH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},uH),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Nt().toLowerCase();t&&(a=pR(d)?hH:t),hR(d)&&(e=e||fH,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if(YB(d)&&a!=="_self")return gH(e||"",a),new Fp(null);let g=window.open(e||"",a,p);ie(g,n,"popup-blocked");try{g.focus()}catch{}return new Fp(g)}function gH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var mH="__/auth/handler",yH="emulator/auth/handler",vH=encodeURIComponent("fac");function eR(n,e,t,r,i,o){return b(this,null,function*(){ie(n.config.authDomain,n,"auth-domain-config-required"),ie(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof Np){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",CS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(o||{}))s[p]=g}if(e instanceof q_){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${vH}=${encodeURIComponent(u)}`:"";return`${wH(n)}?${hl(a).slice(1)}${d}`})}function wH({config:n}){return n.emulator?eE(n,yH):`https://${n.authDomain}/${mH}`}var P_="webStorageSupport",Z_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=z$,this._overrideRedirectResult=$$}_openPopup(e,t,r,i){return b(this,null,function*(){var o;Io((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield eR(e,t,r,k_(),i);return pH(e,s,RR())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield eR(e,t,r,k_(),i);return T$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Io(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield cH(e),r=new Y_(e);return t.register("authEvent",i=>(ie(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(P_,{type:P_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[P_];s!==void 0&&t(!!s),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wR()||fR()||iE()}},OR=Z_;var tR="@firebase/auth",nR="1.7.9";var J_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _H(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EH(n){Ir(new cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_R(n)},d=new B_(r,i,o,u);return o$(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ir(new cn("auth-internal",e=>{let t=xs(e.getProvider("auth").getImmediate());return(r=>new J_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(tR,nR,_H(n)),Ye(tR,nR,"esm2017")}var IH=5*60,bH=h_("authIdTokenMaxAge")||IH,rR=null,CH=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bH)return;let i=t?.token;rR!==i&&(rR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function gE(n=vo()){let e=Cs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=oE(n,{popupRedirectResolver:OR,persistence:[PR,SR,pE]}),r=h_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=CH(o.toString());hE(t,s,()=>s(t.currentUser)),dE(t,a=>s(a))}}let i=l_("auth");return i&&sE(t,`http://${i}`),t}function DH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}e$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=As("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",DH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EH("Browser");var FR="auth",yn=class{constructor(e){return e}},Ms=class{constructor(){return Ts(FR)}};var mE=new K("angularfire2.auth-instances");function p4(n,e){let t=cc(FR,n,e);return t&&new yn(t)}function g4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yn(r)}}var m4={provide:Ms,deps:[[new st,mE]]},y4={provide:yn,useFactory:p4,deps:[[new st,mE],Yn]};function LR(n,...e){return Ye("angularfire",si.full,"auth"),an([y4,m4,{provide:mE,useFactory:g4(n),multi:!0,deps:[Me,bt,_o,ai,[new st,wo],...e]}])}var dc=Vt(cE,!0);var VR=Vt(gE,!0);var UR=Vt(lE,!0);var jR=Vt(uE,!0);var hc=Vt(fE,!0);var BR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$R={};var bo,yE;(function(){var n;function e(T,I){function C(){}C.prototype=I.prototype,T.D=I.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(A,S,R){for(var D=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)D[Rn-2]=arguments[Rn];return I.prototype[S].apply(A,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,C){C||(C=0);var A=Array(16);if(typeof I=="string")for(var S=0;16>S;++S)A[S]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(S=0;16>S;++S)A[S]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=T.g[0],C=T.g[1],S=T.g[2];var R=T.g[3],D=I+(R^C&(S^R))+A[0]+3614090360&4294967295;I=C+(D<<7&4294967295|D>>>25),D=R+(S^I&(C^S))+A[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=S+(C^R&(I^C))+A[2]+606105819&4294967295,S=R+(D<<17&4294967295|D>>>15),D=C+(I^S&(R^I))+A[3]+3250441966&4294967295,C=S+(D<<22&4294967295|D>>>10),D=I+(R^C&(S^R))+A[4]+4118548399&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(S^I&(C^S))+A[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=S+(C^R&(I^C))+A[6]+2821735955&4294967295,S=R+(D<<17&4294967295|D>>>15),D=C+(I^S&(R^I))+A[7]+4249261313&4294967295,C=S+(D<<22&4294967295|D>>>10),D=I+(R^C&(S^R))+A[8]+1770035416&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(S^I&(C^S))+A[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=S+(C^R&(I^C))+A[10]+4294925233&4294967295,S=R+(D<<17&4294967295|D>>>15),D=C+(I^S&(R^I))+A[11]+2304563134&4294967295,C=S+(D<<22&4294967295|D>>>10),D=I+(R^C&(S^R))+A[12]+1804603682&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(S^I&(C^S))+A[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=S+(C^R&(I^C))+A[14]+2792965006&4294967295,S=R+(D<<17&4294967295|D>>>15),D=C+(I^S&(R^I))+A[15]+1236535329&4294967295,C=S+(D<<22&4294967295|D>>>10),D=I+(S^R&(C^S))+A[1]+4129170786&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^S&(I^C))+A[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=S+(I^C&(R^I))+A[11]+643717713&4294967295,S=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(S^R))+A[0]+3921069994&4294967295,C=S+(D<<20&4294967295|D>>>12),D=I+(S^R&(C^S))+A[5]+3593408605&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^S&(I^C))+A[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=S+(I^C&(R^I))+A[15]+3634488961&4294967295,S=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(S^R))+A[4]+3889429448&4294967295,C=S+(D<<20&4294967295|D>>>12),D=I+(S^R&(C^S))+A[9]+568446438&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^S&(I^C))+A[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=S+(I^C&(R^I))+A[3]+4107603335&4294967295,S=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(S^R))+A[8]+1163531501&4294967295,C=S+(D<<20&4294967295|D>>>12),D=I+(S^R&(C^S))+A[13]+2850285829&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^S&(I^C))+A[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=S+(I^C&(R^I))+A[7]+1735328473&4294967295,S=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(S^R))+A[12]+2368359562&4294967295,C=S+(D<<20&4294967295|D>>>12),D=I+(C^S^R)+A[5]+4294588738&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^S)+A[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=S+(R^I^C)+A[11]+1839030562&4294967295,S=R+(D<<16&4294967295|D>>>16),D=C+(S^R^I)+A[14]+4259657740&4294967295,C=S+(D<<23&4294967295|D>>>9),D=I+(C^S^R)+A[1]+2763975236&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^S)+A[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=S+(R^I^C)+A[7]+4139469664&4294967295,S=R+(D<<16&4294967295|D>>>16),D=C+(S^R^I)+A[10]+3200236656&4294967295,C=S+(D<<23&4294967295|D>>>9),D=I+(C^S^R)+A[13]+681279174&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^S)+A[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=S+(R^I^C)+A[3]+3572445317&4294967295,S=R+(D<<16&4294967295|D>>>16),D=C+(S^R^I)+A[6]+76029189&4294967295,C=S+(D<<23&4294967295|D>>>9),D=I+(C^S^R)+A[9]+3654602809&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^S)+A[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=S+(R^I^C)+A[15]+530742520&4294967295,S=R+(D<<16&4294967295|D>>>16),D=C+(S^R^I)+A[2]+3299628645&4294967295,C=S+(D<<23&4294967295|D>>>9),D=I+(S^(C|~R))+A[0]+4096336452&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~S))+A[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=S+(I^(R|~C))+A[14]+2878612391&4294967295,S=R+(D<<15&4294967295|D>>>17),D=C+(R^(S|~I))+A[5]+4237533241&4294967295,C=S+(D<<21&4294967295|D>>>11),D=I+(S^(C|~R))+A[12]+1700485571&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~S))+A[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=S+(I^(R|~C))+A[10]+4293915773&4294967295,S=R+(D<<15&4294967295|D>>>17),D=C+(R^(S|~I))+A[1]+2240044497&4294967295,C=S+(D<<21&4294967295|D>>>11),D=I+(S^(C|~R))+A[8]+1873313359&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~S))+A[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=S+(I^(R|~C))+A[6]+2734768916&4294967295,S=R+(D<<15&4294967295|D>>>17),D=C+(R^(S|~I))+A[13]+1309151649&4294967295,C=S+(D<<21&4294967295|D>>>11),D=I+(S^(C|~R))+A[4]+4149444226&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~S))+A[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=S+(I^(R|~C))+A[2]+718787259&4294967295,S=R+(D<<15&4294967295|D>>>17),D=C+(R^(S|~I))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var C=I-this.blockSize,A=this.B,S=this.h,R=0;R<I;){if(S==0)for(;R<=C;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<I;)if(A[S++]=T.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<I;)if(A[S++]=T[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var C=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=C&255,C/=256;for(this.u(T),T=Array(16),I=C=0;4>I;++I)for(var A=0;32>A;A+=8)T[C++]=this.g[I]>>>A&255;return T};function o(T,I){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=I(T)}function s(T,I){this.h=I;for(var C=[],A=!0,S=T.length-1;0<=S;S--){var R=T[S]|0;A&&R==I||(C[S]=R,A=!1)}this.g=C}var a={};function u(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return N(d(-T));for(var I=[],C=1,A=0;T>=C;A++)I[A]=T/C|0,C*=4294967296;return new s(I,0)}function p(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return N(p(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),A=g,S=0;S<T.length;S+=8){var R=Math.min(8,T.length-S),D=parseInt(T.substring(S,S+R),I);8>R?(R=d(Math.pow(I,R)),A=A.j(R).add(d(D))):(A=A.j(C),A=A.add(d(D)))}return A}var g=u(0),_=u(1),E=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-N(this).m();for(var T=0,I=1,C=0;C<this.g.length;C++){var A=this.i(C);T+=(0<=A?A:4294967296+A)*I,I*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(O(this))return"-"+N(this).toString(T);for(var I=d(Math.pow(T,6)),C=this,A="";;){var S=Z(C,I).g;C=V(C,S.j(I));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=S,M(C))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function O(T){return T.h==-1}n.l=function(T){return T=V(this,T),O(T)?-1:M(T)?0:1};function N(T){for(var I=T.g.length,C=[],A=0;A<I;A++)C[A]=~T.g[A];return new s(C,~T.h).add(_)}n.abs=function(){return O(this)?N(this):this},n.add=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0,S=0;S<=I;S++){var R=A+(this.i(S)&65535)+(T.i(S)&65535),D=(R>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);A=D>>>16,R&=65535,D&=65535,C[S]=D<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function V(T,I){return T.add(N(I))}n.j=function(T){if(M(this)||M(T))return g;if(O(this))return O(T)?N(this).j(N(T)):N(N(this).j(T));if(O(T))return N(this.j(N(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var I=this.g.length+T.g.length,C=[],A=0;A<2*I;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<T.g.length;S++){var R=this.i(A)>>>16,D=this.i(A)&65535,Rn=T.i(S)>>>16,bi=T.i(S)&65535;C[2*A+2*S]+=D*bi,W(C,2*A+2*S),C[2*A+2*S+1]+=R*bi,W(C,2*A+2*S+1),C[2*A+2*S+1]+=D*Rn,W(C,2*A+2*S+1),C[2*A+2*S+2]+=R*Rn,W(C,2*A+2*S+2)}for(A=0;A<I;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=I;A<2*I;A++)C[A]=0;return new s(C,0)};function W(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function z(T,I){this.g=T,this.h=I}function Z(T,I){if(M(I))throw Error("division by zero");if(M(T))return new z(g,g);if(O(T))return I=Z(N(T),I),new z(N(I.g),N(I.h));if(O(I))return I=Z(T,N(I)),new z(N(I.g),I.h);if(30<T.g.length){if(O(T)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var C=_,A=I;0>=A.l(T);)C=ge(C),A=ge(A);var S=J(C,1),R=J(A,1);for(A=J(A,2),C=J(C,2);!M(A);){var D=R.add(A);0>=D.l(T)&&(S=S.add(C),R=D),A=J(A,1),C=J(C,1)}return I=V(T,S.j(I)),new z(S,I)}for(S=g;0<=T.l(I);){for(C=Math.max(1,Math.floor(T.m()/I.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(C),D=R.j(I);O(D)||0<D.l(T);)C-=A,R=d(C),D=R.j(I);M(R)&&(R=_),S=S.add(R),T=V(T,D)}return new z(S,T)}n.A=function(T){return Z(this,T).h},n.and=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)&T.i(A);return new s(C,this.h&T.h)},n.or=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)|T.i(A);return new s(C,this.h|T.h)},n.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)^T.i(A);return new s(C,this.h^T.h)};function ge(T){for(var I=T.g.length+1,C=[],A=0;A<I;A++)C[A]=T.i(A)<<1|T.i(A-1)>>>31;return new s(C,T.h)}function J(T,I){var C=I>>5;I%=32;for(var A=T.g.length-C,S=[],R=0;R<A;R++)S[R]=0<I?T.i(R+C)>>>I|T.i(R+C+1)<<32-I:T.i(R+C);return new s(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yE=$R.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,bo=$R.Integer=s}).apply(typeof BR<"u"?BR:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fi={};var vE,v4,fc,wE,bl,Bp,_E,EE,IE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var k=m++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function E(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var $=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)$[Le-2]=arguments[Le];return f.prototype[x].apply(v,$)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function N(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let $=0;$<k;$++)c[x+$]=v[$]}else c.push(v)}}class V{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function W(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ge=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let k=0;k<C.length;k++)m=C[k],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function S(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=Di;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Rn{constructor(){this.h=this.g=null}add(f,m){let v=bi.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var bi=new V(()=>new $c,c=>c.reset());class $c{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ci,Vr=!1,Di=new Rn,un=()=>{let c=a.Promise.resolve(void 0);Ci=()=>{c.then(Ti)}};var Ti=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=bi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Vr=!1};function jt(){this.s=this.s,this.C=this.C}jt.prototype.s=!1,jt.prototype.ma=function(){this.s||(this.s=!0,this.N())},jt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Ai=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function xn(c,f){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(ge){e:{try{Z(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Xl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xn.aa.h.call(this)}}M(xn,Tt);var Xl={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xn="closure_listenable_"+(1e6*Math.random()|0),Hc=0;function em(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++Hc,this.da=this.fa=!1}function Si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ri(c){this.src=c,this.g={},this.h=0}Ri.prototype.add=function(c,f,m,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var $=qc(c,f,v,x);return-1<$?(f=c[$],m||(f.fa=!1)):(f=new em(f,this.src,k,!!v,x),f.fa=m,c.push(f)),f};function xi(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(Si(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function qc(c,f,m,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==v)return x}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),ln={};function ed(c,f,m,v,x){if(v&&v.once)return zc(c,f,m,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)ed(c,f[k],m,v,x);return null}return m=ut(m),c&&c[Xn]?c.K(f,m,d(v)?!!v.capture:!!v,x):Bt(c,f,m,!1,v,x)}function Bt(c,f,m,v,x,k){if(!f)throw Error("Invalid event type");var $=d(x)?!!x.capture:!!x,Le=Mn(c);if(Le||(c[Ot]=Le=new Ri(c)),m=Le.add(f,m,v,$,k),m.proxy)return m;if(v=zs(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)Ai||(x=$),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(dn(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function zs(){function c(m){return f.call(c.src,c.listener,m)}let f=er;return c}function zc(c,f,m,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)zc(c,f[k],m,v,x);return null}return m=ut(m),c&&c[Xn]?c.L(f,m,d(v)?!!v.capture:!!v,x):Bt(c,f,m,!0,v,x)}function Gc(c,f,m,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)Gc(c,f[k],m,v,x);else v=d(v)?!!v.capture:!!v,m=ut(m),c&&c[Xn]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],m=qc(k,m,v,x),-1<m&&(Si(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=Mn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=qc(f,m,v,x)),(m=-1<c?f[c]:null)&&Ie(m))}function Ie(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Xn])xi(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(dn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Mn(f))?(xi(m,c),m.h==0&&(m.src=null,f[Ot]=null)):Si(c)}}}function dn(c){return c in ln?ln[c]:ln[c]="on"+c}function er(c,f){if(c.da)c=!0;else{f=new xn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&Ie(c),c=m.call(v,f)}return c}function Mn(c){return c=c[Ot],c instanceof Ri?c:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(c){return typeof c=="function"?c:(c[et]||(c[et]=function(f){return c.handleEvent(f)}),c[et])}function lt(){jt.call(this),this.i=new Ri(this),this.M=this,this.F=null}M(lt,jt),lt.prototype[Xn]=!0,lt.prototype.removeEventListener=function(c,f,m,v){Gc(this,c,f,m,v)};function At(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Tt(f,c);else if(f instanceof Tt)f.target=f.target||c;else{var x=f;f=new Tt(v,c),A(f,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var $=f.g=m[k];x=tr($,v,!0,f)&&x}if($=f.g=c,x=tr($,v,!0,f)&&x,x=tr($,v,!1,f)&&x,m)for(k=0;k<m.length;k++)$=f.g=m[k],x=tr($,v,!1,f)&&x}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)Si(m[v]);delete c.g[f],c.h--}}this.F=null},lt.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},lt.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function tr(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var $=f[k];if($&&!$.da&&$.capture==m){var Le=$.listener,_t=$.ha||$.src;$.fa&&xi(c.i,$),x=Le.call(_t,v)!==!1&&x}}return x&&!v.defaultPrevented}function Ft(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function td(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,td(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class nd extends jt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:td(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(c){jt.call(this),this.h=c,this.g={}}M(Mi,jt);var Gs=[];function rd(c){J(c.g,function(f,m){this.g.hasOwnProperty(m)&&Ie(f)},c),c.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),rd(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wc=a.JSON.stringify,tm=a.JSON.parse,nm=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nn(){}Nn.prototype.h=null;function id(c){return c.h||(c.h=c.i())}function od(){}var Oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kc(){Tt.call(this,"d")}M(Kc,Tt);function Qc(){Tt.call(this,"c")}M(Qc,Tt);var Pn={},sd=null;function Ws(){return sd=sd||new lt}Pn.La="serverreachability";function ad(c){Tt.call(this,Pn.La,c)}M(ad,Tt);function Fo(c){let f=Ws();At(f,new ad(f))}Pn.STAT_EVENT="statevent";function cd(c,f){Tt.call(this,Pn.STAT_EVENT,c),this.stat=f}M(cd,Tt);function wt(c){let f=Ws();At(f,new cd(f,c))}Pn.Ma="timingevent";function ud(c,f){Tt.call(this,Pn.Ma,c),this.size=f}M(ud,Tt);function Lo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function rm(c,f,m,v,x,k){c.info(function(){if(c.g)if(k)for(var $="",Le=k.split("&"),_t=0;_t<Le.length;_t++){var Ae=Le[_t].split("=");if(1<Ae.length){var St=Ae[0];Ae=Ae[1];var Et=St.split("_");$=2<=Et.length&&Et[1]=="type"?$+(St+"="+Ae+"&"):$+(St+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+$})}function im(c,f,m,v,x,k,$){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+k+" "+$})}function ke(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+sm(c,m)+(v?" "+v:"")})}function om(c,f){c.info(function(){return"TIMEOUT: "+f})}Vo.prototype.info=function(){};function sm(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Wc(m)}catch{return f}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ld={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yc;function Qs(){}M(Qs,Nn),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Yc=new Qs;function _n(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}var Zc={},Pi={};function Ge(c,f,m){c.L=1,c.v=Zs(En(f)),c.m=m,c.P=!0,dd(c,null)}function dd(c,f){c.F=Date.now(),Uo(c),c.A=En(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Ad(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Ni,c.g=hu(c.j,m?f:null,!c.m),0<c.O&&(c.M=new nd(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Gs[0]=x.toString()),x=Gs);for(var k=0;k<x.length;k++){var $=ed(m,x[k],v||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Fo(),rm(c.i,c.u,c.A,c.l,c.R,c.m)}_n.prototype.ca=function(c){c=c.target;let f=this.M;f&&On(c)==3?f.j():this.Y(c)},_n.prototype.Y=function(c){try{if(c==this.g)e:{let Et=On(this.g);var f=this.g.Ba();let sr=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||kd(this.g)))){this.J||Et!=4||f==7||(f==8||0>=sr?Fo(3):Fo(2)),Jc(this);var m=this.g.Z();this.X=m;t:if(hd(this)){var v=kd(this.g);c="";var x=v.length,k=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),jo(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,im(this.i,this.u,this.A,this.l,this.R,Et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,_t=this.g;if((Le=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Le)){var Ae=Le;break t}}Ae=null}if(m=Ae)ke(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,m);else{this.o=!1,this.s=3,wt(12),nr(this),jo(this);break e}}if(this.P){m=!0;let hn;for(;!this.J&&this.C<$.length;)if(hn=am(this,$),hn==Pi){Et==4&&(this.s=4,wt(14),m=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Zc){this.s=4,wt(15),ke(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else ke(this.i,this.l,hn,null),Xc(this,hn);if(hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||$.length!=0||this.h.h||(this.s=1,wt(16),m=!1),this.o=this.o&&m,!m)ke(this.i,this.l,$,"[Invalid Chunked Response]"),nr(this),jo(this);else if(0<$.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ui(St),St.M=!0,wt(11))}}else ke(this.i,this.l,$,null),Xc(this,$);Et==4&&nr(this),this.o&&!this.J&&(Et==4?cu(this.j,this):(this.o=!1,Uo(this)))}else mm(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),nr(this),jo(this)}}}catch{}finally{}};function hd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function am(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Pi:(m=Number(f.substring(m,v)),isNaN(m)?Zc:(v+=1,v+m>f.length?Pi:(f=f.slice(v,v+m),c.C=v+m,f)))}_n.prototype.cancel=function(){this.J=!0,nr(this)};function Uo(c){c.S=Date.now()+c.I,fd(c,c.I)}function fd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lo(_(c.ba,c),f)}function Jc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_n.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(om(this.i,this.A),this.L!=2&&(Fo(),wt(17)),nr(this),this.s=2,jo(this)):fd(this,this.S-c)};function jo(c){c.j.G==0||c.J||cu(c.j,c)}function nr(c){Jc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,rd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Xc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||eu(m.h,c))){if(!c.K&&eu(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ko(m),ta(m);else break e;Wo(m),wt(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Lo(_(m.Za,m),6e3));if(1>=yd(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else or(m,11)}else if((c.K||m.g==c)&&Ko(m),!W(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let Ae=x[f];if(m.T=Ae[0],Ae=Ae[1],m.G==2)if(Ae[0]=="c"){m.K=Ae[1],m.ia=Ae[2];let St=Ae[3];St!=null&&(m.la=St,m.j.info("VER="+m.la));let Et=Ae[4];Et!=null&&(m.Aa=Et,m.j.info("SVER="+m.Aa));let sr=Ae[5];sr!=null&&typeof sr=="number"&&0<sr&&(v=1.5*sr,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let hn=c.g;if(hn){let ra=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var k=v.h;k.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(tu(k,k.h),k.h=null))}if(v.D){let pu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(v.ya=pu,qe(v.I,v.D,pu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var $=c;if(v.qa=du(v,v.J?v.ia:null,v.W),$.K){vd(v.h,$);var Le=$,_t=v.L;_t&&(Le.I=_t),Le.B&&(Jc(Le),Uo(Le)),v.g=$}else au(v);0<m.i.length&&na(m)}else Ae[0]!="stop"&&Ae[0]!="close"||or(m,7);else m.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?or(m,7):ea(m):Ae[0]!="noop"&&m.l&&m.l.ta(Ae),m.v=0)}}Fo(4)}catch{}}var pd=class{constructor(c,f){this.g=c,this.map=f}};function gd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function md(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yd(c){return c.h?1:c.g?c.g.size:0}function eu(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function tu(c,f){c.g?c.g.add(f):c.h=f}function vd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}gd.prototype.cancel=function(){if(this.i=wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function _d(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function cm(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function nu(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=cm(c),v=_d(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],m&&m[k],c)}var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function um(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var k=c[m].substring(0,v);x=c[m].substring(v+1)}else k=c[m];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function tn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof tn){this.h=c.h,Ys(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var f=c.i,m=new Ho;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),ru(this,m),this.m=c.m}else c&&(f=String(c).match(Ed))?(this.h=!1,Ys(this,f[1]||"",!0),this.o=Bo(f[2]||""),this.g=Bo(f[3]||"",!0),ki(this,f[4]),this.l=Bo(f[5]||"",!0),ru(this,f[6]||"",!0),this.m=Bo(f[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}tn.prototype.toString=function(){var c=[],f=this.j;f&&c.push($o(f,Id,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push($o(f,Id,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push($o(m,m.charAt(0)=="/"?dm:Oi,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",$o(m,Cd)),c.join("")};function En(c){return new tn(c)}function Ys(c,f,m){c.j=m?Bo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function ru(c,f,m){f instanceof Ho?(c.i=f,hm(c.i,c.h)):(m||(f=$o(f,bd)),c.i=new Ho(f,c.h))}function qe(c,f,m){c.i.set(f,m)}function Zs(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $o(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,lm),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lm(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Id=/[#\/\?@]/g,Oi=/[#\?:]/g,dm=/[#\?]/g,bd=/[#\?@]/g,Cd=/#/g;function Ho(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&um(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=Ho.prototype,n.add=function(c,f){rr(this),this.i=null,c=Fi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Dd(c,f){rr(c),f=Fi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Td(c,f){return rr(c),f=Fi(c,f),c.g.has(f)}n.forEach=function(c,f){rr(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},n.na=function(){rr(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)m.push(f[v])}return m},n.V=function(c){rr(this);let f=[];if(typeof c=="string")Td(this,c)&&(f=f.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return rr(this),this.i=null,c=Fi(this,c),Td(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Ad(c,f,m){Dd(c,f),0<m.length&&(c.i=null,c.g.set(Fi(c,f),O(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let k=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var x=k;$[v]!==""&&(x+="="+encodeURIComponent(String($[v]))),c.push(x)}}return this.i=c.join("&")};function Fi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function hm(c,f){f&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Dd(this,v),Ad(this,x,m))},c)),c.j=f}function Li(c,f){let m=new Vo;if(a.Image){let v=new Image;v.onload=E(ir,m,"TestLoadImage: loaded",!0,f,v),v.onerror=E(ir,m,"TestLoadImage: error",!1,f,v),v.onabort=E(ir,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(ir,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function fm(c,f){let m=new Vo,v=new AbortController,x=setTimeout(()=>{v.abort(),ir(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?ir(m,"TestPingServer: ok",!0,f):ir(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),ir(m,"TestPingServer: error",!1,f)})}function ir(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function Sd(){this.g=new nm}function pm(c,f,m){let v=m||"";try{nu(c,function(x,k){let $=x;d(x)&&($=Wc(x)),f.push(v+k+"="+encodeURIComponent($))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function nn(c){this.l=c.Ub||null,this.j=c.eb||!1}M(nn,Nn),nn.prototype.g=function(){return new Js(this.l,this.j)},nn.prototype.i=function(c){return function(){return c}}({});function Js(c,f){lt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Js,lt),n=Js.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,qo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?kn(this):qo(this),this.readyState==3&&iu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,kn(this))},n.Qa=function(c){this.g&&(this.response=c,kn(this))},n.ga=function(){this.g&&kn(this)};function kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qo(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function qo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rd(c){let f="";return J(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function ou(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Rd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):qe(c,f,m))}function We(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(We,lt);var Vi=/^https?$/i,gm=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yc.g(),this.v=this.o?id(this.o):id(Yc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){xd(this,k);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())m.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gm,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,$]of m)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pd(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){xd(this,k)}};function xd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Md(c),Xs(c)}function Md(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,At(this,"complete"),At(this,"abort"),Xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Nd(this):this.bb())},n.bb=function(){Nd(this)};function Nd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Ft(c.Ea,0,c);else if(At(c,"readystatechange"),On(c)==4){c.h=!1;try{let $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=$===0){var x=String(c.D).match(Ed)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Vi.test(x?x.toLowerCase():"")}m=v}if(m)At(c,"complete"),At(c,"success");else{c.m=6;try{var k=2<On(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",Md(c)}}finally{Xs(c)}}}}function Xs(c,f){if(c.g){Pd(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||At(c,"ready");try{m.onreadystatechange=v}catch{}}}function Pd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),tm(f)}};function kd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mm(c){let f={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(W(c[v]))continue;var m=S(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=f[x]||[];f[x]=k,k.push(m)}T(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Go(c){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,c),this.cb=zo("retryDelaySeedMs",1e4,c),this.Wa=zo("forwardChannelMaxRetries",2,c),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gd(c&&c.concurrentRequestLimit),this.Da=new Sd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){wt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=du(this,null,this.W),na(this)};function ea(c){if(Od(c),c.G==3){var f=c.U++,m=En(c.I);if(qe(m,"SID",c.K),qe(m,"RID",f),qe(m,"TYPE","terminate"),Ur(c,m),f=new _n(c,c.j,f),f.L=2,f.v=Zs(En(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=hu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Uo(f)}lu(c)}function ta(c){c.g&&(Ui(c),c.g.cancel(),c.g=null)}function Od(c){ta(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function na(c){if(!md(c.h)&&!c.s){c.s=!0;var f=c.Ga;Ci||un(),Vr||(Ci(),Vr=!0),Di.add(f,c),c.B=0}}function Fd(c,f){return yd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lo(_(c.Ga,c,f),uu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new _n(this,this.j,c),k=this.o;if(this.S&&(k?(k=I(k),A(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=su(this,x,f),m=En(this.I),qe(m,"RID",c),qe(m,"CVER",22),this.D&&qe(m,"X-HTTP-Session-Id",this.D),Ur(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(Rd(k)))+"&"+f:this.m&&ou(m,this.m,k)),tu(this.h,x),this.Ua&&qe(m,"TYPE","init"),this.P?(qe(m,"$req",f),qe(m,"SID","null"),x.T=!0,Ge(x,m,null)):Ge(x,m,f),this.G=2}}else this.G==3&&(c?Ld(this,c):this.i.length==0||md(this.h)||Ld(this))};function Ld(c,f){var m;f?m=f.l:m=c.U++;let v=En(c.I);qe(v,"SID",c.K),qe(v,"RID",m),qe(v,"AID",c.T),Ur(c,v),c.m&&c.o&&ou(v,c.m,c.o),m=new _n(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=su(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tu(c.h,m),Ge(m,v,f)}function Ur(c,f){c.H&&J(c.H,function(m,v){qe(f,v,m)}),c.l&&nu({},function(m,v){qe(f,v,m)})}function su(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let $=["count="+m];k==-1?0<m?(k=x[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Le=!0;for(let _t=0;_t<m;_t++){let Ae=x[_t].g,St=x[_t].map;if(Ae-=k,0>Ae)k=Math.max(0,x[_t].g-100),Le=!1;else try{pm(St,$,"req"+Ae+"_")}catch{v&&v(St)}}if(Le){v=$.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function au(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Ci||un(),Vr||(Ci(),Vr=!0),Di.add(f,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lo(_(c.Fa,c),uu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lo(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ta(this),Vd(this))};function Ui(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Vd(c){c.g=new _n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=En(c.qa);qe(f,"RID","rpc"),qe(f,"SID",c.K),qe(f,"AID",c.T),qe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(f,"TO",c.ja),qe(f,"TYPE","xmlhttp"),Ur(c,f),c.m&&c.o&&ou(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Zs(En(f)),m.m=null,m.P=!0,dd(m,c)}n.Za=function(){this.C!=null&&(this.C=null,ta(this),Wo(this),wt(19))};function Ko(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function cu(c,f){var m=null;if(c.g==f){Ko(c),Ui(c),c.g=null;var v=2}else if(eu(c.h,f))m=f.D,vd(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=Ws(),At(v,new ud(v,m)),na(c)}else au(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Fd(c,f)||v==2&&Wo(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:or(c,5);break;case 4:or(c,10);break;case 3:or(c,6);break;default:or(c,2)}}}function uu(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function or(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new tn(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ys(v,"https"),Zs(v),x?Li(v.toString(),m):fm(v.toString(),m)}else wt(2);c.G=0,c.l&&c.l.sa(f),lu(c),Od(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function lu(c){if(c.G=0,c.ka=[],c.l){let f=wd(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function du(c,f,m){var v=m instanceof tn?En(m):new tn(m);if(v.g!="")f&&(v.g=f+"."+v.g),ki(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new tn(null);v&&Ys(k,v),f&&(k.g=f),x&&ki(k,x),m&&(k.l=m),v=k}return m=c.D,f=c.ya,m&&f&&qe(v,m,f),qe(v,"VER",c.la),Ur(c,v),v}function hu(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new We(new nn({eb:m})):new We(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}n=fu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qo(){}Qo.prototype.g=function(c,f){return new dt(c,f)};function dt(c,f){lt.call(this),this.g=new Go(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!W(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!W(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ji(this)}M(dt,lt),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){ea(this.g)},dt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Wc(c),c=m);f.i.push(new pd(f.Ya++,c)),f.G==3&&na(f)},dt.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,dt.aa.N.call(this)};function Ud(c){Kc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Ud,Kc);function jd(){Qc.call(this),this.status=1}M(jd,Qc);function ji(c){this.g=c}M(ji,fu),ji.prototype.ua=function(){At(this.g,"a")},ji.prototype.ta=function(c){At(this.g,new Ud(c))},ji.prototype.sa=function(c){At(this.g,new jd)},ji.prototype.ra=function(){At(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,IE=fi.createWebChannelTransport=function(){return new Qo},EE=fi.getStatEventTarget=function(){return Ws()},_E=fi.Event=Pn,Bp=fi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,bl=fi.ErrorCode=Ks,ld.COMPLETE="complete",wE=fi.EventType=ld,od.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",lt.prototype.listen=lt.prototype.K,fc=fi.WebChannel=od,v4=fi.FetchXmlHttpFactory=nn,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,vE=fi.XhrIo=We}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var HR="@firebase/firestore";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var kc="10.14.0";var ks=new mo("@firebase/firestore");function Cl(){return ks.logLevel}function Q(n,...e){if(ks.logLevel<=De.DEBUG){let t=e.map(sb);ks.debug(`Firestore (${kc}): ${n}`,...t)}}function pi(n,...e){if(ks.logLevel<=De.ERROR){let t=e.map(sb);ks.error(`Firestore (${kc}): ${n}`,...t)}}function wc(n,...e){if(ks.logLevel<=De.WARN){let t=e.map(sb);ks.warn(`Firestore (${kc}): ${n}`,...t)}}function sb(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function je(n,e){n||ce()}function ue(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Gp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},AE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}},SE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},RE=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new kt(e)}},xE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ME=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},NE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},PE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(this.o===void 0);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new NE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Wp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=w4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Oe(n,e){return n<e?-1:n>e?1:0}function _c(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ut(0,0))}static max(){return new n(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(),r===void 0?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},nt=class n extends Kp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new te(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},_4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vn=class n extends Kp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return _4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new te(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var oe=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};var kE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};kE.UNKNOWN_ID=-1;function E4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new Os(i,oe.empty(),e)}function I4(n){return new Os(n.readTime,n.key,-1)}var Os=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),oe.empty(),-1)}static max(){return new n(fe.max(),oe.empty(),-1)}};function b4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}var C4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",OE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Bl(n){return b(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==C4)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function D4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $l(n){return n.name==="IndexedDbTransactionError"}var _x=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Eg(n){return n==null}function xl(n){return n===0&&1/n==-1/0}function T4(n){return typeof n=="number"&&Number.isInteger(n)&&!xl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var A4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$Y=[...A4,"documentOverlays"],S4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R4=S4,x4=[...R4,"indexConfiguration","indexState","indexEntries"];var HY=[...x4,"globals"];function qR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ex(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var rt=class n{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}},yc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Kt=class n{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(e){return new Qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Qp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ar=class n{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Kt(vn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Yp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qt.EMPTY_BYTE_STRING=new Qt("");var M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(n){if(je(!!n),typeof n=="string"){let e=0,t=M4.exec(n);if(je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function To(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}function ab(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function cb(n){let e=n.mapValue.fields.__previous_value__;return ab(e)?cb(e):e}function Ml(n){let e=gi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}var FE=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Zp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ab(n)?4:bx(n)?9007199254740991:Ix(n)?10:11:ce()}function Nr(n,e){if(n===e)return!0;let t=Fs(n);if(t!==Fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ml(n).isEqual(Ml(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gi(i.timestampValue),a=gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return To(i.bytesValue).isEqual(To(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?xl(s)===xl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qR(s)!==qR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nr(s[u],a[u])))return!1;return!0}(n,e);default:return ce()}}function Nl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Ec(n,e){if(n===e)return 0;let t=Fs(n),r=Fs(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),u=Ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return zR(n.timestampValue,e.timestampValue);case 4:return zR(Ml(n),Ml(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=To(o),u=To(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Oe(a[d],u[d]);if(p!==0)return p}return Oe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Oe(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Oe(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let g=o.fields||{},_=s.fields||{},E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=Oe(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:GR(E,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===$p.mapValue&&s===$p.mapValue)return 0;if(o===$p.mapValue)return 1;if(s===$p.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Oe(u[g],p[g]);if(_!==0)return _;let E=Ec(a[u[g]],d[p[g]]);if(E!==0)return E}return Oe(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ce()}}function zR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);let t=gi(n),r=gi(e),i=Oe(t.seconds,r.seconds);return i!==0?i:Oe(t.nanos,r.nanos)}function GR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ec(t[i],r[i]);if(o)return o}return Oe(t.length,r.length)}function Ic(n){return LE(n)}function LE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return To(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=LE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${LE(t.fields[s])}`;return i+"}"}(n.mapValue):ce()}function VE(n){return!!n&&"integerValue"in n}function ub(n){return!!n&&"arrayValue"in n}function WR(n){return!!n&&"nullValue"in n}function KR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function Ix(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Oc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Zn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Tl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Tl(this.value))}};function Cx(n){let e=[];return Oc(n.fields,(t,r)=>{let i=new vn([t]);if(qp(r)){let o=Cx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ar(e)}var Jn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Zn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bc=class{constructor(e,t){this.position=e,this.inclusive=t}};function QR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),t.key):r=Ec(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}var Cc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function N4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Jp=class{},Dt=class n extends Jp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jE(e,t,r):t==="array-contains"?new HE(e,r):t==="in"?new qE(e,r):t==="not-in"?new zE(e,r):t==="array-contains-any"?new GE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new BE(e,r):new $E(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ec(t,this.value)):t!==null&&Fs(this.value)===Fs(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pr=class n extends Jp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Dx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Dx(n){return n.op==="and"}function Tx(n){return P4(n)&&Dx(n)}function P4(n){for(let e of n.filters)if(e instanceof Pr)return!1;return!0}function UE(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Ic(n.value);if(Tx(n))return n.filters.map(e=>UE(e)).join(",");{let e=n.filters.map(t=>UE(t)).join(",");return`${n.op}(${e})`}}function Ax(n,e){return n instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)}(n,e):n instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Ax(s,i.filters[a]),!0):!1}(n,e):void ce()}function Sx(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ic(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Sx).join(" ,")+"}"}(n):"Filter"}var jE=class extends Dt{constructor(e,t,r){super(e,t,r),this.key=oe.fromName(r.referenceValue)}matches(e){let t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}},BE=class extends Dt{constructor(e,t){super(e,"in",t),this.keys=Rx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},$E=class extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=Rx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Rx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>oe.fromName(r.referenceValue))}var HE=class extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ub(t)&&Nl(t.arrayValue,this.value)}},qE=class extends Dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Nl(this.value.arrayValue,t)}},zE=class extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Nl(this.value.arrayValue,t)}},GE=class extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ub(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}};var WE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function ZR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new WE(n,e,t,r,i,o,s)}function lb(n){let e=ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>UE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ic(r)).join(",")),e.ue=t}return e.ue}function db(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ax(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YR(n.startAt,e.startAt)&&YR(n.endAt,e.endAt)}function KE(n){return oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Dc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function k4(n,e,t,r,i,o,s,a){return new Dc(n,e,t,r,i,o,s,a)}function hb(n){return new Dc(n)}function JR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O4(n){return n.collectionGroup!==null}function Al(n){let e=ue(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(vn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Cc(o,r))}),t.has(vn.keyField().canonicalString())||e.ce.push(new Cc(vn.keyField(),r))}return e.ce}function xr(n){let e=ue(n);return e.le||(e.le=F4(e,Al(n))),e.le}function F4(n,e){if(n.limitType==="F")return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Cc(i.field,o)});let t=n.endAt?new bc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bc(n.startAt.position,n.startAt.inclusive):null;return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function QE(n,e,t){return new Dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ig(n,e){return db(xr(n),xr(e))&&n.limitType===e.limitType}function xx(n){return`${lb(xr(n))}|lt:${n.limitType}`}function pc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Sx(i)).join(", ")}]`),Eg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ic(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ic(i)).join(",")),`Target(${r})`}(xr(n))}; limitType=${n.limitType})`}function bg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Al(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=QR(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,Al(r),i)||r.endAt&&!function(s,a,u){let d=QR(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,Al(r),i))}(n,e)}function L4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mx(n){return(e,t)=>{let r=!1;for(let i of Al(n)){let o=V4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function V4(n,e,t){let r=n.field.isKeyField()?oe.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Ec(u,d):ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Ao=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ex(this.inner)}size(){return this.innerSize}};var U4=new rt(oe.comparator);function mi(){return U4}var Nx=new rt(oe.comparator);function Dl(...n){let e=Nx;for(let t of n)e=e.insert(t.key,t);return e}function Px(n){let e=Nx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ns(){return Sl()}function kx(){return Sl()}function Sl(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}var j4=new rt(oe.comparator),B4=new Kt(oe.comparator);function Te(...n){let e=B4;for(let t of n)e=e.add(t);return e}var $4=new Kt(Oe);function H4(){return $4}function fb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function Ox(n){return{integerValue:""+n}}function q4(n,e){return T4(e)?Ox(e):fb(n,e)}var Tc=class{constructor(){this._=void 0}};function z4(n,e,t){return n instanceof Ac?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ab(o)&&(o=cb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ls?Lx(n,e):n instanceof Vs?Vx(n,e):function(i,o){let s=Fx(i,o),a=XR(s)+XR(i.Pe);return VE(s)&&VE(i.Pe)?Ox(a):fb(i.serializer,a)}(n,e)}function G4(n,e,t){return n instanceof Ls?Lx(n,e):n instanceof Vs?Vx(n,e):t}function Fx(n,e){return n instanceof Sc?function(r){return VE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ac=class extends Tc{},Ls=class extends Tc{constructor(e){super(),this.elements=e}};function Lx(n,e){let t=Ux(e);for(let r of n.elements)t.some(i=>Nr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Vs=class extends Tc{constructor(e){super(),this.elements=e}};function Vx(n,e){let t=Ux(e);for(let r of n.elements)t=t.filter(i=>!Nr(i,r));return{arrayValue:{values:t}}}var Sc=class extends Tc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function XR(n){return Ze(n.integerValue||n.doubleValue)}function Ux(n){return ub(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function W4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ls&&i instanceof Ls||r instanceof Vs&&i instanceof Vs?_c(r.elements,i.elements,Nr):r instanceof Sc&&i instanceof Sc?Nr(r.Pe,i.Pe):r instanceof Ac&&i instanceof Ac}(n.transform,e.transform)}var YE=class{constructor(e,t){this.version=e,this.transformResults=t}},Co=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Rc=class{};function jx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xp(n.key,Co.none()):new Us(n.key,n.data,Co.none());{let t=n.data,r=Zn.empty(),i=new Kt(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yi(n.key,r,new Ar(i.toArray()),Co.none())}}function K4(n,e,t){n instanceof Us?function(i,o,s){let a=i.value.clone(),u=tx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof yi?function(i,o,s){if(!zp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Bx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,r){return n instanceof Us?function(o,s,a,u){if(!zp(o.precondition,s))return a;let d=o.value.clone(),p=nx(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof yi?function(o,s,a,u){if(!zp(o.precondition,s))return a;let d=nx(o.fieldTransforms,u,s),p=s.data;return p.setAll(Bx(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return zp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Q4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Fx(r.transform,i||null);o!=null&&(t===null&&(t=Zn.empty()),t.set(r.field,o))}return t||null}function ex(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(o,s)=>W4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Us=class extends Rc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yi=class extends Rc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Bx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tx(n,e,t){let r=new Map;je(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,G4(s,a,t[i]))}return r}function nx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,z4(o,s,e))}return r}var Xp=class extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ZE=class extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var JE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&K4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=kx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=jx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Te())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(t,r)=>ex(t,r))&&_c(this.baseMutations,e.baseMutations,(t,r)=>ex(t,r))}},XE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length);let i=function(){return j4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var eI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var yt,Pe;function Y4(n){switch(n){default:return ce();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function $x(n){if(n===void 0)return pi("GRPC error has no .code"),L.UNKNOWN;switch(n){case yt.OK:return L.OK;case yt.CANCELLED:return L.CANCELLED;case yt.UNKNOWN:return L.UNKNOWN;case yt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case yt.INTERNAL:return L.INTERNAL;case yt.UNAVAILABLE:return L.UNAVAILABLE;case yt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case yt.NOT_FOUND:return L.NOT_FOUND;case yt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case yt.ABORTED:return L.ABORTED;case yt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case yt.DATA_LOSS:return L.DATA_LOSS;default:return ce()}}(Pe=yt||(yt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var rx=null;function Z4(){return new TextEncoder}var J4=new bo([4294967295,4294967295],0);function ix(n){let e=Z4().encode(n),t=new yE;return t.update(e),new Uint8Array(t.digest())}function ox(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bo([t,r],0),new bo([i,o],0)]}var nI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ps(`Invalid padding: ${t}`);if(r<0)throw new Ps(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ps(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ps(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=bo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(bo.fromNumber(r)));return i.compare(J4)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=ix(e),[r,i]=ox(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=ix(e),[r,i]=ox(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ps=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new rt(Oe),mi(),Te())}},Pl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Te(),Te(),Te())}};var vc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},tg=class{constructor(e,t){this.targetId=e,this.me=t}},ng=class{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},rg=class{constructor(){this.fe=0,this.ge=ax(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),t=Te(),r=Te();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Pl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ax()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=mi(),this.qe=sx(),this.Qe=new rt(Oe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(KE(o))if(r===0){let s=new oe(o.path);this.Ue(t,s,Jn.newNoDocument(s,fe.min()))}else je(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}rx?.et(function(p,g,_,E,M){var O,N,V,W,z,Z;let ge={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},J=g.unchangedNames;return J&&(ge.bloomFilter={applied:M===0,hashCount:(O=J?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(V=(N=J?.bits)===null||N===void 0?void 0:N.bitmap)===null||V===void 0?void 0:V.length)!==null&&W!==void 0?W:0,padding:(Z=(z=J?.bits)===null||z===void 0?void 0:z.padding)!==null&&Z!==void 0?Z:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),ge}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=To(r).toUint8Array()}catch(u){if(u instanceof Yp)return wc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new nI(s,i,o)}catch(u){return wc(u instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&KE(a.target)){let u=new oe(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Jn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Te();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new eg(e,t,this.Qe,this.ke,r);return this.ke=mi(),this.qe=sx(),this.Qe=new rt(Oe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Kt(Oe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function sx(){return new rt(oe.comparator)}function ax(){return new rt(oe.comparator)}var X4={asc:"ASCENDING",desc:"DESCENDING"},eq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tq={and:"AND",or:"OR"},iI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function oI(n,e){return n.useProto3Json||Eg(e)?e:{value:e}}function ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nq(n,e){return ig(n,e.toTimestamp())}function Mr(n){return je(!!n),fe.fromTimestamp(function(t){let r=gi(t);return new Ut(r.seconds,r.nanos)}(n))}function pb(n,e){return sI(n,e).canonicalString()}function sI(n,e){let t=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qx(n){let e=nt.fromString(n);return je(Qx(e)),e}function aI(n,e){return pb(n.databaseId,e.path)}function bE(n,e){let t=qx(e);if(t.get(1)!==n.databaseId.projectId)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new oe(Gx(t))}function zx(n,e){return pb(n.databaseId,e)}function rq(n){let e=qx(n);return e.length===4?nt.emptyPath():Gx(e)}function cI(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gx(n){return je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cx(n,e,t){return{name:aI(n,e),fields:t.value.mapValue.fields}}function iq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(je(p===void 0||typeof p=="string"),Qt.fromBase64String(p||"")):(je(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Qt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?L.UNKNOWN:$x(d.code);return new te(p,d.message||"")}(s);t=new ng(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bE(n,r.document.name),o=Mr(r.document.updateTime),s=r.document.createTime?Mr(r.document.createTime):fe.min(),a=new Zn({mapValue:{fields:r.document.fields}}),u=Jn.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new vc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bE(n,r.document),o=r.readTime?Mr(r.readTime):fe.min(),s=Jn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new vc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bE(n,r.document),o=r.removedTargetIds||[];t=new vc([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tI(i,o),a=r.targetId;t=new tg(a,s)}}return t}function oq(n,e){let t;if(e instanceof Us)t={update:cx(n,e.key,e.value)};else if(e instanceof Xp)t={delete:aI(n,e.key)};else if(e instanceof yi)t={update:cx(n,e.key,e.data),updateMask:pq(e.fieldMask)};else{if(!(e instanceof ZE))return ce();t={verify:aI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ac)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(n,e.precondition)),t}function sq(n,e){return n&&n.length>0?(je(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Mr(i.updateTime):Mr(o);return s.isEqual(fe.min())&&(s=Mr(o)),new YE(s,i.transformResults||[])}(t,e))):[]}function aq(n,e){return{documents:[zx(n,e.path)]}}function cq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zx(n,i);let o=function(d){if(d.length!==0)return Kx(Pr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:gc(_.field),direction:dq(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=oI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function uq(n){let e=rq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){je(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(g){let _=Wx(g);return _ instanceof Pr&&Tx(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(_=>function(M){return new Cc(mc(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Eg(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new bc(E,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new bc(E,_)}(t.endAt)),k4(e,i,s,o,a,"F",u,d)}function lq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Wx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=mc(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=mc(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=mc(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=mc(t.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(mc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>Wx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function dq(n){return X4[n]}function hq(n){return eq[n]}function fq(n){return tq[n]}function gc(n){return{fieldPath:n.canonicalString()}}function mc(n){return vn.fromServerFormat(n.fieldPath)}function Kx(n){return n instanceof Dt?function(t){if(t.op==="=="){if(KR(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NAN"}};if(WR(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KR(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NOT_NAN"}};if(WR(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(t.field),op:hq(t.op),value:t.value}}}(n):n instanceof Pr?function(t){let r=t.getFilters().map(i=>Kx(i));return r.length===1?r[0]:{compositeFilter:{op:fq(t.op),filters:r}}}(n):ce()}function pq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var kl=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=Qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uI=class{constructor(e){this.ct=e}};function gq(n){let e=uq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?QE(e,e.limit,"L"):e}var og=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),xl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=gi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(To(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?bx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ix(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ze(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),oe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};og.vt=new og;var lI=class{constructor(){this.un=new dI}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Os.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},dI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(nt.comparator)).toArray()}};var zY=new Uint8Array(0);var Tr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(41943040,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);var Ol=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var hI=class{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var pI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rl(r.mutation,i,Ar.empty(),Ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Te()){let i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Dl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Te()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=mi(),s=Sl(),a=function(){return Sl()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof yi)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Rl(p.mutation,d,p.mutation.getFieldMask(),Ut.now())):s.set(d.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new fI(p,(g=s.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Sl(),i=new rt((s,a)=>s-a),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||Ar.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||Te()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=kx();p.forEach(_=>{if(!o.has(_)){let E=jx(t.get(_),r.get(_));E!==null&&g.set(_,E),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(Ns()),a=-1,u=o;return s.next(d=>B.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(p)?B.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Te())).next(p=>({batchId:a,changes:Px(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Dl();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{let d=function(g,_){return new Dc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Jn.newInvalidDocument(p)))});let a=Dl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&Rl(p.mutation,d,Ar.empty(),Ut.now()),bg(t,d)&&(a=a.insert(u,d))}),a})}};var gI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:gq(i.bundledQuery),readTime:Mr(i.readTime)}}(t)),B.resolve()}};var mI=class{constructor(){this.overlays=new rt(oe.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ns();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=Ns(),o=t.length+1,s=new oe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Ns(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ns(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return B.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eI(t,r));let o=this.Ir.get(t);o===void 0&&(o=Te(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var yI=class{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var Fl=class{constructor(){this.Tr=new Kt(vt.Er),this.dr=new Kt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new vt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new vt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new oe(new nt([])),r=new vt(t,e),i=new vt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new oe(new nt([])),r=new vt(t,e),i=new vt(t,e+1),o=Te();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new vt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},vt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return oe.comparator(e.key,t.key)||Oe(e.wr,t.wr)}static Ar(e,t){return Oe(e.wr,t.wr)||oe.comparator(e.key,t.key)}};var vI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Kt(vt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new JE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new vt(t,0),i=new vt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kt(Oe);return t.forEach(i=>{let o=new vt(i,0),s=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));let s=new vt(new oe(o),0),a=new Kt(Oe);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),B.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(t.mutations,i=>{let o=new vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new vt(t,0),i=this.br.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wI=class{constructor(e){this.Mr=e,this.docs=function(){return new rt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=mi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=mi(),s=t.path,a=new oe(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||b4(I4(p),r)<=0||(i.has(p.key)||bg(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ce()}Or(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _I(this)}getSize(e){return B.resolve(this.size)}},_I=class extends hI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var EI=class{constructor(e){this.persistence=e,this.Nr=new Ao(t=>lb(t),db),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fl,this.targetCount=0,this.kr=Ol.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}};var II=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new _x(0),this.Kr=!1,this.Kr=!0,this.$r=new yI,this.referenceDelegate=e(this),this.Ur=new EI(this),this.indexManager=new lI,this.remoteDocumentCache=function(i){return new wI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uI(t),this.Gr=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new vI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new bI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},bI=class extends OE{constructor(e){super(),this.currentSequenceNumber=e}},CI=class n{constructor(e){this.persistence=e,this.Jr=new Fl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{let i=oe.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var DI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Te(),i=Te();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var TI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var AI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IS()?8:D4(Nt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new TI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Cl()<=De.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Cl()<=De.DEBUG&&Q("QueryEngine","Query:",pc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Cl()<=De.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):B.resolve())}Yi(e,t){if(JR(t))return B.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=QE(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Te(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,QE(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return JR(t)||i.isEqual(fe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?B.resolve(null):(Cl()<=De.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pc(t)),this.rs(e,s,t,E4(i,-1)).next(a=>a))})}ts(e,t){let r=new Kt(Mx(e));return t.forEach((i,o)=>{bg(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Cl()<=De.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",pc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Os.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var SI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new rt(Oe),this._s=new Ao(o=>lb(o),db),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function mq(n,e,t,r){return new SI(n,e,t,r)}function Yx(n,e){return b(this,null,function*(){let t=ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Te();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function yq(n,e){let t=ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),E=B.resolve();return _.forEach(M=>{E=E.next(()=>p.getEntry(u,M)).next(O=>{let N=d.docVersions.get(M);je(N!==null),O.version.compareTo(N)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Te();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Zx(n){let e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function vq(n,e){let t=ue(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,g)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Qt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(g,E),function(O,N,V){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,E,p)&&a.push(t.Ur.updateTargetData(o,E))});let u=mi(),d=Te();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(wq(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(fe.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(g=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function wq(n,e,t){let r=Te(),i=Te();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=mi();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function _q(n,e){let t=ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eq(n,e){let t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new kl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function RI(n,e,t){return b(this,null,function*(){let r=ue(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!$l(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ux(n,e,t){let r=ue(n),i=fe.min(),o=Te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let g=ue(u),_=g._s.get(p);return _!==void 0?B.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,s,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:Te())).next(a=>(Iq(r,L4(e),a),{documents:a,Ts:o})))}function Iq(n,e,t){let r=n.us.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var sg=class{constructor(){this.activeTargetIds=H4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xI=class{constructor(){this.so=new sg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var MI=class{_o(e){}shutdown(){}};var ag=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hp=null;function CE(){return Hp===null?Hp=function(){return 268435456+Math.round(2147483648*Math.random())}():Hp++,"0x"+Hp.toString(16)}var bq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var NI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Wt="WebChannelConnection",PI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=CE(),u=this.xo(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(p=>(Q("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw wc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=bq[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=CE();return new Promise((s,a)=>{let u=new vE;u.setWithCredentials(!0),u.listenOnce(wE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bl.NO_ERROR:let p=u.getResponseJson();Q(Wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case bl.TIMEOUT:Q(Wt,`RPC '${e}' ${o} timed out`),a(new te(L.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:let g=u.getStatus();if(Q(Wt,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let M=function(N){let V=N.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(V)>=0?V:L.UNKNOWN}(E.status);a(new te(M,E.message))}else a(new te(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te(L.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q(Wt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);Q(Wt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=CE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IE(),a=EE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");Q(Wt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=s.createWebChannel(p,u),_=!1,E=!1,M=new NI({Io:N=>{E?Q(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(Q(Wt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),Q(Wt,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),O=(N,V,W)=>{N.listen(V,z=>{try{W(z)}catch(Z){setTimeout(()=>{throw Z},0)}})};return O(g,fc.EventType.OPEN,()=>{E||(Q(Wt,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,fc.EventType.CLOSE,()=>{E||(E=!0,Q(Wt,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,fc.EventType.ERROR,N=>{E||(E=!0,wc(Wt,`RPC '${e}' stream ${i} transport errored:`,N),M.So(new te(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,fc.EventType.MESSAGE,N=>{var V;if(!E){let W=N.data[0];je(!!W);let z=W,Z=z.error||((V=z[0])===null||V===void 0?void 0:V.error);if(Z){Q(Wt,`RPC '${e}' stream ${i} received error:`,Z);let ge=Z.status,J=function(C){let A=yt[C];if(A!==void 0)return $x(A)}(ge),T=Z.message;J===void 0&&(J=L.INTERNAL,T="Unknown error status: "+ge+" with message "+Z.message),E=!0,M.So(new te(J,T)),g.close()}else Q(Wt,`RPC '${e}' stream ${i} received:`,W),M.bo(W)}}),O(a,_E.STAT_EVENT,N=>{N.stat===Bp.PROXY?Q(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Bp.NOPROXY&&Q(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function DE(){return typeof document<"u"?document:null}function Cg(n){return new iI(n,!0)}var cg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ug=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cg(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new te(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kI=class extends ug{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=iq(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Mr(s.readTime):fe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=cI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=KE(u)?{documents:aq(o,u)}:{query:cq(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Hx(o,s.resumeToken);let d=oI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=ig(o,s.snapshotVersion.toTimestamp());let d=oI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=lq(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=cI(this.serializer),t.removeTarget=e,this.a_(t)}},OI=class extends ug{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=sq(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=cI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>oq(this.serializer,r))};this.a_(t)}};var FI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,sI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(L.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,sI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(L.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},LI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pi(t),this.D_=!1):Q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var VI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>b(this,null,function*(){js(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=ue(u);d.L_.add(4),yield Hl(d),d.q_.set("Unknown"),d.L_.delete(4),yield Dg(d)})}(this))}))}),this.q_=new LI(r,i)}};function Dg(n){return b(this,null,function*(){if(js(n))for(let e of n.B_)yield e(!0)})}function Hl(n){return b(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Jx(n,e){let t=ue(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vb(t)?yb(t):Fc(t).r_()&&mb(t,e))}function gb(n,e){let t=ue(n),r=Fc(t);t.N_.delete(e),r.r_()&&Xx(t,e),t.N_.size===0&&(r.r_()?r.o_():js(t)&&t.q_.set("Unknown"))}function mb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fc(n).A_(e)}function Xx(n,e){n.Q_.xe(e),Fc(n).R_(e)}function yb(n){n.Q_=new rI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Fc(n).start(),n.q_.v_()}function vb(n){return js(n)&&!Fc(n).n_()&&n.N_.size>0}function js(n){return ue(n).L_.size===0}function eM(n){n.Q_=void 0}function Cq(n){return b(this,null,function*(){n.q_.set("Online")})}function Dq(n){return b(this,null,function*(){n.N_.forEach((e,t)=>{mb(n,e)})})}function Tq(n,e){return b(this,null,function*(){eM(n),vb(n)?(n.q_.M_(e),yb(n)):n.q_.set("Unknown")})}function Aq(n,e,t){return b(this,null,function*(){if(n.q_.set("Online"),e instanceof ng&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lg(n,r)}else if(e instanceof vc?n.Q_.Ke(e):e instanceof tg?n.Q_.He(e):n.Q_.We(e),!t.isEqual(fe.min()))try{let r=yield Zx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(Qt.EMPTY_BYTE_STRING,p.snapshotVersion)),Xx(o,u);let g=new kl(p.target,u,d,p.sequenceNumber);mb(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield lg(n,r)}})}function lg(n,e,t){return b(this,null,function*(){if(!$l(e))throw e;n.L_.add(1),yield Hl(n),n.q_.set("Offline"),t||(t=()=>Zx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Dg(n)}))})}function tM(n,e){return e().catch(t=>lg(n,t,e))}function Tg(n){return b(this,null,function*(){let e=ue(n),t=So(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Sq(e);)try{let i=yield _q(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,Rq(e,i)}catch(i){yield lg(e,i)}nM(e)&&rM(e)})}function Sq(n){return js(n)&&n.O_.length<10}function Rq(n,e){n.O_.push(e);let t=So(n);t.r_()&&t.V_&&t.m_(e.mutations)}function nM(n){return js(n)&&!So(n).n_()&&n.O_.length>0}function rM(n){So(n).start()}function xq(n){return b(this,null,function*(){So(n).p_()})}function Mq(n){return b(this,null,function*(){let e=So(n);for(let t of n.O_)e.m_(t.mutations)})}function Nq(n,e,t){return b(this,null,function*(){let r=n.O_.shift(),i=XE.from(r,e,t);yield tM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Tg(n)})}function Pq(n,e){return b(this,null,function*(){e&&So(n).V_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return Y4(s)&&s!==L.ABORTED}(i.code)){let o=r.O_.shift();So(r).s_(),yield tM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Tg(r)}})}(n,e)),nM(n)&&rM(n)})}function lx(n,e){return b(this,null,function*(){let t=ue(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=js(t);t.L_.add(3),yield Hl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Dg(t)})}function kq(n,e){return b(this,null,function*(){let t=ue(n);e?(t.L_.delete(2),yield Dg(t)):e||(t.L_.add(2),yield Hl(t),t.q_.set("Unknown"))})}function Fc(n){return n.K_||(n.K_=function(t,r,i){let o=ue(t);return o.w_(),new kI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Cq.bind(null,n),Ro:Dq.bind(null,n),mo:Tq.bind(null,n),d_:Aq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.K_.s_(),vb(n)?yb(n):n.q_.set("Unknown")):(yield n.K_.stop(),eM(n))}))),n.K_}function So(n){return n.U_||(n.U_=function(t,r,i){let o=ue(t);return o.w_(),new OI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xq.bind(null,n),mo:Pq.bind(null,n),f_:Mq.bind(null,n),g_:Nq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.U_.s_(),yield Tg(n)):(yield n.U_.stop(),n.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var UI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wb(n,e){if(pi("AsyncQueue",`${e}: ${n}`),$l(n))return new te(L.UNAVAILABLE,`${e}: ${n}`);throw n}var dg=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||oe.comparator(t.key,r.key):(t,r)=>oe.comparator(t.key,r.key),this.keyedMap=Dl(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hg=class{constructor(){this.W_=new rt(oe.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},xc=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,dg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var jI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},BI=class{constructor(){this.queries=dx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ue(t),o=i.queries;i.queries=dx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new te(L.ABORTED,"Firestore shutting down"))}};function dx(){return new Ao(n=>xx(n),Ig)}function Oq(n,e){return b(this,null,function*(){let t=ue(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new jI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=wb(s,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&_b(t)})}function Fq(n,e){return b(this,null,function*(){let t=ue(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Lq(n,e){let t=ue(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_b(t)}function Vq(n,e,t){let r=ue(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function _b(n){n.Y_.forEach(e=>{e.next()})}var $I,hx;(hx=$I||($I={})).ea="default",hx.Cache="cache";var HI=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$I.Cache}};var fg=class{constructor(e){this.key=e}},pg=class{constructor(e){this.key=e}},qI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=Mx(e),this.Ra=new dg(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new hg,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),E=bg(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),N=!1;_&&E?_.data.isEqual(E.data)?M!==O&&(r.track({type:3,doc:E}),N=!0):this.ga(_,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),N=!0):_&&!E&&(r.track({type:1,doc:_}),N=!0,(u||d)&&(a=!0)),N&&(E?(s=s.add(E),o=O?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,g)=>function(E,M){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return O(E)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new xc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new pg(r))}),this.da.forEach(r=>{e.has(r)||t.push(new fg(r))}),t}ba(e){this.Ta=e.Ts,this.da=Te();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return xc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},zI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},GI=class{constructor(e){this.key=e,this.va=!1}},WI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ao(a=>xx(a),Ig),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(oe.comparator),this.Na=new Map,this.La=new Fl,this.Ba={},this.ka=new Map,this.qa=Ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Uq(n,e,t=!0){return b(this,null,function*(){let r=uM(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield iM(r,e,t,!0),i})}function jq(n,e){return b(this,null,function*(){let t=uM(n);yield iM(t,e,!0,!1)})}function iM(n,e,t,r){return b(this,null,function*(){let i=yield Eq(n.localStore,xr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Bq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Jx(n.remoteStore,i),a})}function Bq(n,e,t,r,i){return b(this,null,function*(){n.Ka=(g,_,E)=>function(O,N,V,W){return b(this,null,function*(){let z=N.view.ma(V);z.ns&&(z=yield ux(O.localStore,N.query,!1).then(({documents:T})=>N.view.ma(T,z)));let Z=W&&W.targetChanges.get(N.targetId),ge=W&&W.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(z,O.isPrimaryClient,Z,ge);return px(O,N.targetId,J.wa),J.snapshot})}(n,g,_,E);let o=yield ux(n.localStore,e,!0),s=new qI(e,o.Ts),a=s.ma(o.documents),u=Pl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);px(n,t,d.wa);let p=new zI(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function $q(n,e,t){return b(this,null,function*(){let r=ue(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ig(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield RI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gb(r.remoteStore,i.targetId),KI(r,i.targetId)}).catch(Bl))):(KI(r,i.targetId),yield RI(r.localStore,i.targetId,!0))})}function Hq(n,e){return b(this,null,function*(){let t=ue(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gb(t.remoteStore,r.targetId))})}function qq(n,e,t){return b(this,null,function*(){let r=Zq(n);try{let i=yield function(s,a){let u=ue(s),d=Ut.now(),p=a.reduce((E,M)=>E.add(M.key),Te()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=mi(),O=Te();return u.cs.getEntries(E,p).next(N=>{M=N,M.forEach((V,W)=>{W.isValidDocument()||(O=O.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(N=>{g=N;let V=[];for(let W of a){let z=Q4(W,g.get(W.key).overlayedDocument);z!=null&&V.push(new yi(W.key,z,Cx(z.value.mapValue),Co.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,V,a)}).next(N=>{_=N;let V=N.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(E,N.batchId,V)})}).then(()=>({batchId:_.batchId,changes:Px(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new rt(Oe)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield ql(r,i.changes),yield Tg(r.remoteStore)}catch(i){let o=wb(i,"Failed to persist write");t.reject(o)}})}function oM(n,e){return b(this,null,function*(){let t=ue(n);try{let r=yield vq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield ql(t,r,e)}catch(r){yield Bl(r)}})}function fx(n,e,t){let r=ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ue(s);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&_b(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zq(n,e,t){return b(this,null,function*(){let r=ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new rt(oe.comparator);s=s.insert(o,Jn.newNoDocument(o,fe.min()));let a=Te().add(o),u=new eg(fe.min(),new Map,new rt(Oe),s,a);yield oM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Eb(r)}else yield RI(r.localStore,e,!1).then(()=>KI(r,e,t)).catch(Bl)})}function Gq(n,e){return b(this,null,function*(){let t=ue(n),r=e.batch.batchId;try{let i=yield yq(t.localStore,e);aM(t,r,null),sM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ql(t,i)}catch(i){yield Bl(i)}})}function Wq(n,e,t){return b(this,null,function*(){let r=ue(n);try{let i=yield function(s,a){let u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(je(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);aM(r,e,t),sM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ql(r,i)}catch(i){yield Bl(i)}})}function sM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function aM(n,e,t){let r=ue(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function KI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||cM(n,r)})}function cM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(gb(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Eb(n))}function px(n,e,t){for(let r of t)r instanceof fg?(n.La.addReference(r.key,e),Kq(n,r)):r instanceof pg?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||cM(n,r.key)):ce()}function Kq(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.xa.add(r),Eb(n))}function Eb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new oe(nt.fromString(e)),r=n.qa.next();n.Na.set(r,new GI(t)),n.Oa=n.Oa.insert(t,r),Jx(n.remoteStore,new kl(xr(hb(t.path)),r,"TargetPurposeLimboResolution",_x.oe))}}function ql(n,e,t){return b(this,null,function*(){let r=ue(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=DI.Wi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return b(this,null,function*(){let p=ue(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>B.forEach(d,_=>B.forEach(_.$i,E=>p.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>B.forEach(_.Ui,E=>p.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!$l(g))throw g;Q("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=p.os.get(_),M=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,o))})}function Qq(n,e){return b(this,null,function*(){let t=ue(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield Yx(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new te(L.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ql(t,r.hs)}})}function Yq(n,e){let t=ue(n),r=t.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function uM(n){let e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zq.bind(null,e),e.Ca.d_=Lq.bind(null,e.eventManager),e.Ca.$a=Vq.bind(null,e.eventManager),e}function Zq(n){let e=ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wq.bind(null,e),e}var gx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Cg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return mq(this.persistence,new AI,t.initialUser,this.serializer)}Ga(t){return new II(CI.Zr,this.serializer)}Wa(t){return new xI}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Jq=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qq.bind(null,this.syncEngine),yield kq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new BI}()}createDatastore(t){let r=Cg(t.databaseInfo.databaseId),i=function(s){return new PI(s)}(t.databaseInfo);return function(s,a,u,d){return new FI(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new VI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>fx(this.syncEngine,r,0),function(){return ag.D()?new ag:new MI}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,g){let _=new WI(o,s,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=ue(o);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Hl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var QI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var YI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){Q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=wb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function TE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield Yx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function mx(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Xq(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lx(e.remoteStore,i)),n._onlineComponents=e})}function Xq(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield TE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;wc("Error using user provided cache. Falling back to memory cache: "+t),yield TE(n,new gx)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield TE(n,new gx);return n._offlineComponents})}function lM(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield mx(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield mx(n,new Jq))),n._onlineComponents})}function ez(n){return lM(n).then(e=>e.syncEngine)}function tz(n){return b(this,null,function*(){let e=yield lM(n),t=e.eventManager;return t.onListen=Uq.bind(null,e.syncEngine),t.onUnlisten=$q.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Hq.bind(null,e.syncEngine),t})}function nz(n,e,t={}){let r=new Sr;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new QI({next:_=>{p.Za(),s.enqueueAndForget(()=>Fq(o,g));let E=_.docs.has(a);!E&&_.fromCache?d.reject(new te(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&u&&u.source==="server"?d.reject(new te(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new HI(hb(a.path),p,{includeMetadataChanges:!0,_a:!0});return Oq(o,g)}(yield tz(n),n.asyncQueue,e,t,r)})),r.promise}function dM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yx=new Map;function hM(n,e,t){if(!t)throw new te(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rz(n,e,t,r){if(e===!0&&r===!0)throw new te(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vx(n){if(!oe.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wx(n){if(oe.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ib(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function Mc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ib(n);throw new te(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var gg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Nc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AE;switch(r.type){case"firstParty":return new ME(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=yx.get(t);r&&(Q("ComponentProvider","Removing Datastore"),yx.delete(t),r.terminate())}(this),Promise.resolve()}};function fM(n,e,t,r={}){var i;let o=(n=Mc(n,Nc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=kt.MOCK_USER;else{a=gp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(d)}n._authCredentials=new SE(new Gp(a,u))}}var ZI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Do=class n extends ZI{constructor(e,t,r){super(e,t,hb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new oe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function pM(n,e,...t){if(n=Pt(n),hM("collection","path",e),n instanceof Nc){let r=nt.fromString(e,...t);return wx(r),new Do(n,null,r)}{if(!(n instanceof wn||n instanceof Do))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return wx(r),new Do(n.firestore,null,r)}}function bb(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=Wp.newId()),hM("doc","path",e),n instanceof Nc){let r=nt.fromString(e,...t);return vx(r),new wn(n,null,new oe(r))}{if(!(n instanceof wn||n instanceof Do))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return vx(r),new wn(n.firestore,n instanceof Do?n.converter:null,new oe(r))}}var mg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cg(this,"async_queue_retry"),this.Vu=()=>{let r=DE();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=DE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=DE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$l(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=UI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Pc=class extends Nc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mg(e),this._firestoreClient=void 0,yield e}})}};function gM(n,e){let t=typeof n=="object"?n:vo(),r=typeof n=="string"?n:e||"(default)",i=Cs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pp("firestore");o&&fM(i,...o)}return i}function mM(n){if(n._terminated)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iz(n),n._firestoreClient}function iz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new FE(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,dM(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new YI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Ll=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Qt.fromBase64String(e))}catch(t){throw new te(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yg=class{constructor(e){this._methodName=e}};var Ul=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}};var jl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var oz=/^__.*__$/,JI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Us(e,this.data,t,this.fieldTransforms)}};function yM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var XI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yM(this.Cu)&&oz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},eb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cg(e)}Qu(e,t,r,i=!1){return new XI({Cu:e,methodName:t,qu:r,path:vn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function vM(n){let e=n._freezeSettings(),t=Cg(n._databaseId);return new eb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wM(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);bM("Data must be an object, but it was:",s,r);let a=EM(r,s),u,d;if(o.merge)u=new Ar(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let g of o.mergeFields){let _=sz(e,g,t);if(!s.contains(_))throw new te(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);cz(p,_)||p.push(_)}u=new Ar(p),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new JI(new Zn(a),u,d)}function _M(n,e){if(IM(n=Pt(n)))return bM("Unsupported field value:",e,n),EM(n,e);if(n instanceof yg)return function(r,i){if(!yM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=_M(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ut.fromDate(r);return{timestampValue:ig(i.serializer,o)}}if(r instanceof Ut){let o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ig(i.serializer,o)}}if(r instanceof Ul)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ll)return{bytesValue:Hx(i.serializer,r._byteString)};if(r instanceof wn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return fb(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ib(r)}`)}(n,e)}function EM(n,e){let t={};return Ex(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oc(n,(r,i)=>{let o=_M(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function IM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Ul||n instanceof Ll||n instanceof wn||n instanceof yg||n instanceof jl)}function bM(n,e,t){if(!IM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Ib(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function sz(n,e,t){if((e=Pt(e))instanceof Vl)return e._internalPath;if(typeof e=="string")return CM(n,e);throw vg("Field path arguments must be of type string or ",n,!1,void 0,t)}var az=new RegExp("[~\\*/\\[\\]]");function CM(n,e,t){if(e.search(az)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vl(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new te(L.INVALID_ARGUMENT,a+n+u)}function cz(n,e){return n.some(t=>t.isEqual(e))}var wg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(DM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tb=class extends wg{data(){return super.data()}};function DM(n,e){return typeof e=="string"?CM(n,e):e instanceof Vl?e._internalPath:e._delegate._internalPath}var nb=class{convertValue(e,t="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Oc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new jl(o)}convertGeoPoint(e){return new Ul(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=cb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){let t=gi(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);je(Qx(r));let i=new Zp(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(t)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function TM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var rb=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_g=class extends wg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(DM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ib=class extends _g{data(e={}){return super.data(e)}};function AM(n){n=Mc(n,wn);let e=Mc(n.firestore,Pc);return nz(mM(e),n._key).then(t=>uz(e,n,t))}var ob=class extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}};function SM(n,e,t){n=Mc(n,wn);let r=Mc(n.firestore,Pc),i=TM(n.converter,e,t);return xM(r,[wM(vM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Co.none())])}function RM(n,e){let t=Mc(n.firestore,Pc),r=bb(n),i=TM(n.converter,e);return xM(t,[wM(vM(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Co.exists(!1))]).then(()=>r)}function xM(n,e){return function(r,i){let o=new Sr;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return qq(yield ez(r),i,o)})),o.promise}(mM(n),e)}function uz(n,e,t){let r=t.docs.get(e._key),i=new ob(n);return new _g(n,i,e._key,r,new rb(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){kc=i})(br),Ir(new cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Pc(new RE(r.getProvider("auth-internal")),new PE(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ye(HR,"4.7.3",e),Ye(HR,"4.7.3","esm2017")})();var vi=class{constructor(e){return e}},MM="firestore",Cb=class{constructor(){return Ts(MM)}};var Db=new K("angularfire2.firestore-instances");function lz(n,e){let t=cc(MM,n,e);return t&&new vi(t)}function dz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vi(r)}}var hz={provide:Cb,deps:[[new st,Db]]},fz={provide:vi,useFactory:lz,deps:[[new st,Db],Yn]};function NM(n,...e){return Ye("angularfire",si.full,"fst"),an([fz,hz,{provide:Db,useFactory:dz(n),multi:!0,deps:[Me,bt,_o,ai,[new st,Ms],[new st,wo],...e]}])}var PM=Vt(RM,!0);var kM=Vt(pM,!0);var Ag=Vt(bb,!0);var OM=Vt(AM,!0);var FM=Vt(gM,!0);var LM=Vt(SM,!0);var GM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ne(ps),ne(Bn))}}static{this.\u0275dir=xt({type:n})}}return n})(),WM=(()=>{class n extends GM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=La(n)))(i||n)}})()}static{this.\u0275dir=xt({type:n,features:[$n]})}}return n})(),Lg=new K("");var pz={provide:Lg,useExisting:Kr(()=>Or),multi:!0};function gz(){let n=Xr()?Xr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var mz=new K(""),Or=(()=>{class n extends GM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(ps),ne(Bn),ne(mz,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Qe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gs([pz]),$n]})}}return n})();function Ro(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function KM(n){return n!=null&&typeof n.length=="number"}var Vg=new K(""),Ug=new K(""),yz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,re=class{static min(e){return vz(e)}static max(e){return wz(e)}static required(e){return _z(e)}static requiredTrue(e){return Ez(e)}static email(e){return Iz(e)}static minLength(e){return bz(e)}static maxLength(e){return Cz(e)}static pattern(e){return Dz(e)}static nullValidator(e){return QM(e)}static compose(e){return tN(e)}static composeAsync(e){return nN(e)}};function vz(n){return e=>{if(Ro(e.value)||Ro(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function wz(n){return e=>{if(Ro(e.value)||Ro(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function _z(n){return Ro(n.value)?{required:!0}:null}function Ez(n){return n.value===!0?null:{required:!0}}function Iz(n){return Ro(n.value)||yz.test(n.value)?null:{email:!0}}function bz(n){return e=>Ro(e.value)||!KM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Cz(n){return e=>KM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Dz(n){if(!n)return QM;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ro(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function QM(n){return null}function YM(n){return n!=null}function ZM(n){return ms(n)?Ke(n):n}function JM(n){let e={};return n.forEach(t=>{e=t!=null?H(H({},e),t):e}),Object.keys(e).length===0?null:e}function XM(n,e){return e.map(t=>t(n))}function Tz(n){return!n.validate}function eN(n){return n.map(e=>Tz(e)?e:t=>e.validate(t))}function tN(n){if(!n)return null;let e=n.filter(YM);return e.length==0?null:function(t){return JM(XM(t,e))}}function Rb(n){return n!=null?tN(eN(n)):null}function nN(n){if(!n)return null;let e=n.filter(YM);return e.length==0?null:function(t){let r=XM(t,e).map(ZM);return Bm(r).pipe(he(JM))}}function xb(n){return n!=null?nN(eN(n)):null}function UM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rN(n){return n._rawValidators}function iN(n){return n._rawAsyncValidators}function Tb(n){return n?Array.isArray(n)?n:[n]:[]}function Rg(n,e){return Array.isArray(n)?n.includes(e):n===e}function jM(n,e){let t=Tb(e);return Tb(n).forEach(i=>{Rg(t,i)||t.push(i)}),t}function BM(n,e){return Tb(e).filter(t=>!Rg(n,t))}var xg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},wi=class extends xg{get formDirective(){return null}get path(){return null}},Bs=class extends xg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Az={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SJ=be(H({},Az),{"[class.ng-submitted]":"isSubmitted"}),Mo=(()=>{class n extends Mg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(Bs,2))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$n]})}}return n})(),No=(()=>{class n extends Mg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(wi,10))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$n]})}}return n})();var zl="VALID",Sg="INVALID",Lc="PENDING",Gl="DISABLED",xo=class{},Ng=class extends xo{constructor(e,t){super(),this.value=e,this.source=t}},Kl=class extends xo{constructor(e,t){super(),this.pristine=e,this.source=t}},Ql=class extends xo{constructor(e,t){super(),this.touched=e,this.source=t}},Vc=class extends xo{constructor(e,t){super(),this.status=e,this.source=t}},Ab=class extends xo{constructor(e){super(),this.source=e}},Sb=class extends xo{constructor(e){super(),this.source=e}};function oN(n){return(jg(n)?n.validators:n)||null}function Sz(n){return Array.isArray(n)?Rb(n):n||null}function sN(n,e){return(jg(e)?e.asyncValidators:n)||null}function Rz(n){return Array.isArray(n)?xb(n):n||null}function jg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function xz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[t])throw new X(1001,"")}function Mz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new X(1002,"")})}var Pg=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=$a(()=>this.statusReactive()),this.statusReactive=Ua(void 0),this._pristine=$a(()=>this.pristineReactive()),this.pristineReactive=Ua(!0),this._touched=$a(()=>this.touchedReactive()),this.touchedReactive=Ua(!1),this._events=new Rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}get valid(){return this.status===zl}get invalid(){return this.status===Sg}get pending(){return this.status==Lc}get disabled(){return this.status===Gl}get enabled(){return this.status!==Gl}get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BM(e,this._rawAsyncValidators))}hasValidator(e){return Rg(this._rawValidators,e)}hasAsyncValidator(e){return Rg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ql(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ql(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kl(!0,r))}markAsPending(e={}){this.status=Lc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(H({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gl,this.errors=null,this._forEachChild(i=>{i.disable(be(H({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ng(this.value,r)),this._events.next(new Vc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zl,this._forEachChild(r=>{r.enable(be(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zl||this.status===Lc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ng(this.value,t)),this._events.next(new Vc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(H({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gl:zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Lc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=ZM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Gl:this.errors?Sg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lc)?Lc:this._anyControlsHaveStatus(Sg)?Sg:zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Kl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ql(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Sz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rz(this._rawAsyncValidators)}},kr=class extends Pg{constructor(e,t,r){super(oN(t),sN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Mz(this,!0,e),Object.keys(e).forEach(r=>{xz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Yl=new K("CallSetDisabledState",{providedIn:"root",factory:()=>Bg}),Bg="always";function aN(n,e){return[...e.path,n]}function kg(n,e,t=Bg){Mb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Pz(n,e),Oz(n,e),kz(n,e),Nz(n,e)}function $M(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Og(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Mb(n,e){let t=rN(n);e.validator!==null?n.setValidators(UM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iN(n);e.asyncValidator!==null?n.setAsyncValidators(UM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Og(e._rawValidators,i),Og(e._rawAsyncValidators,i)}function Fg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=rN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=iN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Og(e._rawValidators,r),Og(e._rawAsyncValidators,r),t}function Pz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cN(n,e)})}function kz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function uN(n,e){n==null,Mb(n,e)}function Fz(n,e){return Fg(n,e)}function lN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Lz(n){return Object.getPrototypeOf(n.constructor)===WM}function dN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Or?t=o:Lz(o)?r=o:i=o}),i||r||t||null}function Vz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Uz={provide:wi,useExisting:Kr(()=>Nb)},Wl=Promise.resolve(),Nb=(()=>{class n extends wi{get submitted(){return vr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=$a(()=>this.submittedReactive()),this.submittedReactive=Ua(!1),this._directives=new Set,this.ngSubmit=new Xe,this.form=new kr({},Rb(t),xb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),kg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Wl.then(()=>{let r=this._findContainer(t.path),i=new kr({});uN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),dN(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(ne(Vg,10),ne(Ug,10),ne(Yl,8))}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Qe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gs([Uz]),$n]})}}return n})();function HM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Be=class extends Pg{constructor(e=null,t,r){super(oN(t),sN(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jz=n=>n instanceof Be;var Bz={provide:Bs,useExisting:Kr(()=>Pb)},zM=Promise.resolve(),Pb=(()=>{class n extends Bs{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Be,this._registered=!1,this.name="",this.update=new Xe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&vs(r);zM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aN(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ne(wi,9),ne(Vg,10),ne(Ug,10),ne(Lg,10),ne(ys,8),ne(Yl,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gs([Bz]),$n,Zr]})}}return n})(),Po=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),$z={provide:Lg,useExisting:Kr(()=>$s),multi:!0},$s=(()=>{class n extends WM{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=La(n)))(i||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Qe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[gs([$z]),$n]})}}return n})();var fN=new K("");var Hz={provide:wi,useExisting:Kr(()=>Hs)},Hs=(()=>{class n extends wi{get submitted(){return vr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=$a(()=>this._submittedReactive()),this._submittedReactive=Ua(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return kg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$M(t.control||null,t,!1),Vz(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),dN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ab(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Sb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&($M(r||null,t),jz(i)&&(kg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);uN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Fz(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mb(this.form,this),this._oldForm&&Fg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(ne(Vg,10),ne(Ug,10),ne(Yl,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Qe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gs([Hz]),$n,Zr]})}}return n})();var qz={provide:Bs,useExisting:Kr(()=>qs)},qs=(()=>{class n extends Bs{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),lN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return aN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ne(wi,13),ne(Vg,10),ne(Ug,10),ne(Lg,10),ne(fN,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[gs([qz]),$n,Zr]})}}return n})();var pN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mr({type:n})}static{this.\u0275inj=gr({})}}return n})();var Uc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.callSetDisabledState??Bg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mr({type:n})}static{this.\u0275inj=gr({imports:[pN]})}}return n})(),jc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yl,useValue:t.callSetDisabledState??Bg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mr({type:n})}static{this.\u0275inj=gr({imports:[pN]})}}return n})();var _i=zd(Zl());var zz=["favbutton"],Gz=["favbuttondiv"],Wz=(n,e)=>e.email,gN=()=>({standalone:!0});function Kz(n,e){if(n&1){let t=Hn();U(0,"button",15),Qe("click",function(){let i=at(t).$implicit,o=Ba();return ct(o.onOptionClick(i))}),Re(1,"img",16),F()}if(n&2){let t=e.$implicit;Sf("right",t.pos),ye(),Zv("src",t.imagen,Nv)}}var Hg=class n{constructor(e,t,r){this.auth=e;this.router=t;this.firestore=r}favButton;favButtonDiv;userMail="";userPWD="";loggedUser="";flagError=!1;msjError="";fabOptions=[{email:"quebraffuyottu-7479@yopmail.com",pass:"123456",imagen:"/assets/images/admin-login.png",pos:"80px"},{email:"froneitrawubro-9928@yopmail.com",pass:"123456",imagen:"/assets/images/admin-login.png",pos:"140px"},{email:"froneitrawubro-9928@yopmail.com",pass:"123456",imagen:"/assets/images/admin-login.png",pos:"200px"}];isExpanded=!1;convertBase64ToURL(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);let o=new Uint8Array(i),s=new Blob([o],{type:t});return URL.createObjectURL(s)}toggleFab(){this.isExpanded?(this.favButtonDiv.nativeElement.classList.remove("active"),this.favButton.nativeElement.innerText="+"):(this.favButtonDiv.nativeElement.classList.add("active"),this.favButton.nativeElement.innerText="-"),this.isExpanded=!this.isExpanded}onOptionClick(e){console.log("Clicked option:",e),this.CompletarInputs(e.email,e.pass)}obtenerFechaActual=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${t}/${r}/${i} ${o}:${s}`};Login(){return b(this,null,function*(){_i.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{_i.default.showLoading()}});let e=yield jR(this.auth,this.userMail,this.userPWD);try{if(e.user.email!==null){let t=e.user.uid,r=Ag(this.firestore,`usuarios/${t}`),o=(yield OM(r)).data();if(_i.default.close(),o?.rol=="paciente"&&e.user.emailVerified||o?.rol=="especialista"&&o?.verificado||o?.rol=="administrador"){this.loggedUser=e.user.email;let s=kM(this.firestore,"logins");switch(PM(s,{fecha:new Date,user:this.loggedUser}),_i.default.fire({title:`Bienvenido ${o?.nombre}
Fecha de ingreso: ${this.obtenerFechaActual()}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),o?.rol){case"paciente":console.log("Ingreso un paciente"),this.flagError=!1,this.router.navigate(["home"]);break;case"especialista":console.log("Ingreso un especialista"),this.flagError=!1,this.router.navigate(["home"]);break;default:console.log("Ingreso un administrador"),this.flagError=!1,this.router.navigate(["home"]);break}}else o?.rol=="especialista"?_i.default.fire({title:"El administrador aun no valido su cuenta",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}):_i.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})}}catch{}})}CompletarInputs(e,t){this.userMail=e,this.userPWD=t}static \u0275fac=function(t){return new(t||n)(ne(yn),ne(Kn),ne(vi))};static \u0275cmp=gt({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(yr(zz,5),yr(Gz,5)),t&2){let i;qn(i=zn())&&(r.favButton=i.first),qn(i=zn())&&(r.favButtonDiv=i.first)}},standalone:!0,features:[mt],decls:24,vars:6,consts:[["mail",""],["pass",""],["favbuttondiv",""],["favbutton",""],[1,"main-container"],[1,"login-container","container-fluid"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Ingresa tu correo",3,"ngModelChange","ngModel","ngModelOptions"],["for","password"],["type","password","id","password","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],[3,"click"],[1,"fab-button-container"],[1,"fab-button","main-fab",3,"click"],[1,"fab-button","fab-option",3,"right"],[1,"fab-button","fab-option",3,"click"],["alt","",3,"src"]],template:function(t,r){if(t&1){let i=Hn();U(0,"div",4)(1,"div",5)(2,"h2"),q(3,"Iniciar sesi\xF3n"),F(),U(4,"form")(5,"div",6)(6,"label",7),q(7,"Correo electr\xF3nico"),F(),U(8,"input",8,0),Nf("ngModelChange",function(s){return at(i),Xv(r.userMail,s)||(r.userMail=s),ct(s)}),F()(),U(10,"div",6)(11,"label",9),q(12,"Contrase\xF1a"),F(),U(13,"input",10,1),Nf("ngModelChange",function(s){return at(i),Xv(r.userPWD,s)||(r.userPWD=s),ct(s)}),F()()(),U(15,"button",11),Qe("click",function(){return at(i),ct(r.Login())}),q(16,"Ingresar"),F()(),U(17,"div",12,2)(19,"button",13,3),Qe("click",function(){return at(i),ct(r.toggleFab())}),q(21,"+"),F(),xT(22,Kz,2,3,"button",14,Wz),F()()}t&2&&(ye(8),Mf("ngModel",r.userMail),_e("ngModelOptions",ew(4,gN)),ye(5),Mf("ngModel",r.userPWD),_e("ngModelOptions",ew(5,gN)),ye(9),MT(r.fabOptions))},dependencies:[Uc,Po,Or,Mo,No,Pb,Nb,Gn],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;flex-wrap:wrap;height:94.5vh;margin:0}.login-container[_ngcontent-%COMP%]{width:500px;max-height:350px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:200px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.fab-button-container[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;justify-content:end;padding:10px}.fab-button-container[_ngcontent-%COMP%]   .fab-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 8px #0000004d;cursor:pointer;transition:background-color .3s ease}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:0;transform:scale(0);pointer-events:auto}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto;right:80px}']})};var qg=zd(Zl());var ko=class n{constructor(e){this.firestore=e}registrarUsuarios(e,t){return b(this,null,function*(){try{let r=Ag(this.firestore,`usuarios/${e}`);console.log(`usuarios/${e}`),yield LM(r,t),console.log("Usuario registrado con \xE9xito en Firestore")}catch(r){console.error("Error al registrar usuario:",r)}})}static \u0275fac=function(t){return new(t||n)(ee(vi))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qz=["fileInput1"],Yz=["fileInput2"];function Zz(n,e){n&1&&($e(0),U(1,"small",25),q(2,"S\xF3lo debe contener letras"),F(),He())}function Jz(n,e){n&1&&($e(0),U(1,"small",25),q(2,"S\xF3lo debe contener letras"),F(),He())}function Xz(n,e){n&1&&($e(0),U(1,"small",25),q(2,"La edad debe ser entre 0 y 99"),F(),He())}function e3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"Se deben ingresar 8 digitos"),F(),He())}function t3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"Este campo es requerido"),F(),He())}function n3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"Formato de email invalido"),F(),He())}function r3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),F(),He())}function i3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"Ingrese una imagen"),F(),He())}function o3(n,e){n&1&&($e(0),U(1,"small",25),q(2,"Ingrese una imagen"),F(),He())}var zg=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput1;fileInput2;registroForm;formularioEnviado=!1;ngOnInit(){this.registroForm=new kr({nombre:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),apellido:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),edad:new Be("",[re.min(0),re.max(99),re.required]),dni:new Be("",[re.required,re.minLength(8),re.maxLength(8)]),obraSocial:new Be("",re.required),email:new Be("",[re.required,re.email]),password:new Be("",[re.required,re.minLength(6)]),imagen1:new Be("",[re.required,this.validarImagen]),imagen2:new Be("",[re.required,this.validarImagen])})}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return b(this,null,function*(){if(this.formularioEnviado=!0,this.registroForm.valid){qg.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{qg.default.showLoading()}});let e={nombre:this.registroForm.value.nombre,apellido:this.registroForm.value.apellido,edad:this.registroForm.value.edad,dni:this.registroForm.value.dni,obraSocial:this.registroForm.value.obraSocial,email:this.registroForm.value.email,imagen1:this.registroForm.value.imagen1,imagen2:this.registroForm.value.imagen2,rol:"paciente"};dc(this.auth,e.email,this.registroForm.value.password).then(()=>b(this,null,function*(){yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e),UR(this.auth.currentUser),hc(this.auth),qg.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registroForm.reset(),this.fileInput1.nativeElement.value="",this.fileInput2.nativeElement.value="",this.formularioEnviado=!1}))}else console.log("Formulario inv\xE1lido")})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registroForm.get(t)?.setValue([o]),this.registroForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registroForm.get(t)?.setValue([]),this.registroForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registroForm.get("nombre")}get apellido(){return this.registroForm.get("apellido")}get edad(){return this.registroForm.get("edad")}get dni(){return this.registroForm.get("dni")}get obraSocial(){return this.registroForm.get("obraSocial")}get email(){return this.registroForm.get("email")}get password(){return this.registroForm.get("password")}get imagen1(){return this.registroForm.get("imagen1")}get imagen2(){return this.registroForm.get("imagen2")}static \u0275fac=function(t){return new(t||n)(ne(ko),ne(yn))};static \u0275cmp=gt({type:n,selectors:[["app-registro-paciente"]],viewQuery:function(t,r){if(t&1&&(yr(Qz,5),yr(Yz,5)),t&2){let i;qn(i=zn())&&(r.fileInput1=i.first),qn(i=zn())&&(r.fileInput2=i.first)}},standalone:!0,features:[mt],decls:51,vars:10,consts:[["fileInput1",""],["fileInput2",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","placeholder","Ingresa tu apellido"],["for","edad"],["type","number","id","edad","formControlName","edad","placeholder","Ingresa tu edad"],["for","dni"],["type","number","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["for","obra-social"],["type","text","id","obra-social","formControlName","obraSocial","placeholder","Ingresa tu obra social"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","images"],["for","imagenes"],["type","file","id","imagen1","accept","image/*",3,"change"],["type","file","id","imagen2","accept","image/*",3,"change"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=Hn();U(0,"body")(1,"div",2)(2,"h2"),q(3,"Registro"),F(),U(4,"form",3)(5,"div",4)(6,"label",5),q(7,"Nombre"),F(),Re(8,"input",6),Fe(9,Zz,3,0,"ng-container",7),F(),U(10,"div",4)(11,"label",8),q(12,"Apellido"),F(),Re(13,"input",9),Fe(14,Jz,3,0,"ng-container",7),F(),U(15,"div",4)(16,"label",10),q(17,"Edad"),F(),Re(18,"input",11),Fe(19,Xz,3,0,"ng-container",7),F(),U(20,"div",4)(21,"label",12),q(22,"DNI"),F(),Re(23,"input",13),Fe(24,e3,3,0,"ng-container",7),F(),U(25,"div",4)(26,"label",14),q(27,"Obra Social"),F(),Re(28,"input",15),Fe(29,t3,3,0,"ng-container",7),F(),U(30,"div",4)(31,"label",16),q(32,"Correo electr\xF3nico"),F(),Re(33,"input",17),Fe(34,n3,3,0,"ng-container",7),F(),U(35,"div",4)(36,"label",18),q(37,"Contrase\xF1a"),F(),Re(38,"input",19),Fe(39,r3,3,0,"ng-container",7),F(),U(40,"div",20)(41,"label",21),q(42,"Sube tus im\xE1genes"),F(),U(43,"input",22,0),Qe("change",function(s){return at(i),ct(r.onFileChange(s,"imagen1"))}),F(),Fe(45,i3,3,0,"ng-container",7),U(46,"input",23,1),Qe("change",function(s){return at(i),ct(r.onFileChange(s,"imagen2"))}),F(),Fe(48,o3,3,0,"ng-container",7),F(),U(49,"button",24),Qe("click",function(){return at(i),ct(r.onSubmit())}),q(50,"Registrarse"),F()()()()}t&2&&(ye(4),_e("formGroup",r.registroForm),ye(5),_e("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.dni==null?null:r.dni.hasError("minLength"))&&(r.dni==null?null:r.dni.hasError("maxLength"))||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.obraSocial==null?null:r.obraSocial.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),ye(6),_e("ngIf",(r.imagen1==null||r.imagen1.errors==null?null:r.imagen1.errors.invalidImageCount)&&r.formularioEnviado),ye(3),_e("ngIf",(r.imagen2==null||r.imagen2.errors==null?null:r.imagen2.errors.invalidImageCount)&&r.formularioEnviado))},dependencies:[jc,Po,Or,$s,Mo,No,Hs,qs,Gn,za],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;height:94.5vh;margin:0}.register-container[_ngcontent-%COMP%]{width:1200px;max-height:750px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:50px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px;width:100%}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left;height:120px;width:47%}.images[_ngcontent-%COMP%]{height:170px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}']})};var Gg=zd(Zl());var s3=["fileInput"];function a3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"S\xF3lo debe contener letras"),F(),He())}function c3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"S\xF3lo debe contener letras"),F(),He())}function u3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"La edad debe ser entre 18 y 99"),F(),He())}function l3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"Se deben ingresar 8 digitos"),F(),He())}function d3(n,e){if(n&1){let t=Hn();U(0,"li",30),Qe("click",function(){let i=at(t).$implicit,o=Ba(2);return ct(o.addTagFromSelect(i))}),q(1),F()}if(n&2){let t=e.$implicit;_e("value",t),ye(),Jv(t)}}function h3(n,e){if(n&1&&(U(0,"ul",28),Fe(1,d3,2,2,"li",29),F()),n&2){let t=Ba();ye(),_e("ngForOf",t.especialidadesList)}}function f3(n,e){if(n&1){let t=Hn();U(0,"span",31),q(1),U(2,"button",32),Qe("click",function(){let i=at(t).index,o=Ba();return ct(o.removeTag(i))}),q(3,"x"),F()()}if(n&2){let t=e.$implicit;ye(),xf(" ",t," ")}}function p3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"Ingrese por lo menos una especialidad"),F(),He())}function g3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"Formato de email invalido"),F(),He())}function m3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),F(),He())}function y3(n,e){n&1&&($e(0),U(1,"small",27),q(2,"Ingrese una imagen"),F(),He())}var Wg=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput;registerForm;especialidadesList=["","Medicina","Enfermer\xEDa","Odontolog\xEDa","Psicolog\xEDa"];formularioEnviado=!1;tags=[];showDropdown=!1;ngOnInit(){this.registerForm=new kr({nombre:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),apellido:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),edad:new Be("",[re.min(18),re.max(99),re.required]),dni:new Be("",[re.required,re.minLength(8),re.maxLength(8)]),email:new Be("",[re.required,re.email]),especialidades:new Be(""),password:new Be("",[re.required,re.minLength(6)]),imagen:new Be("",[re.required,this.validarImagen])})}addTag(){let e=this.registerForm.value.especialidades.trim();e&&!this.tags.includes(e)&&(this.tags.push(e),this.registerForm.value.especialidades="")}removeTag(e){this.tags.splice(e,1)}handleKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.addTag(),this.showDropdown=!1,this.especialidades?.reset())}addTagFromSelect(e){e&&!this.tags.includes(e)&&this.tags.push(e)}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}handleInputFocus(){this.showDropdown=!0}handleInputBlur(){setTimeout(()=>{this.showDropdown=!1},200)}onSubmit(){return b(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){Gg.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Gg.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,especialidades:this.tags,verificado:!1,rol:"especialista"};dc(this.auth,e.email,this.registerForm.value.password).then(()=>b(this,null,function*(){yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e),hc(this.auth),Gg.default.fire({title:"El usuario fue creado exitosamente, espere a ser verificado por el administrador",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.tags=[],this.formularioEnviado=!1}))}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get especialidades(){return this.registerForm.get("especialidades")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}static \u0275fac=function(t){return new(t||n)(ne(ko),ne(yn))};static \u0275cmp=gt({type:n,selectors:[["app-registro-especialista"]],viewQuery:function(t,r){if(t&1&&yr(s3,5),t&2){let i;qn(i=zn())&&(r.fileInput=i.first)}},standalone:!0,features:[mt],decls:51,vars:11,consts:[["fileInput",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["for","edad"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["for","dni"],["id","dni","type","number","formControlName","dni","placeholder","Ingresa tu DNI"],[1,"form-group","especialidad"],["for","especialidad"],["placeholder","Ingrese una especialidad","type","text","formControlName","especialidades",3,"keydown","focus","blur"],["id","especialidad",4,"ngIf"],[1,"tags-input-container"],["class","tag",4,"ngFor","ngForOf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[3,"click"],[1,"text-danger"],["id","especialidad"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"],[1,"tag"],[1,"remove-btn",3,"click"]],template:function(t,r){if(t&1){let i=Hn();U(0,"body")(1,"div",1)(2,"h2"),q(3,"Registro"),F(),U(4,"form",2)(5,"div",3)(6,"label",4),q(7,"Nombre"),F(),Re(8,"input",5),Fe(9,a3,3,0,"ng-container",6),F(),U(10,"div",3)(11,"label",7),q(12,"Apellido"),F(),Re(13,"input",8),Fe(14,c3,3,0,"ng-container",6),F(),U(15,"div",3)(16,"label",9),q(17,"Edad"),F(),Re(18,"input",10),Fe(19,u3,3,0,"ng-container",6),F(),U(20,"div",3)(21,"label",11),q(22,"DNI"),F(),Re(23,"input",12),Fe(24,l3,3,0,"ng-container",6),F(),U(25,"div",13)(26,"label",14),q(27,"Especialidad"),F(),U(28,"input",15),Qe("keydown",function(s){return at(i),ct(r.handleKeyDown(s))})("focus",function(){return at(i),ct(r.handleInputFocus())})("blur",function(){return at(i),ct(r.handleInputBlur())}),F(),Fe(29,h3,2,1,"ul",16),U(30,"div",17),Fe(31,f3,4,1,"span",18),F(),Fe(32,p3,3,0,"ng-container",6),F(),U(33,"div",3)(34,"label",19),q(35,"Correo electr\xF3nico"),F(),Re(36,"input",20),Fe(37,g3,3,0,"ng-container",6),F(),U(38,"div",3)(39,"label",21),q(40,"Contrase\xF1a"),F(),Re(41,"input",22),Fe(42,m3,3,0,"ng-container",6),F(),U(43,"div",23)(44,"label",24),q(45,"Imagen de perfil"),F(),U(46,"input",25,0),Qe("change",function(s){return at(i),ct(r.onFileChange(s,"imagen"))}),F(),Fe(48,y3,3,0,"ng-container",6),F(),U(49,"button",26),Qe("click",function(){return at(i),ct(r.onSubmit())}),q(50,"Registrarse"),F()()()()}t&2&&(ye(4),_e("formGroup",r.registerForm),ye(5),_e("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.dni==null?null:r.dni.hasError("minLength"))&&(r.dni==null?null:r.dni.hasError("maxLength"))||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",r.showDropdown&&r.especialidadesList.length),ye(2),_e("ngForOf",r.tags),ye(),_e("ngIf",r.tags.length==0&&r.formularioEnviado),ye(5),_e("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),ye(6),_e("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado))},dependencies:[Gn,XT,za,jc,Po,Or,$s,Mo,No,Hs,qs],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;min-height:94.5vh;margin:0}.register-container[_ngcontent-%COMP%]{width:1200px;max-height:730px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:100px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}ul[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto;list-style:none;position:fixed;background:#fff;width:550px;border:1px solid black;padding:0}li[_ngcontent-%COMP%]:hover{width:100%;background-color:#c4c4c4}.form-group[_ngcontent-%COMP%]{margin-bottom:30px;text-align:left;height:80px;width:47%}.especialidad[_ngcontent-%COMP%]{height:140px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}#nueva-especialidad[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.tags-input-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;border:1px solid #ddd;border-radius:4px;cursor:text;gap:5px;max-height:70px;overflow-y:auto}.tag[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:3px;display:flex;align-items:center}.remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;margin-left:5px;font-size:12px}select[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;border-radius:4px}.imagen-perfil[_ngcontent-%COMP%]{width:100px;height:100px;margin:10px}.image-input[_ngcontent-%COMP%]{margin-bottom:130px}"]})};var Kg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-home"]],standalone:!0,features:[mt],decls:6,vars:0,consts:[[1,"main-container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","box-shadow"],[1,"card-body"],["type","button","routerLink","/gestion-usuarios",1,"btn","btn-lg","btn-block","btn-primary"]],template:function(t,r){t&1&&(U(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),q(5,"Permisos y Administracion"),F()()()()())},dependencies:[ic,rc,Uc,Gn],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0}.card-deck[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:left;padding:50px}.card[_ngcontent-%COMP%]{width:30%;margin:10px;min-height:400px;box-shadow:0 4px 8px #000}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-image:url(/assets/images/permisos.jpg);border-radius:5px;background-size:cover;display:flex;align-items:end;justify-content:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:90%;background-color:#2c8ab3;border:#2c8ab3}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var Qg=zd(Zl());var v3=["fileInput"];function w3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"S\xF3lo debe contener letras"),F(),He())}function _3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"S\xF3lo debe contener letras"),F(),He())}function E3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"La edad debe ser entre 18 y 99"),F(),He())}function I3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"Se deben ingresar 8 digitos"),F(),He())}function b3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"Formato de email invalido"),F(),He())}function C3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),F(),He())}function D3(n,e){n&1&&($e(0),U(1,"small",21),q(2,"Ingrese una imagen"),F(),He())}var Yg=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput;registerForm;formularioEnviado=!1;ngOnInit(){this.registerForm=new kr({nombre:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),apellido:new Be("",[re.pattern("^[a-zA-Z]+$"),re.required]),edad:new Be("",[re.min(18),re.max(99),re.required]),dni:new Be("",[re.required,re.minLength(8),re.maxLength(8)]),email:new Be("",[re.required,re.email]),password:new Be("",[re.required,re.minLength(6)]),imagen:new Be("",[re.required,this.validarImagen])})}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return b(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){Qg.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Qg.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,rol:"administrador"};dc(this.auth,e.email,this.registerForm.value.password).then(()=>b(this,null,function*(){yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e),hc(this.auth),Qg.default.fire({title:"El usuario fue creado exitosamente",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.formularioEnviado=!1}))}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}static \u0275fac=function(t){return new(t||n)(ne(ko),ne(yn))};static \u0275cmp=gt({type:n,selectors:[["app-registro-admins"]],viewQuery:function(t,r){if(t&1&&yr(v3,5),t&2){let i;qn(i=zn())&&(r.fileInput=i.first)}},standalone:!0,features:[mt],decls:42,vars:8,consts:[["fileInput",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["for","edad"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["for","dni"],["id","dni","type","number","formControlName","dni","placeholder","Ingresa tu DNI"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=Hn();U(0,"div",1)(1,"h2"),q(2,"Registro"),F(),U(3,"form",2)(4,"div",3)(5,"label",4),q(6,"Nombre"),F(),Re(7,"input",5),Fe(8,w3,3,0,"ng-container",6),F(),U(9,"div",3)(10,"label",7),q(11,"Apellido"),F(),Re(12,"input",8),Fe(13,_3,3,0,"ng-container",6),F(),U(14,"div",3)(15,"label",9),q(16,"Edad"),F(),Re(17,"input",10),Fe(18,E3,3,0,"ng-container",6),F(),U(19,"div",3)(20,"label",11),q(21,"DNI"),F(),Re(22,"input",12),Fe(23,I3,3,0,"ng-container",6),F(),U(24,"div",3)(25,"label",13),q(26,"Correo electr\xF3nico"),F(),Re(27,"input",14),Fe(28,b3,3,0,"ng-container",6),F(),U(29,"div",3)(30,"label",15),q(31,"Contrase\xF1a"),F(),Re(32,"input",16),Fe(33,C3,3,0,"ng-container",6),F(),U(34,"div",17)(35,"label",18),q(36,"Imagen de perfil"),F(),U(37,"input",19,0),Qe("change",function(s){return at(i),ct(r.onFileChange(s,"imagen"))}),F(),Fe(39,D3,3,0,"ng-container",6),F(),U(40,"button",20),Qe("click",function(){return at(i),ct(r.onSubmit())}),q(41,"Registrarse"),F()()()}t&2&&(ye(3),_e("formGroup",r.registerForm),ye(5),_e("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.dni==null?null:r.dni.hasError("minLength"))&&(r.dni==null?null:r.dni.hasError("maxLength"))||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),ye(5),_e("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),ye(6),_e("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado))},dependencies:[Uc,Po,Or,$s,Mo,No,Gn,za,jc,Hs,qs],styles:[".register-container[_ngcontent-%COMP%]{width:700px;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left;height:80px;width:100%;font-size:15px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var Zg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-gestion-permisos"]],standalone:!0,features:[mt],decls:9,vars:0,consts:[[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed"],[1,"my-0"],[1,"text-muted"]],template:function(t,r){t&1&&(U(0,"ul",0)(1,"li",1)(2,"div")(3,"h6",2),q(4,"Product name"),F(),U(5,"small",3),q(6,"Brief description"),F()(),U(7,"span",3),q(8,"$12"),F()()())}})};var Jg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[mt],decls:3,vars:0,consts:[[1,"main-container"]],template:function(t,r){t&1&&(U(0,"div",0),Re(1,"app-gestion-permisos")(2,"app-registro-admins"),F())},dependencies:[Yg,Zg],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:space-around;padding:20px;height:94.5vh;margin:0}"]})};var mN=[{component:dp,path:""},{component:Hg,path:"login"},{component:zg,path:"registro-paciente"},{component:Wg,path:"registro-especialista"},{component:Kg,path:"home"},{component:Jg,path:"gestion-usuarios"}];var IN="firebasestorage.googleapis.com",T3="storageBucket",A3=2*60*1e3,S3=10*60*1e3;var Lr=class n extends en{constructor(e,t,r=0){super(Fb(e),`Firebase Storage: ${t} (${Fb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ii=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ii||{});function Fb(n){return"storage/"+n}function R3(){let n="An unknown error occurred, please check the error payload for server response.";return new Lr(Ii.UNKNOWN,n)}function x3(){return new Lr(Ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M3(){return new Lr(Ii.CANCELED,"User canceled the upload/download.")}function N3(n){return new Lr(Ii.INVALID_URL,"Invalid URL '"+n+"'.")}function P3(n){return new Lr(Ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function yN(n){return new Lr(Ii.INVALID_ARGUMENT,n)}function bN(){return new Lr(Ii.APP_DELETED,"The Firebase app was deleted.")}function k3(n){return new Lr(Ii.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ei=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw P3(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(Z){Z.path_=decodeURIComponent(Z.path)}let p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},O=t===IN?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",V=new RegExp(`^https?://${O}/${i}/${N}`,"i"),z=[{regex:a,indices:u,postModify:o},{regex:E,indices:M,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let Z=0;Z<z.length;Z++){let ge=z[Z],J=ge.regex.exec(e);if(J){let T=J[ge.indices.bucket],I=J[ge.indices.path];I||(I=""),r=new n(T,I),ge.postModify(r);break}}if(r==null)throw N3(e);return r}},Lb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function O3(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let d=!1;function p(...N){d||(d=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,n(E,u())},N)}function _(){o&&clearTimeout(o)}function E(N,...V){if(d){_();return}if(N){_(),p.call(null,N,...V);return}if(u()||s){_(),p.call(null,N,...V);return}r<64&&(r*=2);let z;a===1?(a=2,z=0):z=(r+Math.random())*1e3,g(z)}let M=!1;function O(N){M||(M=!0,_(),!d&&(i!==null?(N||(a=2),clearTimeout(i),g(0)):N||(a=1)))}return g(0),o=setTimeout(()=>{s=!0,O(!0)},t),O}function F3(n){n(!1)}function L3(n){return n!==void 0}function vN(n,e,t,r){if(r<e)throw yN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yN(`Invalid value for '${n}'. Expected ${t} or less.`)}function V3(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Vb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Vb||{});function U3(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var Ub=class{constructor(e,t,r,i,o,s,a,u,d,p,g,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Bc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Vb.NO_ERROR,u=o.getStatus();if(!a||U3(u,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===Vb.ABORT;r(!1,new Bc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Bc(d,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());L3(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=R3();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?bN():M3();s(u)}else{let u=x3();s(u)}};this.canceled_?t(!1,new Bc(!1,null,!0)):this.backoffId_=O3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function j3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function B3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function H3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function q3(n,e,t,r,i,o,s=!0){let a=V3(n.urlParams),u=n.url+a,d=Object.assign({},n.headers);return $3(d,e),j3(d,t),B3(d,o),H3(d,r),new Ub(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function z3(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function G3(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var SX=256*1024;var jb=class n{constructor(e,t){this._service=e,t instanceof Ei?this._location=t:this._location=Ei.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G3(this._location.path)}get storage(){return this._service}get parent(){let e=z3(this._location.path);if(e===null)return null;let t=new Ei(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw k3(e)}};function wN(n,e){let t=e?.[T3];return t==null?null:Ei.makeFromBucketSpec(t,n)}function W3(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:gp(i,n.app.options.projectId))}var Bb=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=IN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A3,this._maxUploadRetryTime=S3,this._requests=new Set,i!=null?this._bucket=Ei.makeFromBucketSpec(i,this._host):this._bucket=wN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=wN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jb(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Lb(bN());{let s=q3(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},_N="@firebase/storage",EN="0.13.2";var CN="storage";function DN(n=vo(),e){n=Pt(n);let r=Cs(n,CN).getImmediate({identifier:e}),i=pp("storage");return i&&TN(r,...i),r}function TN(n,e,t,r={}){W3(n,e,t,r)}function K3(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Bb(t,r,i,e,br)}function Q3(){Ir(new cn(CN,K3,"PUBLIC").setMultipleInstances(!0)),Ye(_N,EN,""),Ye(_N,EN,"esm2017")}Q3();var Jl=class{constructor(e){return e}},AN="storage",$b=class{constructor(){return Ts(AN)}};var Hb=new K("angularfire2.storage-instances");function Y3(n,e){let t=cc(AN,n,e);return t&&new Jl(t)}function Z3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Jl(r)}}var J3={provide:$b,deps:[[new st,Hb]]},X3={provide:Jl,useFactory:Y3,deps:[[new st,Hb],Yn]};function SN(n,...e){return Ye("angularfire",si.full,"gcs"),an([X3,J3,{provide:Hb,useFactory:Z3(n),multi:!0,deps:[Me,bt,_o,ai,[new st,Ms],[new st,wo],...e]}])}var RN=Vt(DN,!0);var xN={providers:[jT({eventCoalescing:!0}),uS(mN),jS(()=>BS({projectId:"tp2-labo4-96998",appId:"1:551030929167:web:1f1f826c51083b0685707a",storageBucket:"tp2-labo4-96998.firebasestorage.app",apiKey:"AIzaSyCPPiaFLgtdkkMbMyrg-j3h-CwQm8aBZiY",authDomain:"tp2-labo4-96998.firebaseapp.com",messagingSenderId:"551030929167"})),LR(()=>VR()),NM(()=>FM()),SN(()=>RN()),dA()]};var Xg=class n{title="tp2_labo4";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-root"]],standalone:!0,features:[mt],decls:8,vars:0,consts:[[1,"navbar"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","favicon.ico","alt","Logo","width","30","height","24",1,"d-inline-block","align-text-top"],["routerLink","/login",1,"navbar-brand"]],template:function(t,r){t&1&&(U(0,"nav",0)(1,"div",1)(2,"button",2),Re(3,"img",3),q(4," Inicio "),F(),U(5,"button",4),q(6," Ingresar "),F()()(),Re(7,"router-outlet"))},dependencies:[e_,ic,rc],styles:["nav[_ngcontent-%COMP%]{background-color:#2c8ab3;padding:0}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px;background-color:#2c8ab3;border:none}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1;height:100%}.container-fluid[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:start}"]})};wA(Xg,xN).catch(n=>console.error(n));
