var TF=Object.create;var ap=Object.defineProperty,DF=Object.defineProperties,AF=Object.getOwnPropertyDescriptor,SF=Object.getOwnPropertyDescriptors,RF=Object.getOwnPropertyNames,DD=Object.getOwnPropertySymbols,SD=Object.getPrototypeOf,RD=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable,NF=Reflect.get;var AD=(n,e,t)=>e in n?ap(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q=(n,e)=>{for(var t in e||={})RD.call(e,t)&&AD(n,t,e[t]);if(DD)for(var t of DD(e))xF.call(e,t)&&AD(n,t,e[t]);return n},De=(n,e)=>DF(n,SF(e));var MF=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),PF=(n,e)=>{for(var t in e)ap(n,t,{get:e[t],enumerable:!0})},OF=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of RF(e))!RD.call(n,i)&&i!==t&&ap(n,i,{get:()=>e[i],enumerable:!(r=AF(e,i))||r.enumerable});return n};var ud=(n,e,t)=>(t=n!=null?TF(SD(n)):{},OF(e||!n||!n.__esModule?ap(t,"default",{value:n,enumerable:!0}):t,n));var Zo=(n,e,t)=>NF(SD(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var wu=MF((ki,wT)=>{"use strict";(function(n,e){typeof ki=="object"&&typeof wT<"u"?wT.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(ki,function(){"use strict";function n(d,h,y){if(typeof d=="function"?d===h:d.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(d,h){if(h.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(d,h){return d.get(n(d,h))}function r(d,h,y){e(d,h),h.set(d,y)}function i(d,h,y){return d.set(n(d,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(h=>{if(!d)return h();let y=window.scrollX,E=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,E)}),u="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,h)=>(d[h]=u+h,d),{}),w=["success","warning","info","question","error"].reduce((d,h)=>(d[h]=u+h,d),{}),N="SweetAlert2:",O=d=>d.charAt(0).toUpperCase()+d.slice(1),M=d=>{console.warn(`${N} ${typeof d=="object"?d.join(" "):d}`)},U=d=>{console.error(`${N} ${d}`)},W=[],$=d=>{W.includes(d)||(W.push(d),M(d))},z=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$(`"${d}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},ee=d=>typeof d=="function"?d():d,Q=d=>d&&typeof d.toPromise=="function",D=d=>Q(d)?d.toPromise():Promise.resolve(d),b=d=>d&&Promise.resolve(d)===d,I=()=>document.body.querySelector(`.${m.container}`),S=d=>{let h=I();return h?h.querySelector(d):null},x=d=>S(`.${d}`),P=()=>x(m.popup),T=()=>x(m.icon),jt=()=>x(m["icon-content"]),mn=()=>x(m.title),Bt=()=>x(m["html-container"]),Rt=()=>x(m.image),jn=()=>x(m["progress-steps"]),gn=()=>x(m["validation-message"]),en=()=>S(`.${m.actions} .${m.confirm}`),pr=()=>S(`.${m.actions} .${m.cancel}`),yt=()=>S(`.${m.actions} .${m.deny}`),ut=()=>x(m["input-label"]),Sn=()=>S(`.${m.loader}`),xt=()=>x(m.actions),Zr=()=>x(m.footer),Rn=()=>x(m["timer-progress-bar"]),rr=()=>x(m.close),ia=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Jr=()=>{let d=P();if(!d)return[];let h=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((X,Te)=>{let Ke=parseInt(X.getAttribute("tabindex")||"0"),ft=parseInt(Te.getAttribute("tabindex")||"0");return Ke>ft?1:Ke<ft?-1:0}),E=d.querySelectorAll(ia),L=Array.from(E).filter(X=>X.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(L))].filter(X=>cn(X))},mr=()=>xn(document.body,m.shown)&&!xn(document.body,m["toast-shown"])&&!xn(document.body,m["no-backdrop"]),Xr=()=>{let d=P();return d?xn(d,m.toast):!1},Uo=()=>{let d=P();return d?d.hasAttribute("data-loading"):!1},$t=(d,h)=>{if(d.textContent="",h){let E=new DOMParser().parseFromString(h,"text/html"),L=E.querySelector("head");L&&Array.from(L.childNodes).forEach(Te=>{d.appendChild(Te)});let X=E.querySelector("body");X&&Array.from(X.childNodes).forEach(Te=>{Te instanceof HTMLVideoElement||Te instanceof HTMLAudioElement?d.appendChild(Te.cloneNode(!0)):d.appendChild(Te)})}},xn=(d,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let E=0;E<y.length;E++)if(!d.classList.contains(y[E]))return!1;return!0},oa=(d,h)=>{Array.from(d.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(w).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&d.classList.remove(y)})},Ht=(d,h,y)=>{if(oa(d,h),!h.customClass)return;let E=h.customClass[y];if(E){if(typeof E!="string"&&!E.forEach){M(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof E}"`);return}Ie(d,E)}},jo=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return d.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return d.querySelector(`.${m.popup} > .${m.radio} input:checked`)||d.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return d.querySelector(`.${m.popup} > .${m.range} input`);default:return d.querySelector(`.${m.popup} > .${m.input}`)}},sa=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},ir=(d,h,y)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(E=>{Array.isArray(d)?d.forEach(L=>{y?L.classList.add(E):L.classList.remove(E)}):y?d.classList.add(E):d.classList.remove(E)}))},Ie=(d,h)=>{ir(d,h,!0)},yn=(d,h)=>{ir(d,h,!1)},or=(d,h)=>{let y=Array.from(d.children);for(let E=0;E<y.length;E++){let L=y[E];if(L instanceof HTMLElement&&xn(L,h))return L}},Nn=(d,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?d.style.setProperty(h,typeof y=="number"?`${y}px`:y):d.style.removeProperty(h)},nt=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=h)},dt=d=>{d&&(d.style.display="none")},ht=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{ei(d,d.innerHTML,h)}).observe(d,{childList:!0,subtree:!0})},It=(d,h,y,E)=>{let L=d.querySelector(h);L&&L.style.setProperty(y,E)},ei=function(d,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?nt(d,y):dt(d)},cn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),yf=()=>!cn(en())&&!cn(yt())&&!cn(pr()),vf=d=>d.scrollHeight>d.clientHeight,Bo=d=>{let h=window.getComputedStyle(d),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||E>0},Nc=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Rn();y&&cn(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${d/1e3}s linear`,y.style.width="0%"},10))},_f=()=>{let d=Rn();if(!d)return;let h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let y=parseInt(window.getComputedStyle(d).width),E=h/y*100;d.style.width=`${E}%`},$u=()=>typeof window>"u"||typeof document>"u",qv=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Gv=()=>{let d=I();return d?(d.remove(),yn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},kr=()=>{s.currentInstance.resetValidationMessage()},wf=()=>{let d=P(),h=or(d,m.input),y=or(d,m.file),E=d.querySelector(`.${m.range} input`),L=d.querySelector(`.${m.range} output`),X=or(d,m.select),Te=d.querySelector(`.${m.checkbox} input`),Ke=or(d,m.textarea);h.oninput=kr,y.onchange=kr,X.onchange=kr,Te.onchange=kr,Ke.oninput=kr,E.oninput=()=>{kr(),L.value=E.value},E.onchange=()=>{kr(),L.value=E.value}},Ef=d=>typeof d=="string"?document.querySelector(d):d,aa=d=>{let h=P();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},Hu=d=>{window.getComputedStyle(d).direction==="rtl"&&Ie(I(),m.rtl)},zu=d=>{let h=Gv();if($u()){U("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ie(y,m["no-transition"]),$t(y,qv);let E=Ef(d.target);E.appendChild(y),aa(d),Hu(E),wf()},Lr=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?bf(d,h):d&&$t(h,d)},bf=(d,h)=>{d.jquery?Mc(h,d):$t(h,d.toString())},Mc=(d,h)=>{if(d.textContent="",0 in h)for(let y=0;y in h;y++)d.appendChild(h[y].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},If=(d,h)=>{let y=xt(),E=Sn();!y||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?dt(y):nt(y),Ht(y,h,"actions"),ca(y,E,h),$t(E,h.loaderHtml||""),Ht(E,h,"loader"))};function ca(d,h,y){let E=en(),L=yt(),X=pr();!E||!L||!X||(zt(E,"confirm",y),zt(L,"deny",y),zt(X,"cancel",y),Cf(E,L,X,y),y.reverseButtons&&(y.toast?(d.insertBefore(X,E),d.insertBefore(L,E)):(d.insertBefore(X,h),d.insertBefore(L,h),d.insertBefore(E,h))))}function Cf(d,h,y,E){if(!E.buttonsStyling){yn([d,h,y],m.styled);return}Ie([d,h,y],m.styled),E.confirmButtonColor&&(d.style.backgroundColor=E.confirmButtonColor,Ie(d,m["default-outline"])),E.denyButtonColor&&(h.style.backgroundColor=E.denyButtonColor,Ie(h,m["default-outline"])),E.cancelButtonColor&&(y.style.backgroundColor=E.cancelButtonColor,Ie(y,m["default-outline"]))}function zt(d,h,y){let E=O(h);ei(d,y[`show${E}Button`],"inline-block"),$t(d,y[`${h}ButtonText`]||""),d.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),d.className=m[h],Ht(d,y,`${h}Button`)}let Tf=(d,h)=>{let y=rr();y&&($t(y,h.closeButtonHtml||""),Ht(y,h,"closeButton"),ei(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},la=(d,h)=>{let y=I();y&&(ua(y,h.backdrop),Wv(y,h.position),Kv(y,h.grow),Ht(y,h,"container"))};function ua(d,h){typeof h=="string"?d.style.background=h:h||Ie([document.documentElement,document.body],m["no-backdrop"])}function Wv(d,h){h&&(h in m?Ie(d,m[h]):(M('The "position" parameter is not valid, defaulting to "center"'),Ie(d,m.center)))}function Kv(d,h){h&&Ie(d,m[`grow-${h}`])}var je={innerParams:new WeakMap,domCache:new WeakMap};let Qv=["input","file","range","select","radio","checkbox","textarea"],Yv=(d,h)=>{let y=P();if(!y)return;let E=je.innerParams.get(d),L=!E||h.input!==E.input;Qv.forEach(X=>{let Te=or(y,m[X]);Te&&(qu(X,h.inputAttributes),Te.className=m[X],L&&dt(Te))}),h.input&&(L&&Pc(h),Oc(h))},Pc=d=>{if(!d.input)return;if(!rt[d.input]){U(`Unexpected type of input! Expected ${Object.keys(rt).join(" | ")}, got "${d.input}"`);return}let h=Gu(d.input);if(!h)return;let y=rt[d.input](h,d);nt(h),d.inputAutoFocus&&setTimeout(()=>{sa(y)})},Df=d=>{for(let h=0;h<d.attributes.length;h++){let y=d.attributes[h].name;["id","type","value","style"].includes(y)||d.removeAttribute(y)}},qu=(d,h)=>{let y=P();if(!y)return;let E=jo(y,d);if(E){Df(E);for(let L in h)E.setAttribute(L,h[L])}},Oc=d=>{if(!d.input)return;let h=Gu(d.input);h&&Ht(h,d,"input")},gr=(d,h)=>{!d.placeholder&&h.inputPlaceholder&&(d.placeholder=h.inputPlaceholder)},$o=(d,h,y)=>{if(y.inputLabel){let E=document.createElement("label"),L=m["input-label"];E.setAttribute("for",d.id),E.className=L,typeof y.customClass=="object"&&Ie(E,y.customClass.inputLabel),E.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",E)}},Gu=d=>{let h=P();if(h)return or(h,m[d]||m.input)},Ho=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:b(h)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},rt={};rt.text=rt.email=rt.password=rt.number=rt.tel=rt.url=rt.search=rt.date=rt["datetime-local"]=rt.time=rt.week=rt.month=(d,h)=>(Ho(d,h.inputValue),$o(d,d,h),gr(d,h),d.type=h.input,d),rt.file=(d,h)=>($o(d,d,h),gr(d,h),d),rt.range=(d,h)=>{let y=d.querySelector("input"),E=d.querySelector("output");return Ho(y,h.inputValue),y.type=h.input,Ho(E,h.inputValue),$o(y,d,h),d},rt.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let y=document.createElement("option");$t(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,d.appendChild(y)}return $o(d,d,h),d},rt.radio=d=>(d.textContent="",d),rt.checkbox=(d,h)=>{let y=jo(P(),"checkbox");y.value="1",y.checked=!!h.inputValue;let E=d.querySelector("span");return $t(E,h.inputPlaceholder||h.inputLabel),y},rt.textarea=(d,h)=>{Ho(d,h.inputValue),gr(d,h),$o(d,d,h);let y=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let E=parseInt(window.getComputedStyle(P()).width),L=()=>{if(!document.body.contains(d))return;let X=d.offsetWidth+y(d);X>E?P().style.width=`${X}px`:Nn(P(),"width",h.width)};new MutationObserver(L).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let Af=(d,h)=>{let y=Bt();y&&(ht(y),Ht(y,h,"htmlContainer"),h.html?(Lr(h.html,y),nt(y,"block")):h.text?(y.textContent=h.text,nt(y,"block")):dt(y),Yv(d,h))},Sf=(d,h)=>{let y=Zr();y&&(ht(y),ei(y,h.footer,"block"),h.footer&&Lr(h.footer,y),Ht(y,h,"footer"))},Zv=(d,h)=>{let y=je.innerParams.get(d),E=T();if(E){if(y&&h.icon===y.icon){ti(E,h),da(E,h);return}if(!h.icon&&!h.iconHtml){dt(E);return}if(h.icon&&Object.keys(w).indexOf(h.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),dt(E);return}nt(E),ti(E,h),da(E,h),Ie(E,h.showClass&&h.showClass.icon)}},da=(d,h)=>{for(let[y,E]of Object.entries(w))h.icon!==y&&yn(d,E);Ie(d,h.icon&&w[h.icon]),Ku(d,h),Rf(),Ht(d,h,"icon")},Rf=()=>{let d=P();if(!d)return;let h=window.getComputedStyle(d).getPropertyValue("background-color"),y=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<y.length;E++)y[E].style.backgroundColor=h},Wu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ha=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ti=(d,h)=>{if(!h.icon&&!h.iconHtml)return;let y=d.innerHTML,E="";h.iconHtml?E=xf(h.iconHtml):h.icon==="success"?(E=Wu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?E=ha:h.icon&&(E=xf({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==E.trim()&&$t(d,E)},Ku=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])It(d,y,"background-color",h.iconColor);It(d,".swal2-success-ring","border-color",h.iconColor)}},xf=d=>`<div class="${m["icon-content"]}">${d}</div>`,Nf=(d,h)=>{let y=Rt();if(y){if(!h.imageUrl){dt(y);return}nt(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Nn(y,"width",h.imageWidth),Nn(y,"height",h.imageHeight),y.className=m.image,Ht(y,h,"image")}},Mf=(d,h)=>{let y=I(),E=P();if(!(!y||!E)){if(h.toast){Nn(y,"width",h.width),E.style.width="100%";let L=Sn();L&&E.insertBefore(L,T())}else Nn(E,"width",h.width);Nn(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),dt(gn()),Pf(E,h)}},Pf=(d,h)=>{let y=h.showClass||{};d.className=`${m.popup} ${cn(d)?y.popup:""}`,h.toast?(Ie([document.documentElement,document.body],m["toast-shown"]),Ie(d,m.toast)):Ie(d,m.modal),Ht(d,h,"popup"),typeof h.customClass=="string"&&Ie(d,h.customClass),h.icon&&Ie(d,m[`icon-${h.icon}`])},Qu=(d,h)=>{let y=jn();if(!y)return;let{progressSteps:E,currentProgressStep:L}=h;if(!E||E.length===0||L===void 0){dt(y);return}nt(y),y.textContent="",L>=E.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach((X,Te)=>{let Ke=Yu(X);if(y.appendChild(Ke),Te===L&&Ie(Ke,m["active-progress-step"]),Te!==E.length-1){let ft=Of(h);y.appendChild(ft)}})},Yu=d=>{let h=document.createElement("li");return Ie(h,m["progress-step"]),$t(h,d),h},Of=d=>{let h=document.createElement("li");return Ie(h,m["progress-step-line"]),d.progressStepsDistance&&Nn(h,"width",d.progressStepsDistance),h},kf=(d,h)=>{let y=mn();y&&(ht(y),ei(y,h.title||h.titleText,"block"),h.title&&Lr(h.title,y),h.titleText&&(y.innerText=h.titleText),Ht(y,h,"title"))},Lf=(d,h)=>{Mf(d,h),la(d,h),Qu(d,h),Zv(d,h),Nf(d,h),kf(d,h),Tf(d,h),Af(d,h),If(d,h),Sf(d,h);let y=P();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},Jv=()=>cn(P()),Zu=()=>{var d;return(d=en())===null||d===void 0?void 0:d.click()},Ff=()=>{var d;return(d=yt())===null||d===void 0?void 0:d.click()},Xv=()=>{var d;return(d=pr())===null||d===void 0?void 0:d.click()},Bn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yr=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},kc=(d,h,y)=>{yr(d),h.toast||(d.keydownHandler=E=>Lc(h,E,y),d.keydownTarget=h.keydownListenerCapture?window:P(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},zo=(d,h)=>{var y;let E=Jr();if(E.length){d=d+h,d===E.length?d=0:d===-1&&(d=E.length-1),E[d].focus();return}(y=P())===null||y===void 0||y.focus()},Ju=["ArrowRight","ArrowDown"],Xe=["ArrowLeft","ArrowUp"],Lc=(d,h,y)=>{d&&(h.isComposing||h.keyCode===229||(d.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?fa(h,d):h.key==="Tab"?pa(h):[...Ju,...Xe].includes(h.key)?e_(h.key):h.key==="Escape"&&Vf(h,d,y)))},fa=(d,h)=>{if(!ee(h.allowEnterKey))return;let y=jo(P(),h.input);if(d.target&&y&&d.target instanceof HTMLElement&&d.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Zu(),d.preventDefault()}},pa=d=>{let h=d.target,y=Jr(),E=-1;for(let L=0;L<y.length;L++)if(h===y[L]){E=L;break}d.shiftKey?zo(E,-1):zo(E,1),d.stopPropagation(),d.preventDefault()},e_=d=>{let h=xt(),y=en(),E=yt(),L=pr();if(!h||!y||!E||!L)return;let X=[y,E,L];if(document.activeElement instanceof HTMLElement&&!X.includes(document.activeElement))return;let Te=Ju.includes(d)?"nextElementSibling":"previousElementSibling",Ke=document.activeElement;if(Ke){for(let ft=0;ft<h.children.length;ft++){if(Ke=Ke[Te],!Ke)return;if(Ke instanceof HTMLButtonElement&&cn(Ke))break}Ke instanceof HTMLButtonElement&&Ke.focus()}},Vf=(d,h,y)=>{ee(h.allowEscapeKey)&&(d.preventDefault(),y(Bn.esc))};var qo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let t_=()=>{let d=I();Array.from(document.body.children).forEach(y=>{y.contains(d)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Uf=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},jf=typeof window<"u"&&!!window.GestureEvent,ma=()=>{if(jf&&!xn(document.body,m.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,Ie(document.body,m.iosfix),ni()}},ni=()=>{let d=I();if(!d)return;let h;d.ontouchstart=y=>{h=Bf(y)},d.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Bf=d=>{let h=d.target,y=I(),E=Bt();return!y||!E||$f(d)||Hf(d)?!1:h===y||!vf(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(vf(E)&&E.contains(h))},$f=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",Hf=d=>d.touches&&d.touches.length>1,Go=()=>{if(xn(document.body,m.iosfix)){let d=parseInt(document.body.style.top,10);yn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},n_=()=>{let d=document.createElement("div");d.className=m["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},Wo=null,r_=d=>{Wo===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(Wo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Wo+n_()}px`)},ri=()=>{Wo!==null&&(document.body.style.paddingRight=`${Wo}px`,Wo=null)};function zf(d,h,y,E){Xr()?it(d,E):(c(y).then(()=>it(d,E)),yr(s)),jf?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),mr()&&(ri(),Go(),Uf()),i_()}function i_(){yn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function $n(d){d=ga(d);let h=qo.swalPromiseResolve.get(this),y=Fc(this);this.isAwaitingPromise?d.isDismissed||(Fr(this),h(d)):y&&h(d)}let Fc=d=>{let h=P();if(!h)return!1;let y=je.innerParams.get(d);if(!y||xn(h,y.hideClass.popup))return!1;yn(h,y.showClass.popup),Ie(h,y.hideClass.popup);let E=I();return yn(E,y.showClass.backdrop),Ie(E,y.hideClass.backdrop),qf(d,h,y),!0};function Xu(d){let h=qo.swalPromiseReject.get(this);Fr(this),h&&h(d)}let Fr=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,je.innerParams.get(d)||d._destroy())},ga=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),qf=(d,h,y)=>{let E=I(),L=Bo(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),L?ed(d,h,E,y.returnFocus,y.didClose):zf(d,E,y.returnFocus,y.didClose)},ed=(d,h,y,E,L)=>{s.swalCloseEventFinishedCallback=zf.bind(null,d,y,E,L);let X=function(Te){Te.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",X),h.removeEventListener("transitionend",X))};h.addEventListener("animationend",X),h.addEventListener("transitionend",X)},it=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),s.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},Ko=d=>{let h=P();if(h||new sp,h=P(),!h)return;let y=Sn();Xr()?dt(T()):o_(h,d),nt(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},o_=(d,h)=>{let y=xt(),E=Sn();!y||!E||(!h&&cn(en())&&(h=en()),nt(y),h&&(dt(h),E.setAttribute("data-button-to-replace",h.className),y.insertBefore(E,h)),Ie([d,y],m.loading))},Gf=(d,h)=>{h.input==="select"||h.input==="radio"?Vr(d,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Q(h.inputValue)||b(h.inputValue))&&(Ko(en()),Yf(d,h))},Wf=(d,h)=>{let y=d.getInput();if(!y)return null;switch(h.input){case"checkbox":return Kf(y);case"radio":return Vc(y);case"file":return Qf(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Kf=d=>d.checked?1:0,Vc=d=>d.checked?d.value:null,Qf=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Vr=(d,h)=>{let y=P();if(!y)return;let E=L=>{h.input==="select"?s_(y,va(L),h):h.input==="radio"&&ya(y,va(L),h)};Q(h.inputOptions)||b(h.inputOptions)?(Ko(en()),D(h.inputOptions).then(L=>{d.hideLoading(),E(L)})):typeof h.inputOptions=="object"?E(h.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Yf=(d,h)=>{let y=d.getInput();y&&(dt(y),D(h.inputValue).then(E=>{y.value=h.input==="number"?`${parseFloat(E)||0}`:`${E}`,nt(y),y.focus(),d.hideLoading()}).catch(E=>{U(`Error in inputValue promise: ${E}`),y.value="",nt(y),y.focus(),d.hideLoading()}))};function s_(d,h,y){let E=or(d,m.select);if(!E)return;let L=(X,Te,Ke)=>{let ft=document.createElement("option");ft.value=Ke,$t(ft,Te),ft.selected=Uc(Ke,y.inputValue),X.appendChild(ft)};h.forEach(X=>{let Te=X[0],Ke=X[1];if(Array.isArray(Ke)){let ft=document.createElement("optgroup");ft.label=Te,ft.disabled=!1,E.appendChild(ft),Ke.forEach(Hc=>L(ft,Hc[1],Hc[0]))}else L(E,Ke,Te)}),E.focus()}function ya(d,h,y){let E=or(d,m.radio);if(!E)return;h.forEach(X=>{let Te=X[0],Ke=X[1],ft=document.createElement("input"),Hc=document.createElement("label");ft.type="radio",ft.name=m.radio,ft.value=Te,Uc(Te,y.inputValue)&&(ft.checked=!0);let c_=document.createElement("span");$t(c_,Ke),c_.className=m.label,Hc.appendChild(ft),Hc.appendChild(c_),E.appendChild(Hc)});let L=E.querySelectorAll("input");L.length&&L[0].focus()}let va=d=>{let h=[];return d instanceof Map?d.forEach((y,E)=>{let L=y;typeof L=="object"&&(L=va(L)),h.push([E,L])}):Object.keys(d).forEach(y=>{let E=d[y];typeof E=="object"&&(E=va(E)),h.push([y,E])}),h},Uc=(d,h)=>!!h&&h.toString()===d.toString(),jc=d=>{let h=je.innerParams.get(d);d.disableButtons(),h.input?Jf(d,"confirm"):_a(d,!0)},Zf=d=>{let h=je.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?Jf(d,"deny"):Ui(d,!1)},Bc=(d,h)=>{d.disableButtons(),h(Bn.cancel)},Jf=(d,h)=>{let y=je.innerParams.get(d);if(!y.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let E=d.getInput(),L=Wf(d,y);y.inputValidator?Xf(d,L,h):E&&!E.checkValidity()?(d.enableButtons(),d.showValidationMessage(y.validationMessage||E.validationMessage)):h==="deny"?Ui(d,L):_a(d,L)},Xf=(d,h,y)=>{let E=je.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>D(E.inputValidator(h,E.validationMessage))).then(X=>{d.enableButtons(),d.enableInput(),X?d.showValidationMessage(X):y==="deny"?Ui(d,h):_a(d,h)})},Ui=(d,h)=>{let y=je.innerParams.get(d||void 0);y.showLoaderOnDeny&&Ko(yt()),y.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(L=>{L===!1?(d.hideLoading(),Fr(d)):d.close({isDenied:!0,value:typeof L>"u"?h:L})}).catch(L=>nd(d||void 0,L))):d.close({isDenied:!0,value:h})},td=(d,h)=>{d.close({isConfirmed:!0,value:h})},nd=(d,h)=>{d.rejectPromise(h)},_a=(d,h)=>{let y=je.innerParams.get(d||void 0);y.showLoaderOnConfirm&&Ko(),y.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(L=>{cn(gn())||L===!1?(d.hideLoading(),Fr(d)):td(d,typeof L>"u"?h:L)}).catch(L=>nd(d||void 0,L))):td(d,h)};function Qo(){let d=je.innerParams.get(this);if(!d)return;let h=je.domCache.get(this);dt(h.loader),Xr()?d.icon&&nt(T()):ep(h),yn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let ep=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?nt(h[0],"inline-block"):yf()&&dt(d.actions)};function wa(){let d=je.innerParams.get(this),h=je.domCache.get(this);return h?jo(h.popup,d.input):null}function rd(d,h,y){let E=je.domCache.get(d);h.forEach(L=>{E[L].disabled=y})}function id(d,h){let y=P();if(!(!y||!d))if(d.type==="radio"){let E=y.querySelectorAll(`[name="${m.radio}"]`);for(let L=0;L<E.length;L++)E[L].disabled=h}else d.disabled=h}function ii(){rd(this,["confirmButton","denyButton","cancelButton"],!1)}function od(){rd(this,["confirmButton","denyButton","cancelButton"],!0)}function sd(){id(this.getInput(),!1)}function ad(){id(this.getInput(),!0)}function cd(d){let h=je.domCache.get(this),y=je.innerParams.get(this);$t(h.validationMessage,d),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ie(h.validationMessage,y.customClass.validationMessage),nt(h.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",m["validation-message"]),sa(E),Ie(E,m.inputerror))}function Ea(){let d=je.domCache.get(this);d.validationMessage&&dt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),yn(h,m.inputerror))}let Nt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},tp=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],np={allowEnterKey:void 0},Yo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],l=d=>Object.prototype.hasOwnProperty.call(Nt,d),f=d=>tp.indexOf(d)!==-1,g=d=>np[d],v=d=>{l(d)||M(`Unknown parameter "${d}"`)},k=d=>{Yo.includes(d)&&M(`The parameter "${d}" is incompatible with toasts`)},V=d=>{let h=g(d);h&&z(d,h)},Z=d=>{d.backdrop===!1&&d.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)v(h),d.toast&&k(h),V(h)};function We(d){let h=P(),y=je.innerParams.get(this);if(!h||xn(h,y.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let E=qt(d),L=Object.assign({},y,E);Lf(this,L),je.innerParams.set(this,L),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let qt=d=>{let h={};return Object.keys(d).forEach(y=>{f(y)?h[y]=d[y]:M(`Invalid parameter to update: ${y}`)}),h};function Le(){let d=je.domCache.get(this),h=je.innerParams.get(this);if(!h){Gt(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),tn(this)}let tn=d=>{Gt(d),delete d.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Gt=d=>{d.isAwaitingPromise?(oi(je,d),d.isAwaitingPromise=!0):(oi(qo,d),oi(je,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},oi=(d,h)=>{for(let y in d)d[y].delete(h)};var sr=Object.freeze({__proto__:null,_destroy:Le,close:$n,closeModal:$n,closePopup:$n,closeToast:$n,disableButtons:od,disableInput:ad,disableLoading:Qo,enableButtons:ii,enableInput:sd,getInput:wa,handleAwaitingPromise:Fr,hideLoading:Qo,rejectPromise:Xu,resetValidationMessage:Ea,showValidationMessage:cd,update:We});let $c=(d,h,y)=>{d.toast?ld(d,h,y):(UL(h),jL(h),BL(d,h,y))},ld=(d,h,y)=>{h.popup.onclick=()=>{d&&(VL(d)||d.timer||d.input)||y(Bn.close)}},VL=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),rp=!1,UL=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=()=>{},h.target===d.container&&(rp=!0)}}},jL=d=>{d.container.onmousedown=h=>{h.target===d.container&&h.preventDefault(),d.popup.onmouseup=function(y){d.popup.onmouseup=()=>{},(y.target===d.popup||y.target instanceof HTMLElement&&d.popup.contains(y.target))&&(rp=!0)}}},BL=(d,h,y)=>{h.container.onclick=E=>{if(rp){rp=!1;return}E.target===h.container&&ee(d.allowOutsideClick)&&y(Bn.backdrop)}},$L=d=>typeof d=="object"&&d.jquery,_D=d=>d instanceof Element||$L(d),HL=d=>{let h={};return typeof d[0]=="object"&&!_D(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((y,E)=>{let L=d[E];typeof L=="string"||_D(L)?h[y]=L:L!==void 0&&U(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof L}`)}),h};function zL(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];return new this(...h)}function qL(d){class h extends this{_main(E,L){return super._main(E,Object.assign({},d,L))}}return h}let GL=()=>s.timeout&&s.timeout.getTimerLeft(),wD=()=>{if(s.timeout)return _f(),s.timeout.stop()},ED=()=>{if(s.timeout){let d=s.timeout.start();return Nc(d),d}},WL=()=>{let d=s.timeout;return d&&(d.running?wD():ED())},KL=d=>{if(s.timeout){let h=s.timeout.increase(d);return Nc(h,!0),h}},QL=()=>!!(s.timeout&&s.timeout.isRunning()),bD=!1,a_={};function YL(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";a_[d]=this,bD||(document.body.addEventListener("click",ZL),bD=!0)}let ZL=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let y in a_){let E=h.getAttribute(y);if(E){a_[y].fire({template:E});return}}};class JL{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let E=this._getHandlersByEventName(h);E.includes(y)||E.push(y)}once(h,y){var E=this;let L=function(){E.removeListener(h,L);for(var X=arguments.length,Te=new Array(X),Ke=0;Ke<X;Ke++)Te[Ke]=arguments[Ke];y.apply(E,Te)};this.on(h,L)}emit(h){for(var y=arguments.length,E=new Array(y>1?y-1:0),L=1;L<y;L++)E[L-1]=arguments[L];this._getHandlersByEventName(h).forEach(X=>{try{X.apply(this,E)}catch(Te){console.error(Te)}})}removeListener(h,y){let E=this._getHandlersByEventName(h),L=E.indexOf(y);L>-1&&E.splice(L,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new JL;var XL=Object.freeze({__proto__:null,argsToParams:HL,bindClickHandler:YL,clickCancel:Xv,clickConfirm:Zu,clickDeny:Ff,enableLoading:Ko,fire:zL,getActions:xt,getCancelButton:pr,getCloseButton:rr,getConfirmButton:en,getContainer:I,getDenyButton:yt,getFocusableElements:Jr,getFooter:Zr,getHtmlContainer:Bt,getIcon:T,getIconContent:jt,getImage:Rt,getInputLabel:ut,getLoader:Sn,getPopup:P,getProgressSteps:jn,getTimerLeft:GL,getTimerProgressBar:Rn,getTitle:mn,getValidationMessage:gn,increaseTimer:KL,isDeprecatedParameter:g,isLoading:Uo,isTimerRunning:QL,isUpdatableParameter:f,isValidParameter:l,isVisible:Jv,mixin:qL,off:(d,h)=>{if(!d){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(d,h):s.eventEmitter.removeAllListeners(d)},on:(d,h)=>{s.eventEmitter.on(d,h)},once:(d,h)=>{s.eventEmitter.once(d,h)},resumeTimer:ED,showLoading:Ko,stopTimer:wD,toggleTimer:WL});class eF{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let ID=["swal-title","swal-html","swal-footer"],tF=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let y=h.content;return lF(y),Object.assign(nF(y),rF(y),iF(y),oF(y),sF(y),aF(y),cF(y,ID))},nF=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(E=>{ba(E,["name","value"]);let L=E.getAttribute("name"),X=E.getAttribute("value");!L||!X||(typeof Nt[L]=="boolean"?h[L]=X!=="false":typeof Nt[L]=="object"?h[L]=JSON.parse(X):h[L]=X)}),h},rF=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(E=>{let L=E.getAttribute("name"),X=E.getAttribute("value");!L||!X||(h[L]=new Function(`return ${X}`)())}),h},iF=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(E=>{ba(E,["type","color","aria-label"]);let L=E.getAttribute("type");!L||!["confirm","cancel","deny"].includes(L)||(h[`${L}ButtonText`]=E.innerHTML,h[`show${O(L)}Button`]=!0,E.hasAttribute("color")&&(h[`${L}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h[`${L}ButtonAriaLabel`]=E.getAttribute("aria-label")))}),h},oF=d=>{let h={},y=d.querySelector("swal-image");return y&&(ba(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},sF=d=>{let h={},y=d.querySelector("swal-icon");return y&&(ba(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},aF=d=>{let h={},y=d.querySelector("swal-input");y&&(ba(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let E=Array.from(d.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(L=>{ba(L,["value"]);let X=L.getAttribute("value");if(!X)return;let Te=L.innerHTML;h.inputOptions[X]=Te})),h},cF=(d,h)=>{let y={};for(let E in h){let L=h[E],X=d.querySelector(L);X&&(ba(X,[]),y[L.replace(/^swal-/,"")]=X.innerHTML.trim())}return y},lF=d=>{let h=ID.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(y=>{let E=y.tagName.toLowerCase();h.includes(E)||M(`Unrecognized element <${E}>`)})},ba=(d,h)=>{Array.from(d.attributes).forEach(y=>{h.indexOf(y.name)===-1&&M([`Unrecognized attribute "${y.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},CD=10,uF=d=>{let h=I(),y=P();typeof d.willOpen=="function"&&d.willOpen(y),s.eventEmitter.emit("willOpen",y);let L=window.getComputedStyle(document.body).overflowY;fF(h,y,d),setTimeout(()=>{dF(h,y)},CD),mr()&&(hF(h,d.scrollbarPadding,L),t_()),!Xr()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(y)),s.eventEmitter.emit("didOpen",y),yn(h,m["no-transition"])},ip=d=>{let h=P();if(d.target!==h)return;let y=I();h.removeEventListener("animationend",ip),h.removeEventListener("transitionend",ip),y.style.overflowY="auto"},dF=(d,h)=>{Bo(h)?(d.style.overflowY="hidden",h.addEventListener("animationend",ip),h.addEventListener("transitionend",ip)):d.style.overflowY="auto"},hF=(d,h,y)=>{ma(),h&&y!=="hidden"&&r_(y),setTimeout(()=>{d.scrollTop=0})},fF=(d,h,y)=>{Ie(d,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),nt(h,"grid"),setTimeout(()=>{Ie(h,y.showClass.popup),h.style.removeProperty("opacity")},CD)):nt(h,"grid"),Ie([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ie([document.documentElement,document.body],m["height-auto"])};var TD={email:(d,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function pF(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=TD.email),d.input==="url"&&(d.inputValidator=TD.url))}function mF(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),d.target="body")}function gF(d){pF(d),d.showLoaderOnConfirm&&!d.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mF(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),zu(d)}let si;var op=new WeakMap;class Ct{constructor(){if(r(this,op,void 0),typeof window>"u")return;si=this;for(var h=arguments.length,y=new Array(h),E=0;E<h;E++)y[E]=arguments[E];let L=Object.freeze(this.constructor.argsToParams(y));this.params=L,this.isAwaitingPromise=!1,i(op,this,this._main(si.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Z(Object.assign({},y,h)),s.currentInstance){let X=qo.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Te}=s.currentInstance;s.currentInstance._destroy(),Te||X({isDismissed:!0}),mr()&&Uf()}s.currentInstance=si;let E=vF(h,y);gF(E),Object.freeze(E),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let L=_F(si);return Lf(si,E),je.innerParams.set(si,E),yF(si,L,E)}then(h){return t(op,this).then(h)}finally(h){return t(op,this).finally(h)}}let yF=(d,h,y)=>new Promise((E,L)=>{let X=Te=>{d.close({isDismissed:!0,dismiss:Te})};qo.swalPromiseResolve.set(d,E),qo.swalPromiseReject.set(d,L),h.confirmButton.onclick=()=>{jc(d)},h.denyButton.onclick=()=>{Zf(d)},h.cancelButton.onclick=()=>{Bc(d,X)},h.closeButton.onclick=()=>{X(Bn.close)},$c(y,h,X),kc(s,y,X),Gf(d,y),uF(y),wF(s,y,X),EF(h,y),setTimeout(()=>{h.container.scrollTop=0})}),vF=(d,h)=>{let y=tF(d),E=Object.assign({},Nt,h,y,d);return E.showClass=Object.assign({},Nt.showClass,E.showClass),E.hideClass=Object.assign({},Nt.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},_F=d=>{let h={popup:P(),container:I(),actions:xt(),confirmButton:en(),denyButton:yt(),cancelButton:pr(),loader:Sn(),closeButton:rr(),validationMessage:gn(),progressSteps:jn()};return je.domCache.set(d,h),h},wF=(d,h,y)=>{let E=Rn();dt(E),h.timer&&(d.timeout=new eF(()=>{y("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(nt(E),Ht(E,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&Nc(h.timer)})))},EF=(d,h)=>{if(!h.toast){if(!ee(h.allowEnterKey)){z("allowEnterKey"),CF();return}bF(d)||IF(d,h)||zo(-1,1)}},bF=d=>{let h=d.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&cn(y))return y.focus(),!0;return!1},IF=(d,h)=>h.focusDeny&&cn(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&cn(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&cn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,CF=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Ct.prototype.disableButtons=od,Ct.prototype.enableButtons=ii,Ct.prototype.getInput=wa,Ct.prototype.disableInput=ad,Ct.prototype.enableInput=sd,Ct.prototype.hideLoading=Qo,Ct.prototype.disableLoading=Qo,Ct.prototype.showValidationMessage=cd,Ct.prototype.resetValidationMessage=Ea,Ct.prototype.close=$n,Ct.prototype.closePopup=$n,Ct.prototype.closeModal=$n,Ct.prototype.closeToast=$n,Ct.prototype.rejectPromise=Xu,Ct.prototype.update=We,Ct.prototype._destroy=Le,Object.assign(Ct,XL),Object.keys(sr).forEach(d=>{Ct[d]=function(){return si&&si[d]?si[d](...arguments):null}}),Ct.DismissReason=Bn,Ct.version="11.14.4";let sp=Ct;return sp.default=sp,sp});typeof ki<"u"&&ki.Sweetalert2&&(ki.swal=ki.sweetAlert=ki.Swal=ki.SweetAlert=ki.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function xD(n,e){return Object.is(n,e)}var Wt=null,cp=!1,lp=1,ji=Symbol("SIGNAL");function xe(n){let e=Wt;return Wt=n,e}function ND(){return Wt}var hd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function d_(n){if(cp)throw new Error("");if(Wt===null)return;Wt.consumerOnSignalRead(n);let e=Wt.nextProducerIndex++;if(fp(Wt),e<Wt.producerNode.length&&Wt.producerNode[e]!==n&&dd(Wt)){let t=Wt.producerNode[e];hp(t,Wt.producerIndexOfThis[e])}Wt.producerNode[e]!==n&&(Wt.producerNode[e]=n,Wt.producerIndexOfThis[e]=dd(Wt)?kD(n,Wt,e):0),Wt.producerLastReadVersion[e]=n.version}function kF(){lp++}function MD(n){if(!(dd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===lp)){if(!n.producerMustRecompute(n)&&!f_(n)){n.dirty=!1,n.lastCleanEpoch=lp;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=lp}}function PD(n){if(n.liveConsumerNode===void 0)return;let e=cp;cp=!0;try{for(let t of n.liveConsumerNode)t.dirty||LF(t)}finally{cp=e}}function OD(){return Wt?.consumerAllowSignalWrites!==!1}function LF(n){n.dirty=!0,PD(n),n.consumerMarkedDirty?.(n)}function dp(n){return n&&(n.nextProducerIndex=0),xe(n)}function h_(n,e){if(xe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(dd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function f_(n){fp(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(MD(t),r!==t.version))return!0}return!1}function p_(n){if(fp(n),dd(n))for(let e=0;e<n.producerNode.length;e++)hp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kD(n,e,t){if(LD(n),n.liveConsumerNode.length===0&&FD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=kD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function hp(n,e){if(LD(n),n.liveConsumerNode.length===1&&FD(n))for(let r=0;r<n.producerNode.length;r++)hp(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fp(i),i.producerIndexOfThis[r]=e}}function dd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fp(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function LD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function FD(n){return n.producerNode!==void 0}function VD(n){let e=Object.create(FF);e.computation=n;let t=()=>{if(MD(e),d_(e),e.value===up)throw e.error;return e.value};return t[ji]=e,t}var l_=Symbol("UNSET"),u_=Symbol("COMPUTING"),up=Symbol("ERRORED"),FF=De(q({},hd),{value:l_,dirty:!0,error:null,equal:xD,producerMustRecompute(n){return n.value===l_||n.value===u_},producerRecomputeValue(n){if(n.value===u_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=u_;let t=dp(n),r;try{r=n.computation()}catch(i){r=up,n.error=i}finally{h_(n,t)}if(e!==l_&&e!==up&&r!==up&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function VF(){throw new Error}var UD=VF;function jD(){UD()}function BD(n){UD=n}var UF=null;function $D(n){let e=Object.create(zD);e.value=n;let t=()=>(d_(e),e.value);return t[ji]=e,t}function m_(n,e){OD()||jD(),n.equal(n.value,e)||(n.value=e,jF(n))}function HD(n,e){OD()||jD(),m_(n,e(n.value))}var zD=De(q({},hd),{equal:xD,value:void 0});function jF(n){n.version++,kF(),PD(n),UF?.()}function _e(n){return typeof n=="function"}function zc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pp=zc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ia(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var vt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof pp?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qD(o)}catch(s){e=e??[],s instanceof pp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ia(t,e)}remove(e){let{_finalizers:t}=this;t&&Ia(t,e),e instanceof n&&e._removeParent(this)}};vt.EMPTY=(()=>{let n=new vt;return n.closed=!0,n})();var g_=vt.EMPTY;function mp(n){return n instanceof vt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function qD(n){_e(n)?n():n.unsubscribe()}var Ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qc={setTimeout(n,e,...t){let{delegate:r}=qc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=qc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gp(n){qc.setTimeout(()=>{let{onUnhandledError:e}=Ur;if(e)e(n);else throw n})}function fd(){}var GD=y_("C",void 0,void 0);function WD(n){return y_("E",void 0,n)}function KD(n){return y_("N",n,void 0)}function y_(n,e,t){return{kind:n,value:e,error:t}}var Ca=null;function Gc(n){if(Ur.useDeprecatedSynchronousErrorHandling){let e=!Ca;if(e&&(Ca={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ca;if(Ca=null,t)throw r}}else n()}function QD(n){Ur.useDeprecatedSynchronousErrorHandling&&Ca&&(Ca.errorThrown=!0,Ca.error=n)}var Ta=class extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mp(e)&&e.add(this)):this.destination=HF}static create(e,t,r){return new Wc(e,t,r)}next(e){this.isStopped?__(KD(e),this):this._next(e)}error(e){this.isStopped?__(WD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?__(GD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BF=Function.prototype.bind;function v_(n,e){return BF.call(n,e)}var w_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yp(r)}else yp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yp(t)}}},Wc=class extends Ta{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ur.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&v_(e.next,o),error:e.error&&v_(e.error,o),complete:e.complete&&v_(e.complete,o)}):i=e}this.destination=new w_(i)}};function yp(n){Ur.useDeprecatedSynchronousErrorHandling?QD(n):gp(n)}function $F(n){throw n}function __(n,e){let{onStoppedNotification:t}=Ur;t&&qc.setTimeout(()=>t(n,e))}var HF={closed:!0,next:fd,error:$F,complete:fd};var Kc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ar(n){return n}function E_(...n){return b_(n)}function b_(n){return n.length===0?ar:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=qF(t)?t:new Wc(t,r,i);return Gc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=YD(r),new r((i,o)=>{let s=new Wc({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Kc](){return this}pipe(...t){return b_(t)(this)}toPromise(t){return t=YD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function YD(n){var e;return(e=n??Ur.Promise)!==null&&e!==void 0?e:Promise}function zF(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function qF(n){return n&&n instanceof Ta||zF(n)&&mp(n)}function I_(n){return _e(n?.lift)}function Ve(n){return e=>{if(I_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(n,e,t,r,i){return new C_(n,e,t,r,i)}var C_=class extends Ta{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Qc(){return Ve((n,e)=>{let t=null;n._refCount++;let r=Pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Yc=class extends Ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,I_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vt;let t=this.getSubject();e.add(this.source.subscribe(Pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vt.EMPTY)}return e}refCount(){return Qc()(this)}};var ZD=zc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class n extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new vp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZD}next(t){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?g_:(this.currentObservers=null,o.push(t),new vt(()=>{this.currentObservers=null,Ia(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ne;return t.source=this,t}}return n.create=(e,t)=>new vp(e,t),n})(),vp=class extends _t{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:g_}};var Kt=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var T_={now(){return(T_.delegate||Date).now()},delegate:void 0};var _p=class extends vt{constructor(e,t){super()}schedule(e,t=0){return this}};var pd={setInterval(n,e,...t){let{delegate:r}=pd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=pd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Zc=class extends _p{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return pd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&pd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ia(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Jc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Jc.now=T_.now;var Xc=class extends Jc{constructor(e,t=Jc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var D_=new Xc(Zc);var wp=class extends Zc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ep=class extends Xc{};var A_=new Ep(wp);var cr=new Ne(n=>n.complete());function JD(n){return n&&_e(n.schedule)}function XD(n){return n[n.length-1]}function bp(n){return _e(XD(n))?n.pop():void 0}function Jo(n){return JD(XD(n))?n.pop():void 0}function S_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tA(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(m){s(m)}}function c(p){try{u(r.throw(p))}catch(m){s(m)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function eA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Da(n){return this instanceof Da?(this.v=n,this):new Da(n)}function nA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(N){return Promise.resolve(N).then(w,m)}}function a(w,N){r[w]&&(i[w]=function(O){return new Promise(function(M,U){o.push([w,O,M,U])>1||c(w,O)})},N&&(i[w]=N(i[w])))}function c(w,N){try{u(r[w](N))}catch(O){_(o[0][3],O)}}function u(w){w.value instanceof Da?Promise.resolve(w.value.v).then(p,m):_(o[0][2],w)}function p(w){c("next",w)}function m(w){c("throw",w)}function _(w,N){w(N),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eA=="function"?eA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ip=n=>n&&typeof n.length=="number"&&typeof n!="function";function Cp(n){return _e(n?.then)}function Tp(n){return _e(n[Kc])}function Dp(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Ap(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sp=GF();function Rp(n){return _e(n?.[Sp])}function xp(n){return nA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Da(t.read());if(i)return yield Da(void 0);yield yield Da(r)}}finally{t.releaseLock()}})}function Np(n){return _e(n?.getReader)}function Mt(n){if(n instanceof Ne)return n;if(n!=null){if(Tp(n))return WF(n);if(Ip(n))return KF(n);if(Cp(n))return QF(n);if(Dp(n))return iA(n);if(Rp(n))return YF(n);if(Np(n))return ZF(n)}throw Ap(n)}function WF(n){return new Ne(e=>{let t=n[Kc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KF(n){return new Ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QF(n){return new Ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gp)})}function YF(n){return new Ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iA(n){return new Ne(e=>{JF(n,e).catch(t=>e.error(t))})}function ZF(n){return iA(xp(n))}function JF(n,e){var t,r,i,o;return tA(this,void 0,void 0,function*(){try{for(t=rA(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Hn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Xo(n,e=0){return Ve((t,r)=>{t.subscribe(Pe(r,i=>Hn(r,n,()=>r.next(i),e),()=>Hn(r,n,()=>r.complete(),e),i=>Hn(r,n,()=>r.error(i),e)))})}function es(n,e=0){return Ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function oA(n,e){return Mt(n).pipe(es(e),Xo(e))}function sA(n,e){return Mt(n).pipe(es(e),Xo(e))}function aA(n,e){return new Ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cA(n,e){return new Ne(t=>{let r;return Hn(t,e,()=>{r=n[Sp](),Hn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Mp(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ne(t=>{Hn(t,e,()=>{let r=n[Symbol.asyncIterator]();Hn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lA(n,e){return Mp(xp(n),e)}function uA(n,e){if(n!=null){if(Tp(n))return oA(n,e);if(Ip(n))return aA(n,e);if(Cp(n))return sA(n,e);if(Dp(n))return Mp(n,e);if(Rp(n))return cA(n,e);if(Np(n))return lA(n,e)}throw Ap(n)}function ot(n,e){return e?uA(n,e):Mt(n)}function he(...n){let e=Jo(n);return ot(n,e)}function el(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new Ne(e?i=>e.schedule(r,0,i):r)}function R_(n){return!!n&&(n instanceof Ne||_e(n.lift)&&_e(n.subscribe))}var Bi=zc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(n,e){return Ve((t,r)=>{let i=0;t.subscribe(Pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:XF}=Array;function eV(n,e){return XF(e)?n(...e):n(e)}function Pp(n){return Ee(e=>eV(n,e))}var{isArray:tV}=Array,{getPrototypeOf:nV,prototype:rV,keys:iV}=Object;function Op(n){if(n.length===1){let e=n[0];if(tV(e))return{args:e,keys:null};if(oV(e)){let t=iV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oV(n){return n&&typeof n=="object"&&nV(n)===rV}function kp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function md(...n){let e=Jo(n),t=bp(n),{args:r,keys:i}=Op(n);if(r.length===0)return ot([],e);let o=new Ne(sV(r,e,i?s=>kp(i,s):ar));return t?o.pipe(Pp(t)):o}function sV(n,e,t=ar){return r=>{dA(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)dA(e,()=>{let u=ot(n[c],e),p=!1;u.subscribe(Pe(r,m=>{o[c]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dA(n,e,t){n?Hn(t,n,e):e()}function hA(n,e,t,r,i,o,s,a){let c=[],u=0,p=0,m=!1,_=()=>{m&&!c.length&&!u&&e.complete()},w=O=>u<r?N(O):c.push(O),N=O=>{o&&e.next(O),u++;let M=!1;Mt(t(O,p++)).subscribe(Pe(e,U=>{i?.(U),o?w(U):e.next(U)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let U=c.shift();s?Hn(e,s,()=>N(U)):N(U)}_()}catch(U){e.error(U)}}))};return n.subscribe(Pe(e,w,()=>{m=!0,_()})),()=>{a?.()}}function Pt(n,e,t=1/0){return _e(e)?Pt((r,i)=>Ee((o,s)=>e(r,o,i,s))(Mt(n(r,i))),t):(typeof e=="number"&&(t=e),Ve((r,i)=>hA(r,i,n,t)))}function tl(n=1/0){return Pt(ar,n)}function fA(){return tl(1)}function nl(...n){return fA()(ot(n,Jo(n)))}function Lp(n){return new Ne(e=>{Mt(n()).subscribe(e)})}function x_(...n){let e=bp(n),{args:t,keys:r}=Op(n),i=new Ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let p=0;p<s;p++){let m=!1;Mt(t[p]).subscribe(Pe(o,_=>{m||(m=!0,u--),a[p]=_},()=>c--,void 0,()=>{(!c||!m)&&(u||o.next(r?kp(r,a):a),o.complete())}))}});return e?i.pipe(Pp(e)):i}function vn(n,e){return Ve((t,r)=>{let i=0;t.subscribe(Pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ts(n){return Ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Pe(t,void 0,void 0,s=>{o=Mt(n(s,ts(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pA(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Pe(s,p=>{let m=u++;c=a?n(c,p,m):(a=!0,p),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function $i(n,e){return _e(e)?Pt(n,e,1):Pt(n,1)}function ns(n){return Ve((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hi(n){return n<=0?()=>cr:Ve((e,t)=>{let r=0;e.subscribe(Pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function N_(n){return Ee(()=>n)}function Fp(n=aV){return Ve((e,t)=>{let r=!1;e.subscribe(Pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function aV(){return new Bi}function Aa(n){return Ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ai(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):ar,Hi(1),t?ns(e):Fp(()=>new Bi))}function rl(n){return n<=0?()=>cr:Ve((e,t)=>{let r=[];e.subscribe(Pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function M_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vn((i,o)=>n(i,o,r)):ar,rl(1),t?ns(e):Fp(()=>new Bi))}function P_(n,e){return Ve(pA(n,e,arguments.length>=2,!0))}function O_(...n){let e=Jo(n);return Ve((t,r)=>{(e?nl(n,t,e):nl(n,t)).subscribe(r)})}function zn(n,e){return Ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Pe(r,c=>{i?.unsubscribe();let u=0,p=o++;Mt(n(c,p)).subscribe(i=Pe(r,m=>r.next(e?e(c,m,p,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function k_(n){return Ve((e,t)=>{Mt(n).subscribe(Pe(t,()=>t.complete(),fd)),!t.closed&&e.subscribe(t)})}function Ot(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Pe(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ar}var XA="https://g.co/ng/security#xss",se=class extends Error{constructor(e,t){super(wm(e,t)),this.code=e}};function wm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Sd(n){return{toString:n}.toString()}var Vp="__parameters__";function cV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function eS(n,e,t){return Sd(()=>{let r=cV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,p){let m=c.hasOwnProperty(Vp)?c[Vp]:Object.defineProperty(c,Vp,{value:[]})[Vp];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Y_=globalThis;function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function lV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Pn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function mA(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var uV=tt({__forward_ref__:tt});function Wn(n){return n.__forward_ref__=Wn,n.toString=function(){return Pn(this())},n}function Mn(n){return tS(n)?n():n}function tS(n){return typeof n=="function"&&n.hasOwnProperty(uV)&&n.__forward_ref__===Wn}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Em(n){return gA(n,rS)||gA(n,iS)}function nS(n){return Em(n)!==null}function gA(n,e){return n.hasOwnProperty(e)?n[e]:null}function dV(n){let e=n&&(n[rS]||n[iS]);return e||null}function yA(n){return n&&(n.hasOwnProperty(vA)||n.hasOwnProperty(hV))?n[vA]:null}var rS=tt({\u0275prov:tt}),vA=tt({\u0275inj:tt}),iS=tt({ngInjectableDef:tt}),hV=tt({ngInjectorDef:tt}),J=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function oS(n){return n&&!!n.\u0275providers}var fV=tt({\u0275cmp:tt}),pV=tt({\u0275dir:tt}),mV=tt({\u0275pipe:tt}),gV=tt({\u0275mod:tt}),Qp=tt({\u0275fac:tt}),yd=tt({__NG_ELEMENT_ID__:tt}),_A=tt({__NG_ENV_ID__:tt});function ul(n){return typeof n=="string"?n:n==null?"":String(n)}function yV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ul(n)}function vV(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new se(-200,n)}function Xw(n,e){throw new se(-201,!1)}var Ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ae||{}),Z_;function sS(){return Z_}function qn(n){let e=Z_;return Z_=n,e}function aS(n,e,t){let r=Em(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ae.Optional)return null;if(e!==void 0)return e;Xw(n,"Injector")}var _V={},vd=_V,J_="__NG_DI_FLAG__",Yp="ngTempTokenPath",wV="ngTokenPath",EV=/\n/gm,bV="\u0275",wA="__source",cl;function IV(){return cl}function rs(n){let e=cl;return cl=n,e}function CV(n,e=Ae.Default){if(cl===void 0)throw new se(-203,!1);return cl===null?aS(n,void 0,e):cl.get(n,e&Ae.Optional?null:void 0,e)}function ne(n,e=Ae.Default){return(sS()||CV)(Mn(n),e)}function G(n,e=Ae.Default){return ne(n,bm(e))}function bm(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function X_(n){let e=[];for(let t=0;t<n.length;t++){let r=Mn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new se(900,!1);let i,o=Ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=TV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function cS(n,e){return n[J_]=e,n.prototype[J_]=e,n}function TV(n){return n[J_]}function DV(n,e,t,r){let i=n[Yp];throw e[wA]&&i.unshift(e[wA]),n.message=AV(`
`+n.message,i,t,r),n[wV]=i,n[Yp]=null,n}function AV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==bV?n.slice(2):n;let i=Pn(e);if(Array.isArray(e))i=e.map(Pn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EV,`
  `)}`}var Dt=cS(eS("Optional"),8);var eE=cS(eS("SkipSelf"),4);function Ra(n,e){let t=n.hasOwnProperty(Qp);return t?n[Qp]:null}function SV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function RV(n){return n.flat(Number.POSITIVE_INFINITY)}function tE(n,e){n.forEach(t=>Array.isArray(t)?tE(t,e):e(t))}function lS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function NV(n,e,t){let r=Rd(n,e);return r>=0?n[r|1]=t:(r=~r,xV(n,r,e,t)),r}function L_(n,e){let t=Rd(n,e);if(t>=0)return n[t|1]}function Rd(n,e){return MV(n,e,1)}function MV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var dl={},vr=[],hl=new J(""),uS=new J("",-1),dS=new J(""),Jp=class{get(e,t=vd){if(t===vd){let r=new Error(`NullInjectorError: No provider for ${Pn(e)}!`);throw r.name="NullInjectorError",r}return t}},hS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hS||{}),ui=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ui||{}),ss=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ss||{});function PV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ew(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];OV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function fS(n){return n===3||n===4||n===6}function OV(n){return n.charCodeAt(0)===64}function _d(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?EA(n,t,i,null,e[++r]):EA(n,t,i,null,null))}}return n}function EA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var pS="ng-template";function kV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(nE(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function nE(n){return n.type===4&&n.value!==pS}function LV(n,e,t){let r=n.type===4&&!t?pS:n.value;return e===r}function FV(n,e,t){let r=4,i=n.attrs,o=i!==null?jV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!jr(r)&&!jr(c))return!1;if(s&&jr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!LV(n,c,t)||c===""&&e.length===1){if(jr(r))return!1;s=!0}}else if(r&8){if(i===null||!kV(n,i,c,t)){if(jr(r))return!1;s=!0}}else{let u=e[++a],p=VV(c,i,nE(n),t);if(p===-1){if(jr(r))return!1;s=!0;continue}if(u!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&u!==m){if(jr(r))return!1;s=!0}}}}return jr(r)||s}function jr(n){return(n&1)===0}function VV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BV(e,n)}function UV(n,e,t=!1){for(let r=0;r<e.length;r++)if(FV(n,e[r],t))return!0;return!1}function jV(n){for(let e=0;e<n.length;e++){let t=n[e];if(fS(t))return e}return n.length}function BV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function bA(n,e){return n?":not("+e.trim()+")":e}function $V(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jr(s)&&(e+=bA(o,i),i=""),r=s,o=o||!jr(r);t++}return i!==""&&(e+=bA(o,i)),e}function HV(n){return n.map($V).join(",")}function zV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jr(i))break;i=o}r++}return{attrs:e,classes:t}}function Qe(n){return Sd(()=>{let e=wS(n),t=De(q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ui.Emulated,styles:n.styles||vr,_:null,schemas:n.schemas||null,tView:null,id:""});ES(t);let r=n.dependencies;return t.directiveDefs=CA(r,!1),t.pipeDefs=CA(r,!0),t.id=WV(t),t})}function qV(n){return as(n)||gS(n)}function GV(n){return n!==null}function Qn(n){return Sd(()=>({type:n.type,bootstrap:n.bootstrap||vr,declarations:n.declarations||vr,imports:n.imports||vr,exports:n.exports||vr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IA(n,e){if(n==null)return dl;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ss.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ss.None?[r,a]:r,e[o]=s):t[o]=r}return t}function st(n){return Sd(()=>{let e=wS(n);return ES(e),e})}function mS(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function as(n){return n[fV]||null}function gS(n){return n[pV]||null}function yS(n){return n[mV]||null}function vS(n){let e=as(n)||gS(n)||yS(n);return e!==null?e.standalone:!1}function _S(n,e){let t=n[gV]||null;if(!t&&e===!0)throw new Error(`Type ${Pn(n)} does not have '\u0275mod' property.`);return t}function wS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||dl,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||vr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IA(n.inputs,e),outputs:IA(n.outputs),debugInfo:null}}function ES(n){n.features?.forEach(e=>e(n))}function CA(n,e){if(!n)return null;let t=e?yS:qV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(GV)}function WV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yn(n){return{\u0275providers:n}}function rE(...n){return{\u0275providers:bS(!0,n),\u0275fromNgModule:!0}}function bS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return tE(e,s=>{let a=s;tw(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IS(i,o),t}function IS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];iE(i,o=>{e(o,r)})}}function tw(n,e,t,r){if(n=Mn(n),!n)return!1;let i=null,o=yA(n),s=!o&&as(n);if(!o&&!s){let c=n.ngModule;if(o=yA(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)tw(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{tE(o.imports,p=>{tw(p,e,t,r)&&(u||=[],u.push(p))})}finally{}u!==void 0&&IS(u,e)}if(!a){let u=Ra(i)||(()=>new i);e({provide:i,useFactory:u,deps:vr},i),e({provide:dS,useValue:i,multi:!0},i),e({provide:hl,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;iE(c,p=>{e(p,u)})}}else return!1;return i!==n&&n.providers!==void 0}function iE(n,e){for(let t of n)oS(t)&&(t=t.\u0275providers),Array.isArray(t)?iE(t,e):e(t)}var KV=tt({provide:String,useValue:tt});function CS(n){return n!==null&&typeof n=="object"&&KV in n}function QV(n){return!!(n&&n.useExisting)}function YV(n){return!!(n&&n.useFactory)}function fl(n){return typeof n=="function"}function ZV(n){return!!n.useClass}var Im=new J(""),Hp={},JV={},F_;function oE(){return F_===void 0&&(F_=new Jp),F_}var On=class{},wd=class extends On{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rw(e,s=>this.processProvider(s)),this.records.set(uS,il(void 0,this)),i.has("environment")&&this.records.set(On,il(void 0,this));let o=this.records.get(Im);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dS,vr,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=rs(this),r=qn(void 0),i;try{return e()}finally{rs(t),qn(r)}}get(e,t=vd,r=Ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_A))return e[_A](this);r=bm(r);let i,o=rs(this),s=qn(void 0);try{if(!(r&Ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=r2(e)&&Em(e);u&&this.injectableDefInScope(u)?c=il(nw(e),Hp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ae.Self?oE():this.parent;return t=r&Ae.Optional&&t===vd?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Yp]=a[Yp]||[]).unshift(Pn(e)),o)throw a;return DV(a,e,"R3InjectorError",this.source)}else throw a}finally{qn(s),rs(o)}}resolveInjectorInitializers(){let e=xe(null),t=rs(this),r=qn(void 0),i;try{let o=this.get(hl,vr,Ae.Self);for(let s of o)s()}finally{rs(t),qn(r),xe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(e){e=Mn(e);let t=fl(e)?e:Mn(e&&e.provide),r=e2(e);if(!fl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=il(void 0,Hp,!0),i.factory=()=>X_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=xe(null);try{return t.value===Hp&&(t.value=JV,t.value=t.factory()),typeof t.value=="object"&&t.value&&n2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function nw(n){let e=Em(n),t=e!==null?e.factory:Ra(n);if(t!==null)return t;if(n instanceof J)throw new se(204,!1);if(n instanceof Function)return XV(n);throw new se(204,!1)}function XV(n){if(n.length>0)throw new se(204,!1);let t=dV(n);return t!==null?()=>t.factory(n):()=>new n}function e2(n){if(CS(n))return il(void 0,n.useValue);{let e=TS(n);return il(e,Hp)}}function TS(n,e,t){let r;if(fl(n)){let i=Mn(n);return Ra(i)||nw(i)}else if(CS(n))r=()=>Mn(n.useValue);else if(YV(n))r=()=>n.useFactory(...X_(n.deps||[]));else if(QV(n))r=()=>ne(Mn(n.useExisting));else{let i=Mn(n&&(n.useClass||n.provide));if(t2(n))r=()=>new i(...X_(n.deps));else return Ra(i)||nw(i)}return r}function il(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function t2(n){return!!n.deps}function n2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function r2(n){return typeof n=="function"||typeof n=="object"&&n instanceof J}function rw(n,e){for(let t of n)Array.isArray(t)?rw(t,e):t&&oS(t)?rw(t.\u0275providers,e):e(t)}function wr(n,e){n instanceof wd&&n.assertNotDestroyed();let t,r=rs(n),i=qn(void 0);try{return e()}finally{rs(r),qn(i)}}function DS(){return sS()!==void 0||IV()!=null}function i2(n){if(!DS())throw new se(-203,!1)}function o2(n){return typeof n=="function"}var Ki=0,ye=1,ge=2,En=3,Br=4,Hr=5,Ed=6,Xp=7,_n=8,pl=9,di=10,Tt=11,bd=12,TA=13,El=14,$r=15,xa=16,ol=17,zi=18,Cm=19,AS=20,is=21,V_=22,_r=23,Gn=25,SS=1;var Na=7,em=8,ml=9,wn=10,tm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(tm||{});function os(n){return Array.isArray(n)&&typeof n[SS]=="object"}function Qi(n){return Array.isArray(n)&&n[SS]===!0}function sE(n){return(n.flags&4)!==0}function Tm(n){return n.componentOffset>-1}function Dm(n){return(n.flags&1)===1}function cs(n){return!!n.template}function iw(n){return(n[ge]&512)!==0}var ow=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Yi(){return xS}function xS(n){return n.type.prototype.ngOnChanges&&(n.setInput=a2),s2}Yi.ngInherit=!0;function s2(){let n=MS(this),e=n?.current;if(e){let t=n.previous;if(t===dl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function a2(n,e,t,r,i){let o=this.declaredInputs[r],s=MS(n)||c2(n,{previous:dl,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new ow(u&&u.currentValue,t,c===dl),RS(n,e,i,t)}var NS="__ngSimpleChanges__";function MS(n){return n[NS]||null}function c2(n,e){return n[NS]=e}var DA=null;var ci=function(n,e,t){DA?.(n,e,t)},l2="svg",u2="math";function hi(n){for(;Array.isArray(n);)n=n[Ki];return n}function PS(n,e){return hi(e[n])}function Er(n,e){return hi(e[n.index])}function aE(n,e){return n.data[e]}function d2(n,e){return n[e]}function hs(n,e){let t=e[n];return os(t)?t:t[Ki]}function h2(n){return(n[ge]&4)===4}function cE(n){return(n[ge]&128)===128}function f2(n){return Qi(n[En])}function ls(n,e){return e==null?null:n[e]}function OS(n){n[ol]=0}function kS(n){n[ge]&1024||(n[ge]|=1024,cE(n)&&Sm(n))}function p2(n,e){for(;n>0;)e=e[El],n--;return e}function Am(n){return!!(n[ge]&9216||n[_r]?.dirty)}function sw(n){n[di].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),Am(n)&&Sm(n)}function Sm(n){n[di].changeDetectionScheduler?.notify(0);let e=Ma(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!cE(e)));)e=Ma(e)}function LS(n,e){if((n[ge]&256)===256)throw new se(911,!1);n[is]===null&&(n[is]=[]),n[is].push(e)}function m2(n,e){if(n[is]===null)return;let t=n[is].indexOf(e);t!==-1&&n[is].splice(t,1)}function Ma(n){let e=n[En];return Qi(e)?e[En]:e}var Se={lFrame:WS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var FS=!1;function g2(){return Se.lFrame.elementDepthCount}function y2(){Se.lFrame.elementDepthCount++}function v2(){Se.lFrame.elementDepthCount--}function VS(){return Se.bindingsEnabled}function _2(){return Se.skipHydrationRootTNode!==null}function w2(n){return Se.skipHydrationRootTNode===n}function E2(){Se.skipHydrationRootTNode=null}function Re(){return Se.lFrame.lView}function kt(){return Se.lFrame.tView}function $e(n){return Se.lFrame.contextLView=n,n[_n]}function He(n){return Se.lFrame.contextLView=null,n}function bn(){let n=US();for(;n!==null&&n.type===64;)n=n.parent;return n}function US(){return Se.lFrame.currentTNode}function b2(){let n=Se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ua(n,e){let t=Se.lFrame;t.currentTNode=n,t.isParent=e}function lE(){return Se.lFrame.isParent}function jS(){Se.lFrame.isParent=!1}function BS(){return FS}function AA(n){FS=n}function $S(){let n=Se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function I2(){return Se.lFrame.bindingIndex}function C2(n){return Se.lFrame.bindingIndex=n}function bl(){return Se.lFrame.bindingIndex++}function HS(n){let e=Se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function T2(){return Se.lFrame.inI18n}function D2(n,e){let t=Se.lFrame;t.bindingIndex=t.bindingRootIndex=n,aw(e)}function A2(){return Se.lFrame.currentDirectiveIndex}function aw(n){Se.lFrame.currentDirectiveIndex=n}function S2(n){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function zS(){return Se.lFrame.currentQueryIndex}function uE(n){Se.lFrame.currentQueryIndex=n}function R2(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[Hr]:null}function qS(n,e,t){if(t&Ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ae.Host);)if(i=R2(o),i===null||(o=o[El],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Se.lFrame=GS();return r.currentTNode=e,r.lView=n,!0}function dE(n){let e=GS(),t=n[ye];Se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GS(){let n=Se.lFrame,e=n===null?null:n.child;return e===null?WS(n):e}function WS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function KS(){let n=Se.lFrame;return Se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var QS=KS;function hE(){let n=KS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function x2(n){return(Se.lFrame.contextLView=p2(n,Se.lFrame.contextLView))[_n]}function fs(){return Se.lFrame.selectedIndex}function Pa(n){Se.lFrame.selectedIndex=n}function Rm(){let n=Se.lFrame;return aE(n.tView,n.selectedIndex)}function N2(){return Se.lFrame.currentNamespace}var YS=!0;function xm(){return YS}function Nm(n){YS=n}function M2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Mm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function zp(n,e,t){ZS(n,e,3,t)}function qp(n,e,t,r){(n[ge]&3)===t&&ZS(n,e,t,r)}function U_(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function ZS(n,e,t,r){let i=r!==void 0?n[ol]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ol]+=65536),(a<o||o==-1)&&(P2(n,t,e,c),n[ol]=(n[ol]&4294901760)+c+2),c++}function SA(n,e){ci(4,n,e);let t=xe(null);try{e.call(n)}finally{xe(t),ci(5,n,e)}}function P2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[ol]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,SA(a,o)):SA(a,o)}var ll=-1,Oa=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function O2(n){return n instanceof Oa}function k2(n){return(n.flags&8)!==0}function L2(n){return(n.flags&16)!==0}var j_={},cw=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=bm(r);let i=this.injector.get(e,j_,r);return i!==j_||t===j_?i:this.parentInjector.get(e,t,r)}};function JS(n){return n!==ll}function nm(n){return n&32767}function F2(n){return n>>16}function rm(n,e){let t=F2(n),r=e;for(;t>0;)r=r[El],t--;return r}var lw=!0;function im(n){let e=lw;return lw=n,e}var V2=256,XS=V2-1,eR=5,U2=0,li={};function j2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(yd)&&(r=t[yd]),r==null&&(r=t[yd]=U2++);let i=r&XS,o=1<<i;e.data[n+(i>>eR)]|=o}function om(n,e){let t=tR(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,B_(r.data,n),B_(e,null),B_(r.blueprint,null));let i=fE(n,e),o=n.injectorIndex;if(JS(i)){let s=nm(i),a=rm(i,e),c=a[ye].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function B_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function fE(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sR(i),r===null)return ll;if(t++,i=i[El],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ll}function uw(n,e,t){j2(n,e,t)}function B2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(fS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function nR(n,e,t){if(t&Ae.Optional||n!==void 0)return n;Xw(e,"NodeInjector")}function rR(n,e,t,r){if(t&Ae.Optional&&r===void 0&&(r=null),!(t&(Ae.Self|Ae.Host))){let i=n[pl],o=qn(void 0);try{return i?i.get(e,r,t&Ae.Optional):aS(e,r,t&Ae.Optional)}finally{qn(o)}}return nR(r,e,t)}function iR(n,e,t,r=Ae.Default,i){if(n!==null){if(e[ge]&2048&&!(r&Ae.Self)){let s=q2(n,e,t,r,li);if(s!==li)return s}let o=oR(n,e,t,r,li);if(o!==li)return o}return rR(e,t,r,i)}function oR(n,e,t,r,i){let o=H2(t);if(typeof o=="function"){if(!qS(e,n,r))return r&Ae.Host?nR(i,t,r):rR(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ae.Optional))Xw(t);else return s}finally{QS()}}else if(typeof o=="number"){let s=null,a=tR(n,e),c=ll,u=r&Ae.Host?e[$r][Hr]:null;for((a===-1||r&Ae.SkipSelf)&&(c=a===-1?fE(n,e):e[a+8],c===ll||!xA(r,!1)?a=-1:(s=e[ye],a=nm(c),e=rm(c,e)));a!==-1;){let p=e[ye];if(RA(o,a,p.data)){let m=$2(a,e,t,s,r,u);if(m!==li)return m}c=e[a+8],c!==ll&&xA(r,e[ye].data[a+8]===u)&&RA(o,a,e)?(s=p,a=nm(c),e=rm(c,e)):a=-1}}return i}function $2(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],c=r==null?Tm(a)&&lw:r!=s&&(a.type&3)!==0,u=i&Ae.Host&&o===a,p=Gp(a,s,t,c,u);return p!==null?ka(e,s,p,a):li}function Gp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,p=o>>20,m=r?a:a+p,_=i?a+p:u;for(let w=m;w<_;w++){let N=s[w];if(w<c&&t===N||w>=c&&N.type===t)return w}if(i){let w=s[c];if(w&&cs(w)&&w.type===t)return c}return null}function ka(n,e,t,r){let i=n[t],o=e.data;if(O2(i)){let s=i;s.resolving&&vV(yV(o[t]));let a=im(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?qn(s.injectImpl):null,p=qS(n,r,Ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&M2(t,o[t],e)}finally{u!==null&&qn(u),im(a),s.resolving=!1,QS()}}return i}function H2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(yd)?n[yd]:void 0;return typeof e=="number"?e>=0?e&XS:z2:e}function RA(n,e,t){let r=1<<n;return!!(t[e+(n>>eR)]&r)}function xA(n,e){return!(n&Ae.Self)&&!(n&Ae.Host&&e)}var Sa=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iR(this._tNode,this._lView,e,bm(r),t)}};function z2(){return new Sa(bn(),Re())}function Zi(n){return Sd(()=>{let e=n.prototype.constructor,t=e[Qp]||dw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Qp]||dw(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dw(n){return tS(n)?()=>{let e=dw(Mn(n));return e&&e()}:Ra(n)}function q2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!(s[ge]&512);){let a=oR(o,s,t,r|Ae.Self,li);if(a!==li)return a;let c=o.parent;if(!c){let u=s[AS];if(u){let p=u.get(t,li,r);if(p!==li)return p}c=sR(s),s=s[El]}o=c}return i}function sR(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[Hr]:null}function pE(n){return B2(bn(),n)}function NA(n,e=null,t=null,r){let i=aR(n,e,t,r);return i.resolveInjectorInitializers(),i}function aR(n,e=null,t=null,r,i=new Set){let o=[t||vr,rE(n)];return r=r||(typeof n=="object"?void 0:Pn(n)),new wd(o,e||oE(),r||null,i)}var Qt=class n{static{this.THROW_IF_NOT_FOUND=vd}static{this.NULL=new Jp}static create(e,t){if(Array.isArray(e))return NA({name:""},t,e,"");{let r=e.name??"";return NA({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=re({token:n,providedIn:"any",factory:()=>ne(uS)})}static{this.__NG_ELEMENT_ID__=-1}};var G2=new J("");G2.__NG_ELEMENT_ID__=n=>{let e=bn();if(e===null)throw new se(204,!1);if(e.type&2)return e.value;if(n&Ae.Optional)return null;throw new se(204,!1)};var W2="ngOriginalError";function $_(n){return n[W2]}var cR=!0,mE=(()=>{class n{static{this.__NG_ELEMENT_ID__=K2}static{this.__NG_ENV_ID__=t=>t}}return n})(),hw=class extends mE{constructor(e){super(),this._lView=e}onDestroy(e){return LS(this._lView,e),()=>m2(this._lView,e)}};function K2(){return new hw(Re())}var ps=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}}return n})();var fw=class extends _t{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DS()&&(this.destroyRef=G(mE,{optional:!0})??void 0,this.pendingTasks=G(ps,{optional:!0})??void 0)}emit(e){let t=xe(null);try{super.next(e)}finally{xe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof vt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},et=fw;function sm(...n){}function lR(n){let e,t;function r(){n=sm;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MA(n){return queueMicrotask(()=>n()),()=>{n=sm}}var gE="isAngularZone",am=gE+"_ID",Q2=0,Me=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cR}=e;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,J2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gE)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new se(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Y2,sm,sm);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Y2={};function yE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Z2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){lR(()=>{n.callbackScheduled=!1,pw(n),n.isCheckStableRunning=!0,yE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),pw(n)}function J2(n){let e=()=>{Z2(n)},t=Q2++;n._inner=n._inner.fork({name:"angular",properties:{[gE]:!0,[am]:t,[am+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(X2(c))return r.invokeTask(o,s,a,c);try{return PA(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),OA(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return PA(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eU(c)&&e(),OA(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,pw(n),yE(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function pw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function PA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OA(n){n._nesting--,yE(n)}var mw=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function X2(n){return uR(n,"__ignore_ng_zone__")}function eU(n){return uR(n,"__scheduler_tick__")}function uR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var qi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$_(e);for(;t&&$_(t);)t=$_(t);return t||null}},tU=new J("",{providedIn:"root",factory:()=>{let n=G(Me),e=G(qi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nU(){return Il(bn(),Re())}function Il(n,e){return new kn(Er(n,e))}var kn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nU}}return n})();function rU(n){return n instanceof kn?n.nativeElement:n}function iU(){return this._results[Symbol.iterator]()}var gw=class n{get changes(){return this._changes??=new et}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=iU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=RV(e);(this._changesDetected=!SV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function dR(n){return(n.flags&128)===128}var hR=new Map,oU=0;function sU(){return oU++}function aU(n){hR.set(n[Cm],n)}function yw(n){hR.delete(n[Cm])}var kA="__ngContext__";function us(n,e){os(e)?(n[kA]=e[Cm],aU(e)):n[kA]=e}function fR(n){return mR(n[bd])}function pR(n){return mR(n[Br])}function mR(n){for(;n!==null&&!Qi(n);)n=n[Br];return n}var vw;function gR(n){vw=n}function cU(){if(vw!==void 0)return vw;if(typeof document<"u")return document;throw new se(210,!1)}var vE=new J("",{providedIn:"root",factory:()=>lU}),lU="ng",_E=new J(""),Zn=new J("",{providedIn:"platform",factory:()=>"unknown"});var wE=new J("",{providedIn:"root",factory:()=>cU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uU="h",dU="b";var hU=()=>null;function EE(n,e,t=!1){return hU(n,e,t)}var yR=!1,fU=new J("",{providedIn:"root",factory:()=>yR});var Up;function pU(){if(Up===void 0&&(Up=null,Y_.trustedTypes))try{Up=Y_.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Up}function LA(n){return pU()?.createScriptURL(n)||n}var cm=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XA})`}};function xd(n){return n instanceof cm?n.changingThisBreaksApplicationSecurity:n}function bE(n,e){let t=mU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${XA})`)}return t===e}function mU(n){return n instanceof cm&&n.getTypeName()||null}var gU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vR(n){return n=String(n),n.match(gU)?n:"unsafe:"+n}var Pm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pm||{});function pi(n){let e=wR();return e?e.sanitize(Pm.URL,n)||"":bE(n,"URL")?xd(n):vR(ul(n))}function yU(n){let e=wR();if(e)return LA(e.sanitize(Pm.RESOURCE_URL,n)||"");if(bE(n,"ResourceURL"))return LA(xd(n));throw new se(904,!1)}function vU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?yU:pi}function _R(n,e,t){return vU(e,t)(n)}function wR(){let n=Re();return n&&n[di].sanitizer}var _U=/^>|^->|<!--|-->|--!>|<!-$/g,wU=/(<|>)/g,EU="\u200B$1\u200B";function bU(n){return n.replace(_U,e=>e.replace(wU,EU))}function ER(n){return n instanceof Function?n():n}function IU(n){return(n??G(Qt)).get(Zn)==="browser"}var Gi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Gi||{}),CU;function IE(n,e){return CU(n,e)}function sl(n,e,t,r,i){if(r!=null){let o,s=!1;Qi(r)?o=r:os(r)&&(s=!0,r=r[Ki]);let a=hi(r);n===0&&t!==null?i==null?TR(e,t,a):lm(e,t,a,i||null,!0):n===1&&t!==null?lm(e,t,a,i||null,!0):n===2?jU(e,a,s):n===3&&e.destroyNode(a),o!=null&&$U(e,n,o,t,i)}}function TU(n,e){return n.createText(e)}function DU(n,e,t){n.setValue(e,t)}function AU(n,e){return n.createComment(bU(e))}function bR(n,e,t){return n.createElement(e,t)}function SU(n,e){IR(n,e),e[Ki]=null,e[Hr]=null}function RU(n,e,t,r,i,o){r[Ki]=i,r[Hr]=e,Lm(n,r,t,1,i,o)}function IR(n,e){e[di].changeDetectionScheduler?.notify(9),Lm(n,e,e[Tt],2,null,null)}function xU(n){let e=n[bd];if(!e)return H_(n[ye],n);for(;e;){let t=null;if(os(e))t=e[bd];else{let r=e[wn];r&&(t=r)}if(!t){for(;e&&!e[Br]&&e!==n;)os(e)&&H_(e[ye],e),e=e[En];e===null&&(e=n),os(e)&&H_(e[ye],e),t=e&&e[Br]}e=t}}function NU(n,e,t,r){let i=wn+r,o=t.length;r>0&&(t[i-1][Br]=e),r<o-wn?(e[Br]=t[i],lS(t,wn+r,e)):(t.push(e),e[Br]=null),e[En]=t;let s=e[xa];s!==null&&t!==s&&CR(s,e);let a=e[zi];a!==null&&a.insertView(n),sw(e),e[ge]|=128}function CR(n,e){let t=n[ml],r=e[En];if(os(r))n[ge]|=tm.HasTransplantedViews;else{let i=r[En][$r];e[$r]!==i&&(n[ge]|=tm.HasTransplantedViews)}t===null?n[ml]=[e]:t.push(e)}function CE(n,e){let t=n[ml],r=t.indexOf(e);t.splice(r,1)}function Id(n,e){if(n.length<=wn)return;let t=wn+e,r=n[t];if(r){let i=r[xa];i!==null&&i!==n&&CE(i,r),e>0&&(n[t-1][Br]=r[Br]);let o=Zp(n,wn+e);SU(r[ye],r);let s=o[zi];s!==null&&s.detachView(o[ye]),r[En]=null,r[Br]=null,r[ge]&=-129}return r}function Om(n,e){if(!(e[ge]&256)){let t=e[Tt];t.destroyNode&&Lm(n,e,t,3,null,null),xU(e)}}function H_(n,e){if(e[ge]&256)return;let t=xe(null);try{e[ge]&=-129,e[ge]|=256,e[_r]&&p_(e[_r]),PU(n,e),MU(n,e),e[ye].type===1&&e[Tt].destroy();let r=e[xa];if(r!==null&&Qi(e[En])){r!==e[En]&&CE(r,e);let i=e[zi];i!==null&&i.detachView(n)}yw(e)}finally{xe(t)}}function MU(n,e){let t=n.cleanup,r=e[Xp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Xp]=null);let i=e[is];if(i!==null){e[is]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function PU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Oa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ci(4,a,c);try{c.call(a)}finally{ci(5,a,c)}}else{ci(4,i,o);try{o.call(i)}finally{ci(5,i,o)}}}}}function OU(n,e,t){return kU(n,e.parent,t)}function kU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ki];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ui.None||o===ui.Emulated)return null}return Er(r,t)}}function lm(n,e,t,r,i){n.insertBefore(e,t,r,i)}function TR(n,e,t){n.appendChild(e,t)}function FA(n,e,t,r,i){r!==null?lm(n,e,t,r,i):TR(n,e,t)}function DR(n,e){return n.parentNode(e)}function LU(n,e){return n.nextSibling(e)}function FU(n,e,t){return UU(n,e,t)}function VU(n,e,t){return n.type&40?Er(n,t):null}var UU=VU,VA;function km(n,e,t,r){let i=OU(n,r,e),o=e[Tt],s=r.parent||e[Hr],a=FU(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)FA(o,i,t[c],a,!1);else FA(o,i,t,a,!1);VA!==void 0&&VA(o,r,e,t,i)}function gd(n,e){if(e!==null){let t=e.type;if(t&3)return Er(e,n);if(t&4)return _w(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return gd(n,r);{let i=n[e.index];return Qi(i)?_w(-1,i):hi(i)}}else{if(t&128)return gd(n,e.next);if(t&32)return IE(e,n)()||hi(n[e.index]);{let r=AR(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ma(n[$r]);return gd(i,r)}else return gd(n,e.next)}}}return null}function AR(n,e){if(e!==null){let r=n[$r][Hr],i=e.projection;return r.projection[i]}return null}function _w(n,e){let t=wn+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return gd(r,i)}return e[Na]}function jU(n,e,t){n.removeChild(null,e,t)}function TE(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&us(hi(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)TE(n,e,t.child,r,i,o,!1),sl(e,n,i,a,o);else if(c&32){let u=IE(t,r),p;for(;p=u();)sl(e,n,i,p,o);sl(e,n,i,a,o)}else c&16?BU(n,e,r,t,i,o):sl(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Lm(n,e,t,r,i,o){TE(t,r,n.firstChild,e,i,o,!1)}function BU(n,e,t,r,i,o){let s=t[$r],c=s[Hr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let p=c[u];sl(e,n,i,p,o)}else{let u=c,p=s[En];dR(r)&&(u.flags|=128),TE(n,e,u,p,i,o,!0)}}function $U(n,e,t,r,i){let o=t[Na],s=hi(t);o!==s&&sl(e,n,r,o,i);for(let a=wn;a<t.length;a++){let c=t[a];Lm(c[ye],c,n,e,r,o)}}function HU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Gi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gi.Important),n.setStyle(t,r,i,o))}}function zU(n,e,t){n.setAttribute(e,"style",t)}function SR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function RR(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ew(n,e,r),i!==null&&SR(n,e,i),o!==null&&zU(n,e,o)}var br={};function j(n=1){xR(kt(),Re(),fs()+n,!1)}function xR(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&zp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&qp(e,o,0,t)}Pa(t)}function Y(n,e=Ae.Default){let t=Re();if(t===null)return ne(n,e);let r=bn();return iR(r,t,Mn(n),e)}function NR(){let n="invalid";throw new Error(n)}function MR(n,e,t,r,i,o){let s=xe(null);try{let a=null;i&ss.SignalBased&&(a=e[r][ji]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ss.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):RS(e,a,r,o)}finally{xe(s)}}function qU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Pa(~i);else{let o=i,s=t[++r],a=t[++r];D2(s,o);let c=e[o];a(2,c)}}}finally{Pa(-1)}}function Fm(n,e,t,r,i,o,s,a,c,u,p){let m=e.blueprint.slice();return m[Ki]=i,m[ge]=r|4|128|8|64,(u!==null||n&&n[ge]&2048)&&(m[ge]|=2048),OS(m),m[En]=m[El]=n,m[_n]=t,m[di]=s||n&&n[di],m[Tt]=a||n&&n[Tt],m[pl]=c||n&&n[pl]||null,m[Hr]=o,m[Cm]=sU(),m[Ed]=p,m[AS]=u,m[$r]=e.type==2?n[$r]:m,m}function Nd(n,e,t,r,i){let o=n.data[e];if(o===null)o=GU(n,e,t,r,i),T2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=b2();o.injectorIndex=s===null?-1:s.injectorIndex}return Ua(o,!0),o}function GU(n,e,t,r,i){let o=US(),s=lE(),a=s?o:o&&o.parent,c=n.data[e]=JU(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function PR(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function OR(n,e,t,r,i){let o=fs(),s=r&2;try{Pa(-1),s&&e.length>Gn&&xR(n,e,Gn,!1),ci(s?2:0,i),t(r,i)}finally{Pa(o),ci(s?3:1,i)}}function DE(n,e,t){if(sE(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function AE(n,e,t){VS()&&(ij(n,e,t,Er(t,e)),(t.flags&64)===64&&FR(n,e,t))}function SE(n,e,t=Er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function kR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=RE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function RE(n,e,t,r,i,o,s,a,c,u,p){let m=Gn+r,_=m+i,w=WU(m,_),N=typeof u=="function"?u():u;return w[ye]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:N,incompleteFirstPass:!1,ssrId:p}}function WU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:br);return t}function KU(n,e,t,r){let o=r.get(fU,yR)||t===ui.ShadowDom,s=n.selectRootElement(e,o);return QU(s),s}function QU(n){YU(n)}var YU=()=>null;function ZU(n,e,t,r){let i=jR(e);i.push(t),n.firstCreatePass&&BR(n).push(r,i.length-1)}function JU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _2()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UA(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ss.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?jA(r,t,u,a,c):jA(r,t,u,a)}return r}function jA(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function XU(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let p=r;p<i;p++){let m=o[p],_=t?t.get(m):null,w=_?_.inputs:null,N=_?_.outputs:null;c=UA(0,m.inputs,p,c,w),u=UA(1,m.outputs,p,u,N);let O=c!==null&&s!==null&&!nE(e)?mj(c,p,s):null;a.push(O)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function ej(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function xE(n,e,t,r,i,o,s,a){let c=Er(e,t),u=e.inputs,p;!a&&u!=null&&(p=u[r])?(ME(n,t,p,r,i),Tm(e)&&tj(t,e.index)):e.type&3?(r=ej(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function tj(n,e){let t=hs(e,n);t[ge]&16||(t[ge]|=64)}function NE(n,e,t,r){if(VS()){let i=r===null?null:{"":-1},o=sj(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&LR(n,e,t,s,i,a),i&&aj(t,r,i)}t.mergedAttrs=_d(t.mergedAttrs,t.attrs)}function LR(n,e,t,r,i,o){for(let u=0;u<r.length;u++)uw(om(t,e),n,r[u].type);lj(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let p=r[u];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,c=PR(n,e,r.length,null);for(let u=0;u<r.length;u++){let p=r[u];t.mergedAttrs=_d(t.mergedAttrs,p.hostAttrs),uj(n,t,e,c,p),cj(c,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}XU(n,t,o)}function nj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;rj(s)!=a&&s.push(a),s.push(t,r,o)}}function rj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ij(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Tm(t)&&dj(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||om(t,e),us(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=ka(e,n,a,t);if(us(u,e),s!==null&&pj(e,a-i,u,c,t,s),cs(c)){let p=hs(t.index,e);p[_n]=ka(e,n,a,t)}}}function FR(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=A2();try{Pa(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];aw(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&oj(c,u)}}finally{Pa(-1),aw(s)}}function oj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sj(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(UV(e,s.selectors,!1))if(r||(r=[]),cs(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;ww(n,e,c)}else r.unshift(s),ww(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ww(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function aj(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new se(-301,!1);r.push(e[i],o)}}}function cj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cs(e)&&(t[""]=n)}}function lj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function uj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ra(i.type,!0)),s=new Oa(o,cs(i),Y);n.blueprint[r]=s,t[r]=s,nj(n,e,r,PR(n,t,i.hostVars,br),i)}function dj(n,e,t){let r=Er(e,n),i=kR(t),o=n[di].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Vm(n,Fm(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function hj(n,e,t,r,i,o){let s=Er(n,e);fj(e[Tt],s,o,n.value,t,r,i)}function fj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ul(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function pj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],p=s[a++],m=s[a++];MR(r,t,c,u,p,m)}}function mj(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function VR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function UR(n,e){let t=n.contentQueries;if(t!==null){let r=xe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];uE(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Vm(n,e){return n[bd]?n[TA][Br]=e:n[bd]=e,n[TA]=e,e}function Ew(n,e,t){uE(0);let r=xe(null);try{e(n,t)}finally{xe(r)}}function jR(n){return n[Xp]??=[]}function BR(n){return n.cleanup??=[]}function $R(n,e){let t=n[pl],r=t?t.get(qi,null):null;r&&r.handleError(e)}function ME(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],p=n.data[s];MR(p,u,r,a,c,i)}}function HR(n,e,t){let r=PS(e,n);DU(n[Tt],r,t)}function gj(n,e){let t=hs(e,n),r=t[ye];yj(r,t);let i=t[Ki];i!==null&&t[Ed]===null&&(t[Ed]=EE(i,t[pl])),PE(r,t,t[_n])}function yj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function PE(n,e,t){dE(e);try{let r=n.viewQuery;r!==null&&Ew(1,r,t);let i=n.template;i!==null&&OR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zi]?.finishViewCreation(n),n.staticContentQueries&&UR(n,e),n.staticViewQueries&&Ew(2,n.viewQuery,t);let o=n.components;o!==null&&vj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,hE()}}function vj(n,e){for(let t=0;t<e.length;t++)gj(n,e[t])}function Um(n,e,t,r){let i=xe(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=Fm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[xa]=u;let p=n[zi];return p!==null&&(c[zi]=p.createEmbeddedView(o)),PE(o,c,t),c}finally{xe(i)}}function zR(n,e){let t=wn+e;if(t<n.length)return n[t]}function Cd(n,e){return!e||e.firstChild===null||dR(n)}function jm(n,e,t,r=!0){let i=e[ye];if(NU(i,e,n,t),r){let s=_w(t,n),a=e[Tt],c=DR(a,n[Na]);c!==null&&RU(i,n[Hr],a,e,c,s)}let o=e[Ed];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qR(n,e){let t=Id(n,e);return t!==void 0&&Om(t[ye],t),t}function um(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(hi(o)),Qi(o)&&_j(o,r);let s=t.type;if(s&8)um(n,e,t.child,r);else if(s&32){let a=IE(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=AR(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ma(e[$r]);um(c[ye],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _j(n,e){for(let t=wn;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&um(r[ye],r,i,e)}n[Na]!==n[Ki]&&e.push(n[Na])}var GR=[];function wj(n){return n[_r]??Ej(n)}function Ej(n){let e=GR.pop()??Object.create(Ij);return e.lView=n,e}function bj(n){n.lView[_r]!==n&&(n.lView=null,GR.push(n))}var Ij=De(q({},hd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Sm(n.lView)},consumerOnSignalRead(){this.lView[_r]=this}});function Cj(n){let e=n[_r]??Object.create(Tj);return e.lView=n,e}var Tj=De(q({},hd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ma(n.lView);for(;e&&!WR(e[ye]);)e=Ma(e);e&&kS(e)},consumerOnSignalRead(){this.lView[_r]=this}});function WR(n){return n.type!==2}var Dj=100;function KR(n,e=!0,t=0){let r=n[di],i=r.rendererFactory,o=!1;o||i.begin?.();try{Aj(n,t)}catch(s){throw e&&$R(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Aj(n,e){let t=BS();try{AA(!0),bw(n,e);let r=0;for(;Am(n);){if(r===Dj)throw new se(103,!1);r++,bw(n,1)}}finally{AA(t)}}function Sj(n,e,t,r){let i=e[ge];if((i&256)===256)return;let o=!1,s=!1;!o&&e[di].inlineEffectRunner?.flush(),dE(e);let a=!0,c=null,u=null;o||(WR(n)?(u=wj(e),c=dp(u)):ND()===null?(a=!1,u=Cj(e),c=dp(u)):e[_r]&&(p_(e[_r]),e[_r]=null));try{OS(e),C2(n.bindingStartIndex),t!==null&&OR(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let w=n.preOrderCheckHooks;w!==null&&zp(e,w,null)}else{let w=n.preOrderHooks;w!==null&&qp(e,w,0,null),U_(e,0)}if(s||Rj(e),QR(e,0),n.contentQueries!==null&&UR(n,e),!o)if(p){let w=n.contentCheckHooks;w!==null&&zp(e,w)}else{let w=n.contentHooks;w!==null&&qp(e,w,1),U_(e,1)}qU(n,e);let m=n.components;m!==null&&ZR(e,m,0);let _=n.viewQuery;if(_!==null&&Ew(2,_,r),!o)if(p){let w=n.viewCheckHooks;w!==null&&zp(e,w)}else{let w=n.viewHooks;w!==null&&qp(e,w,2),U_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[V_]){for(let w of e[V_])w();e[V_]=null}o||(e[ge]&=-73)}catch(p){throw o||Sm(e),p}finally{u!==null&&(h_(u,c),a&&bj(u)),hE()}}function QR(n,e){for(let t=fR(n);t!==null;t=pR(t))for(let r=wn;r<t.length;r++){let i=t[r];YR(i,e)}}function Rj(n){for(let e=fR(n);e!==null;e=pR(e)){if(!(e[ge]&tm.HasTransplantedViews))continue;let t=e[ml];for(let r=0;r<t.length;r++){let i=t[r];kS(i)}}}function xj(n,e,t){let r=hs(e,n);YR(r,t)}function YR(n,e){cE(n)&&bw(n,e)}function bw(n,e){let r=n[ye],i=n[ge],o=n[_r],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&f_(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)Sj(r,n,r.template,n[_n]);else if(i&8192){QR(n,1);let a=r.components;a!==null&&ZR(n,a,1)}}function ZR(n,e,t){for(let r=0;r<e.length;r++)xj(n,e[r],t)}function OE(n,e){let t=BS()?64:1088;for(n[di].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=Ma(n);if(iw(n)&&!r)return n;n=r}return null}var La=class{get rootNodes(){let e=this._lView,t=e[ye];return um(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return(this._lView[ge]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[En];if(Qi(e)){let t=e[em],r=t?t.indexOf(this):-1;r>-1&&(Id(e,r),Zp(t,r))}this._attachedToViewContainer=!1}Om(this._lView[ye],this._lView)}onDestroy(e){LS(this._lView,e)}markForCheck(){OE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){sw(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,KR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=iw(this._lView),t=this._lView[xa];t!==null&&!e&&CE(t,this._lView),IR(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=e;let t=iw(this._lView),r=this._lView[xa];r!==null&&!t&&CR(r,this._lView),sw(this._lView)}},Fa=(()=>{class n{static{this.__NG_ELEMENT_ID__=Pj}}return n})(),Nj=Fa,Mj=class extends Nj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Um(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new La(i)}};function Pj(){return kE(bn(),Re())}function kE(n,e){return n.type&4?new Mj(e,n,Il(n,e)):null}var sie=new RegExp(`^(\\d+)*(${dU}|${uU})*(.*)`);var Oj=()=>null;function Td(n,e){return Oj(n,e)}var gl=class{},Bm=new J("",{providedIn:"root",factory:()=>!1});var JR=new J(""),XR=new J(""),Iw=class{},dm=class{};function kj(n){let e=Error(`No component factory found for ${Pn(n)}.`);return e[Lj]=n,e}var Lj="ngComponent";var Cw=class{resolveComponentFactory(e){throw kj(e)}},yl=class{static{this.NULL=new Cw}},vl=class{},Ji=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Fj()}}return n})();function Fj(){let n=Re(),e=bn(),t=hs(e.index,n);return(os(t)?t:n)[Tt]}var Vj=(()=>{class n{static{this.\u0275prov=re({token:n,providedIn:"root",factory:()=>null})}}return n})();function hm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mA(i,a);else if(o==2){let c=a,u=e[++s];r=mA(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var fm=class extends yl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=as(e);return new _l(t,this.ngModule)}};function BA(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ss.None;e?t.push({propName:s,templateName:r,isSignal:(a&ss.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function Uj(n){let e=n.toLowerCase();return e==="svg"?l2:e==="math"?u2:null}var _l=class extends dm{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=BA(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return BA(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof On?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cw(e,s):e,c=a.get(vl,null);if(c===null)throw new se(407,!1);let u=a.get(Vj,null),p=a.get(gl,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:p},_=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",N=r?KU(_,r,this.componentDef.encapsulation,a):bR(_,w,Uj(w)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let M=null;N!==null&&(M=EE(N,a,!0));let U=RE(0,null,null,1,0,null,null,null,null,null,null),W=Fm(null,U,null,O,null,null,m,_,a,null,M);dE(W);let $,z,ee=null;try{let Q=this.componentDef,D,b=null;Q.findHostDirectiveDefs?(D=[],b=new Map,Q.findHostDirectiveDefs(Q,D,b),D.push(Q)):D=[Q];let I=jj(W,N);ee=Bj(I,N,Q,D,W,m,_),z=aE(U,Gn),N&&zj(_,Q,N,r),t!==void 0&&qj(z,this.ngContentSelectors,t),$=Hj(ee,Q,D,b,W,[Gj]),PE(U,W,null)}catch(Q){throw ee!==null&&yw(ee),yw(W),Q}finally{hE()}return new Tw(this.componentType,$,Il(z,W),W,z)}finally{xe(o)}}},Tw=class extends Iw{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new La(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;ME(o[ye],o,i,e,t),this.previousInputValues.set(e,t);let s=hs(this._tNode.index,o);OE(s,1)}}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jj(n,e){let t=n[ye],r=Gn;return n[r]=e,Nd(t,r,2,"#host",null)}function Bj(n,e,t,r,i,o,s){let a=i[ye];$j(r,n,e,s);let c=null;e!==null&&(c=EE(e,i[pl]));let u=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=Fm(i,kR(t),null,p,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&ww(a,n,r.length-1),Vm(i,m),i[n.index]=m}function $j(n,e,t,r){for(let i of n)e.mergedAttrs=_d(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hm(e,e.mergedAttrs,!0),t!==null&&RR(r,t,e))}function Hj(n,e,t,r,i,o){let s=bn(),a=i[ye],c=Er(s,i);LR(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let m=s.directiveStart+p,_=ka(i,a,m,s);us(_,i)}FR(a,i,s),c&&us(c,i);let u=ka(i,a,s.directiveStart+s.componentOffset,s);if(n[_n]=i[_n]=u,o!==null)for(let p of o)p(u,e);return DE(a,s,i),u}function zj(n,e,t,r){if(r)ew(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=zV(e.selectors[0]);i&&ew(n,t,i),o&&o.length>0&&SR(n,t,o.join(" "))}}function qj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Gj(){let n=bn();Mm(Re()[ye],n)}var ms=(()=>{class n{static{this.__NG_ELEMENT_ID__=Wj}}return n})();function Wj(){let n=bn();return tx(n,Re())}var Kj=ms,ex=class extends Kj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){let e=fE(this._hostTNode,this._hostLView);if(JS(e)){let t=rm(e,this._hostLView),r=nm(e),i=t[ye].data[r+8];return new Sa(i,t)}else return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$A(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Td(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Cd(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!o2(e),a;if(s)a=t;else{let N=t||{};a=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef}let c=s?e:new _l(as(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let O=(s?u:this.parentInjector).get(On,null);O&&(o=O)}let p=as(c.componentType??{}),m=Td(this._lContainer,p?.id??null),_=m?.firstChild??null,w=c.create(u,i,_,o);return this.insertImpl(w.hostView,a,Cd(this._hostTNode,m)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(f2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[En],u=new ex(c,c[Hr],c[En]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return jm(s,i,o,r),e.attachToViewContainerRef(),lS(z_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$A(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Id(this._lContainer,t);r&&(Zp(z_(this._lContainer),t),Om(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=Id(this._lContainer,t);return r&&Zp(z_(this._lContainer),t)!=null?new La(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $A(n){return n[em]}function z_(n){return n[em]||(n[em]=[])}function tx(n,e){let t,r=e[n.index];return Qi(r)?t=r:(t=VR(r,e,null,n),e[n.index]=t,Vm(e,t)),Yj(t,e,n,r),new ex(t,n,e)}function Qj(n,e){let t=n[Tt],r=t.createComment(""),i=Er(e,n),o=DR(t,i);return lm(t,o,r,LU(t,i),!1),r}var Yj=Xj,Zj=()=>!1;function Jj(n,e,t){return Zj(n,e,t)}function Xj(n,e,t,r){if(n[Na])return;let i;t.type&8?i=hi(r):i=Qj(e,t),n[Na]=i}var Dw=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Aw=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)LE(e,t).matches!==null&&this.queries[t].setDirty()}},Sw=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=aB(e):this.predicate=e}},Rw=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xw=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,eB(t,o)),this.matchTNodeWithReadOption(e,t,Gp(t,e,o,!1,!1))}else r===Fa?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kn||i===ms||i===Fa&&t.type&4)this.addMatch(t.index,-2);else{let o=Gp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function eB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function tB(n,e){return n.type&11?Il(n,e):n.type&4?kE(n,e):null}function nB(n,e,t,r){return t===-1?tB(e,n):t===-2?rB(n,e,r):ka(n,n[ye],t,e)}function rB(n,e,t){if(t===kn)return Il(e,n);if(t===Fa)return kE(e,n);if(t===ms)return tx(e,n)}function nx(n,e,t,r){let i=e[zi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let p=o[u];a.push(nB(e,p,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Nw(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=nx(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],p=e[-c];for(let m=wn;m<p.length;m++){let _=p[m];_[xa]===_[En]&&Nw(_[ye],_,u,r)}if(p[ml]!==null){let m=p[ml];for(let _=0;_<m.length;_++){let w=m[_];Nw(w[ye],w,u,r)}}}}}return r}function iB(n,e){return n[zi].queries[e].queryList}function oB(n,e,t){let r=new gw((t&4)===4);return ZU(n,e,r,r.destroy),(e[zi]??=new Aw).queries.push(new Dw(r))-1}function sB(n,e,t){let r=kt();return r.firstCreatePass&&(cB(r,new Sw(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),oB(r,Re(),e)}function aB(n){return n.split(",").map(e=>e.trim())}function cB(n,e,t){n.queries===null&&(n.queries=new Rw),n.queries.track(new xw(e,t))}function LE(n,e){return n.queries.getByIndex(e)}function lB(n,e){let t=n[ye],r=LE(t,e);return r.crossesNgTemplate?Nw(t,n,e,[]):nx(t,n,r,e)}var HA=new Set;function Xi(n){HA.has(n)||(HA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function uB(n){return typeof n=="function"&&n[ji]!==void 0}function Cl(n,e){Xi("NgSignals");let t=$D(n),r=t[ji];return e?.equal&&(r.equal=e.equal),t.set=i=>m_(r,i),t.update=i=>HD(r,i),t.asReadonly=dB.bind(t),t}function dB(){let n=this[ji];if(n.readonlyFn===void 0){let e=()=>this();e[ji]=n,n.readonlyFn=e}return n.readonlyFn}function rx(n){return uB(n)&&typeof n.set=="function"}function hB(n){return Object.getPrototypeOf(n.prototype).constructor}function Jn(n){let e=hB(n.type),t=!0,r=[n];for(;e;){let i;if(cs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new se(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=jp(n.inputs),s.inputTransforms=jp(n.inputTransforms),s.declaredInputs=jp(n.declaredInputs),s.outputs=jp(n.outputs);let a=i.hostBindings;a&&yB(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&mB(n,c),u&&gB(n,u),fB(n,i),lV(n.outputs,i.outputs),cs(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Jn&&(t=!1)}}e=Object.getPrototypeOf(e)}pB(r)}function fB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function pB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_d(i.hostAttrs,t=_d(t,i.hostAttrs))}}function jp(n){return n===dl?{}:n===vr?[]:n}function mB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function gB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function yB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function FE(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var ds=class{},Dd=class{};var Mw=class extends ds{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fm(this);let o=_S(e);this._bootstrapComponents=ER(o.bootstrap),this._r3Injector=aR(e,t,[{provide:ds,useValue:this},{provide:yl,useValue:this.componentFactoryResolver},...r],Pn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pw=class extends Dd{constructor(e){super(),this.moduleType=e}create(e){return new Mw(this.moduleType,e,[])}};var pm=class extends ds{constructor(e){super(),this.componentFactoryResolver=new fm(this),this.instance=null;let t=new wd([...e.providers,{provide:ds,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],e.parent||oE(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $m(n,e,t=null){return new pm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function ix(n){return _B(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _B(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ox(n,e,t){return n[e]=t}function wB(n,e){return n[e]}function fi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function EB(n,e,t,r){let i=fi(n,e,t);return fi(n,e+1,r)||i}function bB(n){return(n.flags&32)===32}function IB(n,e,t,r,i,o,s,a,c){let u=e.consts,p=Nd(e,n,4,s||null,a||null);NE(e,t,p,ls(u,c)),Mm(e,p);let m=p.tView=RE(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function Ow(n,e,t,r,i,o,s,a,c,u){let p=t+Gn,m=e.firstCreatePass?IB(p,e,n,r,i,o,s,a,c):e.data[p];Ua(m,!1);let _=CB(e,n,m,t);xm()&&km(e,n,_,m),us(_,n);let w=VR(_,n,_,m);return n[p]=w,Vm(n,w),Jj(w,m,n),Dm(m)&&AE(e,n,m),c!=null&&SE(n,m,u),m}function le(n,e,t,r,i,o,s,a){let c=Re(),u=kt(),p=ls(u.consts,o);return Ow(c,u,n,e,t,r,i,p,s,a),le}var CB=TB;function TB(n,e,t,r){return Nm(!0),e[Tt].createComment("")}var al=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(al||{}),sx=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kw=class n{constructor(){this.ngZone=G(Me),this.scheduler=G(gl),this.errorHandler=G(qi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[al.EarlyRead,al.Write,al.MixedReadWrite,al.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}},Lw=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function VE(n,e){!e?.injector&&i2(VE);let t=e?.injector??G(Qt);return IU(t)?(Xi("NgAfterNextRender"),AB(n,t,e,!0)):SB}function DB(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function AB(n,e,t,r){let i=e.get(sx);i.impl??=e.get(kw);let o=t?.phase??al.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(mE):null,a=new Lw(i.impl,DB(n,o),r,s);return i.impl.register(a),a}var SB={destroy(){}};function Tl(n,e,t,r){let i=Re(),o=bl();if(fi(i,o,e)){let s=kt(),a=Rm();hj(a,i,n,e,t,r)}return Tl}function ax(n,e,t,r){return fi(n,bl(),t)?e+ul(t)+r:br}function RB(n,e,t,r,i,o){let s=I2(),a=EB(n,s,t,i);return HS(2),a?e+ul(t)+r+ul(i)+o:br}function Bp(n,e){return n<<17|e<<2}function Va(n){return n>>17&32767}function xB(n){return(n&2)==2}function NB(n,e){return n&131071|e<<17}function Fw(n){return n|2}function wl(n){return(n&131068)>>2}function q_(n,e){return n&-131069|e<<2}function MB(n){return(n&1)===1}function Vw(n){return n|1}function PB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Va(s),c=wl(s);n[r]=t;let u=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Rd(m,p)>0)&&(u=!0)}else p=t;if(i)if(c!==0){let _=Va(n[a+1]);n[r+1]=Bp(_,a),_!==0&&(n[_+1]=q_(n[_+1],r)),n[a+1]=NB(n[a+1],r)}else n[r+1]=Bp(a,0),a!==0&&(n[a+1]=q_(n[a+1],r)),a=r;else n[r+1]=Bp(c,0),a===0?a=r:n[c+1]=q_(n[c+1],r),c=r;u&&(n[r+1]=Fw(n[r+1])),zA(n,p,r,!0),zA(n,p,r,!1),OB(e,p,n,r,o),s=Bp(a,c),o?e.classBindings=s:e.styleBindings=s}function OB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Rd(o,e)>=0&&(t[r+1]=Vw(t[r+1]))}function zA(n,e,t,r){let i=n[t+1],o=e===null,s=r?Va(i):wl(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];kB(c,e)&&(a=!0,n[s+1]=r?Vw(u):Fw(u)),s=r?Va(u):wl(u)}a&&(n[t+1]=r?Fw(i):Vw(i))}function kB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Rd(n,e)>=0:!1}function te(n,e,t){let r=Re(),i=bl();if(fi(r,i,e)){let o=kt(),s=Rm();xE(o,s,r,n,e,r[Tt],t,!1)}return te}function qA(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";ME(n,t,o[s],s,r)}function eo(n,e,t){return cx(n,e,t,!1),eo}function Hm(n,e){return cx(n,e,null,!0),Hm}function cx(n,e,t,r){let i=Re(),o=kt(),s=HS(2);if(o.firstUpdatePass&&FB(o,n,s,r),e!==br&&fi(i,s,e)){let a=o.data[fs()];$B(o,a,i,i[Tt],n,i[s+1]=HB(e,t),r,s)}}function LB(n,e){return e>=n.expandoStartIndex}function FB(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[fs()],s=LB(n,t);zB(o,r)&&e===null&&!s&&(e=!1),e=VB(i,o,e,r),PB(i,o,e,t,s,r)}}function VB(n,e,t,r){let i=S2(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=G_(null,n,e,t,r),t=Ad(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=G_(i,n,e,t,r),o===null){let c=UB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=G_(null,n,e,c[1],r),c=Ad(c,e.attrs,r),jB(n,e,r,c))}else o=BB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function UB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(wl(r)!==0)return n[Va(r)]}function jB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Va(i)]=r}function BB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ad(r,s,t)}return Ad(r,e.attrs,t)}function G_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ad(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ad(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),NV(n,s,t?!0:e[++o]))}return n===void 0?null:n}function $B(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],p=MB(u)?GA(c,e,t,i,wl(u),s):void 0;if(!mm(p)){mm(o)||xB(u)&&(o=GA(c,null,t,i,a,s));let m=PS(fs(),t);HU(r,s,m,i,o)}}function GA(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),p=u?c[1]:c,m=p===null,_=t[i+1];_===br&&(_=m?vr:void 0);let w=m?L_(_,r):p===r?_:void 0;if(u&&!mm(w)&&(w=L_(c,r)),mm(w)&&(a=w,s))return a;let N=n[i+1];i=s?Va(N):wl(N)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=L_(c,r))}return a}function mm(n){return n!==void 0}function HB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pn(xd(n)))),n}function zB(n,e){return(n.flags&(e?8:16))!==0}var Uw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function W_(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function qB(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),p=e[o],m=W_(o,u,o,p,t);if(m!==0){m<0&&n.updateValue(o,p),o++;continue}let _=n.at(s),w=e[c],N=W_(s,_,c,w,t);if(N!==0){N<0&&n.updateValue(s,w),s--,c--;continue}let O=t(o,u),M=t(s,_),U=t(o,p);if(Object.is(U,M)){let W=t(c,w);Object.is(W,O)?(n.swap(o,s),n.updateValue(s,w),c--,s--):n.move(s,o),n.updateValue(o,p),o++;continue}if(r??=new gm,i??=KA(n,o,s,t),jw(n,r,o,U))n.updateValue(o,p),o++,s++;else if(i.has(U))r.set(O,n.detach(o)),s--;else{let W=n.create(o,e[o]);n.attach(o,W),o++,s++}}for(;o<=c;)WA(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let p=n.at(o),m=u.value,_=W_(o,p,o,m,t);if(_!==0)_<0&&n.updateValue(o,m),o++,u=c.next();else{r??=new gm,i??=KA(n,o,s,t);let w=t(o,m);if(jw(n,r,o,w))n.updateValue(o,m),o++,s++,u=c.next();else if(!i.has(w))n.attach(o,n.create(o,m)),o++,s++,u=c.next();else{let N=t(o,p);r.set(N,n.detach(o)),s--}}}for(;!u.done;)WA(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function jw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function WA(n,e,t,r,i){if(jw(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function KA(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var gm=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function lr(n,e){Xi("NgControlFlow");let t=Re(),r=bl(),i=t[r]!==br?t[r]:-1,o=i!==-1?ym(t,Gn+i):void 0,s=0;if(fi(t,r,n)){let a=xe(null);try{if(o!==void 0&&qR(o,s),n!==-1){let c=Gn+n,u=ym(t,c),p=zw(t[ye],c),m=Td(u,p.tView.ssrId),_=Um(t,p,e,{dehydratedView:m});jm(u,_,s,Cd(p,m))}}finally{xe(a)}}else if(o!==void 0){let a=zR(o,s);a!==void 0&&(a[_n]=e)}}var Bw=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-wn}};var $w=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function lx(n,e,t,r,i,o,s,a,c,u,p,m,_){Xi("NgControlFlow");let w=Re(),N=kt(),O=c!==void 0,M=Re(),U=a?s.bind(M[$r][_n]):s,W=new $w(O,U);M[Gn+n]=W,Ow(w,N,n+1,e,t,r,i,ls(N.consts,o)),O&&Ow(w,N,n+2,c,u,p,m,ls(N.consts,_))}var Hw=class extends Uw{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-wn}at(e){return this.getLView(e)[_n].$implicit}attach(e,t){let r=t[Ed];this.needsIndexUpdate||=e!==this.length,jm(this.lContainer,t,e,Cd(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,GB(this.lContainer,e)}create(e,t){let r=Td(this.lContainer,this.templateTNode.tView.ssrId),i=Um(this.hostLView,this.templateTNode,new Bw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Om(e[ye],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[_n].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[_n].$index=e}getLView(e){return WB(this.lContainer,e)}};function ux(n){let e=xe(null),t=fs();try{let r=Re(),i=r[ye],o=r[t],s=t+1,a=ym(r,s);if(o.liveCollection===void 0){let u=zw(i,s);o.liveCollection=new Hw(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(qB(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=bl(),p=c.length===0;if(fi(r,u,p)){let m=t+2,_=ym(r,m);if(p){let w=zw(i,m),N=Td(_,w.tView.ssrId),O=Um(r,w,void 0,{dehydratedView:N});jm(_,O,0,Cd(w,N))}else qR(_,0)}}}finally{xe(e)}}function ym(n,e){return n[e]}function GB(n,e){return Id(n,e)}function WB(n,e){return zR(n,e)}function zw(n,e){return aE(n,e)}function KB(n,e,t,r,i,o){let s=e.consts,a=ls(s,i),c=Nd(e,n,2,r,a);return NE(e,t,c,ls(s,o)),c.attrs!==null&&hm(c,c.attrs,!1),c.mergedAttrs!==null&&hm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function R(n,e,t,r){let i=Re(),o=kt(),s=Gn+n,a=i[Tt],c=o.firstCreatePass?KB(s,o,i,e,t,r):o.data[s],u=QB(o,i,c,a,e,n);i[s]=u;let p=Dm(c);return Ua(c,!0),RR(a,u,c),!bB(c)&&xm()&&km(o,i,u,c),g2()===0&&us(u,i),y2(),p&&(AE(o,i,c),DE(o,c,i)),r!==null&&SE(i,c),R}function A(){let n=bn();lE()?jS():(n=n.parent,Ua(n,!1));let e=n;w2(e)&&E2(),v2();let t=kt();return t.firstCreatePass&&(Mm(t,n),sE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&k2(e)&&qA(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&L2(e)&&qA(t,e,Re(),e.stylesWithoutHost,!1),A}function ie(n,e,t,r){return R(n,e,t,r),A(),ie}var QB=(n,e,t,r,i,o)=>(Nm(!0),bR(r,i,N2()));function YB(n,e,t,r,i){let o=e.consts,s=ls(o,r),a=Nd(e,n,8,"ng-container",s);s!==null&&hm(a,s,!0);let c=ls(o,i);return NE(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function qe(n,e,t){let r=Re(),i=kt(),o=n+Gn,s=i.firstCreatePass?YB(o,i,r,e,t):i.data[o];Ua(s,!0);let a=ZB(i,r,s,n);return r[o]=a,xm()&&km(i,r,a,s),us(a,r),Dm(s)&&(AE(i,r,s),DE(i,s,r)),t!=null&&SE(r,s),qe}function Ge(){let n=bn(),e=kt();return lE()?jS():(n=n.parent,Ua(n,!1)),e.firstCreatePass&&(Mm(e,n),sE(n)&&e.queries.elementEnd(n)),Ge}var ZB=(n,e,t,r)=>(Nm(!0),AU(e[Tt],""));function ln(){return Re()}var vm="en-US";var JB=vm;function XB(n){typeof n=="string"&&(JB=n.toLowerCase().replace(/_/g,"-"))}var e$=(n,e,t)=>{};function we(n,e,t,r){let i=Re(),o=kt(),s=bn();return dx(o,i,i[Tt],s,n,e,r),we}function t$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Xp],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function dx(n,e,t,r,i,o,s){let a=Dm(r),u=n.firstCreatePass&&BR(n),p=e[_n],m=jR(e),_=!0;if(r.type&3||s){let O=Er(r,e),M=s?s(O):O,U=m.length,W=s?z=>s(hi(z[r.index])):r.index,$=null;if(!s&&a&&($=t$(n,e,i,r.index)),$!==null){let z=$.__ngLastListenerFn__||$;z.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,_=!1}else{o=YA(r,e,p,o),e$(O,i,o);let z=t.listen(M,i,o);m.push(o,z),u&&u.push(i,W,U,U+1)}}else o=YA(r,e,p,o);let w=r.outputs,N;if(_&&w!==null&&(N=w[i])){let O=N.length;if(O)for(let M=0;M<O;M+=2){let U=N[M],W=N[M+1],ee=e[U][W].subscribe(o),Q=m.length;m.push(o,ee),u&&u.push(i,r.index,Q,-(Q+1))}}}function QA(n,e,t,r){let i=xe(null);try{return ci(6,e,t),t(r)!==!1}catch(o){return $R(n,o),!1}finally{ci(7,e,t),xe(i)}}function YA(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?hs(n.index,e):e;OE(s,5);let a=QA(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=QA(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Be(n=1){return x2(n)}function UE(n,e,t){return hx(n,"",e,"",t),UE}function hx(n,e,t,r,i){let o=Re(),s=ax(o,e,t,r);if(s!==br){let a=kt(),c=Rm();xE(a,c,o,n,s,o[Tt],i,!1)}return hx}function In(n,e,t){sB(n,e,t)}function un(n){let e=Re(),t=kt(),r=zS();uE(r+1);let i=LE(t,r);if(n.dirty&&h2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=lB(e,r);n.reset(o,rU),n.notifyOnChanges()}return!0}return!1}function dn(){return iB(Re(),zS())}function n$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function F(n,e=""){let t=Re(),r=kt(),i=n+Gn,o=r.firstCreatePass?Nd(r,i,1,e,null):r.data[i],s=r$(r,t,o,e,n);t[i]=s,xm()&&km(r,t,s,o),Ua(o,!1)}var r$=(n,e,t,r,i)=>(Nm(!0),TU(e[Tt],r));function Fe(n){return zm("",n,""),Fe}function zm(n,e,t){let r=Re(),i=ax(r,n,e,t);return i!==br&&HR(r,fs(),i),zm}function jE(n,e,t,r,i){let o=Re(),s=RB(o,n,e,t,r,i);return s!==br&&HR(o,fs(),s),jE}function qm(n,e,t){rx(e)&&(e=e());let r=Re(),i=bl();if(fi(r,i,e)){let o=kt(),s=Rm();xE(o,s,r,n,e,r[Tt],t,!1)}return qm}function BE(n,e){let t=rx(n);return t&&n.set(e),t}function Gm(n,e){let t=Re(),r=kt(),i=bn();return dx(r,t,t[Tt],i,n,e),Gm}function i$(n,e,t){let r=kt();if(r.firstCreatePass){let i=cs(n);qw(t,r.data,r.blueprint,i,!0),qw(e,r.data,r.blueprint,i,!1)}}function qw(n,e,t,r,i){if(n=Mn(n),Array.isArray(n))for(let o=0;o<n.length;o++)qw(n[o],e,t,r,i);else{let o=kt(),s=Re(),a=bn(),c=fl(n)?n:Mn(n.provide),u=TS(n),p=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(fl(n)||!n.multi){let w=new Oa(u,i,Y),N=Q_(c,e,i?p:p+_,m);N===-1?(uw(om(a,s),o,c),K_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[N]=w,s[N]=w)}else{let w=Q_(c,e,p+_,m),N=Q_(c,e,p,p+_),O=w>=0&&t[w],M=N>=0&&t[N];if(i&&!M||!i&&!O){uw(om(a,s),o,c);let U=a$(i?s$:o$,t.length,i,r,u);!i&&M&&(t[N].providerFactory=U),K_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=fx(t[i?N:w],u,!i&&r);K_(o,n,w>-1?w:N,U)}!i&&r&&M&&t[N].componentProviders++}}}function K_(n,e,t,r){let i=fl(e),o=ZV(e);if(i||o){let c=(o?Mn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=u.indexOf(t);p===-1?u.push(t,[r,c]):u[p+1].push(r,c)}else u.push(t,c)}}}function fx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Q_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function o$(n,e,t,r){return Gw(this.multi,[])}function s$(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ka(t,t[ye],this.providerFactory.index,r);o=a.slice(0,s),Gw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Gw(i,o);return o}function Gw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function a$(n,e,t,r,i){let o=new Oa(n,t,Y);return o.multi=[],o.index=e,o.componentProviders=0,fx(o,i,r&&!t),o}function Ir(n,e=[]){return t=>{t.providersResolver=(r,i)=>i$(r,i?i(n):n,e)}}var c$=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bS(!1,t.type),i=r.length>0?$m([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=re({token:n,providedIn:"environment",factory:()=>new n(ne(On))})}}return n})();function Je(n){Xi("NgStandalone"),n.getStandaloneInjector=e=>e.get(c$).getOrCreateStandaloneInjector(n)}function $E(n,e,t){let r=$S()+n,i=Re();return i[r]===br?ox(i,r,t?e.call(t):e()):wB(i,r)}function l$(n,e){let t=n[e];return t===br?void 0:t}function u$(n,e,t,r,i,o){let s=e+t;return fi(n,s,i)?ox(n,s+1,o?r.call(o,i):r(i)):l$(n,s+1)}function px(n,e){let t=kt(),r,i=n+Gn;t.firstCreatePass?(r=d$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ra(r.type,!0)),s,a=qn(Y);try{let c=im(!1),u=o();return im(c),n$(t,Re(),i,u),u}finally{qn(a)}}function d$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function mx(n,e,t){let r=n+Gn,i=Re(),o=d2(i,r);return h$(i,r)?u$(i,$S(),e,o.transform,t,o):o.transform(t)}function h$(n,e){return n[ye].data[e].pure}var Wi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},gx=new Wi("18.2.10");var Wm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var yx=new J("");function ja(n){return!!n&&typeof n.then=="function"}function vx(n){return!!n&&typeof n.subscribe=="function"}var Km=new J(""),_x=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=G(Km,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ja(o))t.push(o);else if(vx(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Md=new J("");function f$(){BD(()=>{throw new se(600,!1)})}function p$(n){return n.isBoundToModule}var m$=10;function g$(n,e,t){try{let r=t();return ja(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var gs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(tU),this.afterRenderManager=G(sx),this.zonelessEnabled=G(Bm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new _t,this.afterTick=new _t,this.componentTypes=[],this.components=[],this.isStable=G(ps).hasPendingTasks.pipe(Ee(t=>!t)),this._injector=G(On)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof dm;if(!this._injector.get(_x).done){let _=!i&&vS(t),w=!1;throw new se(405,w)}let s;i?s=t:s=this._injector.get(yl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=p$(s)?void 0:this._injector.get(ds),c=r||s.selector,u=s.create(Qt.NULL,[],c,a),p=u.location.nativeElement,m=u.injector.get(yx,null);return m?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),Wp(this.components,u),m?.unregisterApplication(p)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new se(101,!1);let t=xe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,xe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(vl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<m$;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)y$(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Am(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Wp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Md,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new se(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function y$(n,e,t,r){if(!t&&!Am(n))return;KR(n,e,t&&!r?0:1)}var Ww=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Qm=(()=>{class n{compileModuleSync(t){return new Pw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_S(t),o=ER(i.declarations).reduce((s,a)=>{let c=as(a);return c&&s.push(new _l(c)),s},[]);return new Ww(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var v$=(()=>{class n{constructor(){this.zone=G(Me),this.changeDetectionScheduler=G(gl),this.applicationRef=G(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_$=new J("",{factory:()=>!1});function wx({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Me(De(q({},bx()),{scheduleInRootZone:t})),[{provide:Me,useFactory:n},{provide:hl,multi:!0,useFactory:()=>{let r=G(v$,{optional:!0});return()=>r.initialize()}},{provide:hl,multi:!0,useFactory:()=>{let r=G(w$);return()=>{r.initialize()}}},e===!0?{provide:JR,useValue:!0}:[],{provide:XR,useValue:t??cR}]}function Ex(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=wx({ngZoneFactory:()=>{let i=bx(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Xi("NgZone_CoalesceEvent"),new Me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yn([{provide:_$,useValue:!0},{provide:Bm,useValue:!1},r])}function bx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var w$=(()=>{class n{constructor(){this.subscription=new vt,this.initialized=!1,this.zone=G(Me),this.pendingTasks=G(ps)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var E$=(()=>{class n{constructor(){this.appRef=G(gs),this.taskService=G(ps),this.ngZone=G(Me),this.zonelessEnabled=G(Bm),this.disableScheduling=G(JR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new vt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(am):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(G(XR,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mw||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?MA:lR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(am+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function b$(){return typeof $localize<"u"&&$localize.locale||vm}var HE=new J("",{providedIn:"root",factory:()=>G(HE,Ae.Optional|Ae.SkipSelf)||b$()});var Kw=new J("");function $p(n){return!n.moduleRef}function I$(n){let e=$p(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Me);return t.run(()=>{$p(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(qi,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),$p(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Kw);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Kw);s.add(o),n.moduleRef.onDestroy(()=>{Wp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return g$(r,t,()=>{let o=e.get(_x);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(HE,vm);if(XB(s||vm),$p(n)){let a=e.get(gs);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return C$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function C$(n,e){let t=n.injector.get(gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new se(-403,!1);e.push(n)}var Kp=null;function T$(n=[],e){return Qt.create({name:e,providers:[{provide:Im,useValue:"platform"},{provide:Kw,useValue:new Set([()=>Kp=null])},...n]})}function D$(n=[]){if(Kp)return Kp;let e=T$(n);return Kp=e,f$(),A$(e),e}function A$(n){n.get(_E,null)?.forEach(t=>t())}var Ba=(()=>{class n{static{this.__NG_ELEMENT_ID__=S$}}return n})();function S$(n){return R$(bn(),Re(),(n&16)===16)}function R$(n,e,t){if(Tm(n)&&!t){let r=hs(n.index,e);return new La(r,r)}else if(n.type&175){let r=e[$r];return new La(r,e)}return null}var Qw=class{constructor(){}supports(e){return ix(e)}create(e){return new Yw(e)}},x$=(n,e)=>e,Yw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ZA(r,i,o)?t:r,a=ZA(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,p=c-i;if(u!=p){for(let _=0;_<u;_++){let w=_<o.length?o[_]:o[_]=0,N=w+_;p<=N&&N<u&&(o[_]=w+1)}let m=s.previousIndex;o[m]=p-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ix(e))throw new se(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,vB(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Zw(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new _m),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _m),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zw=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},_m=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Jw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function JA(){return new zE([new Qw])}var zE=(()=>{class n{static{this.\u0275prov=re({token:n,providedIn:"root",factory:JA})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||JA()),deps:[[n,new eE,new Dt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new se(901,!1)}}return n})();function Ix(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=D$(r),o=[wx({}),{provide:gl,useExisting:E$},...t||[]],s=new pm({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return I$({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function $a(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Dl(n,e){Xi("NgSignals");let t=VD(n);return e?.equal&&(t[ji].equal=e.equal),t}function mi(n){let e=xe(null);try{return n()}finally{xe(e)}}function Cx(n){let e=as(n);if(!e)return null;let t=new _l(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Rx=null;function no(){return Rx}function xx(n){Rx??=n}var Ym=class{};var Cn=new J(""),QE=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(M$),providedIn:"platform"})}}return n})(),Nx=new J(""),M$=(()=>{class n extends QE{constructor(){super(),this._doc=G(Cn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return no().getBaseHref(this._doc)}onPopState(t){let r=no().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=no().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function YE(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Tx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function to(n){return n&&n[0]!=="?"?"?"+n:n}var ro=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(ZE),providedIn:"root"})}}return n})(),Mx=new J(""),ZE=(()=>{class n extends ro{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??G(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return YE(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+to(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+to(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+to(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(QE),ne(Mx,8))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Px=(()=>{class n extends ro{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=YE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+to(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+to(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(QE),ne(Mx,8))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),Sl=(()=>{class n{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=k$(Tx(Dx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+to(r))}normalize(t){return n.stripTrailingSlash(O$(this._basePath,Dx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=to}static{this.joinWithSlash=YE}static{this.stripTrailingSlash=Tx}static{this.\u0275fac=function(r){return new(r||n)(ne(ro))}}static{this.\u0275prov=re({token:n,factory:()=>P$(),providedIn:"root"})}}return n})();function P$(){return new Sl(ne(ro))}function O$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Dx(n){return n.replace(/\/index.html$/,"")}function k$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Zm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qE=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ys=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qE(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Ax(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Ax(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Y(ms),Y(Fa),Y(zE))}}static{this.\u0275dir=st({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Ax(n,e){n.context.$implicit=e.item}var vs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new GE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Y(ms),Y(Fa))}}static{this.\u0275dir=st({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),GE=class{constructor(){this.$implicit=null,this.ngIf=null}};function Sx(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Pn(e)}'.`)}function L$(n,e){return new se(2100,!1)}var F$=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ox=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw L$(n,t);return t.replace(F$,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=mS({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var hn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})(),JE="browser",V$="server";function XE(n){return n===JE}function Jm(n){return n===V$}var kx=(()=>{class n{static{this.\u0275prov=re({token:n,providedIn:"root",factory:()=>XE(G(Zn))?new WE(G(Cn),window):new KE})}}return n})(),WE=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=U$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function U$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var KE=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Al=class{};var Od=class{},eg=class{},io=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var tb=class{encodeKey(e){return Lx(e)}encodeValue(e){return Lx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var B$=/%(\d[a-f0-9])/gi,$$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lx(n){return encodeURIComponent(n).replace(B$,(e,t)=>$$[t]??e)}function Xm(n){return`${n}`}var Es=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=j$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Xm):[Xm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xm(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xm(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function H$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Vx(n){return typeof Blob<"u"&&n instanceof Blob}function Ux(n){return typeof FormData<"u"&&n instanceof FormData}function z$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Pd=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(H$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new io,this.context??=new nb,!this.params)this.params=new Es,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fx(this.body)||Vx(this.body)||Ux(this.body)||z$(this.body)?this.body:this.body instanceof Es?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ux(this.body)?null:Vx(this.body)?this.body.type||null:Fx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Es?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((_,w)=>_.set(w,e.setHeaders[w]),u)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,w)=>_.set(w,e.setParams[w]),p)),new n(t,r,s,{params:p,headers:u,context:m,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},bs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(bs||{}),kd=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new io,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},tg=class n extends kd{constructor(e={}){super(e),this.type=bs.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ld=class n extends kd{constructor(e={}){super(e),this.type=bs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ws=class extends kd{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Hx=200,q$=204;function eb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var G$=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Pd)o=t;else{let c;i.headers instanceof io?c=i.headers:c=new io(i.headers);let u;i.params&&(i.params instanceof Es?u=i.params:u=new Es({fromObject:i.params})),o=new Pd(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=he(o).pipe($i(c=>this.handler.handle(c)));if(t instanceof Pd||i.observe==="events")return s;let a=s.pipe(vn(c=>c instanceof Ld));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Ee(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Es().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,eb(i,r))}post(t,r,i={}){return this.request("POST",t,eb(i,r))}put(t,r,i={}){return this.request("PUT",t,eb(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ne(Od))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),W$=/^\)\]\}',?\n/,K$="X-Request-URL";function jx(n){if(n.url)return n.url;let e=K$.toLocaleLowerCase();return n.headers.get(e)}var Q$=(()=>{class n{constructor(){this.fetchImpl=G(rb,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=G(Me)}handle(t){return new Ne(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(ib,o=>r.error(new ws({error:o}))),()=>i.abort()})}doRequest(t,r,i){return C(this,null,function*(){let o=this.createRequestInit(t),s;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,q({signal:r},o)));Y$(w),i.next({type:bs.Sent}),s=yield w}catch(w){i.error(new ws({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let a=new io(s.headers),c=s.statusText,u=jx(s)??t.urlWithParams,p=s.status,m=null;if(t.reportProgress&&i.next(new tg({headers:a,status:p,statusText:c,url:u})),s.body){let w=s.headers.get("content-length"),N=[],O=s.body.getReader(),M=0,U,W,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:ee,value:Q}=yield O.read();if(ee)break;if(N.push(Q),M+=Q.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(U??=new TextDecoder).decode(Q,{stream:!0}):void 0;let D=()=>i.next({type:bs.DownloadProgress,total:w?+w:void 0,loaded:M,partialText:W});$?$.run(D):D()}}}));let z=this.concatChunks(N,M);try{let ee=s.headers.get("Content-Type")??"";m=this.parseBody(t,z,ee)}catch(ee){i.error(new ws({error:ee,headers:new io(s.headers),status:s.status,statusText:s.statusText,url:jx(s)??t.urlWithParams}));return}}p===0&&(p=m?Hx:0),p>=200&&p<300?(i.next(new Ld({body:m,headers:a,status:p,statusText:c,url:u})),i.complete()):i.error(new ws({error:m,headers:a,status:p,statusText:c,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(W$,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),rb=class{};function ib(){}function Y$(n){n.then(ib,ib)}function Z$(n,e){return e(n)}function J$(n,e,t){return(r,i)=>wr(t,()=>e(r,o=>n(o,i)))}var zx=new J(""),X$=new J(""),eH=new J("",{providedIn:"root",factory:()=>!0});var Bx=(()=>{class n extends Od{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=G(ps),this.contributeToStability=G(eH)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(zx),...this.injector.get(X$,[])]));this.chain=r.reduceRight((i,o)=>J$(i,o,this.injector),Z$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Aa(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(ne(eg),ne(On))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();var tH=/^\)\]\}',?\n/;function nH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var $x=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new se(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ot(r.\u0275loadImpl()):he(null)).pipe(zn(()=>new Ne(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((O,M)=>s.setRequestHeader(O,M.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let O=t.detectContentTypeHeader();O!==null&&s.setRequestHeader("Content-Type",O)}if(t.responseType){let O=t.responseType.toLowerCase();s.responseType=O!=="json"?O:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let O=s.statusText||"OK",M=new io(s.getAllResponseHeaders()),U=nH(s)||t.url;return c=new tg({headers:M,status:s.status,statusText:O,url:U}),c},p=()=>{let{headers:O,status:M,statusText:U,url:W}=u(),$=null;M!==q$&&($=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=$?Hx:0);let z=M>=200&&M<300;if(t.responseType==="json"&&typeof $=="string"){let ee=$;$=$.replace(tH,"");try{$=$!==""?JSON.parse($):null}catch(Q){$=ee,z&&(z=!1,$={error:Q,text:$})}}z?(o.next(new Ld({body:$,headers:O,status:M,statusText:U,url:W||void 0})),o.complete()):o.error(new ws({error:$,headers:O,status:M,statusText:U,url:W||void 0}))},m=O=>{let{url:M}=u(),U=new ws({error:O,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(U)},_=!1,w=O=>{_||(o.next(u()),_=!0);let M={type:bs.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(M.total=O.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},N=O=>{let M={type:bs.UploadProgress,loaded:O.loaded};O.lengthComputable&&(M.total=O.total),o.next(M)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(a),o.next({type:bs.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ne(Al))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),qx=new J(""),rH="XSRF-TOKEN",iH=new J("",{providedIn:"root",factory:()=>rH}),oH="X-XSRF-TOKEN",sH=new J("",{providedIn:"root",factory:()=>oH}),ng=class{},aH=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zm(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ne(Cn),ne(Zn),ne(iH))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();function cH(n,e){let t=n.url.toLowerCase();if(!G(qx)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=G(ng).getToken(),i=G(sH);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Gx(...n){let e=[G$,$x,Bx,{provide:Od,useExisting:Bx},{provide:eg,useFactory:()=>G(Q$,{optional:!0})??G($x)},{provide:zx,useValue:cH,multi:!0},{provide:qx,useValue:!0},{provide:ng,useClass:aH}];for(let t of n)e.push(...t.\u0275providers);return Yn(e)}var ab=class extends Ym{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cb=class n extends ab{static makeCurrent(){xx(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=lH();return t==null?null:uH(t)}resetBaseElement(){Fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zm(document.cookie,e)}},Fd=null;function lH(){return Fd=Fd||document.querySelector("base"),Fd?Fd.getAttribute("href"):null}function uH(n){return new URL(n,document.baseURI).pathname}var dH=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),lb=new J(""),Yx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new se(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ne(lb),ne(Me))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),rg=class{constructor(e){this._doc=e}},ob="ng-app-id",Zx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jm(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ob}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(ob),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ob,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ne(Cn),ne(vE),ne(wE,8),ne(Zn))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),sb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},db=/%COMP%/g,Jx="%COMP%",hH=`_nghost-${Jx}`,fH=`_ngcontent-${Jx}`,pH=!0,mH=new J("",{providedIn:"root",factory:()=>pH});function gH(n){return fH.replace(db,n)}function yH(n){return hH.replace(db,n)}function Xx(n,e){return e.map(t=>t.replace(db,n))}var Wx=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Jm(a),this.defaultRenderer=new Vd(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ui.ShadowDom&&(r=De(q({},r),{encapsulation:ui.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ig?i.applyToHost(t):i instanceof Ud&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ui.Emulated:o=new ig(c,u,r,this.appId,p,s,a,m);break;case ui.ShadowDom:return new ub(c,u,t,r,s,a,this.nonce,m);default:o=new Ud(c,u,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ne(Yx),ne(Zx),ne(vE),ne(mH),ne(Cn),ne(Zn),ne(Me),ne(wE))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),Vd=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Kx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new se(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=sb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=sb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gi.DashCase|Gi.Important)?e.style.setProperty(t,r,i&Gi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=no().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Kx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ub=class extends Vd{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Xx(i.id,i.styles);for(let p of u){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ud=class extends Vd{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Xx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ig=class extends Ud{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=gH(u),this.hostAttr=yH(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},vH=(()=>{class n extends rg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ne(Cn))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),Qx=["alt","control","meta","shift"],_H={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},EH=(()=>{class n extends rg{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>no().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Qx.forEach(u=>{let p=r.indexOf(u);p>-1&&(r.splice(p,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=_H[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Qx.forEach(s=>{if(s!==i){let a=wH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ne(Cn))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();function eN(n,e){return Ix(q({rootComponent:n},bH(e)))}function bH(n){return{appProviders:[...AH,...n?.providers??[]],platformProviders:DH}}function IH(){cb.makeCurrent()}function CH(){return new qi}function TH(){return gR(document),document}var DH=[{provide:Zn,useValue:JE},{provide:_E,useValue:IH,multi:!0},{provide:Cn,useFactory:TH,deps:[]}];var AH=[{provide:Im,useValue:"root"},{provide:qi,useFactory:CH,deps:[]},{provide:lb,useClass:vH,multi:!0,deps:[Cn,Me,Zn]},{provide:lb,useClass:EH,multi:!0,deps:[Cn]},Wx,Zx,Yx,{provide:vl,useExisting:Wx},{provide:Al,useClass:dH,deps:[]},[]];var tN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ne(Cn))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ce="primary",eh=Symbol("RouteTitle"),gb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ol(n){return new gb(n)}function RH(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}function gi(n,e){let t=n?yb(n):void 0,r=e?yb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!hN(n[i],e[i]))return!1;return!0}function yb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function fN(n){return n.length>0?n[n.length-1]:null}function Ts(n){return R_(n)?n:ja(n)?ot(Promise.resolve(n)):he(n)}var NH={exact:mN,subset:gN},pN={exact:MH,subset:PH,ignored:()=>!0};function nN(n,e,t){return NH[t.paths](n.root,e.root,t.matrixParams)&&pN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function MH(n,e){return gi(n,e)}function mN(n,e,t){if(!za(n.segments,e.segments)||!ag(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!mN(n.children[r],e.children[r],t))return!1;return!0}function PH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hN(n[t],e[t]))}function gN(n,e,t){return yN(n,e,e.segments,t)}function yN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!za(i,t)||e.hasChildren()||!ag(i,t,r))}else if(n.segments.length===t.length){if(!za(n.segments,t)||!ag(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!gN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!za(n.segments,i)||!ag(n.segments,i,r)||!n.children[Ce]?!1:yN(n.children[Ce],e,o,r)}}function ag(n,e,t){return e.every((r,i)=>pN[t](n[i].parameters,r.parameters))}var so=class{constructor(e=new Ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ol(this.queryParams),this._queryParamMap}toString(){return LH.serialize(this)}},Ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cg(this)}},Ha=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ol(this.parameters),this._parameterMap}toString(){return _N(this)}};function OH(n,e){return za(n,e)&&n.every((t,r)=>gi(t.parameters,e[r].parameters))}function za(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function kH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ce&&(t=t.concat(e(i,r)))}),t}var th=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>new kl,providedIn:"root"})}}return n})(),kl=class{parse(e){let t=new _b(e);return new so(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${jd(e.root,!0)}`,r=UH(e.queryParams),i=typeof e.fragment=="string"?`#${FH(e.fragment)}`:"";return`${t}${r}${i}`}},LH=new kl;function cg(n){return n.segments.map(e=>_N(e)).join("/")}function jd(n,e){if(!n.hasChildren())return cg(n);if(e){let t=n.children[Ce]?jd(n.children[Ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ce&&r.push(`${i}:${jd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=kH(n,(r,i)=>i===Ce?[jd(n.children[Ce],!1)]:[`${i}:${jd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ce]!=null?`${cg(n)}/${t[0]}`:`${cg(n)}/(${t.join("//")})`}}function vN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function og(n){return vN(n).replace(/%3B/gi,";")}function FH(n){return encodeURI(n)}function vb(n){return vN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lg(n){return decodeURIComponent(n)}function rN(n){return lg(n.replace(/\+/g,"%20"))}function _N(n){return`${vb(n.path)}${VH(n.parameters)}`}function VH(n){return Object.entries(n).map(([e,t])=>`;${vb(e)}=${vb(t)}`).join("")}function UH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${og(t)}=${og(i)}`).join("&"):`${og(t)}=${og(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jH=/^[^\/()?;#]+/;function hb(n){let e=n.match(jH);return e?e[0]:""}var BH=/^[^\/()?;=#]+/;function $H(n){let e=n.match(BH);return e?e[0]:""}var HH=/^[^=?&#]+/;function zH(n){let e=n.match(HH);return e?e[0]:""}var qH=/^[^&#]+/;function GH(n){let e=n.match(qH);return e?e[0]:""}var _b=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ce]=new Ye(e,t)),r}parseSegment(){let e=hb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(e),new Ha(lg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=$H(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=hb(this.remaining);i&&(r=i,this.capture(r))}e[lg(t)]=lg(r)}parseQueryParam(e){let t=zH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=GH(this.remaining);s&&(r=s,this.capture(r))}let i=rN(t),o=rN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new se(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ce]:new Ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new se(4011,!1)}};function wN(n){return n.segments.length>0?new Ye([],{[Ce]:n}):n}function EN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=EN(i);if(r===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ye(n.segments,e);return WH(t)}function WH(n){if(n.numberOfChildren===1&&n.children[Ce]){let e=n.children[Ce];return new Ye(n.segments.concat(e.segments),e.children)}return n}function qa(n){return n instanceof so}function KH(n,e,t=null,r=null){let i=bN(n);return IN(i,e,t,r)}function bN(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ye(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=wN(r);return e??i}function IN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return fb(i,i,i,t,r);let o=QH(e);if(o.toRoot())return fb(i,i,new Ye([],{}),t,r);let s=YH(o,i,n),a=s.processChildren?Hd(s.segmentGroup,s.index,o.commands):TN(s.segmentGroup,s.index,o.commands);return fb(i,s.segmentGroup,a,t,r)}function ug(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gd(n){return typeof n=="object"&&n!=null&&n.outlets}function fb(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`});let s;n===e?s=t:s=CN(n,e,t);let a=wN(EN(s));return new so(a,o,i)}function CN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CN(o,e,t)}),new Ye(n.segments,r)}var dg=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ug(r[0]))throw new se(4003,!1);let i=r.find(Gd);if(i&&i!==fN(r))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dg(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dg(t,e,r)}var Nl=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function YH(n,e,t){if(n.isAbsolute)return new Nl(e,!0,0);if(!t)return new Nl(e,!1,NaN);if(t.parent===null)return new Nl(t,!0,0);let r=ug(n.commands[0])?0:1,i=t.segments.length-1+r;return ZH(t,i,n.numberOfDoubleDots)}function ZH(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new se(4005,!1);i=r.segments.length}return new Nl(r,!1,i-o)}function JH(n){return Gd(n[0])?n[0].outlets:{[Ce]:n}}function TN(n,e,t){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return Hd(n,e,t);let r=XH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ye(n.segments.slice(0,r.pathIndex),{});return o.children[Ce]=new Ye(n.segments.slice(r.pathIndex),n.children),Hd(o,0,i)}else return r.match&&i.length===0?new Ye(n.segments,{}):r.match&&!n.hasChildren()?wb(n,e,t):r.match?Hd(n,0,i):wb(n,e,t)}function Hd(n,e,t){if(t.length===0)return new Ye(n.segments,{});{let r=JH(t),i={};if(Object.keys(r).some(o=>o!==Ce)&&n.children[Ce]&&n.numberOfChildren===1&&n.children[Ce].segments.length===0){let o=Hd(n.children[Ce],e,t);return new Ye(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ye(n.segments,i)}}function XH(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Gd(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!oN(c,u,s))return o;r+=2}else{if(!oN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Gd(o)){let c=e3(o.outlets);return new Ye(r,c)}if(i===0&&ug(t[0])){let c=n.segments[e];r.push(new Ha(c.path,iN(t[0]))),i++;continue}let s=Gd(o)?o.outlets[Ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ug(a)?(r.push(new Ha(s,iN(a))),i+=2):(r.push(new Ha(s,{})),i++)}return new Ye(r,{})}function e3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=wb(new Ye([],{}),0,r))}),e}function iN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oN(n,e,t){return n==t.path&&gi(e,t.parameters)}var zd="imperative",nn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nn||{}),Cr=class{constructor(e,t){this.id=e,this.url=t}},Ll=class extends Cr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=nn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends Cr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(dr||{}),hg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hg||{}),oo=class extends Cr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Is=class extends Cr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nn.NavigationSkipped}},Wd=class extends Cr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fg=class extends Cr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eb=class extends Cr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bb=class extends Cr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ib=class extends Cr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cb=class extends Cr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tb=class{constructor(e){this.route=e,this.type=nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Db=class{constructor(e){this.route=e,this.type=nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ab=class{constructor(e){this.snapshot=e,this.type=nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sb=class{constructor(e){this.snapshot=e,this.type=nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rb=class{constructor(e){this.snapshot=e,this.type=nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xb=class{constructor(e){this.snapshot=e,this.type=nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=nn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Kd=class{},Fl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function t3(n,e){return n.providers&&!n._injector&&(n._injector=$m(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zr(n){return n.outlet||Ce}function n3(n,e){let t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}function nh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Nb=class{get injector(){return nh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new rh(this.rootInjector),this.attachRef=null}},rh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ne(On))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Mb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Mb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Pb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pb(e,this._root).map(t=>t.value)}};function Mb(n,e){if(n===e.value)return e;for(let t of e.children){let r=Mb(n,t);if(r)return r}return null}function Pb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Pb(n,t);if(r.length)return r.unshift(e),r}return[]}var ur=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gg=class extends mg{constructor(e,t){super(e),this.snapshot=t,$b(this,e)}toString(){return this.snapshot.toString()}};function DN(n){let e=r3(n),t=new Kt([new Ha("",{})]),r=new Kt({}),i=new Kt({}),o=new Kt({}),s=new Kt(""),a=new Cs(t,r,o,s,i,Ce,n,e.root);return a.snapshot=e.root,new gg(new ur(a,[]),e)}function r3(n){let e={},t={},r={},i="",o=new Ml([],e,r,i,t,Ce,n,null,{});return new vg("",new ur(o,[]))}var Cs=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ee(u=>u[eh]))??he(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>Ol(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>Ol(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),n.params),data:q(q({},e.data),n.data),resolve:q(q(q(q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:q({},n.params),data:q({},n.data),resolve:q(q({},n.data),n._resolvedData??{})},i&&SN(i)&&(r.resolve[eh]=i.title),r}var Ml=class{get title(){return this.data?.[eh]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ol(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ol(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},vg=class extends mg{constructor(e,t){super(t),this.url=e,$b(this,t)}toString(){return AN(this._root)}};function $b(n,e){e.value._routerState=n,e.children.forEach(t=>$b(n,t))}function AN(n){let e=n.children.length>0?` { ${n.children.map(AN).join(", ")} } `:"";return`${n.value}${e}`}function pb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gi(e.params,t.params)||n.paramsSubject.next(t.params),xH(e.url,t.url)||n.urlSubject.next(t.url),gi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ob(n,e){let t=gi(n.params,e.params)&&OH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ob(n.parent,e.parent))}function SN(n){return typeof n.title=="string"||n.title===null}var ih=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=G(rh),this.location=G(ms),this.changeDetector=G(Ba),this.inputBinder=G(bg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kb(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]})}}return n})(),kb=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cs?this.route:e===rh?this.childContexts:this.parent.get(e,t)}},bg=new J(""),sN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=md([r.queryParams,r.params,r.data]).pipe(zn(([o,s,a],c)=>(a=q(q(q({},o),s),a),c===0?he(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Cx(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();function i3(n,e,t){let r=Qd(n,e._root,t?t._root:void 0);return new gg(r,e)}function Qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=o3(n,e,t);return new ur(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qd(n,a)),s}}let r=s3(e.value),i=e.children.map(o=>Qd(n,o));return new ur(r,i)}}function o3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qd(n,r,i);return Qd(n,r)})}function s3(n){return new Cs(new Kt(n.url),new Kt(n.params),new Kt(n.queryParams),new Kt(n.fragment),new Kt(n.data),n.outlet,n.component,n)}var Yd=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RN="ngNavigationCancelingError";function _g(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xN(!1,dr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function xN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RN]=!0,t.cancellationCode=e,t}function a3(n){return NN(n)&&qa(n.url)}function NN(n){return!!n&&n[RN]}var c3=(n,e,t,r)=>Ee(i=>(new Lb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Lb=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=xl(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=xl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=xl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=xl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(pb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pl=class{constructor(e,t){this.component=e,this.route=t}};function l3(n,e,t){let r=n._root,i=e?e._root:null;return Bd(r,i,t,[r.value])}function u3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ul(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!nS(n)?n:e.get(n):r}function Bd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xl(e);return n.children.forEach(s=>{d3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qd(a,t.getContext(s),i)),i}function d3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=h3(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Bd(n,e,a?a.children:null,r,i):Bd(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pl(a.outlet.component,s))}else s&&qd(e,a,i),i.canActivateChecks.push(new wg(r)),o.component?Bd(n,null,a?a.children:null,r,i):Bd(n,null,t,r,i);return i}function h3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!za(n.url,e.url);case"pathParamsOrQueryParamsChange":return!za(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ob(n,e)||!gi(n.queryParams,e.queryParams);case"paramsChange":default:return!Ob(n,e)}}function qd(n,e,t){let r=xl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?qd(s,e.children.getContext(o),t):qd(s,null,t):qd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Pl(e.outlet.component,i)):t.canDeactivateChecks.push(new Pl(null,i)):t.canDeactivateChecks.push(new Pl(null,i))}function oh(n){return typeof n=="function"}function f3(n){return typeof n=="boolean"}function p3(n){return n&&oh(n.canLoad)}function m3(n){return n&&oh(n.canActivate)}function g3(n){return n&&oh(n.canActivateChild)}function y3(n){return n&&oh(n.canDeactivate)}function v3(n){return n&&oh(n.canMatch)}function MN(n){return n instanceof Bi||n?.name==="EmptyError"}var sg=Symbol("INITIAL_VALUE");function Vl(){return zn(n=>md(n.map(e=>e.pipe(Hi(1),O_(sg)))).pipe(Ee(e=>{for(let t of e)if(t!==!0){if(t===sg)return sg;if(t===!1||_3(t))return t}return!0}),vn(e=>e!==sg),Hi(1)))}function _3(n){return qa(n)||n instanceof Yd}function w3(n,e){return Pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?he(De(q({},t),{guardsResult:!0})):E3(s,r,i,n).pipe(Pt(a=>a&&f3(a)?b3(r,o,n,e):he(a)),Ee(a=>De(q({},t),{guardsResult:a})))})}function E3(n,e,t,r){return ot(n).pipe(Pt(i=>A3(i.component,i.route,t,e,r)),ai(i=>i!==!0,!0))}function b3(n,e,t,r){return ot(e).pipe($i(i=>nl(C3(i.route.parent,r),I3(i.route,r),D3(n,i.path,t),T3(n,i.route,t))),ai(i=>i!==!0,!0))}function I3(n,e){return n!==null&&e&&e(new Rb(n)),he(!0)}function C3(n,e){return n!==null&&e&&e(new Ab(n)),he(!0)}function T3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return he(!0);let i=r.map(o=>Lp(()=>{let s=nh(e)??t,a=Ul(o,s),c=m3(a)?a.canActivate(e,n):wr(s,()=>a(e,n));return Ts(c).pipe(ai())}));return he(i).pipe(Vl())}function D3(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>u3(s)).filter(s=>s!==null).map(s=>Lp(()=>{let a=s.guards.map(c=>{let u=nh(s.node)??t,p=Ul(c,u),m=g3(p)?p.canActivateChild(r,n):wr(u,()=>p(r,n));return Ts(m).pipe(ai())});return he(a).pipe(Vl())}));return he(o).pipe(Vl())}function A3(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let c=nh(e)??i,u=Ul(a,c),p=y3(u)?u.canDeactivate(n,e,t,r):wr(c,()=>u(n,e,t,r));return Ts(p).pipe(ai())});return he(s).pipe(Vl())}function S3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return he(!0);let o=i.map(s=>{let a=Ul(s,n),c=p3(a)?a.canLoad(e,t):wr(n,()=>a(e,t));return Ts(c)});return he(o).pipe(Vl(),PN(r))}function PN(n){return E_(Ot(e=>{if(typeof e!="boolean")throw _g(n,e)}),Ee(e=>e===!0))}function R3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return he(!0);let o=i.map(s=>{let a=Ul(s,n),c=v3(a)?a.canMatch(e,t):wr(n,()=>a(e,t));return Ts(c)});return he(o).pipe(Vl(),PN(r))}var Zd=class{constructor(e){this.segmentGroup=e||null}},Jd=class extends Error{constructor(e){super(),this.urlTree=e}};function Rl(n){return el(new Zd(n))}function x3(n){return el(new se(4e3,!1))}function N3(n){return el(xN(!1,dr.GuardRejected))}var Fb=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return he(r);if(i.numberOfChildren>1||!i.children[Ce])return x3(`${e.redirectTo}`);i=i.children[Ce]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:p,url:m,outlet:_,params:w,data:N,title:O}=i,M=wr(o,()=>a({params:w,data:N,queryParams:c,fragment:u,routeConfig:p,url:m,outlet:_,title:O}));if(M instanceof so)throw new Jd(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Jd(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new so(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new se(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Vb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function M3(n,e,t,r,i){let o=ON(n,e,t);return o.matched?(r=t3(e,r),R3(r,e,t,i).pipe(Ee(s=>s===!0?o:q({},Vb)))):he(o)}function ON(n,e,t){if(e.path==="**")return P3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?q({},Vb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RH)(t,n,e);if(!i)return q({},Vb);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function P3(n){return{matched:!0,parameters:n.length>0?fN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function aN(n,e,t,r){return t.length>0&&L3(n,t,r)?{segmentGroup:new Ye(e,k3(r,new Ye(t,n.children))),slicedSegments:[]}:t.length===0&&F3(n,t,r)?{segmentGroup:new Ye(n.segments,O3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:t}}function O3(n,e,t,r){let i={};for(let o of t)if(Ig(n,e,o)&&!r[zr(o)]){let s=new Ye([],{});i[zr(o)]=s}return q(q({},r),i)}function k3(n,e){let t={};t[Ce]=e;for(let r of n)if(r.path===""&&zr(r)!==Ce){let i=new Ye([],{});t[zr(r)]=i}return t}function L3(n,e,t){return t.some(r=>Ig(n,e,r)&&zr(r)!==Ce)}function F3(n,e,t){return t.some(r=>Ig(n,e,r))}function Ig(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function V3(n,e,t){return e.length===0&&!n.children[t]}var Ub=class{};function U3(n,e,t,r,i,o,s="emptyOnly"){return new jb(n,e,t,r,i,s,o).recognize()}var j3=31,jb=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new se(4002,`'${e.segmentGroup}'`)}recognize(){let e=aN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:t,rootSnapshot:r})=>{let i=new ur(r,t),o=new vg("",i),s=KH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ml([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ce,t).pipe(Ee(r=>({children:r,rootSnapshot:t})),ts(r=>{if(r instanceof Jd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ee(s=>s instanceof ur?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ot(o).pipe($i(s=>{let a=r.children[s],c=n3(t,s);return this.processSegmentGroup(e,c,a,s,i)}),P_((s,a)=>(s.push(...a),s)),ns(null),M_(),Pt(s=>{if(s===null)return Rl(r);let a=kN(s);return B3(a),he(a)}))}processSegment(e,t,r,i,o,s,a){return ot(t).pipe($i(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ts(u=>{if(u instanceof Zd)return he(null);throw u}))),ai(c=>!!c),ts(c=>{if(MN(c))return V3(r,i,o)?he(new Ub):Rl(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return zr(r)!==s&&(s===Ce||!Ig(i,o,r))?Rl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Rl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:p,positionalParamSegments:m,remainingSegments:_}=ON(t,i,o);if(!c)return Rl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>j3&&(this.allowRedirects=!1));let w=new Ml(o,u,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,cN(i),zr(i),i.component??i._loadedComponent??null,i,lN(i)),N=yg(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,w,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(Pt(M=>this.processSegment(e,r,t,M.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=M3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(zn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zn(({routes:u})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:w}=c,N=new Ml(_,m,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,cN(r),zr(r),r.component??r._loadedComponent??null,r,lN(r)),O=yg(N,s,this.paramsInheritanceStrategy);N.params=Object.freeze(O.params),N.data=Object.freeze(O.data);let{segmentGroup:M,slicedSegments:U}=aN(t,_,w,u);if(U.length===0&&M.hasChildren())return this.processChildren(p,u,M,N).pipe(Ee($=>new ur(N,$)));if(u.length===0&&U.length===0)return he(new ur(N,[]));let W=zr(r)===o;return this.processSegment(p,u,M,U,W?Ce:o,!0,N).pipe(Ee($=>new ur(N,$ instanceof ur?[$]:[])))}))):Rl(t)))}getChildConfig(e,t,r){return t.children?he({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?he({routes:t._loadedRoutes,injector:t._loadedInjector}):S3(e,t,r,this.urlSerializer).pipe(Pt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):N3(t))):he({routes:[],injector:e})}};function B3(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}function $3(n){let e=n.value.routeConfig;return e&&e.path===""}function kN(n){let e=[],t=new Set;for(let r of n){if(!$3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=kN(r.children);e.push(new ur(r.value,i))}return e.filter(r=>!t.has(r))}function cN(n){return n.data||{}}function lN(n){return n.resolve||{}}function H3(n,e,t,r,i,o){return Pt(s=>U3(n,e,t,r,s.extractedUrl,i,o).pipe(Ee(({state:a,tree:c})=>De(q({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function z3(n,e){return Pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of LN(c))s.add(u);let a=0;return ot(s).pipe($i(c=>o.has(c)?q3(c,r,n,e):(c.data=yg(c,c.parent,n).resolve,he(void 0))),Ot(()=>a++),rl(1),Pt(c=>a===s.size?he(t):cr))})}function LN(n){let e=n.children.map(t=>LN(t)).flat();return[n,...e]}function q3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!SN(i)&&(o[eh]=i.title),G3(o,n,e,r).pipe(Ee(s=>(n._resolvedData=s,n.data=yg(n,n.parent,t).resolve,null)))}function G3(n,e,t,r){let i=yb(n);if(i.length===0)return he({});let o={};return ot(i).pipe(Pt(s=>W3(n[s],e,t,r).pipe(ai(),Ot(a=>{if(a instanceof Yd)throw _g(new kl,a);o[s]=a}))),rl(1),N_(o),ts(s=>MN(s)?cr:el(s)))}function W3(n,e,t,r){let i=nh(e)??r,o=Ul(n,i),s=o.resolve?o.resolve(e,t):wr(i,()=>o(e,t));return Ts(s)}function mb(n){return zn(e=>{let t=n(e);return t?ot(t).pipe(Ee(()=>e)):he(e)})}var FN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ce);return r}getResolvedTitleForRoute(t){return t.data[eh]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(K3),providedIn:"root"})}}return n})(),K3=(()=>{class n extends FN{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ne(tN))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sh=new J("",{providedIn:"root",factory:()=>({})}),Q3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[ih],encapsulation:2})}}return n})();function Hb(n){let e=n.children&&n.children.map(Hb),t=e?De(q({},n),{children:e}):q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=Q3),t}var Xd=new J(""),zb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(Qm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return he(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ts(t.loadComponent()).pipe(Ee(VN),Ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Aa(()=>{this.componentLoaders.delete(t)})),i=new Yc(r,()=>new _t).pipe(Qc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Y3(r,this.compiler,t,this.onLoadEndListener).pipe(Aa(()=>{this.childrenLoaders.delete(r)})),s=new Yc(o,()=>new _t).pipe(Qc());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y3(n,e,t,r){return Ts(n.loadChildren()).pipe(Ee(VN),Pt(i=>i instanceof Dd||Array.isArray(i)?he(i):ot(e.compileModuleAsync(i))),Ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hb),injector:o}}))}function Z3(n){return n&&typeof n=="object"&&"default"in n}function VN(n){return Z3(n)?n.default:n}var qb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(J3),providedIn:"root"})}}return n})(),J3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UN=new J(""),jN=new J("");function X3(n,e,t){let r=n.get(jN),i=n.get(Cn);return n.get(Me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),e4(n))),{onViewTransitionCreated:c}=r;return c&&wr(n,()=>c({transition:a,from:e,to:t})),s})}function e4(n){return new Promise(e=>{VE({read:()=>setTimeout(e)},{injector:n})})}var t4=new J(""),Gb=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.transitionAbortSubject=new _t,this.configLoader=G(zb),this.environmentInjector=G(On),this.urlSerializer=G(th),this.rootContexts=G(rh),this.location=G(Sl),this.inputBindingEnabled=G(bg,{optional:!0})!==null,this.titleStrategy=G(FN),this.options=G(sh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(qb),this.createViewTransition=G(UN,{optional:!0}),this.navigationErrorHandler=G(t4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Tb(i)),r=i=>this.events.next(new Db(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(De(q(q({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:zd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(o=>o.id!==0),Ee(o=>De(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zn(o=>{let s=!1,a=!1;return he(o).pipe(zn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",dr.SupersededByNewNavigation),cr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&p!=="reload"){let m="";return this.events.next(new Is(c.id,this.urlSerializer.serialize(c.rawUrl),m,hg.IgnoredSameUrlNavigation)),c.resolve(!1),cr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return he(c).pipe(zn(m=>{let _=this.transitions?.getValue();return this.events.next(new Ll(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?cr:Promise.resolve(m)}),H3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ot(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=De(q({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new fg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:_,source:w,restoredState:N,extras:O}=c,M=new Ll(m,this.urlSerializer.serialize(_),w,N);this.events.next(M);let U=DN(this.rootComponentType).snapshot;return this.currentTransition=o=De(q({},c),{targetSnapshot:U,urlAfterRedirects:_,extras:De(q({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,he(o)}else{let m="";return this.events.next(new Is(c.id,this.urlSerializer.serialize(c.extractedUrl),m,hg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),cr}}),Ot(c=>{let u=new Eb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ee(c=>(this.currentTransition=o=De(q({},c),{guards:l3(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),w3(this.environmentInjector,c=>this.events.next(c)),Ot(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw _g(this.urlSerializer,c.guardsResult);let u=new bb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),vn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",dr.GuardRejected),!1)),mb(c=>{if(c.guards.canActivateChecks.length)return he(c).pipe(Ot(u=>{let p=new Ib(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),zn(u=>{let p=!1;return he(u).pipe(z3(this.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(u,"",dr.NoDataFromResolver)}}))}),Ot(u=>{let p=new Cb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),mb(c=>{let u=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ot(_=>{p.component=_}),Ee(()=>{})));for(let _ of p.children)m.push(...u(_));return m};return md(u(c.targetSnapshot.root)).pipe(ns(null),Hi(1))}),mb(()=>this.afterPreactivation()),zn(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return p?ot(p).pipe(Ee(()=>o)):he(o)}),Ee(c=>{let u=i3(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=De(q({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ot(()=>{this.events.next(new Kd)}),c3(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hi(1),Ot({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),k_(this.transitionAbortSubject.pipe(Ot(c=>{throw c}))),Aa(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",dr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ts(c=>{if(a=!0,NN(c))this.events.next(new oo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),a3(c)?this.events.next(new Fl(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Wd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let p=wr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(p instanceof Yd){let{message:m,cancellationCode:_}=_g(this.urlSerializer,p);this.events.next(new oo(o.id,this.urlSerializer.serialize(o.extractedUrl),m,_)),this.events.next(new Fl(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(u);let m=t.errorHandler(c);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return cr}))}))}cancelNavigationTransition(t,r,i){let o=new oo(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function n4(n){return n!==zd}var r4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(i4),providedIn:"root"})}}return n})(),Bb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},i4=(()=>{class n extends Bb{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:()=>G(o4),providedIn:"root"})}}return n})(),o4=(()=>{class n extends BN{constructor(){super(...arguments),this.location=G(Sl),this.urlSerializer=G(th),this.options=G(sh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(qb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new so,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ll)this.stateMemento=this.createStateMemento();else if(t instanceof Is)this.rawUrlTree=r.initialUrl;else if(t instanceof fg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Kd?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof oo&&(t.code===dr.GuardRejected||t.code===dr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wd?this.restoreHistory(r,!0):t instanceof yi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof so?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=q(q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=q(q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$d=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($d||{});function $N(n,e){n.events.pipe(vn(t=>t instanceof yi||t instanceof oo||t instanceof Wd||t instanceof Is),Ee(t=>t instanceof yi||t instanceof Is?$d.COMPLETE:(t instanceof oo?t.code===dr.Redirect||t.code===dr.SupersededByNewNavigation:!1)?$d.REDIRECTING:$d.FAILED),vn(t=>t!==$d.REDIRECTING),Hi(1)).subscribe(()=>{e()})}function s4(n){throw n}var a4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ln=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=G(Wm),this.stateManager=G(BN),this.options=G(sh,{optional:!0})||{},this.pendingTasks=G(ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G(Gb),this.urlSerializer=G(th),this.location=G(Sl),this.urlHandlingStrategy=G(qb),this._events=new _t,this.errorHandler=this.options.errorHandler||s4,this.navigated=!1,this.routeReuseStrategy=G(r4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(bg,{optional:!0}),this.eventsSubscription=new vt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof oo&&r.code!==dr.Redirect&&r.code!==dr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yi)this.navigated=!0;else if(r instanceof Fl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||n4(i.source)},s);this.scheduleNavigation(a,zd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}u4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=q({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Hb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=i?i.snapshot:this.routerState.snapshot.root;m=bN(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return IN(m,t,p,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zd,null,r)}navigate(t,r={skipLocationChange:!1}){return l4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=q({},a4):r===!1?i=q({},c4):i=r,qa(t))return nN(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((m,_)=>{a=m,c=_});let p=this.pendingTasks.add();return $N(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function l4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new se(4008,!1)}function u4(n){return!(n instanceof Kd)&&!(n instanceof Fl)}var Ds=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new _t,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof yi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qa(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:_R(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:qa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Y(Ln),Y(Cs),pE("tabindex"),Y(Ji),Y(kn),Y(ro))}}static{this.\u0275dir=st({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&we("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Tl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$a],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$a],replaceUrl:[2,"replaceUrl","replaceUrl",$a],routerLink:"routerLink"},standalone:!0,features:[FE,Yi]})}}return n})();var Eg=class{};var d4=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof yi),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$m(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ot(i).pipe(tl())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=he(null);let o=i.pipe(Pt(s=>s===null?he(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ot([o,s]).pipe(tl())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(ne(Ln),ne(Qm),ne(On),ne(Eg),ne(zb))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HN=new J(""),h4=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Is&&t.code===hg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pg&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pg(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){NR()}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();function zN(n,...e){return Yn([{provide:Xd,multi:!0,useValue:n},[],{provide:Cs,useFactory:qN,deps:[Ln]},{provide:Md,multi:!0,useFactory:GN},e.map(t=>t.\u0275providers)])}function qN(n){return n.routerState.root}function ah(n,e){return{\u0275kind:n,\u0275providers:e}}function GN(){let n=G(Qt);return e=>{let t=n.get(gs);if(e!==t.components[0])return;let r=n.get(Ln),i=n.get(WN);n.get(Wb)===1&&r.initialNavigation(),n.get(KN,null,Ae.Optional)?.setUpPreloading(),n.get(HN,null,Ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WN=new J("",{factory:()=>new _t}),Wb=new J("",{providedIn:"root",factory:()=>1});function f4(){return ah(2,[{provide:Wb,useValue:0},{provide:Km,multi:!0,deps:[Qt],useFactory:e=>{let t=e.get(Nx,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ln),o=e.get(WN);$N(i,()=>{r(!0)}),e.get(Gb).afterPreactivation=()=>(r(!0),o.closed?he(void 0):o),i.initialNavigation()}))}}])}function p4(){return ah(3,[{provide:Km,multi:!0,useFactory:()=>{let e=G(Ln);return()=>{e.setUpLocationChangeListener()}}},{provide:Wb,useValue:2}])}var KN=new J("");function m4(n){return ah(0,[{provide:KN,useExisting:d4},{provide:Eg,useExisting:n}])}function g4(){return ah(8,[sN,{provide:bg,useExisting:sN}])}function y4(n){let e=[{provide:UN,useValue:X3},{provide:jN,useValue:q({skipNextTransition:!!n?.skipInitialTransition},n)}];return ah(9,e)}var uN=new J("ROUTER_FORROOT_GUARD"),v4=[Sl,{provide:th,useClass:kl},Ln,rh,{provide:Cs,useFactory:qN,deps:[Ln]},zb,[]],As=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[v4,[],{provide:Xd,multi:!0,useValue:t},{provide:uN,useFactory:b4,deps:[[Ln,new Dt,new eE]]},{provide:sh,useValue:r||{}},r?.useHash?w4():E4(),_4(),r?.preloadingStrategy?m4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?I4(r):[],r?.bindToComponentInputs?g4().\u0275providers:[],r?.enableViewTransitions?y4().\u0275providers:[],C4()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ne(uN,8))}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})();function _4(){return{provide:HN,useFactory:()=>{let n=G(kx),e=G(Me),t=G(sh),r=G(Gb),i=G(th);return t.scrollOffset&&n.setOffset(t.scrollOffset),new h4(i,r,n,e,t)}}}function w4(){return{provide:ro,useClass:Px}}function E4(){return{provide:ro,useClass:ZE}}function b4(n){return"guarded"}function I4(n){return[n.initialNavigation==="disabled"?p4().\u0275providers:[],n.initialNavigation==="enabledBlocking"?f4().\u0275providers:[]]}var dN=new J("");function C4(){return[{provide:dN,useFactory:GN},{provide:Md,multi:!0,useExisting:dN}]}var Cg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[Je],decls:12,vars:0,consts:[[1,"container-fluid"],[1,"jumbotron","p-3","p-md-5","text-white","rounded"],[1,"col-md-6","px-0","texto"],[1,"display-4","font-italic"],[1,"lead","my-3"],[1,"opciones"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/opciones-registro",1,"btn","btn-danger"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),F(4,"Bienvenido al sitio web de la Clinica OnLine"),A(),R(5,"p",4),F(6,"Contamos 6 consultorios, 2 laboratorios fisicos y una sala de espera general. Estamos abiertos de Lunes a Viernes de 08:00hs a 19:00hs y los Sabados de 08:00hs a 14:00hs"),A()(),R(7,"div",5)(8,"button",6),F(9,"Ingresar"),A(),R(10,"button",7),F(11,"Registrarse"),A()()()())},dependencies:[As,Ds],styles:[".container-fluid[_ngcontent-%COMP%]{width:100vw;height:94.5vh;background-image:url(/assets/images/hospital-bienvenida.jpg);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;align-items:center;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]{height:80%;background-color:#ffffffcb;display:flex}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c8ab3;font-size:75px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:35px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]{width:50%;display:flex;flex-wrap:wrap;justify-content:center;align-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px;width:80%;height:15%}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2c8ab3;border-color:#2c8ab3}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4190b2}"]})};var YN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,_=(a&15)<<2|u>>6,w=u&63;c||(w=64,s||(_=64)),r.push(t[p],t[m],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new Qb;let _=o<<2|a>>4;if(r.push(_),u!==64){let w=a<<4&240|u>>2;if(r.push(w),m!==64){let N=u<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Qb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},D4=function(n){let e=YN(n);return ZN.encodeByteArray(e,!0)},lh=function(n){return D4(n).replace(/\./g,"")},Zb=function(n){try{return ZN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var S4=()=>A4().__FIREBASE_DEFAULTS__,R4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},x4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zb(n[1]);return e&&JSON.parse(e)},Dg=()=>{try{return S4()||R4()||x4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jb=n=>{var e,t;return(t=(e=Dg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ag=n=>{let e=Jb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Xb=()=>{var n;return(n=Dg())===null||n===void 0?void 0:n.config},e0=n=>{var e;return(e=Dg())===null||e===void 0?void 0:e[`_${n}`]};var Tg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Sg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(s)),""].join(".")}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function N4(){var n;let e=(n=Dg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nM(){let n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rM(){return!N4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t0(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var M4="FirebaseError",Fn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=M4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ao.prototype.create)}},ao=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?P4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fn(i,a,r)}};function P4(n,e){return n.replace(O4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var O4=/\{\$([^}]+)}/g;function oM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ga(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QN(o)&&QN(s)){if(!Ga(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QN(n){return n!==null&&typeof n=="object"}function uh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sM(n,e){let t=new Yb(n,e);return t.subscribe.bind(t)}var Yb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Kb),i.error===void 0&&(i.error=Kb),i.complete===void 0&&(i.complete=Kb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function k4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kb(){}var Loe=4*60*60*1e3;function Lt(n){return n&&n._delegate?n._delegate:n}var Xn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wa="[DEFAULT]";var n0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Tg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F4(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L4(n){return n===Wa?void 0:n}function F4(n){return n.instantiationMode==="EAGER"}var Rg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new n0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var V4=[],Oe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Oe||{}),U4={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},j4=Oe.INFO,B4={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},$4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=B4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ss=class{constructor(e){this.name=e,this._logLevel=j4,this._logHandler=$4,this._userLogHandler=null,V4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var H4=(n,e)=>e.some(t=>n instanceof t),aM,cM;function z4(){return aM||(aM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q4(){return cM||(cM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lM=new WeakMap,i0=new WeakMap,uM=new WeakMap,r0=new WeakMap,s0=new WeakMap;function G4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(vi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&lM.set(t,n)}).catch(()=>{}),s0.set(e,n),e}function W4(n){if(i0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});i0.set(n,e)}var o0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return i0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dM(n){o0=n(o0)}function K4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xg(this),e,...t);return uM.set(r,e.sort?e.sort():[e]),vi(r)}:q4().includes(n)?function(...e){return n.apply(xg(this),e),vi(lM.get(this))}:function(...e){return vi(n.apply(xg(this),e))}}function Q4(n){return typeof n=="function"?K4(n):(n instanceof IDBTransaction&&W4(n),H4(n,z4())?new Proxy(n,o0):n)}function vi(n){if(n instanceof IDBRequest)return G4(n);if(r0.has(n))return r0.get(n);let e=Q4(n);return e!==n&&(r0.set(n,e),s0.set(e,n)),e}var xg=n=>s0.get(n);function fM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=vi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(vi(s.result),c.oldVersion,c.newVersion,vi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Y4=["get","getKey","getAll","getAllKeys","count"],Z4=["put","add","delete","clear"],a0=new Map;function hM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(a0.get(e))return a0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Z4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y4.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return a0.set(e,o),o}dM(n=>De(q({},n),{get:(e,t,r)=>hM(e,t)||n.get(e,t,r),has:(e,t)=>!!hM(e,t)||n.has(e,t)}));var l0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function J4(n){let e=n.getComponent();return e?.type==="VERSION"}var u0="@firebase/app",pM="0.10.13";var co=new Ss("@firebase/app"),X4="@firebase/app-compat",ez="@firebase/analytics-compat",tz="@firebase/analytics",nz="@firebase/app-check-compat",rz="@firebase/app-check",iz="@firebase/auth",oz="@firebase/auth-compat",sz="@firebase/database",az="@firebase/data-connect",cz="@firebase/database-compat",lz="@firebase/functions",uz="@firebase/functions-compat",dz="@firebase/installations",hz="@firebase/installations-compat",fz="@firebase/messaging",pz="@firebase/messaging-compat",mz="@firebase/performance",gz="@firebase/performance-compat",yz="@firebase/remote-config",vz="@firebase/remote-config-compat",_z="@firebase/storage",wz="@firebase/storage-compat",Ez="@firebase/firestore",bz="@firebase/vertexai-preview",Iz="@firebase/firestore-compat",Cz="firebase",Tz="10.14.1";var d0="[DEFAULT]",Dz={[u0]:"fire-core",[X4]:"fire-core-compat",[tz]:"fire-analytics",[ez]:"fire-analytics-compat",[rz]:"fire-app-check",[nz]:"fire-app-check-compat",[iz]:"fire-auth",[oz]:"fire-auth-compat",[sz]:"fire-rtdb",[az]:"fire-data-connect",[cz]:"fire-rtdb-compat",[lz]:"fire-fn",[uz]:"fire-fn-compat",[dz]:"fire-iid",[hz]:"fire-iid-compat",[fz]:"fire-fcm",[pz]:"fire-fcm-compat",[mz]:"fire-perf",[gz]:"fire-perf-compat",[yz]:"fire-rc",[vz]:"fire-rc-compat",[_z]:"fire-gcs",[wz]:"fire-gcs-compat",[Ez]:"fire-fst",[Iz]:"fire-fst-compat",[bz]:"fire-vertex","fire-js":"fire-js",[Cz]:"fire-js-all"};var dh=new Map,Az=new Map,h0=new Map;function mM(n,e){try{n.container.addComponent(e)}catch(t){co.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _i(n){let e=n.name;if(h0.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,n);for(let t of dh.values())mM(t,n);for(let t of Az.values())mM(t,n);return!0}function Ka(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qr(n){return n.settings!==void 0}var Sz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new ao("app","Firebase",Sz);var f0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}};var wi=Tz;function g0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:d0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Rs.create("bad-app-name",{appName:String(i)});if(t||(t=Xb()),!t)throw Rs.create("no-options");let o=dh.get(i);if(o){if(Ga(t,o.options)&&Ga(r,o.config))return o;throw Rs.create("duplicate-app",{appName:i})}let s=new Rg(i);for(let c of h0.values())s.addComponent(c);let a=new f0(t,r,s);return dh.set(i,a),a}function xs(n=d0){let e=dh.get(n);if(!e&&n===d0&&Xb())return g0();if(!e)throw Rs.create("no-app",{appName:n});return e}function Ng(){return Array.from(dh.values())}function at(n,e,t){var r;let i=(r=Dz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(a.join(" "));return}_i(new Xn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Rz="firebase-heartbeat-database",xz=1,hh="firebase-heartbeat-store",c0=null;function _M(){return c0||(c0=fM(Rz,xz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rs.create("idb-open",{originalErrorMessage:n.message})})),c0}function Nz(n){return C(this,null,function*(){try{let t=(yield _M()).transaction(hh),r=yield t.objectStore(hh).get(wM(n));return yield t.done,r}catch(e){if(e instanceof Fn)co.warn(e.message);else{let t=Rs.create("idb-get",{originalErrorMessage:e?.message});co.warn(t.message)}}})}function gM(n,e){return C(this,null,function*(){try{let r=(yield _M()).transaction(hh,"readwrite");yield r.objectStore(hh).put(e,wM(n)),yield r.done}catch(t){if(t instanceof Fn)co.warn(t.message);else{let r=Rs.create("idb-set",{originalErrorMessage:t?.message});co.warn(r.message)}}})}function wM(n){return`${n.name}!${n.options.appId}`}var Mz=1024,Pz=30*24*60*60*1e3,p0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new m0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Pz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){co.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=yM(),{heartbeatsToSend:r,unsentEntries:i}=Oz(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return co.warn(t),""}})}};function yM(){return new Date().toISOString().substring(0,10)}function Oz(n,e=Mz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var m0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return t0()?iM().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Nz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vM(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function kz(n){_i(new Xn("platform-logger",e=>new l0(e),"PRIVATE")),_i(new Xn("heartbeat",e=>new p0(e),"PRIVATE")),at(u0,pM,n),at(u0,pM,"esm2017"),at("fire-js","")}kz("");var Lz="firebase",Fz="10.14.1";at(Lz,Fz,"app");var lo=new Wi("ANGULARFIRE2_VERSION");function Hl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ya=(n,e)=>{let t=e?[e]:Ng(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=class{constructor(){return Ya(Vz)}},Vz="app-check";function $l(){}var Mg=class{zone;delegate;constructor(e,t=A_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},y0=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)),t.pipe(Ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ms=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Mg(Zone.current)),this.insideAngular=t.run(()=>new Mg(Zone.current,D_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ne(Me))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Uz(n){return Pg().ngZone.runOutsideAngular(()=>n())}function Qa(n){return Pg().ngZone.run(()=>n())}function jz(n){return Bz(Pg())(n)}function Bz(n){return function(t){return t=t.lift(new y0(n.ngZone)),t.pipe(es(n.outsideAngular),Xo(n.insideAngular))}}var $z=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Qa(()=>n.apply(void 0,r))},Yt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Qa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l))),r[o]=$z(r[o],t));let i=Uz(()=>n.apply(this,r));if(!e)if(i instanceof Ne){let o=Pg();return i.pipe(es(o.outsideAngular),Xo(o.insideAngular))}else return Qa(()=>i);return i instanceof Ne?i.pipe(jz):i instanceof Promise?Qa(()=>new Promise((o,s)=>i.then(a=>Qa(()=>o(a)),a=>Qa(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Qa(()=>i)};var Gr=class{constructor(e){return e}},uo=class{constructor(){return Ng()}};function Hz(n){return n&&n.length===1?n[0]:new Gr(xs())}var v0=new J("angularfire2._apps"),zz={provide:Gr,useFactory:Hz,deps:[[new Dt,v0]]},qz={provide:uo,deps:[[new Dt,v0]]};function Gz(n){return(e,t)=>{let r=t.get(Zn);at("angularfire",lo.full,"core"),at("angularfire",lo.full,"app"),at("angular",gx.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Gr(i)}}function EM(n,...e){return Yn([zz,qz,{provide:v0,useFactory:Gz(n),multi:!0,deps:[Me,Qt,Ms,...e]}])}var bM=Yt(g0,!0);function UM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jM=UM,BM=new ao("auth","Firebase",UM());var Ug=new Ss("@firebase/auth");function Wz(n,...e){Ug.logLevel<=Oe.WARN&&Ug.warn(`Auth (${wi}): ${n}`,...e)}function kg(n,...e){Ug.logLevel<=Oe.ERROR&&Ug.error(`Auth (${wi}): ${n}`,...e)}function bi(n,...e){throw B0(n,...e)}function Za(n,...e){return B0(n,...e)}function $M(n,e,t){let r=Object.assign(Object.assign({},jM()),{[e]:t});return new ao("auth","Firebase",r).create(e,{appName:n.name})}function po(n){return $M(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BM.create(n,...e)}function fe(n,e,...t){if(!n)throw B0(e,...t)}function ho(n){let e="INTERNAL ASSERTION FAILED: "+n;throw kg(e),new Error(e)}function Os(n,e){n||ho(e)}function b0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Kz(){return IM()==="http:"||IM()==="https:"}function IM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Qz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kz()||eM()||"connection"in navigator)?navigator.onLine:!0}function Yz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ja=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Os(t>e,"Short delay should be less than long delay!"),this.isMobile=JN()||tM()}get(){return Qz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $0(n,e){Os(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var jg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Zz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Jz=new Ja(3e4,6e4);function mo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function go(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){return HM(n,i,()=>C(this,null,function*(){let u={},p={};r&&(e==="GET"?p=r:u={body:JSON.stringify(r)});let m=uh(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:_},u);return XN()||(w.referrerPolicy="no-referrer"),jg.fetch()(zM(n,n.config.apiHost,t,m),w)}))})}function HM(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Zz),e);try{let i=new I0(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Og(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Og(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Og(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Og(n,"user-disabled",s);let p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $M(n,p,u);bi(n,p)}}catch(i){if(i instanceof Fn)throw i;bi(n,"network-request-failed",{message:String(i)})}})}function wh(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){let u=yield go(n,e,t,r,i);return"mfaPendingCredential"in u&&bi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function zM(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?$0(n.config,i):`${n.config.apiScheme}://${i}`}function Xz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var I0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Za(this.auth,"network-request-failed")),Jz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Og(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Za(n,e,r);return i.customData._tokenResponse=t,i}function CM(n){return n!==void 0&&n.enterprise!==void 0}var C0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function eq(n,e){return C(this,null,function*(){return go(n,"GET","/v2/recaptchaConfig",mo(n,e))})}function tq(n,e){return C(this,null,function*(){return go(n,"POST","/v1/accounts:delete",e)})}function qM(n,e){return C(this,null,function*(){return go(n,"POST","/v1/accounts:lookup",e)})}function fh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function H0(n,e=!1){return C(this,null,function*(){let t=Lt(n),r=yield t.getIdToken(e),i=z0(r);fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fh(_0(i.auth_time)),issuedAtTime:fh(_0(i.iat)),expirationTime:fh(_0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _0(n){return Number(n)*1e3}function z0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return kg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zb(t);return i?JSON.parse(i):(kg("Failed to decode base64 JWT payload"),null)}catch(i){return kg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TM(n){let e=z0(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mh(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Fn&&nq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function nq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var T0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bg(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield mh(n,qM(t,{idToken:r}));fe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GM(o.providerUserInfo):[],a=rq(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,p=c?u:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function q0(n){return C(this,null,function*(){let e=Lt(n);yield Bg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GM(n){return n.map(e=>{var{providerId:t}=e,r=S_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iq(n,e){return C(this,null,function*(){let t=yield HM(n,{},()=>C(this,null,function*(){let r=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=zM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jg.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function oq(n,e){return C(this,null,function*(){return go(n,"POST","/v2/accounts:revokeToken",mo(n,e))})}var ph=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");let t=TM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield iq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ho("not implemented")}};function Ps(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var zl=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=S_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield mh(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return H0(this,e)}reload(){return q0(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Bg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(qr(this.auth.app))return Promise.reject(po(this.auth));let e=yield this.getIdToken();return yield mh(this,tq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,U=(u=t.createdAt)!==null&&u!==void 0?u:void 0,W=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:z,isAnonymous:ee,providerData:Q,stsTokenManager:D}=t;fe($&&D,e,"internal-error");let b=ph.fromJSON(this.name,D);fe(typeof $=="string",e,"internal-error"),Ps(m,e.name),Ps(_,e.name),fe(typeof z=="boolean",e,"internal-error"),fe(typeof ee=="boolean",e,"internal-error"),Ps(w,e.name),Ps(N,e.name),Ps(O,e.name),Ps(M,e.name),Ps(U,e.name),Ps(W,e.name);let I=new n({uid:$,auth:e,email:_,emailVerified:z,displayName:m,isAnonymous:ee,photoURL:N,phoneNumber:w,tenantId:O,stsTokenManager:b,createdAt:U,lastLoginAt:W});return Q&&Array.isArray(Q)&&(I.providerData=Q.map(S=>Object.assign({},S))),M&&(I._redirectEventId=M),I}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new ph;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];fe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ph;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var DM=new Map;function fo(n){Os(n instanceof Function,"Expected a class definition");let e=DM.get(n);return e?(Os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DM.set(n,e),e)}var sq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),D0=sq;function Lg(n,e,t){return`firebase:${n}:${e}:${t}`}var $g=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Lg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?zl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(fo(D0),e,r);let i=(yield Promise.all(t.map(u=>C(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||fo(D0),s=Lg(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let p=yield u._get(s);if(p){let m=zl._fromJSON(e,p);u!==o&&(a=m),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>C(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function AM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JM(e))return"Blackberry";if(XM(e))return"Webos";if(KM(e))return"Safari";if((e.includes("chrome/")||QM(e))&&!e.includes("edge/"))return"Chrome";if(ZM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function WM(n=rn()){return/firefox\//i.test(n)}function KM(n=rn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QM(n=rn()){return/crios\//i.test(n)}function YM(n=rn()){return/iemobile/i.test(n)}function ZM(n=rn()){return/android/i.test(n)}function JM(n=rn()){return/blackberry/i.test(n)}function XM(n=rn()){return/webos/i.test(n)}function G0(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aq(n=rn()){var e;return G0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cq(){return nM()&&document.documentMode===10}function eP(n=rn()){return G0(n)||ZM(n)||XM(n)||JM(n)||/windows phone/i.test(n)||YM(n)}function tP(n,e=[]){let t;switch(n){case"Browser":t=AM(rn());break;case"Worker":t=`${AM(rn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wi}/${r}`}var A0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lq(t){return C(this,arguments,function*(n,e={}){return go(n,"GET","/v2/passwordPolicy",mo(n,e))})}var uq=6,S0=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:uq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var R0=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hg(this),this.idTokenSubscription=new Hg(this),this.beforeStateQueue=new A0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fo(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield $g.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield qM(this,{idToken:e}),r=yield zl._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(qr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Bg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Yz()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(qr(this.app))return Promise.reject(po(this));let t=e?Lt(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return qr(this.app)?Promise.reject(po(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qr(this.app)?Promise.reject(po(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield lq(this),t=new S0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ao("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield oq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fo(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=yield $g.create(this,[fo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Wz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ec(n){return Lt(n)}var Hg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sM(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yg={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dq(n){Yg=n}function nP(n){return Yg.loadJS(n)}function hq(){return Yg.recaptchaEnterpriseScript}function fq(){return Yg.gapiScript}function rP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var pq="recaptcha-enterprise",mq="NO_RECAPTCHA",x0=class{constructor(e){this.type=pq,this.auth=ec(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){eq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new C0(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;CM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(mq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&CM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hq();c.length!==0&&(c+=a),nP(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function SM(n,e,t,r=!1){return C(this,null,function*(){let i=new x0(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function N0(n,e,t,r){return C(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield SM(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield SM(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function W0(n,e){let t=Ka(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ga(o,e??{}))return i;bi(i,"already-initialized")}return t.initialize({options:e})}function gq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function K0(n,e,t){let r=ec(n);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=iP(e),{host:s,port:a}=yq(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vq()}function iP(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yq(n){let e=iP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:RM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:RM(s)}}}function RM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function vq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var yh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ho("not implemented")}_getIdTokenResponse(e){return ho("not implemented")}_linkToIdToken(e,t){return ho("not implemented")}_getReauthenticationResolver(e){return ho("not implemented")}};function _q(n,e){return C(this,null,function*(){return go(n,"POST","/v1/accounts:signUp",e)})}function wq(n,e){return C(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithPassword",mo(n,e))})}function Eq(n,e){return C(this,null,function*(){return go(n,"POST","/v1/accounts:sendOobCode",mo(n,e))})}function bq(n,e){return C(this,null,function*(){return Eq(n,e)})}function Iq(n,e){return C(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithEmailLink",mo(n,e))})}function Cq(n,e){return C(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithEmailLink",mo(n,e))})}var vh=class n extends yh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N0(e,t,"signInWithPassword",wq);case"emailLink":return Iq(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N0(e,r,"signUpPassword",_q);case"emailLink":return Cq(e,{idToken:t,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function w0(n,e){return C(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithIdp",mo(n,e))})}function Tq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dq(n){let e=jl(Bl(n)).link,t=e?jl(Bl(e)).deep_link_id:null,r=jl(Bl(n)).deep_link_id;return(r?jl(Bl(r)).link:null)||r||t||e||n}var zg=class n{constructor(e){var t,r,i,o,s,a;let c=jl(Bl(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Tq((i=c.mode)!==null&&i!==void 0?i:null);fe(u&&p&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=p,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Dq(e);try{return new n(t)}catch{return null}}};var oP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return vh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=zg.parseLink(r);return fe(i,"argument-error"),vh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),qg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var M0=class extends qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Aq(n,e){return C(this,null,function*(){return wh(n,"POST","/v1/accounts:signUp",mo(n,e))})}var ql=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield zl._fromIdTokenResponse(e,r,i),s=xM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function xM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var P0=class n extends Fn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function sP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?P0._fromErrorAndOperation(n,o,e,r):o})}function Sq(n,e,t=!1){return C(this,null,function*(){let r=yield mh(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ql._forOperation(n,"link",r)})}function Rq(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(qr(r.app))return Promise.reject(po(r));let i="reauthenticate";try{let o=yield mh(n,sP(r,i,e,n),t);fe(o.idToken,r,"internal-error");let s=z0(o.idToken);fe(s,r,"internal-error");let{sub:a}=s;return fe(n.uid===a,r,"user-mismatch"),ql._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&bi(r,"user-mismatch"),o}})}function aP(n,e,t=!1){return C(this,null,function*(){if(qr(n.app))return Promise.reject(po(n));let r="signIn",i=yield sP(n,r,e),o=yield ql._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Q0(n,e){return C(this,null,function*(){return aP(ec(n),e)})}function xq(n,e,t){var r;fe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),fe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(fe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(fe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function cP(n){return C(this,null,function*(){let e=ec(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Y0(n,e,t){return C(this,null,function*(){if(qr(n.app))return Promise.reject(po(n));let r=ec(n),s=yield N0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Aq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cP(n),c}),a=yield ql._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Z0(n,e,t){return qr(n.app)?Promise.reject(po(n)):Q0(Lt(n),oP.credential(e,t)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cP(n),r}))}function J0(n,e){return C(this,null,function*(){let t=Lt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&xq(t.auth,i,e);let{email:o}=yield bq(t.auth,i);o!==n.email&&(yield n.reload())})}function X0(n,e,t,r){return Lt(n).onIdTokenChanged(e,t,r)}function eI(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function tI(n,e){return Lt(n).updateCurrentUser(e)}function nI(n){return Lt(n).signOut()}var Gg="__sak";var Wg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gg,"1"),this.storage.removeItem(Gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Nq=1e3,Mq=10,Pq=(()=>{class n extends Wg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);cq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Mq):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Nq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield Zo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield Zo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield Zo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),lP=Pq;var Oq=(()=>{class n extends Wg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),rI=Oq;function kq(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Lq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,s)})),u=yield kq(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function uP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var O0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=uP("",20);i.port1.start();let p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ei(){return window}function Fq(n){Ei().location.href=n}function dP(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}function Vq(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Uq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jq(){return dP()?self:null}var hP="firebaseLocalStorageDb",Bq=1,Kg="firebaseLocalStorage",fP="fbase_key",Xa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Zg(n,e){return n.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function $q(){let n=indexedDB.deleteDatabase(hP);return new Xa(n).toPromise()}function k0(){let n=indexedDB.open(hP,Bq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Kg,{keyPath:fP})}catch(i){t(i)}}),n.addEventListener("success",()=>C(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),yield $q(),e(yield k0()))}))})}function NM(n,e,t){return C(this,null,function*(){let r=Zg(n,!0).put({[fP]:e,value:t});return new Xa(r).toPromise()})}function Hq(n,e){return C(this,null,function*(){let t=Zg(n,!1).get(e),r=yield new Xa(t).toPromise();return r===void 0?null:r.value})}function MM(n,e){let t=Zg(n,!0).delete(e);return new Xa(t).toPromise()}var zq=800,qq=3,Gq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield k0(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>qq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return dP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=Lq._getInstance(jq()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Vq(),!this.activeServiceWorker)return;this.sender=new O0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Uq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield k0();return yield NM(t,Gg,"1"),yield MM(t,Gg),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>NM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>Hq(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>MM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=Zg(o,!1).getAll();return new Xa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),zq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),pP=Gq;var Rse=rP("rcb"),xse=new Ja(3e4,6e4);function Wq(n,e){return e?fo(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var _h=class extends yh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return w0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return w0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return w0(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Kq(n){return aP(n.auth,new _h(n),n.bypassAuthState)}function Qq(n){let{auth:e,user:t}=n;return fe(t,e,"internal-error"),Rq(t,new _h(n),n.bypassAuthState)}function Yq(n){return C(this,null,function*(){let{auth:e,user:t}=n;return fe(t,e,"internal-error"),Sq(t,new _h(n),n.bypassAuthState)})}var L0=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kq;case"linkViaPopup":case"linkViaRedirect":return Yq;case"reauthViaPopup":case"reauthViaRedirect":return Qq;default:bi(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Nse=new Ja(2e3,1e4);var Zq="pendingRedirect",Fg=new Map,F0=class n extends L0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Fg.get(this.auth._key());if(!e){try{let r=(yield Jq(this.resolver,this.auth))?yield Zo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Fg.set(this.auth._key(),e)}return this.bypassAuthState||Fg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Zo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Zo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function Jq(n,e){return C(this,null,function*(){let t=t5(e),r=e5(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Xq(n,e){Fg.set(n._key(),e)}function e5(n){return fo(n._redirectPersistence)}function t5(n){return Lg(Zq,n.config.apiKey,n.name)}function n5(n,e,t=!1){return C(this,null,function*(){if(qr(n.app))return Promise.reject(po(n));let r=ec(n),i=Wq(r,e),s=yield new F0(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var r5=10*60*1e3,V0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Za(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PM(e))}saveEventToCache(e){this.cachedEventUids.add(PM(e)),this.lastProcessedEventTime=Date.now()}};function PM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function i5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mP(n);default:return!1}}function o5(t){return C(this,arguments,function*(n,e={}){return go(n,"GET","/v1/projects",e)})}var s5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a5=/^https?/;function c5(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield o5(n);for(let t of e)try{if(l5(t))return}catch{}bi(n,"unauthorized-domain")})}function l5(n){let e=b0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!a5.test(t))return!1;if(s5.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var u5=new Ja(3e4,6e4);function OM(){let n=Ei().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function d5(n){return new Promise((e,t)=>{var r,i,o;function s(){OM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OM(),t(Za(n,"network-request-failed"))},timeout:u5.get()})}if(!((i=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ei().gapi)===null||o===void 0)&&o.load)s();else{let a=rP("iframefcb");return Ei()[a]=()=>{gapi.load?s():t(Za(n,"network-request-failed"))},nP(`${fq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Vg=null,e})}var Vg=null;function h5(n){return Vg=Vg||d5(n),Vg}var f5=new Ja(5e3,15e3),p5="__/auth/iframe",m5="emulator/auth/iframe",g5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v5(n){let e=n.config;fe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?$0(e,m5):`https://${n.config.authDomain}/${p5}`,r={apiKey:e.apiKey,appName:n.name,v:wi},i=y5.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${uh(r).slice(1)}`}function _5(n){return C(this,null,function*(){let e=yield h5(n),t=Ei().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:v5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g5,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Za(n,"network-request-failed"),a=Ei().setTimeout(()=>{o(s)},f5.get());function c(){Ei().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var w5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E5=500,b5=600,I5="_blank",C5="http://localhost",Qg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function T5(n,e,t,r=E5,i=b5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},w5),{width:r.toString(),height:i.toString(),top:o,left:s}),u=rn().toLowerCase();t&&(a=QM(u)?I5:t),WM(u)&&(e=e||C5,c.scrollbars="yes");let p=Object.entries(c).reduce((_,[w,N])=>`${_}${w}=${N},`,"");if(aq(u)&&a!=="_self")return D5(e||"",a),new Qg(null);let m=window.open(e||"",a,p);fe(m,n,"popup-blocked");try{m.focus()}catch{}return new Qg(m)}function D5(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var A5="__/auth/handler",S5="emulator/auth/handler",R5=encodeURIComponent("fac");function kM(n,e,t,r,i,o){return C(this,null,function*(){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wi,eventId:i};if(e instanceof qg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",oM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof M0){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let c=yield n._getAppCheckToken(),u=c?`#${R5}=${encodeURIComponent(c)}`:"";return`${x5(n)}?${uh(a).slice(1)}${u}`})}function x5({config:n}){return n.emulator?$0(n,S5):`https://${n.authDomain}/${A5}`}var E0="webStorageSupport",U0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=n5,this._overrideRedirectResult=Xq}_openPopup(e,t,r,i){return C(this,null,function*(){var o;Os((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield kM(e,t,r,b0(),i);return T5(e,s,uP())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield kM(e,t,r,b0(),i);return Fq(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Os(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield _5(e),r=new V0(e);return t.register("authEvent",i=>(fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(E0,{type:E0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[E0];s!==void 0&&t(!!s),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=c5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eP()||KM()||G0()}},gP=U0;var LM="@firebase/auth",FM="1.7.9";var j0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function N5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M5(n){_i(new Xn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tP(n)},u=new R0(r,i,o,c);return gq(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_i(new Xn("auth-internal",e=>{let t=ec(e.getProvider("auth").getImmediate());return(r=>new j0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(LM,FM,N5(n)),at(LM,FM,"esm2017")}var P5=5*60,O5=e0("authIdTokenMaxAge")||P5,VM=null,k5=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>O5)return;let i=t?.token;VM!==i&&(VM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function iI(n=xs()){let e=Ka(n,"auth");if(e.isInitialized())return e.getImmediate();let t=W0(n,{popupRedirectResolver:gP,persistence:[pP,lP,rI]}),r=e0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=k5(o.toString());eI(t,s,()=>s(t.currentUser)),X0(t,a=>s(a))}}let i=Jb("auth");return i&&K0(t,`http://${i}`),t}function L5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Za("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",L5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M5("Browser");var yP="auth",pt=class{constructor(e){return e}},tc=class{constructor(){return Ya(yP)}};var oI=new J("angularfire2.auth-instances");function CG(n,e){let t=Hl(yP,n,e);return t&&new pt(t)}function TG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pt(r)}}var DG={provide:tc,deps:[[new Dt,oI]]},AG={provide:pt,useFactory:CG,deps:[[new Dt,oI],Gr]};function vP(n,...e){return at("angularfire",lo.full,"auth"),Yn([AG,DG,{provide:oI,useFactory:TG(n),multi:!0,deps:[Me,Qt,Ms,uo,[new Dt,Ns],...e]}])}var Gl=Yt(Y0,!0);var Jg=Yt(iI,!0);var Xg=Yt(J0,!0);var _P=Yt(Z0,!0);var yo=Yt(nI,!0);var Wl=Yt(tI,!0);var wP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},EP={};var ks,sI;(function(){var n;function e(D,b){function I(){}I.prototype=b.prototype,D.D=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(S,x,P){for(var T=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)T[jt-2]=arguments[jt];return b.prototype[x].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,I){I||(I=0);var S=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)S[x]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(x=0;16>x;++x)S[x]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],x=D.g[2];var P=D.g[3],T=b+(P^I&(x^P))+S[0]+3614090360&4294967295;b=I+(T<<7&4294967295|T>>>25),T=P+(x^b&(I^x))+S[1]+3905402710&4294967295,P=b+(T<<12&4294967295|T>>>20),T=x+(I^P&(b^I))+S[2]+606105819&4294967295,x=P+(T<<17&4294967295|T>>>15),T=I+(b^x&(P^b))+S[3]+3250441966&4294967295,I=x+(T<<22&4294967295|T>>>10),T=b+(P^I&(x^P))+S[4]+4118548399&4294967295,b=I+(T<<7&4294967295|T>>>25),T=P+(x^b&(I^x))+S[5]+1200080426&4294967295,P=b+(T<<12&4294967295|T>>>20),T=x+(I^P&(b^I))+S[6]+2821735955&4294967295,x=P+(T<<17&4294967295|T>>>15),T=I+(b^x&(P^b))+S[7]+4249261313&4294967295,I=x+(T<<22&4294967295|T>>>10),T=b+(P^I&(x^P))+S[8]+1770035416&4294967295,b=I+(T<<7&4294967295|T>>>25),T=P+(x^b&(I^x))+S[9]+2336552879&4294967295,P=b+(T<<12&4294967295|T>>>20),T=x+(I^P&(b^I))+S[10]+4294925233&4294967295,x=P+(T<<17&4294967295|T>>>15),T=I+(b^x&(P^b))+S[11]+2304563134&4294967295,I=x+(T<<22&4294967295|T>>>10),T=b+(P^I&(x^P))+S[12]+1804603682&4294967295,b=I+(T<<7&4294967295|T>>>25),T=P+(x^b&(I^x))+S[13]+4254626195&4294967295,P=b+(T<<12&4294967295|T>>>20),T=x+(I^P&(b^I))+S[14]+2792965006&4294967295,x=P+(T<<17&4294967295|T>>>15),T=I+(b^x&(P^b))+S[15]+1236535329&4294967295,I=x+(T<<22&4294967295|T>>>10),T=b+(x^P&(I^x))+S[1]+4129170786&4294967295,b=I+(T<<5&4294967295|T>>>27),T=P+(I^x&(b^I))+S[6]+3225465664&4294967295,P=b+(T<<9&4294967295|T>>>23),T=x+(b^I&(P^b))+S[11]+643717713&4294967295,x=P+(T<<14&4294967295|T>>>18),T=I+(P^b&(x^P))+S[0]+3921069994&4294967295,I=x+(T<<20&4294967295|T>>>12),T=b+(x^P&(I^x))+S[5]+3593408605&4294967295,b=I+(T<<5&4294967295|T>>>27),T=P+(I^x&(b^I))+S[10]+38016083&4294967295,P=b+(T<<9&4294967295|T>>>23),T=x+(b^I&(P^b))+S[15]+3634488961&4294967295,x=P+(T<<14&4294967295|T>>>18),T=I+(P^b&(x^P))+S[4]+3889429448&4294967295,I=x+(T<<20&4294967295|T>>>12),T=b+(x^P&(I^x))+S[9]+568446438&4294967295,b=I+(T<<5&4294967295|T>>>27),T=P+(I^x&(b^I))+S[14]+3275163606&4294967295,P=b+(T<<9&4294967295|T>>>23),T=x+(b^I&(P^b))+S[3]+4107603335&4294967295,x=P+(T<<14&4294967295|T>>>18),T=I+(P^b&(x^P))+S[8]+1163531501&4294967295,I=x+(T<<20&4294967295|T>>>12),T=b+(x^P&(I^x))+S[13]+2850285829&4294967295,b=I+(T<<5&4294967295|T>>>27),T=P+(I^x&(b^I))+S[2]+4243563512&4294967295,P=b+(T<<9&4294967295|T>>>23),T=x+(b^I&(P^b))+S[7]+1735328473&4294967295,x=P+(T<<14&4294967295|T>>>18),T=I+(P^b&(x^P))+S[12]+2368359562&4294967295,I=x+(T<<20&4294967295|T>>>12),T=b+(I^x^P)+S[5]+4294588738&4294967295,b=I+(T<<4&4294967295|T>>>28),T=P+(b^I^x)+S[8]+2272392833&4294967295,P=b+(T<<11&4294967295|T>>>21),T=x+(P^b^I)+S[11]+1839030562&4294967295,x=P+(T<<16&4294967295|T>>>16),T=I+(x^P^b)+S[14]+4259657740&4294967295,I=x+(T<<23&4294967295|T>>>9),T=b+(I^x^P)+S[1]+2763975236&4294967295,b=I+(T<<4&4294967295|T>>>28),T=P+(b^I^x)+S[4]+1272893353&4294967295,P=b+(T<<11&4294967295|T>>>21),T=x+(P^b^I)+S[7]+4139469664&4294967295,x=P+(T<<16&4294967295|T>>>16),T=I+(x^P^b)+S[10]+3200236656&4294967295,I=x+(T<<23&4294967295|T>>>9),T=b+(I^x^P)+S[13]+681279174&4294967295,b=I+(T<<4&4294967295|T>>>28),T=P+(b^I^x)+S[0]+3936430074&4294967295,P=b+(T<<11&4294967295|T>>>21),T=x+(P^b^I)+S[3]+3572445317&4294967295,x=P+(T<<16&4294967295|T>>>16),T=I+(x^P^b)+S[6]+76029189&4294967295,I=x+(T<<23&4294967295|T>>>9),T=b+(I^x^P)+S[9]+3654602809&4294967295,b=I+(T<<4&4294967295|T>>>28),T=P+(b^I^x)+S[12]+3873151461&4294967295,P=b+(T<<11&4294967295|T>>>21),T=x+(P^b^I)+S[15]+530742520&4294967295,x=P+(T<<16&4294967295|T>>>16),T=I+(x^P^b)+S[2]+3299628645&4294967295,I=x+(T<<23&4294967295|T>>>9),T=b+(x^(I|~P))+S[0]+4096336452&4294967295,b=I+(T<<6&4294967295|T>>>26),T=P+(I^(b|~x))+S[7]+1126891415&4294967295,P=b+(T<<10&4294967295|T>>>22),T=x+(b^(P|~I))+S[14]+2878612391&4294967295,x=P+(T<<15&4294967295|T>>>17),T=I+(P^(x|~b))+S[5]+4237533241&4294967295,I=x+(T<<21&4294967295|T>>>11),T=b+(x^(I|~P))+S[12]+1700485571&4294967295,b=I+(T<<6&4294967295|T>>>26),T=P+(I^(b|~x))+S[3]+2399980690&4294967295,P=b+(T<<10&4294967295|T>>>22),T=x+(b^(P|~I))+S[10]+4293915773&4294967295,x=P+(T<<15&4294967295|T>>>17),T=I+(P^(x|~b))+S[1]+2240044497&4294967295,I=x+(T<<21&4294967295|T>>>11),T=b+(x^(I|~P))+S[8]+1873313359&4294967295,b=I+(T<<6&4294967295|T>>>26),T=P+(I^(b|~x))+S[15]+4264355552&4294967295,P=b+(T<<10&4294967295|T>>>22),T=x+(b^(P|~I))+S[6]+2734768916&4294967295,x=P+(T<<15&4294967295|T>>>17),T=I+(P^(x|~b))+S[13]+1309151649&4294967295,I=x+(T<<21&4294967295|T>>>11),T=b+(x^(I|~P))+S[4]+4149444226&4294967295,b=I+(T<<6&4294967295|T>>>26),T=P+(I^(b|~x))+S[11]+3174756917&4294967295,P=b+(T<<10&4294967295|T>>>22),T=x+(b^(P|~I))+S[2]+718787259&4294967295,x=P+(T<<15&4294967295|T>>>17),T=I+(P^(x|~b))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(x+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var I=b-this.blockSize,S=this.B,x=this.h,P=0;P<b;){if(x==0)for(;P<=I;)i(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<b;)if(S[x++]=D.charCodeAt(P++),x==this.blockSize){i(this,S),x=0;break}}else for(;P<b;)if(S[x++]=D[P++],x==this.blockSize){i(this,S),x=0;break}}this.h=x,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var I=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=I&255,I/=256;for(this.u(D),D=Array(16),b=I=0;4>b;++b)for(var S=0;32>S;S+=8)D[I++]=this.g[b]>>>S&255;return D};function o(D,b){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function s(D,b){this.h=b;for(var I=[],S=!0,x=D.length-1;0<=x;x--){var P=D[x]|0;S&&P==b||(I[x]=P,S=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(b){return new s([b|0],0>b?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return M(u(-D));for(var b=[],I=1,S=0;D>=I;S++)b[S]=D/I|0,I*=4294967296;return new s(b,0)}function p(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return M(p(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),S=m,x=0;x<D.length;x+=8){var P=Math.min(8,D.length-x),T=parseInt(D.substring(x,x+P),b);8>P?(P=u(Math.pow(b,P)),S=S.j(P).add(u(T))):(S=S.j(I),S=S.add(u(T)))}return S}var m=c(0),_=c(1),w=c(16777216);n=s.prototype,n.m=function(){if(O(this))return-M(this).m();for(var D=0,b=1,I=0;I<this.g.length;I++){var S=this.i(I);D+=(0<=S?S:4294967296+S)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(O(this))return"-"+M(this).toString(D);for(var b=u(Math.pow(D,6)),I=this,S="";;){var x=z(I,b).g;I=U(I,x.j(b));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=x,N(I))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=U(this,D),O(D)?-1:N(D)?0:1};function M(D){for(var b=D.g.length,I=[],S=0;S<b;S++)I[S]=~D.g[S];return new s(I,~D.h).add(_)}n.abs=function(){return O(this)?M(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],S=0,x=0;x<=b;x++){var P=S+(this.i(x)&65535)+(D.i(x)&65535),T=(P>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);S=T>>>16,P&=65535,T&=65535,I[x]=T<<16|P}return new s(I,I[I.length-1]&-2147483648?-1:0)};function U(D,b){return D.add(M(b))}n.j=function(D){if(N(this)||N(D))return m;if(O(this))return O(D)?M(this).j(M(D)):M(M(this).j(D));if(O(D))return M(this.j(M(D)));if(0>this.l(w)&&0>D.l(w))return u(this.m()*D.m());for(var b=this.g.length+D.g.length,I=[],S=0;S<2*b;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var x=0;x<D.g.length;x++){var P=this.i(S)>>>16,T=this.i(S)&65535,jt=D.i(x)>>>16,mn=D.i(x)&65535;I[2*S+2*x]+=T*mn,W(I,2*S+2*x),I[2*S+2*x+1]+=P*mn,W(I,2*S+2*x+1),I[2*S+2*x+1]+=T*jt,W(I,2*S+2*x+1),I[2*S+2*x+2]+=P*jt,W(I,2*S+2*x+2)}for(S=0;S<b;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=b;S<2*b;S++)I[S]=0;return new s(I,0)};function W(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function $(D,b){this.g=D,this.h=b}function z(D,b){if(N(b))throw Error("division by zero");if(N(D))return new $(m,m);if(O(D))return b=z(M(D),b),new $(M(b.g),M(b.h));if(O(b))return b=z(D,M(b)),new $(M(b.g),b.h);if(30<D.g.length){if(O(D)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var I=_,S=b;0>=S.l(D);)I=ee(I),S=ee(S);var x=Q(I,1),P=Q(S,1);for(S=Q(S,2),I=Q(I,2);!N(S);){var T=P.add(S);0>=T.l(D)&&(x=x.add(I),P=T),S=Q(S,1),I=Q(I,1)}return b=U(D,x.j(b)),new $(x,b)}for(x=m;0<=D.l(b);){for(I=Math.max(1,Math.floor(D.m()/b.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=u(I),T=P.j(b);O(T)||0<T.l(D);)I-=S,P=u(I),T=P.j(b);N(P)&&(P=_),x=x.add(P),D=U(D,T)}return new $(x,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)&D.i(S);return new s(I,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)|D.i(S);return new s(I,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)^D.i(S);return new s(I,this.h^D.h)};function ee(D){for(var b=D.g.length+1,I=[],S=0;S<b;S++)I[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(I,D.h)}function Q(D,b){var I=b>>5;b%=32;for(var S=D.g.length-I,x=[],P=0;P<S;P++)x[P]=0<b?D.i(P+I)>>>b|D.i(P+I+1)<<32-b:D.i(P+I);return new s(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=EP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=p,ks=EP.Integer=s}).apply(typeof wP<"u"?wP:typeof self<"u"?self:typeof window<"u"?window:{});var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_o={};var aI,SG,Kl,cI,Eh,ty,lI,uI,dI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ey=="object"&&ey];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var k=l[v];if(!(k in g))break e;g=g[k]}l=l[l.length-1],v=g[l],f=f(v),f!=v&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var g=0,v=!1,k={next:function(){if(!v&&g<l.length){var V=g++;return{value:f(V,l[V]),done:!1}}return v=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function p(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,v),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function _(l,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function w(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function N(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,k,V){for(var Z=Array(arguments.length-2),We=2;We<arguments.length;We++)Z[We-2]=arguments[We];return f.prototype[k].apply(v,Z)}}function O(l){let f=l.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=l[v];return g}return[]}function M(l,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(c(v)){let k=l.length||0,V=v.length||0;l.length=k+V;for(let Z=0;Z<V;Z++)l[k+Z]=v[Z]}else l.push(v)}}class U{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function W(l){return/^[\s\xa0]*$/.test(l)}function $(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function z(l){return z[" "](l),l}z[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(l,f,g){for(let v in l)f.call(g,l[v],v,l)}function D(l,f){for(let g in l)f.call(void 0,l[g],g,l)}function b(l){let f={};for(let g in l)f[g]=l[g];return f}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,f){let g,v;for(let k=1;k<arguments.length;k++){v=arguments[k];for(g in v)l[g]=v[g];for(let V=0;V<I.length;V++)g=I[V],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function x(l){var f=1;l=l.split(":");let g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function P(l){a.setTimeout(()=>{throw l},0)}function T(){var l=gn;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class jt{constructor(){this.h=this.g=null}add(f,g){let v=mn.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var mn=new U(()=>new Bt,l=>l.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,jn=!1,gn=new jt,en=()=>{let l=a.Promise.resolve(void 0);Rt=()=>{l.then(pr)}};var pr=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){P(g)}var f=mn;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}jn=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var Sn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function xt(l,f){if(ut.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ee){e:{try{z(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Zr[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&xt.aa.h.call(this)}}N(xt,ut);var Zr={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),rr=0;function ia(l,f,g,v,k){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=k,this.key=++rr,this.da=this.fa=!1}function Jr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function mr(l){this.src=l,this.g={},this.h=0}mr.prototype.add=function(l,f,g,v,k){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var Z=Uo(l,f,v,k);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new ia(f,this.src,V,!!v,k),f.fa=g,l.push(f)),f};function Xr(l,f){var g=f.type;if(g in l.g){var v=l.g[g],k=Array.prototype.indexOf.call(v,f,void 0),V;(V=0<=k)&&Array.prototype.splice.call(v,k,1),V&&(Jr(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Uo(l,f,g,v){for(var k=0;k<l.length;++k){var V=l[k];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==v)return k}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),xn={};function oa(l,f,g,v,k){if(v&&v.once)return sa(l,f,g,v,k);if(Array.isArray(f)){for(var V=0;V<f.length;V++)oa(l,f[V],g,v,k);return null}return g=dt(g),l&&l[Rn]?l.K(f,g,u(v)?!!v.capture:!!v,k):Ht(l,f,g,!1,v,k)}function Ht(l,f,g,v,k,V){if(!f)throw Error("Invalid event type");var Z=u(k)?!!k.capture:!!k,We=Nn(l);if(We||(l[$t]=We=new mr(l)),g=We.add(f,g,v,Z,V),g.proxy)return g;if(v=jo(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Sn||(k=Z),k===void 0&&(k=!1),l.addEventListener(f.toString(),v,k);else if(l.attachEvent)l.attachEvent(yn(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function jo(){function l(g){return f.call(l.src,l.listener,g)}let f=or;return l}function sa(l,f,g,v,k){if(Array.isArray(f)){for(var V=0;V<f.length;V++)sa(l,f[V],g,v,k);return null}return g=dt(g),l&&l[Rn]?l.L(f,g,u(v)?!!v.capture:!!v,k):Ht(l,f,g,!0,v,k)}function ir(l,f,g,v,k){if(Array.isArray(f))for(var V=0;V<f.length;V++)ir(l,f[V],g,v,k);else v=u(v)?!!v.capture:!!v,g=dt(g),l&&l[Rn]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],g=Uo(V,g,v,k),-1<g&&(Jr(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=Nn(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Uo(f,g,v,k)),(g=-1<l?f[l]:null)&&Ie(g))}function Ie(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Rn])Xr(f.i,l);else{var g=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(g,v,l.capture):f.detachEvent?f.detachEvent(yn(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Nn(f))?(Xr(g,l),g.h==0&&(g.src=null,f[$t]=null)):Jr(l)}}}function yn(l){return l in xn?xn[l]:xn[l]="on"+l}function or(l,f){if(l.da)l=!0;else{f=new xt(f,this);var g=l.listener,v=l.ha||l.src;l.fa&&Ie(l),l=g.call(v,f)}return l}function Nn(l){return l=l[$t],l instanceof mr?l:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(l){return typeof l=="function"?l:(l[nt]||(l[nt]=function(f){return l.handleEvent(f)}),l[nt])}function ht(){yt.call(this),this.i=new mr(this),this.M=this,this.F=null}N(ht,yt),ht.prototype[Rn]=!0,ht.prototype.removeEventListener=function(l,f,g,v){ir(this,l,f,g,v)};function It(l,f){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new ut(f,l);else if(f instanceof ut)f.target=f.target||l;else{var k=f;f=new ut(v,l),S(f,k)}if(k=!0,g)for(var V=g.length-1;0<=V;V--){var Z=f.g=g[V];k=ei(Z,v,!0,f)&&k}if(Z=f.g=l,k=ei(Z,v,!0,f)&&k,k=ei(Z,v,!1,f)&&k,g)for(V=0;V<g.length;V++)Z=f.g=g[V],k=ei(Z,v,!1,f)&&k}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],v=0;v<g.length;v++)Jr(g[v]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,g,v){return this.i.add(String(l),f,!1,g,v)},ht.prototype.L=function(l,f,g,v){return this.i.add(String(l),f,!0,g,v)};function ei(l,f,g,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var k=!0,V=0;V<f.length;++V){var Z=f[V];if(Z&&!Z.da&&Z.capture==g){var We=Z.listener,qt=Z.ha||Z.src;Z.fa&&Xr(l.i,Z),k=We.call(qt,v)!==!1&&k}}return k&&!v.defaultPrevented}function cn(l,f,g){if(typeof l=="function")g&&(l=_(l,g));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function yf(l){l.g=cn(()=>{l.g=null,l.i&&(l.i=!1,yf(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class vf extends yt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:yf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bo(l){yt.call(this),this.h=l,this.g={}}N(Bo,yt);var Nc=[];function _f(l){Q(l.g,function(f,g){this.g.hasOwnProperty(g)&&Ie(f)},l),l.g={}}Bo.prototype.N=function(){Bo.aa.N.call(this),_f(this)},Bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $u=a.JSON.stringify,qv=a.JSON.parse,Gv=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function kr(){}kr.prototype.h=null;function wf(l){return l.h||(l.h=l.i())}function Ef(){}var aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hu(){ut.call(this,"d")}N(Hu,ut);function zu(){ut.call(this,"c")}N(zu,ut);var Lr={},bf=null;function Mc(){return bf=bf||new ht}Lr.La="serverreachability";function If(l){ut.call(this,Lr.La,l)}N(If,ut);function ca(l){let f=Mc();It(f,new If(f))}Lr.STAT_EVENT="statevent";function Cf(l,f){ut.call(this,Lr.STAT_EVENT,l),this.stat=f}N(Cf,ut);function zt(l){let f=Mc();It(f,new Cf(f,l))}Lr.Ma="timingevent";function Tf(l,f){ut.call(this,Lr.Ma,l),this.size=f}N(Tf,ut);function la(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function Wv(l,f,g,v,k,V){l.info(function(){if(l.g)if(V)for(var Z="",We=V.split("&"),qt=0;qt<We.length;qt++){var Le=We[qt].split("=");if(1<Le.length){var tn=Le[0];Le=Le[1];var Gt=tn.split("_");Z=2<=Gt.length&&Gt[1]=="type"?Z+(tn+"="+Le+"&"):Z+(tn+"=redacted&")}}else Z=null;else Z=V;return"XMLHTTP REQ ("+v+") [attempt "+k+"]: "+f+`
`+g+`
`+Z})}function Kv(l,f,g,v,k,V,Z){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+k+"]: "+f+`
`+g+`
`+V+" "+Z})}function je(l,f,g,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Yv(l,g)+(v?" "+v:"")})}function Qv(l,f){l.info(function(){return"TIMEOUT: "+f})}ua.prototype.info=function(){};function Yv(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var k=v[1];if(Array.isArray(k)&&!(1>k.length)){var V=k[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return $u(g)}catch{return f}}var Pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Df={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qu;function Oc(){}N(Oc,kr),Oc.prototype.g=function(){return new XMLHttpRequest},Oc.prototype.i=function(){return{}},qu=new Oc;function gr(l,f,g,v){this.j=l,this.i=f,this.l=g,this.R=v||1,this.U=new Bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}var Gu={},Ho={};function rt(l,f,g){l.L=1,l.v=Lc(yr(f)),l.m=g,l.P=!0,Af(l,null)}function Af(l,f){l.F=Date.now(),da(l),l.A=yr(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Hf(g.i,"t",v),l.C=0,g=l.j.J,l.h=new $o,l.g=ad(l.j,g?f:null,!l.m),0<l.O&&(l.M=new vf(_(l.Y,l,l.g),l.O)),f=l.U,g=l.g,v=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(Nc[0]=k.toString()),k=Nc);for(var V=0;V<k.length;V++){var Z=oa(g,k[V],v||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ca(),Wv(l.i,l.u,l.A,l.l,l.R,l.m)}gr.prototype.ca=function(l){l=l.target;let f=this.M;f&&Vr(l)==3?f.j():this.Y(l)},gr.prototype.Y=function(l){try{if(l==this.g)e:{let Gt=Vr(this.g);var f=this.g.Ba();let oi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Yf(this.g)))){this.J||Gt!=4||f==7||(f==8||0>=oi?ca(3):ca(2)),Wu(this);var g=this.g.Z();this.X=g;t:if(Sf(this)){var v=Yf(this.g);l="";var k=v.length,V=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),ha(this);var Z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(V&&f==k-1)});v.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,Kv(this.i,this.u,this.A,this.l,this.R,Gt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var We,qt=this.g;if((We=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(We)){var Le=We;break t}}Le=null}if(g=Le)je(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ku(this,g);else{this.o=!1,this.s=3,zt(12),ti(this),ha(this);break e}}if(this.P){g=!0;let sr;for(;!this.J&&this.C<Z.length;)if(sr=Zv(this,Z),sr==Ho){Gt==4&&(this.s=4,zt(14),g=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Gu){this.s=4,zt(15),je(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else je(this.i,this.l,sr,null),Ku(this,sr);if(Sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Z.length!=0||this.h.h||(this.s=1,zt(16),g=!1),this.o=this.o&&g,!g)je(this.i,this.l,Z,"[Invalid Chunked Response]"),ti(this),ha(this);else if(0<Z.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Qo(tn),tn.M=!0,zt(11))}}else je(this.i,this.l,Z,null),Ku(this,Z);Gt==4&&ti(this),this.o&&!this.J&&(Gt==4?rd(this.j,this):(this.o=!1,da(this)))}else s_(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),ti(this),ha(this)}}}catch{}finally{}};function Sf(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Zv(l,f){var g=l.C,v=f.indexOf(`
`,g);return v==-1?Ho:(g=Number(f.substring(g,v)),isNaN(g)?Gu:(v+=1,v+g>f.length?Ho:(f=f.slice(v,v+g),l.C=v+g,f)))}gr.prototype.cancel=function(){this.J=!0,ti(this)};function da(l){l.S=Date.now()+l.I,Rf(l,l.I)}function Rf(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=la(_(l.ba,l),f)}function Wu(l){l.B&&(a.clearTimeout(l.B),l.B=null)}gr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(Qv(this.i,this.A),this.L!=2&&(ca(),zt(17)),ti(this),this.s=2,ha(this)):Rf(this,this.S-l)};function ha(l){l.j.G==0||l.J||rd(l.j,l)}function ti(l){Wu(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,_f(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Ku(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Qu(g.h,l))){if(!l.K&&Qu(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var k=v;if(k[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)wa(g),jc(g);else break e;_a(g),zt(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=la(_(g.Za,g),6e3));if(1>=Pf(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ii(g,11)}else if((l.K||g.g==l)&&wa(g),!W(f))for(k=g.Da.g.parse(f),f=0;f<k.length;f++){let Le=k[f];if(g.T=Le[0],Le=Le[1],g.G==2)if(Le[0]=="c"){g.K=Le[1],g.ia=Le[2];let tn=Le[3];tn!=null&&(g.la=tn,g.j.info("VER="+g.la));let Gt=Le[4];Gt!=null&&(g.Aa=Gt,g.j.info("SVER="+g.Aa));let oi=Le[5];oi!=null&&typeof oi=="number"&&0<oi&&(v=1.5*oi,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let sr=l.g;if(sr){let $c=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var V=v.h;V.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Yu(V,V.h),V.h=null))}if(v.D){let ld=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;ld&&(v.ya=ld,Xe(v.I,v.D,ld))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Z=l;if(v.qa=sd(v,v.J?v.ia:null,v.W),Z.K){Of(v.h,Z);var We=Z,qt=v.L;qt&&(We.I=qt),We.B&&(Wu(We),da(We)),v.g=Z}else nd(v);0<g.i.length&&Bc(g)}else Le[0]!="stop"&&Le[0]!="close"||ii(g,7);else g.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ii(g,7):Uc(g):Le[0]!="noop"&&g.l&&g.l.ta(Le),g.v=0)}}ca(4)}catch{}}var xf=class{constructor(l,f){this.g=l,this.map=f}};function Nf(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mf(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Pf(l){return l.h?1:l.g?l.g.size:0}function Qu(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Yu(l,f){l.g?l.g.add(f):l.h=f}function Of(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Nf.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function kf(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let g of l.g.values())f=f.concat(g.D);return f}return O(l.i)}function Lf(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],g=l.length,v=0;v<g;v++)f.push(l[v]);return f}f=[],g=0;for(v in l)f[g++]=l[v];return f}function Jv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(let v in l)f[g++]=v;return f}}}function Zu(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Jv(l),v=Lf(l),k=v.length,V=0;V<k;V++)f.call(void 0,v[V],g&&g[V],l)}var Ff=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xv(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),k=null;if(0<=v){var V=l[g].substring(0,v);k=l[g].substring(v+1)}else V=l[g];f(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Bn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Bn){this.h=l.h,kc(this,l.j),this.o=l.o,this.g=l.g,zo(this,l.s),this.l=l.l;var f=l.i,g=new ma;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ju(this,g),this.m=l.m}else l&&(f=String(l).match(Ff))?(this.h=!1,kc(this,f[1]||"",!0),this.o=fa(f[2]||""),this.g=fa(f[3]||"",!0),zo(this,f[4]),this.l=fa(f[5]||"",!0),Ju(this,f[6]||"",!0),this.m=fa(f[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Bn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(pa(f,Vf,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(pa(f,Vf,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(pa(g,g.charAt(0)=="/"?t_:qo,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",pa(g,jf)),l.join("")};function yr(l){return new Bn(l)}function kc(l,f,g){l.j=g?fa(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function zo(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ju(l,f,g){f instanceof ma?(l.i=f,n_(l.i,l.h)):(g||(f=pa(f,Uf)),l.i=new ma(f,l.h))}function Xe(l,f,g){l.i.set(f,g)}function Lc(l){return Xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function fa(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pa(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,e_),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function e_(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Vf=/[#\/\?@]/g,qo=/[#\?:]/g,t_=/[#\?]/g,Uf=/[#\?@]/g,jf=/#/g;function ma(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ni(l){l.g||(l.g=new Map,l.h=0,l.i&&Xv(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=ma.prototype,n.add=function(l,f){ni(this),this.i=null,l=Go(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Bf(l,f){ni(l),f=Go(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function $f(l,f){return ni(l),f=Go(l,f),l.g.has(f)}n.forEach=function(l,f){ni(this),this.g.forEach(function(g,v){g.forEach(function(k){l.call(f,k,v,this)},this)},this)},n.na=function(){ni(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let k=l[v];for(let V=0;V<k.length;V++)g.push(f[v])}return g},n.V=function(l){ni(this);let f=[];if(typeof l=="string")$f(this,l)&&(f=f.concat(this.g.get(Go(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return ni(this),this.i=null,l=Go(this,l),$f(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Hf(l,f,g){Bf(l,f),0<g.length&&(l.i=null,l.g.set(Go(l,f),O(g)),l.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let V=encodeURIComponent(String(v)),Z=this.V(v);for(v=0;v<Z.length;v++){var k=V;Z[v]!==""&&(k+="="+encodeURIComponent(String(Z[v]))),l.push(k)}}return this.i=l.join("&")};function Go(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function n_(l,f){f&&!l.j&&(ni(l),l.i=null,l.g.forEach(function(g,v){var k=v.toLowerCase();v!=k&&(Bf(this,v),Hf(this,k,g))},l)),l.j=f}function Wo(l,f){let g=new ua;if(a.Image){let v=new Image;v.onload=w(ri,g,"TestLoadImage: loaded",!0,f,v),v.onerror=w(ri,g,"TestLoadImage: error",!1,f,v),v.onabort=w(ri,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=w(ri,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function r_(l,f){let g=new ua,v=new AbortController,k=setTimeout(()=>{v.abort(),ri(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(V=>{clearTimeout(k),V.ok?ri(g,"TestPingServer: ok",!0,f):ri(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(k),ri(g,"TestPingServer: error",!1,f)})}function ri(l,f,g,v,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),v(g)}catch{}}function zf(){this.g=new Gv}function i_(l,f,g){let v=g||"";try{Zu(l,function(k,V){let Z=k;u(k)&&(Z=$u(k)),f.push(v+V+"="+encodeURIComponent(Z))})}catch(k){throw f.push(v+"type="+encodeURIComponent("_badmap")),k}}function $n(l){this.l=l.Ub||null,this.j=l.eb||!1}N($n,kr),$n.prototype.g=function(){return new Fc(this.l,this.j)},$n.prototype.i=function(l){return function(){return l}}({});function Fc(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Fc,ht),n=Fc.prototype,n.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ga(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xu(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xu(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Fr(this):ga(this),this.readyState==3&&Xu(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Fr(this))},n.Qa=function(l){this.g&&(this.response=l,Fr(this))},n.ga=function(){this.g&&Fr(this)};function Fr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ga(l)}n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function ga(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qf(l){let f="";return Q(l,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function ed(l,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=qf(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Xe(l,f,g))}function it(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(it,ht);var Ko=/^https?$/i,o_=["POST","PUT"];n=it.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qu.g(),this.v=this.o?wf(this.o):wf(qu),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){Gf(this,V);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var k in v)g.set(k,v[k]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let V of v.keys())g.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(o_,f,void 0))||v||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,Z]of g)this.g.setRequestHeader(V,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qf(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Gf(this,V)}};function Gf(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Wf(l),Vc(l)}function Wf(l){l.A||(l.A=!0,It(l,"complete"),It(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,It(this,"complete"),It(this,"abort"),Vc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kf(this):this.bb())},n.bb=function(){Kf(this)};function Kf(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Vr(l)!=4||l.Z()!=2)){if(l.u&&Vr(l)==4)cn(l.Ea,0,l);else if(It(l,"readystatechange"),Vr(l)==4){l.h=!1;try{let Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=Z===0){var k=String(l.D).match(Ff)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),v=!Ko.test(k?k.toLowerCase():"")}g=v}if(g)It(l,"complete"),It(l,"success");else{l.m=6;try{var V=2<Vr(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Wf(l)}}finally{Vc(l)}}}}function Vc(l,f){if(l.g){Qf(l);let g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||It(l,"ready");try{g.onreadystatechange=v}catch{}}}function Qf(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Vr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),qv(f)}};function Yf(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function s_(l){let f={};l=(l.g&&2<=Vr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(W(l[v]))continue;var g=x(l[v]);let k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let V=f[k]||[];f[k]=V,V.push(g)}D(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function va(l){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,l),this.cb=ya("retryDelaySeedMs",1e4,l),this.Wa=ya("forwardChannelMaxRetries",2,l),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Nf(l&&l.concurrentRequestLimit),this.Da=new zf,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=va.prototype,n.la=8,n.G=1,n.connect=function(l,f,g,v){zt(0),this.W=l,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=sd(this,null,this.W),Bc(this)};function Uc(l){if(Zf(l),l.G==3){var f=l.U++,g=yr(l.I);if(Xe(g,"SID",l.K),Xe(g,"RID",f),Xe(g,"TYPE","terminate"),Ui(l,g),f=new gr(l,l.j,f),f.L=2,f.v=Lc(yr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=ad(f.j,null),f.g.ea(f.v)),f.F=Date.now(),da(f)}od(l)}function jc(l){l.g&&(Qo(l),l.g.cancel(),l.g=null)}function Zf(l){jc(l),l.u&&(a.clearTimeout(l.u),l.u=null),wa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bc(l){if(!Mf(l.h)&&!l.s){l.s=!0;var f=l.Ga;Rt||en(),jn||(Rt(),jn=!0),gn.add(f,l),l.B=0}}function Jf(l,f){return Pf(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=la(_(l.Ga,l,f),id(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new gr(this,this.j,l),V=this.o;if(this.S&&(V?(V=b(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(k.H=V,V=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=td(this,k,f),g=yr(this.I),Xe(g,"RID",l),Xe(g,"CVER",22),this.D&&Xe(g,"X-HTTP-Session-Id",this.D),Ui(this,g),V&&(this.O?f="headers="+encodeURIComponent(String(qf(V)))+"&"+f:this.m&&ed(g,this.m,V)),Yu(this.h,k),this.Ua&&Xe(g,"TYPE","init"),this.P?(Xe(g,"$req",f),Xe(g,"SID","null"),k.T=!0,rt(k,g,null)):rt(k,g,f),this.G=2}}else this.G==3&&(l?Xf(this,l):this.i.length==0||Mf(this.h)||Xf(this))};function Xf(l,f){var g;f?g=f.l:g=l.U++;let v=yr(l.I);Xe(v,"SID",l.K),Xe(v,"RID",g),Xe(v,"AID",l.T),Ui(l,v),l.m&&l.o&&ed(v,l.m,l.o),g=new gr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=td(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Yu(l.h,g),rt(g,v,f)}function Ui(l,f){l.H&&Q(l.H,function(g,v){Xe(f,v,g)}),l.l&&Zu({},function(g,v){Xe(f,v,g)})}function td(l,f,g){g=Math.min(l.i.length,g);var v=l.l?_(l.l.Na,l.l,l):null;e:{var k=l.i;let V=-1;for(;;){let Z=["count="+g];V==-1?0<g?(V=k[0].g,Z.push("ofs="+V)):V=0:Z.push("ofs="+V);let We=!0;for(let qt=0;qt<g;qt++){let Le=k[qt].g,tn=k[qt].map;if(Le-=V,0>Le)V=Math.max(0,k[qt].g-100),We=!1;else try{i_(tn,Z,"req"+Le+"_")}catch{v&&v(tn)}}if(We){v=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,v}function nd(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Rt||en(),jn||(Rt(),jn=!0),gn.add(f,l),l.v=0}}function _a(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=la(_(l.Fa,l),id(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,ep(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=la(_(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),jc(this),ep(this))};function Qo(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ep(l){l.g=new gr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=yr(l.qa);Xe(f,"RID","rpc"),Xe(f,"SID",l.K),Xe(f,"AID",l.T),Xe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Xe(f,"TO",l.ja),Xe(f,"TYPE","xmlhttp"),Ui(l,f),l.m&&l.o&&ed(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Lc(yr(f)),g.m=null,g.P=!0,Af(g,l)}n.Za=function(){this.C!=null&&(this.C=null,jc(this),_a(this),zt(19))};function wa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function rd(l,f){var g=null;if(l.g==f){wa(l),Qo(l),l.g=null;var v=2}else if(Qu(l.h,f))g=f.D,Of(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;v=Mc(),It(v,new Tf(v,g)),Bc(l)}else nd(l);else if(k=f.s,k==3||k==0&&0<f.X||!(v==1&&Jf(l,f)||v==2&&_a(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),k){case 1:ii(l,5);break;case 4:ii(l,10);break;case 3:ii(l,6);break;default:ii(l,2)}}}function id(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ii(l,f){if(l.j.info("Error code "+f),f==2){var g=_(l.fb,l),v=l.Xa;let k=!v;v=new Bn(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kc(v,"https"),Lc(v),k?Wo(v.toString(),g):r_(v.toString(),g)}else zt(2);l.G=0,l.l&&l.l.sa(f),od(l),Zf(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function od(l){if(l.G=0,l.ka=[],l.l){let f=kf(l.h);(f.length!=0||l.i.length!=0)&&(M(l.ka,f),M(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function sd(l,f,g){var v=g instanceof Bn?yr(g):new Bn(g);if(v.g!="")f&&(v.g=f+"."+v.g),zo(v,v.s);else{var k=a.location;v=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var V=new Bn(null);v&&kc(V,v),f&&(V.g=f),k&&zo(V,k),g&&(V.l=g),v=V}return g=l.D,f=l.ya,g&&f&&Xe(v,g,f),Xe(v,"VER",l.la),Ui(l,v),v}function ad(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new it(new $n({eb:g})):new it(l.pa),f.Ha(l.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cd(){}n=cd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ea(){}Ea.prototype.g=function(l,f){return new Nt(l,f)};function Nt(l,f){ht.call(this),this.g=new va(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!W(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!W(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Yo(this)}N(Nt,ht),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Uc(this.g)},Nt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=$u(l),l=g);f.i.push(new xf(f.Ya++,l)),f.G==3&&Bc(f)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,Nt.aa.N.call(this)};function tp(l){Hu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}N(tp,Hu);function np(){zu.call(this),this.status=1}N(np,zu);function Yo(l){this.g=l}N(Yo,cd),Yo.prototype.ua=function(){It(this.g,"a")},Yo.prototype.ta=function(l){It(this.g,new tp(l))},Yo.prototype.sa=function(l){It(this.g,new np)},Yo.prototype.ra=function(){It(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,dI=_o.createWebChannelTransport=function(){return new Ea},uI=_o.getStatEventTarget=function(){return Mc()},lI=_o.Event=Lr,ty=_o.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pc.NO_ERROR=0,Pc.TIMEOUT=8,Pc.HTTP_ERROR=6,Eh=_o.ErrorCode=Pc,Df.COMPLETE="complete",cI=_o.EventType=Df,Ef.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Kl=_o.WebChannel=Ef,SG=_o.FetchXmlHttpFactory=$n,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,aI=_o.XhrIo=it}).apply(typeof ey<"u"?ey:typeof self<"u"?self:typeof window<"u"?window:{});var bP="@firebase/firestore";var on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var pu="10.14.0";var oc=new Ss("@firebase/firestore");function bh(){return oc.logLevel}function oe(n,...e){if(oc.logLevel<=Oe.DEBUG){let t=e.map(qC);oc.debug(`Firestore (${pu}): ${n}`,...t)}}function Eo(n,...e){if(oc.logLevel<=Oe.ERROR){let t=e.map(qC);oc.error(`Firestore (${pu}): ${n}`,...t)}}function tu(n,...e){if(oc.logLevel<=Oe.WARN){let t=e.map(qC);oc.warn(`Firestore (${pu}): ${n}`,...t)}}function qC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function me(n="Unexpected state"){let e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+n;throw Eo(e),new Error(e)}function Ze(n,e){n||me()}function ve(n,e){return n}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ae=class extends Fn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ti=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var sy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}},yI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},vI=class{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ti,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ti)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new sy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new on(e)}},_I=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wI=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new _I(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}},EI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);let r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new EI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function RG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var ay=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=RG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ze(n,e){return n<e?-1:n>e?1:0}function nu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var fn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new fn(0,0))}static max(){return new n(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cy=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(),r===void 0?r=e.length-t:r>e.length-t&&me(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},wt=class n extends cy{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},xG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hr=class n extends cy{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return xG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var pe=class n{constructor(e){this.path=e}static fromPath(e){return new n(wt.fromString(e))}static fromName(e){return new n(wt.fromString(e).popFirst(5))}static empty(){return new n(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new wt(e.slice()))}};var II=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};II.UNKNOWN_ID=-1;function NG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new fn(t+1,0):new fn(t,r));return new sc(i,pe.empty(),e)}function MG(n){return new sc(n.readTime,n.key,-1)}var sc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(be.min(),pe.empty(),-1)}static max(){return new n(be.max(),pe.empty(),-1)}};function PG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}var OG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Uh(n){return C(this,null,function*(){if(n.code!==H.FAILED_PRECONDITION||n.message!==OG)throw n;oe("LocalStore","Unexpectedly lost primary lease")})}var K=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(p=>{s[u]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function kG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jh(n){return n.name==="IndexedDbTransactionError"}var eO=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Uy(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function LG(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dae=[...FG,"documentOverlays"],VG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UG=VG,jG=[...UG,"indexConfiguration","indexState","indexEntries"];var Aae=[...jG,"globals"];function IP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}},Jl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Di=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();let e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}};Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dn=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ly(this.data.getIterator())}getIteratorFrom(e){return new ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ly=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ci=class n{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dn(hr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var uy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var An=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uy("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};An.EMPTY_BYTE_STRING=new An("");var BG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(Ze(!!n),typeof n=="string"){let e=0,t=BG.exec(n);if(Ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?An.fromBase64String(n):An.fromUint8Array(n)}function GC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function WC(n){let e=n.mapValue.fields.__previous_value__;return GC(e)?WC(e):e}function Rh(n){let e=bo(n.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}var TI=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},dy=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ny={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GC(n)?4:rO(n)?9007199254740991:nO(n)?10:11:me()}function Ri(n,e){if(n===e)return!0;let t=ac(n);if(t!==ac(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rh(n).isEqual(Rh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=bo(i.timestampValue),a=bo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Vs(i.bytesValue).isEqual(Vs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?Sh(s)===Sh(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IP(s)!==IP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ri(s[c],a[c])))return!1;return!0}(n,e);default:return me()}}function xh(n,e){return(n.values||[]).find(t=>Ri(t,e))!==void 0}function ru(n,e){if(n===e)return 0;let t=ac(n),r=ac(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ct(o.integerValue||o.doubleValue),c=ct(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return CP(n.timestampValue,e.timestampValue);case 4:return CP(Rh(n),Rh(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Vs(o),c=Vs(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let p=ze(a[u],c[u]);if(p!==0)return p}return ze(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ze(ct(o.latitude),ct(s.latitude));return a!==0?a:ze(ct(o.longitude),ct(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,p;let m=o.fields||{},_=s.fields||{},w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,N=(c=_.value)===null||c===void 0?void 0:c.arrayValue,O=ze(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:TP(w,N)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ny.mapValue&&s===ny.mapValue)return 0;if(o===ny.mapValue)return 1;if(s===ny.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},p=Object.keys(u);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){let _=ze(c[m],p[m]);if(_!==0)return _;let w=ru(a[c[m]],u[p[m]]);if(w!==0)return w}return ze(c.length,p.length)}(n.mapValue,e.mapValue);default:throw me()}}function CP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);let t=bo(n),r=bo(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function TP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ru(t[i],r[i]);if(o)return o}return ze(t.length,r.length)}function iu(n){return DI(n)}function DI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=bo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=DI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${DI(t.fields[s])}`;return i+"}"}(n.mapValue):me()}function AI(n){return!!n&&"integerValue"in n}function KC(n){return!!n&&"arrayValue"in n}function DP(n){return!!n&&"nullValue"in n}function AP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iy(n){return!!n&&"mapValue"in n}function nO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return mu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ch(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(t)}setAll(e){let t=hr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ch(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mu(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ch(this.value))}};function iO(n){let e=[];return mu(n.fields,(t,r)=>{let i=new hr([t]);if(iy(r)){let o=iO(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ci(e)}var Kr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,be.min(),be.min(),be.min(),Wr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,be.min(),be.min(),Wr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,be.min(),be.min(),Wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ou=class{constructor(e,t){this.position=e,this.inclusive=t}};function SP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(s.referenceValue),t.key):r=ru(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}var su=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function $G(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var hy=class{},Zt=class n extends hy{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RI(e,t,r):t==="array-contains"?new MI(e,r):t==="in"?new PI(e,r):t==="not-in"?new OI(e,r):t==="array-contains-any"?new kI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xI(e,r):new NI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ru(t,this.value)):t!==null&&ac(this.value)===ac(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xi=class n extends hy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return oO(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function oO(n){return n.op==="and"}function sO(n){return HG(n)&&oO(n)}function HG(n){for(let e of n.filters)if(e instanceof xi)return!1;return!0}function SI(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(sO(n))return n.filters.map(e=>SI(e)).join(",");{let e=n.filters.map(t=>SI(t)).join(",");return`${n.op}(${e})`}}function aO(n,e){return n instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&Ri(r.value,i.value)}(n,e):n instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aO(s,i.filters[a]),!0):!1}(n,e):void me()}function cO(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(cO).join(" ,")+"}"}(n):"Filter"}var RI=class extends Zt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){let t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}},xI=class extends Zt{constructor(e,t){super(e,"in",t),this.keys=lO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},NI=class extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=lO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function lO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}var MI=class extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return KC(t)&&xh(t.arrayValue,this.value)}},PI=class extends Zt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}},OI=class extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!xh(this.value.arrayValue,t)}},kI=class extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!KC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xh(this.value.arrayValue,r))}};var LI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function xP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new LI(n,e,t,r,i,o,s)}function QC(n){let e=ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iu(r)).join(",")),e.ue=t}return e.ue}function YC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$G(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RP(n.startAt,e.startAt)&&RP(n.endAt,e.endAt)}function FI(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var au=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function zG(n,e,t,r,i,o,s,a){return new au(n,e,t,r,i,o,s,a)}function jy(n){return new au(n)}function NP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qG(n){return n.collectionGroup!==null}function Th(n){let e=ve(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dn(hr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new su(o,r))}),t.has(hr.keyField().canonicalString())||e.ce.push(new su(hr.keyField(),r))}return e.ce}function Ai(n){let e=ve(n);return e.le||(e.le=GG(e,Th(n))),e.le}function GG(n,e){if(n.limitType==="F")return xP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new su(i.field,o)});let t=n.endAt?new ou(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ou(n.startAt.position,n.startAt.inclusive):null;return xP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function VI(n,e,t){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function By(n,e){return YC(Ai(n),Ai(e))&&n.limitType===e.limitType}function uO(n){return`${QC(Ai(n))}|lt:${n.limitType}`}function Ql(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cO(i)).join(", ")}]`),Uy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>iu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>iu(i)).join(",")),`Target(${r})`}(Ai(n))}; limitType=${n.limitType})`}function $y(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Th(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=SP(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Th(r),i)||r.endAt&&!function(s,a,c){let u=SP(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Th(r),i))}(n,e)}function WG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dO(n){return(e,t)=>{let r=!1;for(let i of Th(n)){let o=KG(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function KG(n,e,t){let r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ru(c,u):me()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}var Us=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return tO(this.inner)}size(){return this.innerSize}};var QG=new Et(pe.comparator);function Io(){return QG}var hO=new Et(pe.comparator);function Ih(...n){let e=hO;for(let t of n)e=e.insert(t.key,t);return e}function fO(n){let e=hO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function nc(){return Dh()}function pO(){return Dh()}function Dh(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}var YG=new Et(pe.comparator),ZG=new Dn(pe.comparator);function ke(...n){let e=ZG;for(let t of n)e=e.add(t);return e}var JG=new Dn(ze);function XG(){return JG}function ZC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function mO(n){return{integerValue:""+n}}function eW(n,e){return LG(e)?mO(e):ZC(n,e)}var cu=class{constructor(){this._=void 0}};function tW(n,e,t){return n instanceof lu?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GC(o)&&(o=WC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof cc?yO(n,e):n instanceof lc?vO(n,e):function(i,o){let s=gO(i,o),a=MP(s)+MP(i.Pe);return AI(s)&&AI(i.Pe)?mO(a):ZC(i.serializer,a)}(n,e)}function nW(n,e,t){return n instanceof cc?yO(n,e):n instanceof lc?vO(n,e):t}function gO(n,e){return n instanceof uu?function(r){return AI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var lu=class extends cu{},cc=class extends cu{constructor(e){super(),this.elements=e}};function yO(n,e){let t=_O(e);for(let r of n.elements)t.some(i=>Ri(i,r))||t.push(r);return{arrayValue:{values:t}}}var lc=class extends cu{constructor(e){super(),this.elements=e}};function vO(n,e){let t=_O(e);for(let r of n.elements)t=t.filter(i=>!Ri(i,r));return{arrayValue:{values:t}}}var uu=class extends cu{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function MP(n){return ct(n.integerValue||n.doubleValue)}function _O(n){return KC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rW(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof cc&&i instanceof cc||r instanceof lc&&i instanceof lc?nu(r.elements,i.elements,Ri):r instanceof uu&&i instanceof uu?Ri(r.Pe,i.Pe):r instanceof lu&&i instanceof lu}(n.transform,e.transform)}var UI=class{constructor(e,t){this.version=e,this.transformResults=t}},Ls=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function oy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var du=class{};function wO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fy(n.key,Ls.none()):new uc(n.key,n.data,Ls.none());{let t=n.data,r=Wr.empty(),i=new Dn(hr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Co(n.key,r,new Ci(i.toArray()),Ls.none())}}function iW(n,e,t){n instanceof uc?function(i,o,s){let a=i.value.clone(),c=OP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Co?function(i,o,s){if(!oy(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=OP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(EO(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ah(n,e,t,r){return n instanceof uc?function(o,s,a,c){if(!oy(o.precondition,s))return a;let u=o.value.clone(),p=kP(o.fieldTransforms,c,s);return u.setAll(p),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Co?function(o,s,a,c){if(!oy(o.precondition,s))return a;let u=kP(o.fieldTransforms,c,s),p=s.data;return p.setAll(EO(o)),p.setAll(u),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return oy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function oW(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=gO(r.transform,i||null);o!=null&&(t===null&&(t=Wr.empty()),t.set(r.field,o))}return t||null}function PP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nu(r,i,(o,s)=>rW(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var uc=class extends du{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Co=class extends du{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EO(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function OP(n,e,t){let r=new Map;Ze(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,nW(s,a,t[i]))}return r}function kP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,tW(o,s,e))}return r}var fy=class extends du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jI=class extends du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var BI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&iW(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ah(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ah(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=pO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=wO(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>PP(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>PP(t,r))}},$I=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ze(e.mutations.length===r.length);let i=function(){return YG}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var HI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ft,Ue;function sW(n){switch(n){default:return me();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function bO(n){if(n===void 0)return Eo("GRPC error has no .code"),H.UNKNOWN;switch(n){case Ft.OK:return H.OK;case Ft.CANCELLED:return H.CANCELLED;case Ft.UNKNOWN:return H.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return H.INTERNAL;case Ft.UNAVAILABLE:return H.UNAVAILABLE;case Ft.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ft.NOT_FOUND:return H.NOT_FOUND;case Ft.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ft.ABORTED:return H.ABORTED;case Ft.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ft.DATA_LOSS:return H.DATA_LOSS;default:return me()}}(Ue=Ft||(Ft={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";var LP=null;function aW(){return new TextEncoder}var cW=new ks([4294967295,4294967295],0);function FP(n){let e=aW().encode(n),t=new sI;return t.update(e),new Uint8Array(t.digest())}function VP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ks([t,r],0),new ks([i,o],0)]}var qI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rc(`Invalid padding: ${t}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new rc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ks.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ks.fromNumber(r)));return i.compare(cW)===1&&(i=new ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=FP(e),[r,i]=VP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=FP(e),[r,i]=VP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},rc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var py=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(be.min(),i,new Et(ze),Io(),ke())}},Nh=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ke(),ke(),ke())}};var Xl=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},my=class{constructor(e,t){this.targetId=e,this.me=t}},gy=class{constructor(e,t,r=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},yy=class{constructor(){this.fe=0,this.ge=jP(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:me()}}),new Nh(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=jP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},GI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Io(),this.qe=UP(),this.Qe=new Et(ze)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(FI(o))if(r===0){let s=new pe(o.path);this.Ue(t,s,Kr.newNoDocument(s,be.min()))}else Ze(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}LP?.et(function(p,m,_,w,N){var O,M,U,W,$,z;let ee={localCacheCount:p,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},Q=m.unchangedNames;return Q&&(ee.bloomFilter={applied:N===0,hashCount:(O=Q?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(U=(M=Q?.bits)===null||M===void 0?void 0:M.bitmap)===null||U===void 0?void 0:U.length)!==null&&W!==void 0?W:0,padding:(z=($=Q?.bits)===null||$===void 0?void 0:$.padding)!==null&&z!==void 0?z:0,mightContain:D=>{var b;return(b=w?.mightContain(D))!==null&&b!==void 0&&b}}),ee}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Vs(r).toUint8Array()}catch(c){if(c instanceof uy)return tu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new qI(s,i,o)}catch(c){return tu(c instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&FI(a.target)){let c=new pe(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Kr.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ke();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new py(e,t,this.Qe,this.ke,r);return this.ke=Io(),this.qe=UP(),this.Qe=new Et(ze),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new yy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dn(ze),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function UP(){return new Et(pe.comparator)}function jP(){return new Et(pe.comparator)}var lW={asc:"ASCENDING",desc:"DESCENDING"},uW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dW={and:"AND",or:"OR"},WI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function KI(n,e){return n.useProto3Json||Uy(e)?e:{value:e}}function vy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hW(n,e){return vy(n,e.toTimestamp())}function Si(n){return Ze(!!n),be.fromTimestamp(function(t){let r=bo(t);return new fn(r.seconds,r.nanos)}(n))}function JC(n,e){return QI(n,e).canonicalString()}function QI(n,e){let t=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CO(n){let e=wt.fromString(n);return Ze(RO(e)),e}function YI(n,e){return JC(n.databaseId,e.path)}function hI(n,e){let t=CO(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(DO(t))}function TO(n,e){return JC(n.databaseId,e)}function fW(n){let e=CO(n);return e.length===4?wt.emptyPath():DO(e)}function ZI(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DO(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function BP(n,e,t){return{name:YI(n,e),fields:t.value.mapValue.fields}}function pW(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,p){return u.useProto3Json?(Ze(p===void 0||typeof p=="string"),An.fromBase64String(p||"")):(Ze(p===void 0||p instanceof Buffer||p instanceof Uint8Array),An.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let p=u.code===void 0?H.UNKNOWN:bO(u.code);return new ae(p,u.message||"")}(s);t=new gy(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=hI(n,r.document.name),o=Si(r.document.updateTime),s=r.document.createTime?Si(r.document.createTime):be.min(),a=new Wr({mapValue:{fields:r.document.fields}}),c=Kr.newFoundDocument(i,o,s,a),u=r.targetIds||[],p=r.removedTargetIds||[];t=new Xl(u,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=hI(n,r.document),o=r.readTime?Si(r.readTime):be.min(),s=Kr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Xl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=hI(n,r.document),o=r.removedTargetIds||[];t=new Xl([],o,i,null)}else{if(!("filter"in e))return me();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new zI(i,o),a=r.targetId;t=new my(a,s)}}return t}function mW(n,e){let t;if(e instanceof uc)t={update:BP(n,e.key,e.value)};else if(e instanceof fy)t={delete:YI(n,e.key)};else if(e instanceof Co)t={update:BP(n,e.key,e.data),updateMask:CW(e.fieldMask)};else{if(!(e instanceof jI))return me();t={verify:YI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me()}(n,e.precondition)),t}function gW(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Si(i.updateTime):Si(o);return s.isEqual(be.min())&&(s=Si(o)),new UI(s,i.transformResults||[])}(t,e))):[]}function yW(n,e){return{documents:[TO(n,e.path)]}}function vW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TO(n,i);let o=function(u){if(u.length!==0)return SO(xi.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(p=>function(_){return{field:Yl(_.field),direction:EW(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=KI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function _W(n){let e=fW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ze(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(m){let _=AO(m);return _ instanceof xi&&sO(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(_=>function(N){return new su(Zl(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,Uy(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(m){let _=!!m.before,w=m.values||[];return new ou(w,_)}(t.startAt));let u=null;return t.endAt&&(u=function(m){let _=!m.before,w=m.values||[];return new ou(w,_)}(t.endAt)),zG(e,i,s,o,a,"F",c,u)}function wW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Zl(t.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zl(t.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Zl(t.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Zl(t.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(Zl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xi.create(t.compositeFilter.filters.map(r=>AO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(t.compositeFilter.op))}(n):me()}function EW(n){return lW[n]}function bW(n){return uW[n]}function IW(n){return dW[n]}function Yl(n){return{fieldPath:n.canonicalString()}}function Zl(n){return hr.fromServerFormat(n.fieldPath)}function SO(n){return n instanceof Zt?function(t){if(t.op==="=="){if(AP(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NAN"}};if(DP(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AP(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NAN"}};if(DP(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(t.field),op:bW(t.op),value:t.value}}}(n):n instanceof xi?function(t){let r=t.getFilters().map(i=>SO(i));return r.length===1?r[0]:{compositeFilter:{op:IW(t.op),filters:r}}}(n):me()}function CW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mh=class n{constructor(e,t,r,i,o=be.min(),s=be.min(),a=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var JI=class{constructor(e){this.ct=e}};function TW(n){let e=_W({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?VI(e,e.limit,"L"):e}var _y=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ct(e.integerValue));else if("doubleValue"in e){let r=ct(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Sh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=bo(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Vs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?rO(e)?this.dt(t,Number.MAX_SAFE_INTEGER):nO(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):me()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ct(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),pe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};_y.vt=new _y;var XI=class{constructor(){this.un=new eC}addToCollectionParentIndex(e,t){return this.un.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(sc.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(sc.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}},eC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(wt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(wt.comparator)).toArray()}};var Rae=new Uint8Array(0);var Ii=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);var Ph=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var tC=class{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var nC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var rC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ah(r.mutation,i,Ci.empty(),fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){let i=nc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ih();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=nc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Io(),s=Dh(),a=function(){return Dh()}();return t.forEach((c,u)=>{let p=r.get(u.key);i.has(u.key)&&(p===void 0||p.mutation instanceof Co)?o=o.insert(u.key,u):p!==void 0?(s.set(u.key,p.mutation.getFieldMask()),Ah(p.mutation,u,p.mutation.getFieldMask(),fn.now())):s.set(u.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,p)=>s.set(u,p)),t.forEach((u,p)=>{var m;return a.set(u,new nC(p,(m=s.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Dh(),i=new Et((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let p=r.get(c)||Ci.empty();p=a.applyToLocalView(u,p),r.set(c,p);let m=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,p=c.value,m=pO();p.forEach(_=>{if(!o.has(_)){let w=wO(t.get(_),r.get(_));w!==null&&m.set(_,w),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return K.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qG(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):K.resolve(nc()),a=-1,c=o;return s.next(u=>K.forEach(u,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?K.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(p=>({batchId:a,changes:fO(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ih();return this.indexManager.getCollectionParents(e,o).next(a=>K.forEach(a,c=>{let u=function(m,_){return new au(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(p=>{p.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let p=u.getKey();s.get(p)===null&&(s=s.insert(p,Kr.newInvalidDocument(p)))});let a=Ih();return s.forEach((c,u)=>{let p=o.get(c);p!==void 0&&Ah(p.mutation,u,Ci.empty(),fn.now()),$y(t,u)&&(a=a.insert(c,u))}),a})}};var iC=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return K.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:TW(i.bundledQuery),readTime:Si(i.readTime)}}(t)),K.resolve()}};var oC=class{constructor(){this.overlays=new Et(pe.comparator),this.Ir=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){let r=nc();return K.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),K.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){let i=nc(),o=t.length+1,s=new pe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((u,p)=>u-p),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let p=o.get(u.largestBatchId);p===null&&(p=nc(),o=o.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}let a=nc(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,p)=>a.set(u,p)),!(a.size()>=i)););return K.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HI(t,r));let o=this.Ir.get(t);o===void 0&&(o=ke(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var sC=class{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}};var Oh=class{constructor(){this.Tr=new Dn(Vt.Er),this.dr=new Dn(Vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Vt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Vt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new pe(new wt([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new pe(new wt([])),r=new Vt(t,e),i=new Vt(t,e+1),o=ke();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Vt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Vt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return pe.comparator(e.key,t.key)||ze(e.wr,t.wr)}static Ar(e,t){return ze(e.wr,t.wr)||pe.comparator(e.key,t.key)}};var aC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dn(Vt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new BI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(s)}lookupMutationBatch(e,t){return K.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(ze);return t.forEach(i=>{let o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;pe.isDocumentKey(o)||(o=o.child(""));let s=new Vt(new pe(o),0),a=new Dn(ze);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),K.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(t.mutations,i=>{let o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Vt(t,0),i=this.br.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var cC=class{constructor(e){this.Mr=e,this.docs=function(){return new Et(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let r=Io();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kr.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Io(),s=t.path,a=new pe(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:p}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||PG(MG(p),r)<=0||(i.has(p.key)||$y(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,r,i){me()}Or(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lC(this)}getSize(e){return K.resolve(this.size)}},lC=class extends tC{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var uC=class{constructor(e){this.persistence=e,this.Nr=new Us(t=>QC(t),YC),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Oh,this.targetCount=0,this.kr=Ph.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),K.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ph(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Kn(t),K.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.Br.containsKey(t))}};var dC=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new eO(0),this.Kr=!1,this.Kr=!0,this.$r=new sC,this.referenceDelegate=e(this),this.Ur=new uC(this),this.indexManager=new XI,this.remoteDocumentCache=function(i){return new cC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JI(t),this.Gr=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new aC(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){oe("MemoryPersistence","Starting transaction:",e);let i=new hC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},hC=class extends CI{constructor(e){super(),this.currentSequenceNumber=e}},fC=class n{constructor(e){this.persistence=e,this.Jr=new Oh,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),K.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{let i=pe.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return K.or([()=>K.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var pC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ke(),i=ke();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var mC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gC=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rM()?8:kG(rn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new mC;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(bh()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(bh()<=Oe.DEBUG&&oe("QueryEngine","Query:",Ql(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bh()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):K.resolve())}Yi(e,t){if(NP(t))return K.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=VI(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ke(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,VI(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return NP(t)||i.isEqual(be.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?K.resolve(null):(bh()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ql(t)),this.rs(e,s,t,NG(i,-1)).next(a=>a))})}ts(e,t){let r=new Dn(dO(e));return t.forEach((i,o)=>{$y(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return bh()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ql(t)),this.Ji.getDocumentsMatchingQuery(e,t,sc.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var yC=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Et(ze),this._s=new Us(o=>QC(o),YC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function DW(n,e,t,r){return new yC(n,e,t,r)}function xO(n,e){return C(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ke();for(let u of i){s.push(u.batchId);for(let p of u.mutations)c=c.add(p.key)}for(let u of o){a.push(u.batchId);for(let p of u.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function AW(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,p){let m=u.batch,_=m.keys(),w=K.resolve();return _.forEach(N=>{w=w.next(()=>p.getEntry(c,N)).next(O=>{let M=u.docVersions.get(N);Ze(M!==null),O.version.compareTo(M)<0&&(m.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),p.addEntry(O)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NO(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function SW(n,e){let t=ve(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let _=i.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,m)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(An.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(m,w),function(O,M,U){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,w,p)&&a.push(t.Ur.updateTargetData(o,w))});let c=Io(),u=ke();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(RW(o,s,e.documentUpdates).next(p=>{c=p.Ps,u=p.Is})),!r.isEqual(be.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return K.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function RW(n,e,t){let r=ke(),i=ke();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Io();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function xW(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NW(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Mh(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function vC(n,e,t){return C(this,null,function*(){let r=ve(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!jh(s))throw s;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $P(n,e,t){let r=ve(n),i=be.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,p){let m=ve(c),_=m._s.get(p);return _!==void 0?K.resolve(m.os.get(_)):m.Ur.getTargetData(u,p)}(r,s,Ai(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:be.min(),t?o:ke())).next(a=>(MW(r,WG(e),a),{documents:a,Ts:o})))}function MW(n,e,t){let r=n.us.get(e)||be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var wy=class{constructor(){this.activeTargetIds=XG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var _C=class{constructor(){this.so=new wy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var wC=class{_o(e){}shutdown(){}};var Ey=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ry=null;function fI(){return ry===null?ry=function(){return 268435456+Math.round(2147483648*Math.random())}():ry++,"0x"+ry.toString(16)}var PW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var EC=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Tn="WebChannelConnection",bC=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=fI(),c=this.xo(t,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(p=>(oe("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw tu("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=PW[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=fI();return new Promise((s,a)=>{let c=new aI;c.setWithCredentials(!0),c.listenOnce(cI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Eh.NO_ERROR:let p=c.getResponseJson();oe(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Eh.TIMEOUT:oe(Tn,`RPC '${e}' ${o} timed out`),a(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:let m=c.getStatus();if(oe(Tn,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let N=function(M){let U=M.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(U)>=0?U:H.UNKNOWN}(w.status);a(new ae(N,w.message))}else a(new ae(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ae(H.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{oe(Tn,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);oe(Tn,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=fI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dI(),a=uI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let p=o.join("");oe(Tn,`Creating RPC '${e}' stream ${i}: ${p}`,c);let m=s.createWebChannel(p,c),_=!1,w=!1,N=new EC({Io:M=>{w?oe(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(_||(oe(Tn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),oe(Tn,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},To:()=>m.close()}),O=(M,U,W)=>{M.listen(U,$=>{try{W($)}catch(z){setTimeout(()=>{throw z},0)}})};return O(m,Kl.EventType.OPEN,()=>{w||(oe(Tn,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),O(m,Kl.EventType.CLOSE,()=>{w||(w=!0,oe(Tn,`RPC '${e}' stream ${i} transport closed`),N.So())}),O(m,Kl.EventType.ERROR,M=>{w||(w=!0,tu(Tn,`RPC '${e}' stream ${i} transport errored:`,M),N.So(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),O(m,Kl.EventType.MESSAGE,M=>{var U;if(!w){let W=M.data[0];Ze(!!W);let $=W,z=$.error||((U=$[0])===null||U===void 0?void 0:U.error);if(z){oe(Tn,`RPC '${e}' stream ${i} received error:`,z);let ee=z.status,Q=function(I){let S=Ft[I];if(S!==void 0)return bO(S)}(ee),D=z.message;Q===void 0&&(Q=H.INTERNAL,D="Unknown error status: "+ee+" with message "+z.message),w=!0,N.So(new ae(Q,D)),m.close()}else oe(Tn,`RPC '${e}' stream ${i} received:`,W),N.bo(W)}}),O(a,lI.STAT_EVENT,M=>{M.stat===ty.PROXY?oe(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ty.NOPROXY&&oe(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function pI(){return typeof document<"u"?document:null}function Hy(n){return new WI(n,!0)}var by=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Iy=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new by(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Eo(t.toString()),Eo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new ae(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},IC=class extends Iy{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=pW(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?be.min():s.readTime?Si(s.readTime):be.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=ZI(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=FI(c)?{documents:yW(o,c)}:{query:vW(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IO(o,s.resumeToken);let u=KI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(be.min())>0){a.readTime=vy(o,s.snapshotVersion.toTimestamp());let u=KI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=wW(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=ZI(this.serializer),t.removeTarget=e,this.a_(t)}},CC=class extends Iy{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=gW(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=ZI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>mW(this.serializer,r))};this.a_(t)}};var TC=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,QI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(H.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,QI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(H.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},DC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Eo(t),this.D_=!1):oe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var AC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){dc(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=ve(c);u.L_.add(4),yield Bh(u),u.q_.set("Unknown"),u.L_.delete(4),yield zy(u)})}(this))}))}),this.q_=new DC(r,i)}};function zy(n){return C(this,null,function*(){if(dc(n))for(let e of n.B_)yield e(!0)})}function Bh(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function MO(n,e){let t=ve(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nT(t)?tT(t):gu(t).r_()&&eT(t,e))}function XC(n,e){let t=ve(n),r=gu(t);t.N_.delete(e),r.r_()&&PO(t,e),t.N_.size===0&&(r.r_()?r.o_():dc(t)&&t.q_.set("Unknown"))}function eT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(n).A_(e)}function PO(n,e){n.Q_.xe(e),gu(n).R_(e)}function tT(n){n.Q_=new GI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),gu(n).start(),n.q_.v_()}function nT(n){return dc(n)&&!gu(n).n_()&&n.N_.size>0}function dc(n){return ve(n).L_.size===0}function OO(n){n.Q_=void 0}function OW(n){return C(this,null,function*(){n.q_.set("Online")})}function kW(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{eT(n,e)})})}function LW(n,e){return C(this,null,function*(){OO(n),nT(n)?(n.q_.M_(e),tT(n)):n.q_.set("Unknown")})}function FW(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof gy&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cy(n,r)}else if(e instanceof Xl?n.Q_.Ke(e):e instanceof my?n.Q_.He(e):n.Q_.We(e),!t.isEqual(be.min()))try{let r=yield NO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let p=o.N_.get(u);p&&o.N_.set(u,p.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let p=o.N_.get(c);if(!p)return;o.N_.set(c,p.withResumeToken(An.EMPTY_BYTE_STRING,p.snapshotVersion)),PO(o,c);let m=new Mh(p.target,c,u,p.sequenceNumber);eT(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),yield Cy(n,r)}})}function Cy(n,e,t){return C(this,null,function*(){if(!jh(e))throw e;n.L_.add(1),yield Bh(n),n.q_.set("Offline"),t||(t=()=>NO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield zy(n)}))})}function kO(n,e){return e().catch(t=>Cy(n,t,e))}function qy(n){return C(this,null,function*(){let e=ve(n),t=js(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VW(e);)try{let i=yield xW(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,UW(e,i)}catch(i){yield Cy(e,i)}LO(e)&&FO(e)})}function VW(n){return dc(n)&&n.O_.length<10}function UW(n,e){n.O_.push(e);let t=js(n);t.r_()&&t.V_&&t.m_(e.mutations)}function LO(n){return dc(n)&&!js(n).n_()&&n.O_.length>0}function FO(n){js(n).start()}function jW(n){return C(this,null,function*(){js(n).p_()})}function BW(n){return C(this,null,function*(){let e=js(n);for(let t of n.O_)e.m_(t.mutations)})}function $W(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=$I.from(r,e,t);yield kO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qy(n)})}function HW(n,e){return C(this,null,function*(){e&&js(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return sW(s)&&s!==H.ABORTED}(i.code)){let o=r.O_.shift();js(r).s_(),yield kO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qy(r)}})}(n,e)),LO(n)&&FO(n)})}function HP(n,e){return C(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");let r=dc(t);t.L_.add(3),yield Bh(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield zy(t)})}function zW(n,e){return C(this,null,function*(){let t=ve(n);e?(t.L_.delete(2),yield zy(t)):e||(t.L_.add(2),yield Bh(t),t.q_.set("Unknown"))})}function gu(n){return n.K_||(n.K_=function(t,r,i){let o=ve(t);return o.w_(),new IC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:OW.bind(null,n),Ro:kW.bind(null,n),mo:LW.bind(null,n),d_:FW.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),nT(n)?tT(n):n.q_.set("Unknown")):(yield n.K_.stop(),OO(n))}))),n.K_}function js(n){return n.U_||(n.U_=function(t,r,i){let o=ve(t);return o.w_(),new CC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jW.bind(null,n),mo:HW.bind(null,n),f_:BW.bind(null,n),g_:$W.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield qy(n)):(yield n.U_.stop(),n.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var SC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rT(n,e){if(Eo("AsyncQueue",`${e}: ${n}`),jh(n))return new ae(H.UNAVAILABLE,`${e}: ${n}`);throw n}var Ty=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=Ih(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dy=class{constructor(){this.W_=new Et(pe.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},hu=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ty.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&By(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var RC=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},xC=class{constructor(){this.queries=zP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=zP(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}};function zP(){return new Us(n=>uO(n),By)}function VO(n,e){return C(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new RC,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rT(s,`Initialization of query '${Ql(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&iT(t)})}function UO(n,e){return C(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function qW(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&iT(t)}function GW(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function iT(n){n.Y_.forEach(e=>{e.next()})}var NC,qP;(qP=NC||(NC={})).ea="default",qP.Cache="cache";var Ay=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==NC.Cache}};var Sy=class{constructor(e){this.key=e}},Ry=class{constructor(e){this.key=e}},MC=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=dO(e),this.Ra=new Ty(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Dy,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let _=i.get(p),w=$y(this.query,m)?m:null,N=!!_&&this.mutatedKeys.has(_.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),M=!1;_&&w?_.data.isEqual(w.data)?N!==O&&(r.track({type:3,doc:w}),M=!0):this.ga(_,w)||(r.track({type:2,doc:w}),M=!0,(c&&this.Aa(w,c)>0||u&&this.Aa(w,u)<0)&&(a=!0)):!_&&w?(r.track({type:0,doc:w}),M=!0):_&&!w&&(r.track({type:1,doc:_}),M=!0,(c||u)&&(a=!0)),M&&(w?(s=s.add(w),o=O?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(w,N){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return O(w)-O(N)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new hu(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Ry(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Sy(r))}),t}ba(e){this.Ta=e.Ts,this.da=ke();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},PC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},OC=class{constructor(e){this.key=e,this.va=!1}},kC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Us(a=>uO(a),By),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(pe.comparator),this.Na=new Map,this.La=new Oh,this.Ba={},this.ka=new Map,this.qa=Ph.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function WW(n,e,t=!0){return C(this,null,function*(){let r=qO(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield jO(r,e,t,!0),i})}function KW(n,e){return C(this,null,function*(){let t=qO(n);yield jO(t,e,!0,!1)})}function jO(n,e,t,r){return C(this,null,function*(){let i=yield NW(n.localStore,Ai(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield QW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&MO(n.remoteStore,i),a})}function QW(n,e,t,r,i){return C(this,null,function*(){n.Ka=(m,_,w)=>function(O,M,U,W){return C(this,null,function*(){let $=M.view.ma(U);$.ns&&($=yield $P(O.localStore,M.query,!1).then(({documents:D})=>M.view.ma(D,$)));let z=W&&W.targetChanges.get(M.targetId),ee=W&&W.targetMismatches.get(M.targetId)!=null,Q=M.view.applyChanges($,O.isPrimaryClient,z,ee);return WP(O,M.targetId,Q.wa),Q.snapshot})}(n,m,_,w);let o=yield $P(n.localStore,e,!0),s=new MC(e,o.Ts),a=s.ma(o.documents),c=Nh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);WP(n,t,u.wa);let p=new PC(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function YW(n,e,t){return C(this,null,function*(){let r=ve(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!By(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&XC(r.remoteStore,i.targetId),LC(r,i.targetId)}).catch(Uh))):(LC(r,i.targetId),yield vC(r.localStore,i.targetId,!0))})}function ZW(n,e){return C(this,null,function*(){let t=ve(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),XC(t.remoteStore,r.targetId))})}function JW(n,e,t){return C(this,null,function*(){let r=o6(n);try{let i=yield function(s,a){let c=ve(s),u=fn.now(),p=a.reduce((w,N)=>w.add(N.key),ke()),m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let N=Io(),O=ke();return c.cs.getEntries(w,p).next(M=>{N=M,N.forEach((U,W)=>{W.isValidDocument()||(O=O.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,N)).next(M=>{m=M;let U=[];for(let W of a){let $=oW(W,m.get(W.key).overlayedDocument);$!=null&&U.push(new Co(W.key,$,iO($.value.mapValue),Ls.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,U,a)}).next(M=>{_=M;let U=M.applyToLocalDocumentSet(m,O);return c.documentOverlayCache.saveOverlays(w,M.batchId,U)})}).then(()=>({batchId:_.batchId,changes:fO(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Et(ze)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield $h(r,i.changes),yield qy(r.remoteStore)}catch(i){let o=rT(i,"Failed to persist write");t.reject(o)}})}function BO(n,e){return C(this,null,function*(){let t=ve(n);try{let r=yield SW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ze(s.va):i.removedDocuments.size>0&&(Ze(s.va),s.va=!1))}),yield $h(t,r,e)}catch(r){yield Uh(r)}})}function GP(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((p,m)=>{for(let _ of m.j_)_.Z_(a)&&(u=!0)}),u&&iT(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XW(n,e,t){return C(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Et(pe.comparator);s=s.insert(o,Kr.newNoDocument(o,be.min()));let a=ke().add(o),c=new py(be.min(),new Map,new Et(ze),s,a);yield BO(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),oT(r)}else yield vC(r.localStore,e,!1).then(()=>LC(r,e,t)).catch(Uh)})}function e6(n,e){return C(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield AW(t.localStore,e);HO(t,r,null),$O(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $h(t,i)}catch(i){yield Uh(i)}})}function t6(n,e,t){return C(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let p;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(Ze(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p)).next(()=>c.localDocuments.getDocuments(u,p))})}(r.localStore,e);HO(r,e,t),$O(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $h(r,i)}catch(i){yield Uh(i)}})}function $O(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function HO(n,e,t){let r=ve(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function LC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||zO(n,r)})}function zO(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(XC(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),oT(n))}function WP(n,e,t){for(let r of t)r instanceof Sy?(n.La.addReference(r.key,e),n6(n,r)):r instanceof Ry?(oe("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||zO(n,r.key)):me()}function n6(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(oe("SyncEngine","New document in limbo: "+t),n.xa.add(r),oT(n))}function oT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new pe(wt.fromString(e)),r=n.qa.next();n.Na.set(r,new OC(t)),n.Oa=n.Oa.insert(t,r),MO(n.remoteStore,new Mh(Ai(jy(t.path)),r,"TargetPurposeLimboResolution",eO.oe))}}function $h(n,e,t){return C(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var p;if((u||t)&&r.isPrimaryClient){let m=u?!u.fromCache:(p=t?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);let m=pC.Wi(c.targetId,u);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return C(this,null,function*(){let p=ve(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(u,_=>K.forEach(_.$i,w=>p.persistence.referenceDelegate.addReference(m,_.targetId,w)).next(()=>K.forEach(_.Ui,w=>p.persistence.referenceDelegate.removeReference(m,_.targetId,w)))))}catch(m){if(!jh(m))throw m;oe("LocalStore","Failed to update sequence numbers: "+m)}for(let m of u){let _=m.targetId;if(!m.fromCache){let w=p.os.get(_),N=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(_,O)}}})}(r.localStore,o))})}function r6(n,e){return C(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());let r=yield xO(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new ae(H.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $h(t,r.hs)}})}function i6(n,e){let t=ve(n),r=t.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function qO(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XW.bind(null,e),e.Ca.d_=qW.bind(null,e.eventManager),e.Ca.$a=GW.bind(null,e.eventManager),e}function o6(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t6.bind(null,e),e}var KP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Hy(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return DW(this.persistence,new gC,t.initialUser,this.serializer)}Ga(t){return new dC(fC.Zr,this.serializer)}Wa(t){return new _C}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var s6=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=r6.bind(null,this.syncEngine),yield zW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new xC}()}createDatastore(t){let r=Hy(t.databaseInfo.databaseId),i=function(s){return new bC(s)}(t.databaseInfo);return function(s,a,c,u){return new TC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new AC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>GP(this.syncEngine,r,0),function(){return Ey.D()?new Ey:new wC}())}createSyncEngine(t,r){return function(o,s,a,c,u,p,m){let _=new kC(o,s,a,c,u,p);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ve(o);oe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Bh(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var xy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Eo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var FC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){oe("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mI(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield xO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function QP(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield a6(n);oe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>HP(e.remoteStore,i)),n._onlineComponents=e})}function a6(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;tu("Error using user provided cache. Falling back to memory cache: "+t),yield mI(n,new KP)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),yield mI(n,new KP);return n._offlineComponents})}function GO(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield QP(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),yield QP(n,new s6))),n._onlineComponents})}function c6(n){return GO(n).then(e=>e.syncEngine)}function VC(n){return C(this,null,function*(){let e=yield GO(n),t=e.eventManager;return t.onListen=WW.bind(null,e.syncEngine),t.onUnlisten=YW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZW.bind(null,e.syncEngine),t})}function l6(n,e,t={}){let r=new Ti;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,c,u){let p=new xy({next:_=>{p.Za(),s.enqueueAndForget(()=>UO(o,m));let w=_.docs.has(a);!w&&_.fromCache?u.reject(new ae(H.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?u.reject(new ae(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),m=new Ay(jy(a.path),p,{includeMetadataChanges:!0,_a:!0});return VO(o,m)}(yield VC(n),n.asyncQueue,e,t,r)})),r.promise}function WO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var YP=new Map;function KO(n,e,t){if(!t)throw new ae(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u6(n,e,t,r){if(e===!0&&r===!0)throw new ae(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZP(n){if(!pe.isDocumentKey(n))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JP(n){if(pe.isDocumentKey(n))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":me()}function wo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=sT(n);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ny=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new wI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=YP.get(t);r&&(oe("ComponentProvider","Removing Datastore"),YP.delete(t),r.terminate())}(this),Promise.resolve()}};function QO(n,e,t,r={}){var i;let o=(n=wo(n,fu))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=on.MOCK_USER;else{a=Sg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new on(u)}n._authCredentials=new yI(new sy(a,c))}}var My=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},er=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fs=class n extends My{constructor(e,t,r){super(e,t,jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new pe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function YO(n,e,...t){if(n=Lt(n),KO("collection","path",e),n instanceof fu){let r=wt.fromString(e,...t);return JP(r),new Fs(n,null,r)}{if(!(n instanceof er||n instanceof Fs))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wt.fromString(e,...t));return JP(r),new Fs(n.firestore,null,r)}}function aT(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=ay.newId()),KO("doc","path",e),n instanceof fu){let r=wt.fromString(e,...t);return ZP(r),new er(n,null,new pe(r))}{if(!(n instanceof er||n instanceof Fs))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wt.fromString(e,...t));return ZP(r),new er(n.firestore,n instanceof Fs?n.converter:null,new pe(r))}}var Py=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new by(this,"async_queue_retry"),this.Vu=()=>{let r=pI();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=pI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=pI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Ti;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jh(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Eo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=SC.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function XP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Bs=class extends fu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Py,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,yield e}})}};function ZO(n,e){let t=typeof n=="object"?n:xs(),r=typeof n=="string"?n:e||"(default)",i=Ka(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Ag("firestore");o&&QO(i,...o)}return i}function cT(n){if(n._terminated)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||d6(n),n._firestoreClient}function d6(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,p){return new TI(a,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WO(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new FC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var kh=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(An.fromBase64String(e))}catch(t){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Lh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oy=class{constructor(e){this._methodName=e}};var Fh=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}};var Vh=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var h6=/^__.*__$/,UC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}};function JO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}var jC=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ky(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JO(this.Cu)&&h6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},BC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hy(e)}Qu(e,t,r,i=!1){return new jC({Cu:e,methodName:t,qu:r,path:hr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function XO(n){let e=n._freezeSettings(),t=Hy(n._databaseId);return new BC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function e1(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);i1("Data must be an object, but it was:",s,r);let a=n1(r,s),c,u;if(o.merge)c=new Ci(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let _=f6(e,m,t);if(!s.contains(_))throw new ae(H.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);m6(p,_)||p.push(_)}c=new Ci(p),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new UC(new Wr(a),c,u)}function t1(n,e){if(r1(n=Lt(n)))return i1("Unsupported field value:",e,n),n1(n,e);if(n instanceof Oy)return function(r,i){if(!JO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=t1(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=fn.fromDate(r);return{timestampValue:vy(i.serializer,o)}}if(r instanceof fn){let o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vy(i.serializer,o)}}if(r instanceof Fh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kh)return{bytesValue:IO(i.serializer,r._byteString)};if(r instanceof er){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vh)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return ZC(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${sT(r)}`)}(n,e)}function n1(n,e){let t={};return tO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(n,(r,i)=>{let o=t1(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function r1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof Fh||n instanceof kh||n instanceof er||n instanceof Oy||n instanceof Vh)}function i1(n,e,t){if(!r1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=sT(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function f6(n,e,t){if((e=Lt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return o1(n,e);throw ky("Field path arguments must be of type string or ",n,!1,void 0,t)}var p6=new RegExp("[~\\*/\\[\\]]");function o1(n,e,t){if(e.search(p6)>=0)throw ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lh(...e.split("."))._internalPath}catch{throw ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ky(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ae(H.INVALID_ARGUMENT,a+n+c)}function m6(n,e){return n.some(t=>t.isEqual(e))}var Ly=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(s1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$C=class extends Ly{data(){return super.data()}};function s1(n,e){return typeof e=="string"?o1(n,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}function g6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HC=class{convertValue(e,t="none"){switch(ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return mu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new Vh(o)}convertGeoPoint(e){return new Fh(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=WC(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){let t=bo(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=wt.fromString(e);Ze(RO(r));let i=new dy(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(t)||Eo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function a1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ic=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fy=class extends Ly{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(s1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},eu=class extends Fy{data(e={}){return super.data(e)}},zC=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eu(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,p=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:y6(a.type),doc:c,oldIndex:u,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function y6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}function c1(n){n=wo(n,er);let e=wo(n.firestore,Bs);return l6(cT(e),n._key).then(t=>f1(e,n,t))}var Vy=class extends HC{constructor(e){super(),this.firestore=e}convertBytes(e){return new kh(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}};function l1(n,e,t){n=wo(n,er);let r=wo(n.firestore,Bs),i=a1(n.converter,e,t);return h1(r,[e1(XO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ls.none())])}function u1(n,e){let t=wo(n.firestore,Bs),r=aT(n),i=a1(n.converter,e);return h1(t,[e1(XO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ls.exists(!1))]).then(()=>r)}function d1(n,...e){var t,r,i;n=Lt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XP(e[s])){let m=e[s];e[s]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,p;if(n instanceof er)u=wo(n.firestore,Bs),p=jy(n._key.path),c={next:m=>{e[s]&&e[s](f1(u,n,m))},error:e[s+1],complete:e[s+2]};else{let m=wo(n,My);u=wo(m.firestore,Bs),p=m._query;let _=new Vy(u);c={next:w=>{e[s]&&e[s](new zC(u,_,m,w))},error:e[s+1],complete:e[s+2]},g6(n._query)}return function(_,w,N,O){let M=new xy(O),U=new Ay(w,M,N);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return VO(yield VC(_),U)})),()=>{M.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return UO(yield VC(_),U)}))}}(cT(u),p,a,c)}function h1(n,e){return function(r,i){let o=new Ti;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return JW(yield c6(r),i,o)})),o.promise}(cT(n),e)}function f1(n,e,t){let r=t.docs.get(e._key),i=new Vy(n);return new Fy(n,i,e._key,r,new ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){pu=i})(wi),_i(new Xn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Bs(new vI(r.getProvider("auth-internal")),new bI(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(u.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),at(bP,"4.7.3",e),at(bP,"4.7.3","esm2017")})();var mt=class{constructor(e){return e}},p1="firestore",lT=class{constructor(){return Ya(p1)}};var uT=new J("angularfire2.firestore-instances");function v6(n,e){let t=Hl(p1,n,e);return t&&new mt(t)}function _6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new mt(r)}}var w6={provide:lT,deps:[[new Dt,uT]]},E6={provide:mt,useFactory:v6,deps:[[new Dt,uT],Gr]};function m1(n,...e){return at("angularfire",lo.full,"fst"),Yn([E6,w6,{provide:uT,useFactory:_6(n),multi:!0,deps:[Me,Qt,Ms,uo,[new Dt,tc],[new Dt,Ns],...e]}])}var Hh=Yt(u1,!0);var Dr=Yt(YO,!0);var Jt=Yt(aT,!0);var tr=Yt(c1,!0);var g1=Yt(ZO,!0);var $s=Yt(d1,!0);var yu=Yt(l1,!0);var T1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Ji),Y(kn))}}static{this.\u0275dir=st({type:n})}}return n})(),Qh=(()=>{class n extends T1{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275dir=st({type:n,features:[Jn]})}}return n})(),Ao=new J(""),b6={provide:Ao,useExisting:Wn(()=>pT),multi:!0},pT=(()=>{class n extends Qh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275dir=st({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Ir([b6]),Jn]})}}return n})(),I6={provide:Ao,useExisting:Wn(()=>Sr),multi:!0};function C6(){let n=no()?no().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var T6=new J(""),Sr=(()=>{class n extends T1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!C6())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Ji),Y(kn),Y(T6,8))}}static{this.\u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ir([I6]),Jn]})}}return n})();function Hs(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function D1(n){return n!=null&&typeof n.length=="number"}var tv=new J(""),nv=new J(""),D6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ce=class{static min(e){return A6(e)}static max(e){return S6(e)}static required(e){return R6(e)}static requiredTrue(e){return x6(e)}static email(e){return N6(e)}static minLength(e){return M6(e)}static maxLength(e){return P6(e)}static pattern(e){return O6(e)}static nullValidator(e){return A1(e)}static compose(e){return P1(e)}static composeAsync(e){return O1(e)}};function A6(n){return e=>{if(Hs(e.value)||Hs(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function S6(n){return e=>{if(Hs(e.value)||Hs(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function R6(n){return Hs(n.value)?{required:!0}:null}function x6(n){return n.value===!0?null:{required:!0}}function N6(n){return Hs(n.value)||D6.test(n.value)?null:{email:!0}}function M6(n){return e=>Hs(e.value)||!D1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function P6(n){return e=>D1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function O6(n){if(!n)return A1;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hs(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function A1(n){return null}function S1(n){return n!=null}function R1(n){return ja(n)?ot(n):n}function x1(n){let e={};return n.forEach(t=>{e=t!=null?q(q({},e),t):e}),Object.keys(e).length===0?null:e}function N1(n,e){return e.map(t=>t(n))}function k6(n){return!n.validate}function M1(n){return n.map(e=>k6(e)?e:t=>e.validate(t))}function P1(n){if(!n)return null;let e=n.filter(S1);return e.length==0?null:function(t){return x1(N1(t,e))}}function mT(n){return n!=null?P1(M1(n)):null}function O1(n){if(!n)return null;let e=n.filter(S1);return e.length==0?null:function(t){let r=N1(t,e).map(R1);return x_(r).pipe(Ee(x1))}}function gT(n){return n!=null?O1(M1(n)):null}function y1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function k1(n){return n._rawValidators}function L1(n){return n._rawAsyncValidators}function dT(n){return n?Array.isArray(n)?n:[n]:[]}function Wy(n,e){return Array.isArray(n)?n.includes(e):n===e}function v1(n,e){let t=dT(e);return dT(n).forEach(i=>{Wy(t,i)||t.push(i)}),t}function _1(n,e){return dT(e).filter(t=>!Wy(n,t))}var Ky=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Do=class extends Ky{get formDirective(){return null}get path(){return null}},hc=class extends Ky{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qy=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dle=De(q({},L6),{"[class.ng-submitted]":"isSubmitted"}),Ni=(()=>{class n extends Qy{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(hc,2))}}static{this.\u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Hm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Jn]})}}return n})(),Mi=(()=>{class n extends Qy{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Do,10))}}static{this.\u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Hm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Jn]})}}return n})();var zh="VALID",Gy="INVALID",vu="PENDING",qh="DISABLED",zs=class{},Yy=class extends zs{constructor(e,t){super(),this.value=e,this.source=t}},Wh=class extends zs{constructor(e,t){super(),this.pristine=e,this.source=t}},Kh=class extends zs{constructor(e,t){super(),this.touched=e,this.source=t}},_u=class extends zs{constructor(e,t){super(),this.status=e,this.source=t}},hT=class extends zs{constructor(e){super(),this.source=e}},fT=class extends zs{constructor(e){super(),this.source=e}};function F1(n){return(rv(n)?n.validators:n)||null}function F6(n){return Array.isArray(n)?mT(n):n||null}function V1(n,e){return(rv(e)?e.asyncValidators:n)||null}function V6(n){return Array.isArray(n)?gT(n):n||null}function rv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function U6(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new se(1e3,"");if(!r[t])throw new se(1001,"")}function j6(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new se(1002,"")})}var Zy=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Dl(()=>this.statusReactive()),this.statusReactive=Cl(void 0),this._pristine=Dl(()=>this.pristineReactive()),this.pristineReactive=Cl(!0),this._touched=Dl(()=>this.touchedReactive()),this.touchedReactive=Cl(!1),this._events=new _t,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mi(this.statusReactive)}set status(e){mi(()=>this.statusReactive.set(e))}get valid(){return this.status===zh}get invalid(){return this.status===Gy}get pending(){return this.status==vu}get disabled(){return this.status===qh}get enabled(){return this.status!==qh}get pristine(){return mi(this.pristineReactive)}set pristine(e){mi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mi(this.touchedReactive)}set touched(e){mi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(v1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(v1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_1(e,this._rawAsyncValidators))}hasValidator(e){return Wy(this._rawValidators,e)}hasAsyncValidator(e){return Wy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(De(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(De(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wh(!0,r))}markAsPending(e={}){this.status=vu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _u(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(De(q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qh,this.errors=null,this._forEachChild(i=>{i.disable(De(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yy(this.value,r)),this._events.next(new _u(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zh,this._forEachChild(r=>{r.enable(De(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zh||this.status===vu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yy(this.value,t)),this._events.next(new _u(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(De(q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qh:zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=vu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=R1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _u(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?qh:this.errors?Gy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vu)?vu:this._anyControlsHaveStatus(Gy)?Gy:zh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=F6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V6(this._rawAsyncValidators)}},Ar=class extends Zy{constructor(e,t,r){super(F1(t),V1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){j6(this,!0,e),Object.keys(e).forEach(r=>{U6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Yh=new J("CallSetDisabledState",{providedIn:"root",factory:()=>iv}),iv="always";function U1(n,e){return[...e.path,n]}function Jy(n,e,t=iv){yT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$6(n,e),z6(n,e),H6(n,e),B6(n,e)}function w1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ev(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B6(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function yT(n,e){let t=k1(n);e.validator!==null?n.setValidators(y1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=L1(n);e.asyncValidator!==null?n.setAsyncValidators(y1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Xy(e._rawValidators,i),Xy(e._rawAsyncValidators,i)}function ev(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=k1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=L1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Xy(e._rawValidators,r),Xy(e._rawAsyncValidators,r),t}function $6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&j1(n,e)})}function H6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&j1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function j1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z6(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function B1(n,e){n==null,yT(n,e)}function q6(n,e){return ev(n,e)}function $1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function G6(n){return Object.getPrototypeOf(n.constructor)===Qh}function H1(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function z1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Sr?t=o:G6(o)?r=o:i=o}),i||r||t||null}function W6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var K6={provide:Do,useExisting:Wn(()=>vT)},Gh=Promise.resolve(),vT=(()=>{class n extends Do{get submitted(){return mi(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Dl(()=>this.submittedReactive()),this.submittedReactive=Cl(!1),this._directives=new Set,this.ngSubmit=new et,this.form=new Ar({},mT(t),gT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Jy(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gh.then(()=>{let r=this._findContainer(t.path),i=new Ar({});B1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),H1(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Y(tv,10),Y(nv,10),Y(Yh,8))}}static{this.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([K6]),Jn]})}}return n})();function E1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function b1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var de=class extends Zy{constructor(e=null,t,r){super(F1(t),V1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(b1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){E1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){E1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){b1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q6=n=>n instanceof de;var Y6={provide:hc,useExisting:Wn(()=>_T)},I1=Promise.resolve(),_T=(()=>{class n extends hc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new de,this._registered=!1,this.name="",this.update=new et,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=z1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){I1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&$a(r);I1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?U1(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Y(Do,9),Y(tv,10),Y(nv,10),Y(Ao,10),Y(Ba,8),Y(Yh,8))}}static{this.\u0275dir=st({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ir([Y6]),Jn,Yi]})}}return n})(),Pi=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Z6={provide:Ao,useExisting:Wn(()=>So),multi:!0},So=(()=>{class n extends Qh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275dir=st({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ir([Z6]),Jn]})}}return n})();var q1=new J("");var J6={provide:Do,useExisting:Wn(()=>Ro)},Ro=(()=>{class n extends Do{get submitted(){return mi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Dl(()=>this._submittedReactive()),this._submittedReactive=Cl(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ev(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Jy(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){w1(t.control||null,t,!1),W6(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),H1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fT(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(w1(r||null,t),Q6(i)&&(Jy(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);B1(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&q6(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yT(this.form,this),this._oldForm&&ev(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Y(tv,10),Y(nv,10),Y(Yh,8))}}static{this.\u0275dir=st({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([J6]),Jn,Yi]})}}return n})();var X6={provide:hc,useExisting:Wn(()=>xo)},xo=(()=>{class n extends hc{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=z1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),$1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return U1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Y(Do,13),Y(tv,10),Y(nv,10),Y(Ao,10),Y(q1,8))}}static{this.\u0275dir=st({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ir([X6]),Jn,Yi]})}}return n})(),e8={provide:Ao,useExisting:Wn(()=>ov),multi:!0};function G1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function t8(n){return n.split(":")[0]}var ov=(()=>{class n extends Qh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=G1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=t8(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275dir=st({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([e8]),Jn]})}}return n})(),W1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(G1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(kn),Y(Ji),Y(ov,9))}}static{this.\u0275dir=st({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),n8={provide:Ao,useExisting:Wn(()=>K1),multi:!0};function C1(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function r8(n){return n.split(":")[0]}var K1=(()=>{class n extends Qh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=r8(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Zi(n)))(i||n)}})()}static{this.\u0275dir=st({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ir([n8]),Jn]})}}return n})(),Q1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(C1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(C1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(kn),Y(Ji),Y(K1,9))}}static{this.\u0275dir=st({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var Y1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})();var Oi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yh,useValue:t.callSetDisabledState??iv}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({imports:[Y1]})}}return n})(),qs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yh,useValue:t.callSetDisabledState??iv}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({imports:[Y1]})}}return n})();var Li=ud(wu());var i8=["favbutton"],o8=["favbuttondiv"],s8=(n,e)=>e.email,Z1=()=>({standalone:!0});function a8(n,e){if(n&1){let t=ln();R(0,"button",15),we("click",function(){let i=$e(t).$implicit,o=Be();return He(o.onOptionClick(i))}),ie(1,"img",16),A()}if(n&2){let t=e.$implicit;eo("right",t.pos),j(),UE("src",t.imagen,pi)}}var sv=class n{constructor(e,t,r){this.auth=e;this.router=t;this.firestore=r}favButton;favButtonDiv;userMail="";userPWD="";loggedUser="";flagError=!1;msjError="";fabOptions=[{email:"quebraffuyottu-7479@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"80px"},{email:"gruruttevauppeu-6330@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"140px"},{email:"xifroyaprouhoi-2328@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"200px"},{email:"veuqueuddauddamu-5932@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"260px"},{email:"gaukacreugrouxou-9905@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"320px"},{email:"admin@mail.com",pass:"123456",imagen:"/assets/images/admin.jpeg",pos:"380px"}];isExpanded=!1;convertBase64ToURL(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);let o=new Uint8Array(i),s=new Blob([o],{type:t});return URL.createObjectURL(s)}toggleFab(){this.isExpanded?(this.favButtonDiv.nativeElement.classList.remove("active"),this.favButton.nativeElement.innerText="+"):(this.favButtonDiv.nativeElement.classList.add("active"),this.favButton.nativeElement.innerText="-"),this.isExpanded=!this.isExpanded}onOptionClick(e){console.log("Clicked option:",e),this.CompletarInputs(e.email,e.pass)}obtenerFechaActual=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${t}/${r}/${i} ${o}:${s}`};Login(){return C(this,null,function*(){Li.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Li.default.showLoading()}}),yield _P(this.auth,this.userMail,this.userPWD).then(e=>C(this,null,function*(){if(e.user.email!==null){let t=e.user.uid,r=Jt(this.firestore,`usuarios/${t}`),o=(yield tr(r)).data();if(Li.default.close(),o?.rol=="paciente"&&e.user.emailVerified||o?.rol=="especialista"&&o?.verificado&&e.user.emailVerified||o?.rol=="administrador"){this.loggedUser=e.user.email;let s=Dr(this.firestore,"logins");switch(Hh(s,{fecha:new Date,user:this.loggedUser}),Li.default.fire({title:`Bienvenido ${o?.nombre}
Fecha de ingreso: ${this.obtenerFechaActual()}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),o?.rol){case"paciente":console.log("Ingreso un paciente"),this.flagError=!1,this.router.navigate(["home"]);break;case"especialista":console.log("Ingreso un especialista"),this.flagError=!1,this.router.navigate(["home"]);break;default:console.log("Ingreso un administrador"),this.flagError=!1,this.router.navigate(["home"]);break}}else o?.rol=="especialista"?(yo(this.auth),e.user.emailVerified?(yo(this.auth),Li.default.fire({title:"El administrador aun no valido su cuenta",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):Li.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):(yo(this.auth),Li.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}))}})).catch(e=>{switch(yo(this.auth),Li.default.close(),this.flagError=!0,console.log(e.code),e.code){case"auth/invalid-email":this.userMail==""?this.msjError="Por favor ingrese un mail":this.msjError="El mail ingresado es invalido";break;case"auth/invalid-credential":this.msjError="Contrase\xF1a incorrecta";break;case"auth/missing-password":this.msjError="Falta ingresar la contrase\xF1a";break;default:this.msjError="Ocurrio un error inesperado";break}Li.default.fire({title:`${this.msjError}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})})})}CompletarInputs(e,t){this.userMail=e,this.userPWD=t}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(Ln),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(In(i8,5),In(o8,5)),t&2){let i;un(i=dn())&&(r.favButton=i.first),un(i=dn())&&(r.favButtonDiv=i.first)}},standalone:!0,features:[Je],decls:24,vars:6,consts:[["mail",""],["pass",""],["favbuttondiv",""],["favbutton",""],[1,"main-container"],[1,"login-container","container-fluid"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Ingresa tu correo",3,"ngModelChange","ngModel","ngModelOptions"],["for","password"],["type","password","id","password","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],[3,"click"],[1,"fab-button-container"],[1,"fab-button","main-fab",3,"click"],[1,"fab-button","fab-option",3,"right"],[1,"fab-button","fab-option",3,"click"],["alt","",3,"src"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",4)(1,"div",5)(2,"h2"),F(3,"Iniciar sesi\xF3n"),A(),R(4,"form")(5,"div",6)(6,"label",7),F(7,"Correo electr\xF3nico"),A(),R(8,"input",8,0),Gm("ngModelChange",function(s){return $e(i),BE(r.userMail,s)||(r.userMail=s),He(s)}),A()(),R(10,"div",6)(11,"label",9),F(12,"Contrase\xF1a"),A(),R(13,"input",10,1),Gm("ngModelChange",function(s){return $e(i),BE(r.userPWD,s)||(r.userPWD=s),He(s)}),A()()(),R(15,"button",11),we("click",function(){return $e(i),He(r.Login())}),F(16,"Ingresar"),A()(),R(17,"div",12,2)(19,"button",13,3),we("click",function(){return $e(i),He(r.toggleFab())}),F(21,"+"),A(),lx(22,a8,2,3,"button",14,s8),A()()}t&2&&(j(8),qm("ngModel",r.userMail),te("ngModelOptions",$E(4,Z1)),j(5),qm("ngModel",r.userPWD),te("ngModelOptions",$E(5,Z1)),j(9),ux(r.fabOptions))},dependencies:[Oi,Pi,Sr,Ni,Mi,_T,vT,hn],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;flex-wrap:wrap;height:94.5vh;margin:0}.login-container[_ngcontent-%COMP%]{width:500px;max-height:350px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:200px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.fab-button-container[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;justify-content:end;padding:10px}.fab-button-container[_ngcontent-%COMP%]   .fab-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 8px #0000004d;cursor:pointer;transition:background-color .3s ease}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:0;transform:scale(0);pointer-events:auto}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto;right:80px;padding:0}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}']})};function c8(n,e){if(n&1&&(R(0,"div",4)(1,"button",5),F(2,"Mi Perfil"),A()()),n&2){let t=Be();eo("background-image","url("+t.userData.imagen1+")")}}function l8(n,e){if(n&1&&(R(0,"div",4)(1,"button",5),F(2,"Mi Perfil"),A()()),n&2){let t=Be();eo("background-image","url("+t.userData.imagen+")")}}function u8(n,e){n&1&&(R(0,"div",2)(1,"div",6)(2,"button",7),F(3,"Permisos y Administracion"),A()()())}function d8(n,e){}var av=class n{constructor(e,t){this.auth=e;this.firestore=t}userData;ngOnInit(){return C(this,null,function*(){let e=this.auth.currentUser?.uid,t=Jt(this.firestore,`usuarios/${e}`),r=yield tr(t);this.userData=r.data()})}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-home"]],standalone:!0,features:[Je],decls:7,vars:2,consts:[[1,"main-container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","box-shadow"],[1,"card-body","perfil",3,"background-image"],[1,"card-body","perfil"],["type","button","routerLink","/perfil",1,"btn","btn-lg","btn-block","btn-primary"],[1,"card-body","permisos"],["type","button","routerLink","/gestion-usuarios",1,"btn","btn-lg","btn-block","btn-primary"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"div",2),le(3,c8,3,2,"div",3)(4,l8,3,2,"div",3),A(),le(5,u8,4,0,"div",2)(6,d8,0,0),A()()),t&2&&(j(3),lr(r.userData.rol=="paciente"?3:4),j(2),lr(r.userData.rol=="administrador"?5:6))},dependencies:[As,Ds,Oi,hn],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0}.card-deck[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:left;padding:50px}.card[_ngcontent-%COMP%]{width:30%;margin:10px;min-height:400px;box-shadow:0 4px 8px #000}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:90%;background-color:#2c8ab3;border:#2c8ab3}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.card[_ngcontent-%COMP%]   .permisos[_ngcontent-%COMP%]{background-image:url(/assets/images/permisos.jpg);border-radius:5px;background-size:cover}.card[_ngcontent-%COMP%]   .perfil[_ngcontent-%COMP%]{border-radius:5px;background-size:cover;background-position:center}"]})};var pc=ud(wu());var h8=new J("recaptcha-language"),f8=new J("recaptcha-base-url"),p8=new J("recaptcha-nonce-tag"),ET=new J("recaptcha-settings"),J1=new J("recaptcha-v3-site-key"),m8=new J("recaptcha-loader-options");function g8(n,e,t,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:c}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let u=c||o;u&&s.setAttribute("nonce",u),s.async=!0,s.defer=!0,document.head.appendChild(s)}function y8({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let r=n?{key:n}:"explicit";X1.loadScript(r,e,t)}var X1={loadScript:g8,newLoadScript:y8};function v8(n){return n.asObservable().pipe(vn(e=>e!==null))}var bT=(()=>{class n{static{this.ready=null}constructor(t,r,i,o,s,a){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let c=this.init();this.ready=c?v8(c):he()}init(){if(n.ready)return n.ready;if(!XE(this.platformId))return;let t=new Kt(null);return n.ready=t,X1.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),t.next(i)}}),t}static{this.\u0275fac=function(r){return new(r||n)(ne(Zn),ne(h8,8),ne(f8,8),ne(p8,8),ne(J1,8),ne(m8,8))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),_8=0,fc=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${_8++}`,this.errorMode="default",this.resolved=new et,this.error=new et,this.errored=new et,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||n)(Y(kn),Y(bT),Y(Me),Y(ET,8))}}static{this.\u0275cmp=Qe({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Tl("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),ek=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})(),Gs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({providers:[bT],imports:[ek]})}}return n})(),tk=(()=>{class n{constructor(t,r,i){this.recaptchaLoader=r,this.zone=t,this.siteKey=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new _t,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new _t,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(t){let r=new _t;return this.grecaptcha?this.executeActionWithSubject(t,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,r])),r.asObservable()}executeActionWithSubject(t,r){let i=o=>{this.zone.run(()=>{r.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:t,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:t}).then(o=>{this.zone.run(()=>{r.next(o),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:t,token:o})})},i)}catch(o){i(o)}})}init(){this.recaptchaLoader.ready.subscribe(t=>{this.grecaptcha=t,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,i])=>this.executeActionWithSubject(r,i)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(r){return new(r||n)(ne(Me),ne(bT),ne(J1))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();var Eu=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}static{this.\u0275fac=function(r){return new(r||n)(Y(fc))}}static{this.\u0275dir=st({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(r,i){r&1&&we("resolved",function(s){return i.onResolve(s)})},features:[Ir([{multi:!0,provide:Ao,useExisting:Wn(()=>n)}])]})}}return n})(),bu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({imports:[Oi,ek]})}}return n})();var Ws=class n{constructor(e){this.firestore=e}registrarUsuarios(e,t){return C(this,null,function*(){try{let r=Jt(this.firestore,`usuarios/${e}`);console.log(`usuarios/${e}`),yield yu(r,t),console.log("Usuario registrado con \xE9xito en Firestore")}catch(r){console.error("Error al registrar usuario:",r)}})}static \u0275fac=function(t){return new(t||n)(ne(mt))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};var w8=["fileInput"];function E8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function b8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function I8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"La edad debe ser entre 18 y 99"),A(),Ge())}function C8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"Se deben ingresar 8 digitos"),A(),Ge())}function T8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"Formato de email invalido"),A(),Ge())}function D8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),A(),Ge())}function A8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"Ingrese una imagen"),A(),Ge())}function S8(n,e){n&1&&(qe(0),R(1,"small",17),F(2,"Complete el recaptcha"),A(),Ge())}var cv=class n{constructor(e,t,r){this.usuarioService=e;this.auth=t;this.firestore=r}fileInput;registerForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new Ar({nombre:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),apellido:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),edad:new de("",[ce.min(18),ce.max(99),ce.required]),dni:new de("",[ce.required,ce.minLength(8),ce.maxLength(8)]),email:new de("",[ce.required,ce.email]),password:new de("",[ce.required,ce.minLength(6)]),imagen:new de("",[ce.required,this.validarImagen]),recaptcha:new de("",ce.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){pc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{pc.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,rol:"administrador"},t=Jt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),i=(yield tr(t)).data(),o=this.auth.currentUser;Gl(this.auth,e.email,this.registerForm.value.password).then(s=>C(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),console.log(i?.rol),Wl(this.auth,o),pc.default.fire({title:"El usuario fue creado exitosamente",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.formularioEnviado=!1})).catch(s=>{switch(pc.default.close(),s.code){case"auth/email-already-in-use":pc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:pc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Y(Ws),Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-registro-admins"]],viewQuery:function(t,r){if(t&1&&In(w8,5),t&2){let i;un(i=dn())&&(r.fileInput=i.first)}},standalone:!0,features:[Je],decls:33,vars:9,consts:[["fileInput",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h2"),F(2,"Registro de Administradores"),A(),R(3,"form",2)(4,"div",3),ie(5,"input",4),le(6,E8,3,0,"ng-container",5),A(),R(7,"div",3),ie(8,"input",6),le(9,b8,3,0,"ng-container",5),A(),R(10,"div",3),ie(11,"input",7),le(12,I8,3,0,"ng-container",5),A(),R(13,"div",3),ie(14,"input",8),le(15,C8,3,0,"ng-container",5),A(),R(16,"div",3),ie(17,"input",9),le(18,T8,3,0,"ng-container",5),A(),R(19,"div",3),ie(20,"input",10),le(21,D8,3,0,"ng-container",5),A(),R(22,"div",11)(23,"label",12),F(24,"Imagen de perfil"),A(),R(25,"input",13,0),we("change",function(s){return $e(i),He(r.onFileChange(s,"imagen"))}),A(),le(27,A8,3,0,"ng-container",5),A(),R(28,"div",14)(29,"re-captcha",15),we("resolved",function(s){return $e(i),He(r.resolved(s))}),A(),le(30,S8,3,0,"ng-container",5),A(),R(31,"button",16),we("click",function(){return $e(i),He(r.onSubmit())}),F(32,"Registrar Administrador"),A()()()}t&2&&(j(3),te("formGroup",r.registerForm),j(3),te("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),j(6),te("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado),j(3),te("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[Oi,Pi,Sr,So,Ni,Mi,hn,vs,qs,Ro,xo,bu,Eu,Gs,fc],styles:[".register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left;height:60px;width:50%;font-size:15px}.recaptcha[_ngcontent-%COMP%]{height:90px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var R8=["pacientesBtn"],x8=["especialistasBtn"],N8=["administradoresBtn"];function M8(n,e){if(n&1&&(R(0,"tr")(1,"td"),ie(2,"img",10),A(),R(3,"td"),F(4),A(),R(5,"td"),F(6),A(),R(7,"td"),F(8),A(),R(9,"td"),F(10),A(),R(11,"td"),F(12),A(),R(13,"td"),F(14),A()()),n&2){let t=e.$implicit;j(2),te("src",t.imagen,pi),j(2),Fe(t.nombre),j(2),Fe(t.apellido),j(2),Fe(t.edad),j(2),Fe(t.dni),j(2),Fe(t.email),j(2),Fe(t.rol)}}function P8(n,e){if(n&1&&(R(0,"table",7)(1,"thead")(2,"tr"),ie(3,"th",8),R(4,"th",8),F(5,"Nombre"),A(),R(6,"th",8),F(7,"Apellido"),A(),R(8,"th",8),F(9,"Edad"),A(),R(10,"th",8),F(11,"DNI"),A(),R(12,"th",8),F(13,"Email"),A(),R(14,"th",8),F(15,"Rol"),A()()(),R(16,"tbody"),le(17,M8,15,7,"tr",9),A()()),n&2){let t=Be(2);j(17),te("ngForOf",t.usuarios)}}function O8(n,e){if(n&1){let t=ln();R(0,"input",14),we("click",function(){$e(t);let i=Be().$implicit,o=Be(3);return He(o.cambiarEstadoEspecialista(i,!1))}),A()}}function k8(n,e){if(n&1){let t=ln();R(0,"input",15),we("click",function(){$e(t);let i=Be().$implicit,o=Be(3);return He(o.cambiarEstadoEspecialista(i,!0))}),A()}}function L8(n,e){if(n&1&&(R(0,"tr")(1,"td"),ie(2,"img",10),A(),R(3,"td"),F(4),A(),R(5,"td"),F(6),A(),R(7,"td"),F(8),A(),R(9,"td"),F(10),A(),R(11,"td"),F(12),A(),R(13,"td"),F(14),A(),R(15,"td"),F(16),A(),R(17,"td")(18,"div",11),le(19,O8,1,0,"input",12)(20,k8,1,0,"input",13),A()()()),n&2){let t=e.$implicit;j(2),te("src",t.imagen,pi),j(2),Fe(t.nombre),j(2),Fe(t.apellido),j(2),Fe(t.edad),j(2),Fe(t.dni),j(2),Fe(t.email),j(2),Fe(t.especialidades),j(2),Fe(t.rol),j(3),lr(t.verificado?19:20)}}function F8(n,e){if(n&1&&(R(0,"table",7)(1,"thead")(2,"tr"),ie(3,"th",8),R(4,"th",8),F(5,"Nombre"),A(),R(6,"th",8),F(7,"Apellido"),A(),R(8,"th",8),F(9,"Edad"),A(),R(10,"th",8),F(11,"DNI"),A(),R(12,"th",8),F(13,"Email"),A(),R(14,"th",8),F(15,"Especialidades"),A(),R(16,"th",8),F(17,"Rol"),A(),R(18,"th",8),F(19,"Inhabilitado/Habilitado"),A()()(),R(20,"tbody"),le(21,L8,21,9,"tr",9),A()()),n&2){let t=Be(2);j(21),te("ngForOf",t.usuarios)}}function V8(n,e){if(n&1&&(R(0,"tr")(1,"td"),ie(2,"img",10),A(),R(3,"td"),F(4),A(),R(5,"td"),F(6),A(),R(7,"td"),F(8),A(),R(9,"td"),F(10),A(),R(11,"td"),F(12),A(),R(13,"td"),F(14),A(),R(15,"td"),F(16),A()()),n&2){let t=e.$implicit;j(2),te("src",t.imagen1,pi),j(2),Fe(t.nombre),j(2),Fe(t.apellido),j(2),Fe(t.edad),j(2),Fe(t.dni),j(2),Fe(t.email),j(2),Fe(t.obraSocial),j(2),Fe(t.rol)}}function U8(n,e){if(n&1&&(R(0,"table",7)(1,"thead")(2,"tr"),ie(3,"th",8),R(4,"th",8),F(5,"Nombre"),A(),R(6,"th",8),F(7,"Apellido"),A(),R(8,"th",8),F(9,"Edad"),A(),R(10,"th",8),F(11,"DNI"),A(),R(12,"th",8),F(13,"Email"),A(),R(14,"th",8),F(15,"Obra Social"),A(),R(16,"th",8),F(17,"Rol"),A()()(),R(18,"tbody"),le(19,V8,17,8,"tr",9),A()()),n&2){let t=Be(2);j(19),te("ngForOf",t.usuarios)}}function j8(n,e){if(n&1){let t=ln();R(0,"h2"),F(1,"Lista de Usuarios"),A(),R(2,"nav")(3,"button",5,0),we("click",function(){$e(t);let i=Be();return He(i.obtenerUsuarios(""))}),F(5,"Pacientes"),A(),R(6,"button",6,1),we("click",function(){$e(t);let i=Be();return He(i.obtenerUsuarios("especialistas"))}),F(8,"Especialistas"),A(),R(9,"button",6,2),we("click",function(){$e(t);let i=Be();return He(i.obtenerUsuarios("administradores"))}),F(11,"Administradores"),A()(),le(12,P8,18,1,"table",7)(13,F8,22,1,"table",7)(14,U8,20,1,"table",7)}if(n&2){let t=Be();j(12),lr(t.listaAdministradores?12:t.listaEspecialistas?13:14)}}function B8(n,e){n&1&&(R(0,"div",4)(1,"div",16)(2,"span",17),F(3,"Loading..."),A()()())}var lv=class n{constructor(e,t){this.auth=e;this.firestore=t}pacientesBtn;especialistasBtn;administradoresBtn;usuarios=[];usuariosCargados=!1;listaPacientes=!0;listaEspecialistas=!1;listaAdministradores=!1;ngOnInit(){this.obtenerUsuarios("")}obtenerUsuarios(e){return C(this,null,function*(){if(this.seleccionarLista(e),this.listaPacientes){let t=Dr(this.firestore,"usuarios");$s(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="paciente"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else if(this.listaEspecialistas){let t=Dr(this.firestore,"usuarios");$s(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="especialista"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else{let t=Dr(this.firestore,"usuarios");$s(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="administrador"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}})}seleccionarLista(e){switch(e){case"administradores":this.listaAdministradores=!0,this.listaEspecialistas=!1,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.add("active");break;case"especialistas":this.listaAdministradores=!1,this.listaEspecialistas=!0,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.add("active"),this.administradoresBtn.nativeElement.classList.remove("active");break;default:this.listaAdministradores=!1,this.listaEspecialistas=!1,this.listaPacientes=!0,this.usuariosCargados&&(this.pacientesBtn.nativeElement.classList.add("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.remove("active"));break}}cambiarEstadoEspecialista(e,t){return C(this,null,function*(){e.verificado=t;let r={nombre:e.nombre,apellido:e.apellido,dni:e.dni,edad:e.edad,email:e.email,especialidades:e.especialidades,imagen:e.imagen,rol:e.rol,verificado:e.verificado},i=Jt(this.firestore,`usuarios/${e.id}`);yield yu(i,r)})}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-lista-usuarios"]],viewQuery:function(t,r){if(t&1&&(In(R8,5),In(x8,5),In(N8,5)),t&2){let i;un(i=dn())&&(r.pacientesBtn=i.first),un(i=dn())&&(r.especialistasBtn=i.first),un(i=dn())&&(r.administradoresBtn=i.first)}},standalone:!0,features:[Je],decls:3,vars:1,consts:[["pacientesBtn",""],["especialistasBtn",""],["administradoresBtn",""],[1,"card"],[1,"d-flex","justify-content-center"],[1,"lista","active",3,"click"],[1,"lista",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[3,"src"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input",3,"click"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,r){t&1&&(R(0,"div",3),le(1,j8,15,1)(2,B8,4,0,"div",4),A()),t&2&&(j(),lr(r.usuariosCargados?1:2))},dependencies:[hn,ys],styles:[".card[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;display:block}.lista[_ngcontent-%COMP%]{background-color:#194a60;color:#fff}.lista.active[_ngcontent-%COMP%]{background-color:#2c8ab3;color:#000}"]})};var _v={};PF(_v,{afterMain:()=>ak,afterRead:()=>ik,afterWrite:()=>uk,applyStyles:()=>Cu,arrow:()=>dv,auto:()=>Jh,basePlacements:()=>No,beforeMain:()=>ok,beforeRead:()=>nk,beforeWrite:()=>ck,bottom:()=>Ut,clippingParents:()=>TT,computeStyles:()=>Du,createPopper:()=>cf,createPopperBase:()=>_k,createPopperLite:()=>wk,detectOverflow:()=>Un,end:()=>Ks,eventListeners:()=>Au,flip:()=>mv,hide:()=>gv,left:()=>bt,main:()=>sk,modifierPhases:()=>AT,offset:()=>yv,placements:()=>ef,popper:()=>mc,popperGenerator:()=>Ic,popperOffsets:()=>xu,preventOverflow:()=>vv,read:()=>rk,reference:()=>DT,right:()=>St,start:()=>Fi,top:()=>gt,variationPlacements:()=>uv,viewport:()=>Xh,write:()=>lk});var gt="top",Ut="bottom",St="right",bt="left",Jh="auto",No=[gt,Ut,St,bt],Fi="start",Ks="end",TT="clippingParents",Xh="viewport",mc="popper",DT="reference",uv=No.reduce(function(n,e){return n.concat([e+"-"+Fi,e+"-"+Ks])},[]),ef=[].concat(No,[Jh]).reduce(function(n,e){return n.concat([e,e+"-"+Fi,e+"-"+Ks])},[]),nk="beforeRead",rk="read",ik="afterRead",ok="beforeMain",sk="main",ak="afterMain",ck="beforeWrite",lk="write",uk="afterWrite",AT=[nk,rk,ik,ok,sk,ak,ck,lk,uk];function sn(n){return n?(n.nodeName||"").toLowerCase():null}function lt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Rr(n){var e=lt(n).Element;return n instanceof e||n instanceof Element}function Xt(n){var e=lt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Iu(n){if(typeof ShadowRoot>"u")return!1;var e=lt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function $8(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!Xt(o)||!sn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function H8(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Xt(i)||!sn(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Cu={name:"applyStyles",enabled:!0,phase:"write",fn:$8,effect:H8,requires:["computeStyles"]};function an(n){return n.split("-")[0]}var Qr=Math.max,gc=Math.min,Mo=Math.round;function Tu(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tf(){return!/^((?!chrome|android).)*safari/i.test(Tu())}function xr(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Xt(n)&&(i=n.offsetWidth>0&&Mo(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Mo(r.height)/n.offsetHeight||1);var s=Rr(n)?lt(n):window,a=s.visualViewport,c=!tf()&&t,u=(r.left+(c&&a?a.offsetLeft:0))/i,p=(r.top+(c&&a?a.offsetTop:0))/o,m=r.width/i,_=r.height/o;return{width:m,height:_,top:p,right:u+m,bottom:p+_,left:u,x:u,y:p}}function yc(n){var e=xr(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function nf(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Iu(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vn(n){return lt(n).getComputedStyle(n)}function ST(n){return["table","td","th"].indexOf(sn(n))>=0}function pn(n){return((Rr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Po(n){return sn(n)==="html"?n:n.assignedSlot||n.parentNode||(Iu(n)?n.host:null)||pn(n)}function dk(n){return!Xt(n)||Vn(n).position==="fixed"?null:n.offsetParent}function z8(n){var e=/firefox/i.test(Tu()),t=/Trident/i.test(Tu());if(t&&Xt(n)){var r=Vn(n);if(r.position==="fixed")return null}var i=Po(n);for(Iu(i)&&(i=i.host);Xt(i)&&["html","body"].indexOf(sn(i))<0;){var o=Vn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Yr(n){for(var e=lt(n),t=dk(n);t&&ST(t)&&Vn(t).position==="static";)t=dk(t);return t&&(sn(t)==="html"||sn(t)==="body"&&Vn(t).position==="static")?e:t||z8(n)||e}function vc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function _c(n,e,t){return Qr(n,gc(e,t))}function hk(n,e,t){var r=_c(n,e,t);return r>t?t:r}function rf(){return{top:0,right:0,bottom:0,left:0}}function of(n){return Object.assign({},rf(),n)}function sf(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var q8=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,of(typeof e!="number"?e:sf(e,No))};function G8(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=an(t.placement),c=vc(a),u=[bt,St].indexOf(a)>=0,p=u?"height":"width";if(!(!o||!s)){var m=q8(i.padding,t),_=yc(o),w=c==="y"?gt:bt,N=c==="y"?Ut:St,O=t.rects.reference[p]+t.rects.reference[c]-s[c]-t.rects.popper[p],M=s[c]-t.rects.reference[c],U=Yr(o),W=U?c==="y"?U.clientHeight||0:U.clientWidth||0:0,$=O/2-M/2,z=m[w],ee=W-_[p]-m[N],Q=W/2-_[p]/2+$,D=_c(z,Q,ee),b=c;t.modifiersData[r]=(e={},e[b]=D,e.centerOffset=D-Q,e)}}function W8(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||nf(e.elements.popper,i)&&(e.elements.arrow=i))}var dv={name:"arrow",enabled:!0,phase:"main",fn:G8,effect:W8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nr(n){return n.split("-")[1]}var K8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q8(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Mo(t*i)/i||0,y:Mo(r*i)/i||0}}function fk(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,s=n.offsets,a=n.position,c=n.gpuAcceleration,u=n.adaptive,p=n.roundOffsets,m=n.isFixed,_=s.x,w=_===void 0?0:_,N=s.y,O=N===void 0?0:N,M=typeof p=="function"?p({x:w,y:O}):{x:w,y:O};w=M.x,O=M.y;var U=s.hasOwnProperty("x"),W=s.hasOwnProperty("y"),$=bt,z=gt,ee=window;if(u){var Q=Yr(t),D="clientHeight",b="clientWidth";if(Q===lt(t)&&(Q=pn(t),Vn(Q).position!=="static"&&a==="absolute"&&(D="scrollHeight",b="scrollWidth")),Q=Q,i===gt||(i===bt||i===St)&&o===Ks){z=Ut;var I=m&&Q===ee&&ee.visualViewport?ee.visualViewport.height:Q[D];O-=I-r.height,O*=c?1:-1}if(i===bt||(i===gt||i===Ut)&&o===Ks){$=St;var S=m&&Q===ee&&ee.visualViewport?ee.visualViewport.width:Q[b];w-=S-r.width,w*=c?1:-1}}var x=Object.assign({position:a},u&&K8),P=p===!0?Q8({x:w,y:O},lt(t)):{x:w,y:O};if(w=P.x,O=P.y,c){var T;return Object.assign({},x,(T={},T[z]=W?"0":"",T[$]=U?"0":"",T.transform=(ee.devicePixelRatio||1)<=1?"translate("+w+"px, "+O+"px)":"translate3d("+w+"px, "+O+"px, 0)",T))}return Object.assign({},x,(e={},e[z]=W?O+"px":"",e[$]=U?w+"px":"",e.transform="",e))}function Y8(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,c=a===void 0?!0:a,u={placement:an(e.placement),variation:Nr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fk(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fk(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Du={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Y8,data:{}};var hv={passive:!0};function Z8(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=lt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(p){p.addEventListener("scroll",t.update,hv)}),a&&c.addEventListener("resize",t.update,hv),function(){o&&u.forEach(function(p){p.removeEventListener("scroll",t.update,hv)}),a&&c.removeEventListener("resize",t.update,hv)}}var Au={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Z8,data:{}};var J8={left:"right",right:"left",bottom:"top",top:"bottom"};function Su(n){return n.replace(/left|right|bottom|top/g,function(e){return J8[e]})}var X8={start:"end",end:"start"};function fv(n){return n.replace(/start|end/g,function(e){return X8[e]})}function wc(n){var e=lt(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Ec(n){return xr(pn(n)).left+wc(n).scrollLeft}function RT(n,e){var t=lt(n),r=pn(n),i=t.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var u=tf();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Ec(n),y:c}}function xT(n){var e,t=pn(n),r=wc(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Qr(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Qr(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ec(n),c=-r.scrollTop;return Vn(i||t).direction==="rtl"&&(a+=Qr(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function bc(n){var e=Vn(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function pv(n){return["html","body","#document"].indexOf(sn(n))>=0?n.ownerDocument.body:Xt(n)&&bc(n)?n:pv(Po(n))}function Qs(n,e){var t;e===void 0&&(e=[]);var r=pv(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=lt(r),s=i?[o].concat(o.visualViewport||[],bc(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Qs(Po(s)))}function Ru(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function e9(n,e){var t=xr(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function pk(n,e,t){return e===Xh?Ru(RT(n,t)):Rr(e)?e9(e,t):Ru(xT(pn(n)))}function t9(n){var e=Qs(Po(n)),t=["absolute","fixed"].indexOf(Vn(n).position)>=0,r=t&&Xt(n)?Yr(n):n;return Rr(r)?e.filter(function(i){return Rr(i)&&nf(i,r)&&sn(i)!=="body"}):[]}function NT(n,e,t,r){var i=e==="clippingParents"?t9(n):[].concat(e),o=[].concat(i,[t]),s=o[0],a=o.reduce(function(c,u){var p=pk(n,u,r);return c.top=Qr(p.top,c.top),c.right=gc(p.right,c.right),c.bottom=gc(p.bottom,c.bottom),c.left=Qr(p.left,c.left),c},pk(n,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function af(n){var e=n.reference,t=n.element,r=n.placement,i=r?an(r):null,o=r?Nr(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(i){case gt:c={x:s,y:e.y-t.height};break;case Ut:c={x:s,y:e.y+e.height};break;case St:c={x:e.x+e.width,y:a};break;case bt:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var u=i?vc(i):null;if(u!=null){var p=u==="y"?"height":"width";switch(o){case Fi:c[u]=c[u]-(e[p]/2-t[p]/2);break;case Ks:c[u]=c[u]+(e[p]/2-t[p]/2);break;default:}}return c}function Un(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,c=a===void 0?TT:a,u=t.rootBoundary,p=u===void 0?Xh:u,m=t.elementContext,_=m===void 0?mc:m,w=t.altBoundary,N=w===void 0?!1:w,O=t.padding,M=O===void 0?0:O,U=of(typeof M!="number"?M:sf(M,No)),W=_===mc?DT:mc,$=n.rects.popper,z=n.elements[N?W:_],ee=NT(Rr(z)?z:z.contextElement||pn(n.elements.popper),c,p,s),Q=xr(n.elements.reference),D=af({reference:Q,element:$,strategy:"absolute",placement:i}),b=Ru(Object.assign({},$,D)),I=_===mc?b:Q,S={top:ee.top-I.top+U.top,bottom:I.bottom-ee.bottom+U.bottom,left:ee.left-I.left+U.left,right:I.right-ee.right+U.right},x=n.modifiersData.offset;if(_===mc&&x){var P=x[i];Object.keys(S).forEach(function(T){var jt=[St,Ut].indexOf(T)>=0?1:-1,mn=[gt,Ut].indexOf(T)>=0?"y":"x";S[T]+=P[mn]*jt})}return S}function MT(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,u=c===void 0?ef:c,p=Nr(r),m=p?a?uv:uv.filter(function(N){return Nr(N)===p}):No,_=m.filter(function(N){return u.indexOf(N)>=0});_.length===0&&(_=m);var w=_.reduce(function(N,O){return N[O]=Un(n,{placement:O,boundary:i,rootBoundary:o,padding:s})[an(O)],N},{});return Object.keys(w).sort(function(N,O){return w[N]-w[O]})}function n9(n){if(an(n)===Jh)return[];var e=Su(n);return[fv(n),e,fv(e)]}function r9(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!0:s,c=t.fallbackPlacements,u=t.padding,p=t.boundary,m=t.rootBoundary,_=t.altBoundary,w=t.flipVariations,N=w===void 0?!0:w,O=t.allowedAutoPlacements,M=e.options.placement,U=an(M),W=U===M,$=c||(W||!N?[Su(M)]:n9(M)),z=[M].concat($).reduce(function(Sn,xt){return Sn.concat(an(xt)===Jh?MT(e,{placement:xt,boundary:p,rootBoundary:m,padding:u,flipVariations:N,allowedAutoPlacements:O}):xt)},[]),ee=e.rects.reference,Q=e.rects.popper,D=new Map,b=!0,I=z[0],S=0;S<z.length;S++){var x=z[S],P=an(x),T=Nr(x)===Fi,jt=[gt,Ut].indexOf(P)>=0,mn=jt?"width":"height",Bt=Un(e,{placement:x,boundary:p,rootBoundary:m,altBoundary:_,padding:u}),Rt=jt?T?St:bt:T?Ut:gt;ee[mn]>Q[mn]&&(Rt=Su(Rt));var jn=Su(Rt),gn=[];if(o&&gn.push(Bt[P]<=0),a&&gn.push(Bt[Rt]<=0,Bt[jn]<=0),gn.every(function(Sn){return Sn})){I=x,b=!1;break}D.set(x,gn)}if(b)for(var en=N?3:1,pr=function(xt){var Zr=z.find(function(Rn){var rr=D.get(Rn);if(rr)return rr.slice(0,xt).every(function(ia){return ia})});if(Zr)return I=Zr,"break"},yt=en;yt>0;yt--){var ut=pr(yt);if(ut==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}var mv={name:"flip",enabled:!0,phase:"main",fn:r9,requiresIfExists:["offset"],data:{_skip:!1}};function mk(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function gk(n){return[gt,St,Ut,bt].some(function(e){return n[e]>=0})}function i9(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Un(e,{elementContext:"reference"}),a=Un(e,{altBoundary:!0}),c=mk(s,r),u=mk(a,i,o),p=gk(c),m=gk(u);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var gv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i9};function o9(n,e,t){var r=an(n),i=[bt,gt].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[bt,St].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function s9(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,s=ef.reduce(function(p,m){return p[m]=o9(m,e.rects,o),p},{}),a=s[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var yv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s9};function a9(n){var e=n.state,t=n.name;e.modifiersData[t]=af({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var xu={name:"popperOffsets",enabled:!0,phase:"read",fn:a9,data:{}};function PT(n){return n==="x"?"y":"x"}function c9(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!1:s,c=t.boundary,u=t.rootBoundary,p=t.altBoundary,m=t.padding,_=t.tether,w=_===void 0?!0:_,N=t.tetherOffset,O=N===void 0?0:N,M=Un(e,{boundary:c,rootBoundary:u,padding:m,altBoundary:p}),U=an(e.placement),W=Nr(e.placement),$=!W,z=vc(U),ee=PT(z),Q=e.modifiersData.popperOffsets,D=e.rects.reference,b=e.rects.popper,I=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,S=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(Q){if(o){var T,jt=z==="y"?gt:bt,mn=z==="y"?Ut:St,Bt=z==="y"?"height":"width",Rt=Q[z],jn=Rt+M[jt],gn=Rt-M[mn],en=w?-b[Bt]/2:0,pr=W===Fi?D[Bt]:b[Bt],yt=W===Fi?-b[Bt]:-D[Bt],ut=e.elements.arrow,Sn=w&&ut?yc(ut):{width:0,height:0},xt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rf(),Zr=xt[jt],Rn=xt[mn],rr=_c(0,D[Bt],Sn[Bt]),ia=$?D[Bt]/2-en-rr-Zr-S.mainAxis:pr-rr-Zr-S.mainAxis,Jr=$?-D[Bt]/2+en+rr+Rn+S.mainAxis:yt+rr+Rn+S.mainAxis,mr=e.elements.arrow&&Yr(e.elements.arrow),Xr=mr?z==="y"?mr.clientTop||0:mr.clientLeft||0:0,Uo=(T=x?.[z])!=null?T:0,$t=Rt+ia-Uo-Xr,xn=Rt+Jr-Uo,oa=_c(w?gc(jn,$t):jn,Rt,w?Qr(gn,xn):gn);Q[z]=oa,P[z]=oa-Rt}if(a){var Ht,jo=z==="x"?gt:bt,sa=z==="x"?Ut:St,ir=Q[ee],Ie=ee==="y"?"height":"width",yn=ir+M[jo],or=ir-M[sa],Nn=[gt,bt].indexOf(U)!==-1,nt=(Ht=x?.[ee])!=null?Ht:0,dt=Nn?yn:ir-D[Ie]-b[Ie]-nt+S.altAxis,ht=Nn?ir+D[Ie]+b[Ie]-nt-S.altAxis:or,It=w&&Nn?hk(dt,ir,ht):_c(w?dt:yn,ir,w?ht:or);Q[ee]=It,P[ee]=It-ir}e.modifiersData[r]=P}}var vv={name:"preventOverflow",enabled:!0,phase:"main",fn:c9,requiresIfExists:["offset"]};function OT(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function kT(n){return n===lt(n)||!Xt(n)?wc(n):OT(n)}function l9(n){var e=n.getBoundingClientRect(),t=Mo(e.width)/n.offsetWidth||1,r=Mo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function LT(n,e,t){t===void 0&&(t=!1);var r=Xt(e),i=Xt(e)&&l9(e),o=pn(e),s=xr(n,i,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((sn(e)!=="body"||bc(o))&&(a=kT(e)),Xt(e)?(c=xr(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Ec(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function u9(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function FT(n){var e=u9(n);return AT.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function VT(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function UT(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var yk={placement:"bottom",modifiers:[],strategy:"absolute"};function vk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ic(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?yk:i;return function(a,c,u){u===void 0&&(u=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},yk,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},m=[],_=!1,w={state:p,setOptions:function(U){var W=typeof U=="function"?U(p.options):U;O(),p.options=Object.assign({},o,p.options,W),p.scrollParents={reference:Rr(a)?Qs(a):a.contextElement?Qs(a.contextElement):[],popper:Qs(c)};var $=FT(UT([].concat(r,p.options.modifiers)));return p.orderedModifiers=$.filter(function(z){return z.enabled}),N(),w.update()},forceUpdate:function(){if(!_){var U=p.elements,W=U.reference,$=U.popper;if(vk(W,$)){p.rects={reference:LT(W,Yr($),p.options.strategy==="fixed"),popper:yc($)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(S){return p.modifiersData[S.name]=Object.assign({},S.data)});for(var z=0;z<p.orderedModifiers.length;z++){if(p.reset===!0){p.reset=!1,z=-1;continue}var ee=p.orderedModifiers[z],Q=ee.fn,D=ee.options,b=D===void 0?{}:D,I=ee.name;typeof Q=="function"&&(p=Q({state:p,options:b,name:I,instance:w})||p)}}}},update:VT(function(){return new Promise(function(M){w.forceUpdate(),M(p)})}),destroy:function(){O(),_=!0}};if(!vk(a,c))return w;w.setOptions(u).then(function(M){!_&&u.onFirstUpdate&&u.onFirstUpdate(M)});function N(){p.orderedModifiers.forEach(function(M){var U=M.name,W=M.options,$=W===void 0?{}:W,z=M.effect;if(typeof z=="function"){var ee=z({state:p,name:U,instance:w,options:$}),Q=function(){};m.push(ee||Q)}})}function O(){m.forEach(function(M){return M()}),m=[]}return w}}var _k=Ic();var d9=[Au,xu,Du,Cu],wk=Ic({defaultModifiers:d9});var h9=[Au,xu,Du,Cu,yv,mv,vv,dv,gv],cf=Ic({defaultModifiers:h9});var Ys=new Map,jT={set(n,e,t){Ys.has(n)||Ys.set(n,new Map);let r=Ys.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ys.has(n)&&Ys.get(n).get(e)||null},remove(n,e){if(!Ys.has(n))return;let t=Ys.get(n);t.delete(e),t.size===0&&Ys.delete(n)}},f9=1e6,p9=1e3,tD="transitionend",Qk=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),m9=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),g9=n=>{do n+=Math.floor(Math.random()*f9);while(document.getElementById(n));return n},y9=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*p9)},Yk=n=>{n.dispatchEvent(new Event(tD))},Oo=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Zs=n=>Oo(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Qk(n)):null,Fu=n=>{if(!Oo(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Js=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Zk=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?Zk(n.parentNode):null},Sv=()=>{},pf=n=>{n.offsetHeight},Jk=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,BT=[],v9=n=>{document.readyState==="loading"?(BT.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of BT)e()}),BT.push(n)):n()},Mr=()=>document.documentElement.dir==="rtl",Or=n=>{v9(()=>{let e=Jk();if(e){let t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},nr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,Xk=(n,e,t=!0)=>{if(!t){nr(n);return}let i=y9(e)+5,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(tD,s),nr(n))};e.addEventListener(tD,s),setTimeout(()=>{o||Yk(e)},i)},sD=(n,e,t,r)=>{let i=n.length,o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},_9=/[^.]*(?=\..*)\.|.*/,w9=/\..*/,E9=/::\d+$/,$T={},Ek=1,eL={mouseenter:"mouseover",mouseleave:"mouseout"},b9=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tL(n,e){return e&&`${e}::${Ek++}`||n.uidEvent||Ek++}function nL(n){let e=tL(n);return n.uidEvent=e,$T[e]=$T[e]||{},$T[e]}function I9(n,e){return function t(r){return aD(r,{delegateTarget:n}),t.oneOff&&B.off(n,r.type,e),e.apply(n,[r])}}function C9(n,e,t){return function r(i){let o=n.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return aD(i,{delegateTarget:s}),r.oneOff&&B.off(n,i.type,e,t),t.apply(s,[i])}}function rL(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function iL(n,e,t){let r=typeof e=="string",i=r?t:e||t,o=oL(n);return b9.has(o)||(o=n),[r,i,o]}function bk(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,s,a]=iL(e,t,r);e in eL&&(s=(N=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return N.call(this,O)})(s));let c=nL(n),u=c[a]||(c[a]={}),p=rL(u,s,o?t:null);if(p){p.oneOff=p.oneOff&&i;return}let m=tL(s,e.replace(_9,"")),_=o?C9(n,t,s):I9(n,s);_.delegationSelector=o?t:null,_.callable=s,_.oneOff=i,_.uidEvent=m,u[m]=_,n.addEventListener(a,_,o)}function nD(n,e,t,r,i){let o=rL(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function T9(n,e,t,r){let i=e[t]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&nD(n,e,t,s.callable,s.delegationSelector)}function oL(n){return n=n.replace(w9,""),eL[n]||n}var B={on(n,e,t,r){bk(n,e,t,r,!1)},one(n,e,t,r){bk(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;let[i,o,s]=iL(e,t,r),a=s!==e,c=nL(n),u=c[s]||{},p=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;nD(n,c,s,o,i?t:null);return}if(p)for(let m of Object.keys(c))T9(n,c,m,e.slice(1));for(let[m,_]of Object.entries(u)){let w=m.replace(E9,"");(!a||e.includes(w))&&nD(n,c,s,_.callable,_.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let r=Jk(),i=oL(e),o=e!==i,s=null,a=!0,c=!0,u=!1;o&&r&&(s=r.Event(e,t),r(n).trigger(s),a=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());let p=aD(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&p.preventDefault(),c&&n.dispatchEvent(p),p.defaultPrevented&&s&&s.preventDefault(),p}};function aD(n,e={}){for(let[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function Ik(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function HT(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var ko={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${HT(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${HT(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Ik(n.dataset[r])}return e},getDataAttribute(n,e){return Ik(n.getAttribute(`data-bs-${HT(e)}`))}},Dc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=Oo(t)?ko.getDataAttribute(t,"config"):{};return q(q(q(q({},this.constructor.Default),typeof r=="object"?r:{}),Oo(t)?ko.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,i]of Object.entries(t)){let o=e[r],s=Oo(o)?"element":m9(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}},D9="5.3.3",fr=class extends Dc{constructor(e,t){super(),e=Zs(e),e&&(this._element=e,this._config=this._getConfig(t),jT.set(this._element,this.constructor.DATA_KEY,this))}dispose(){jT.remove(this._element,this.constructor.DATA_KEY),B.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){Xk(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return jT.get(Zs(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return D9}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},zT=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Qk(t)).join(","):null},ue={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Js(t)&&Fu(t))},getSelectorFromElement(n){let e=zT(n);return e&&ue.findOne(e)?e:null},getElementFromSelector(n){let e=zT(n);return e?ue.findOne(e):null},getMultipleElementsFromSelector(n){let e=zT(n);return e?ue.find(e):[]}},Vv=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;B.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Js(this))return;let o=ue.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},A9="alert",S9="bs.alert",sL=`.${S9}`,R9=`close${sL}`,x9=`closed${sL}`,N9="fade",M9="show",Rv=class n extends fr{static get NAME(){return A9}close(){if(B.trigger(this._element,R9).defaultPrevented)return;this._element.classList.remove(M9);let t=this._element.classList.contains(N9);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),B.trigger(this._element,x9),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Vv(Rv,"close");Or(Rv);var P9="button",O9="bs.button",k9=`.${O9}`,L9=".data-api",F9="active",Ck='[data-bs-toggle="button"]',V9=`click${k9}${L9}`,xv=class n extends fr{static get NAME(){return P9}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(F9))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};B.on(document,V9,Ck,n=>{n.preventDefault();let e=n.target.closest(Ck);xv.getOrCreateInstance(e).toggle()});Or(xv);var U9="swipe",Vu=".bs.swipe",j9=`touchstart${Vu}`,B9=`touchmove${Vu}`,$9=`touchend${Vu}`,H9=`pointerdown${Vu}`,z9=`pointerup${Vu}`,q9="touch",G9="pen",W9="pointer-event",K9=40,Q9={endCallback:null,leftCallback:null,rightCallback:null},Y9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Nv=class n extends Dc{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Q9}static get DefaultType(){return Y9}static get NAME(){return U9}dispose(){B.off(this._element,Vu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),nr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=K9)return;let t=e/this._deltaX;this._deltaX=0,t&&nr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(B.on(this._element,H9,e=>this._start(e)),B.on(this._element,z9,e=>this._end(e)),this._element.classList.add(W9)):(B.on(this._element,j9,e=>this._start(e)),B.on(this._element,B9,e=>this._move(e)),B.on(this._element,$9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===G9||e.pointerType===q9)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Z9="carousel",J9="bs.carousel",na=`.${J9}`,aL=".data-api",X9="ArrowLeft",eK="ArrowRight",tK=500,lf="next",Nu="prev",Pu="left",Dv="right",nK=`slide${na}`,qT=`slid${na}`,rK=`keydown${na}`,iK=`mouseenter${na}`,oK=`mouseleave${na}`,sK=`dragstart${na}`,aK=`load${na}${aL}`,cK=`click${na}${aL}`,cL="carousel",wv="active",lK="slide",uK="carousel-item-end",dK="carousel-item-start",hK="carousel-item-next",fK="carousel-item-prev",lL=".active",uL=".carousel-item",pK=lL+uL,mK=".carousel-item img",gK=".carousel-indicators",yK="[data-bs-slide], [data-bs-slide-to]",vK='[data-bs-ride="carousel"]',_K={[X9]:Dv,[eK]:Pu},wK={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},EK={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},df=class n extends fr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(gK,this._element),this._addEventListeners(),this._config.ride===cL&&this.cycle()}static get Default(){return wK}static get DefaultType(){return EK}static get NAME(){return Z9}next(){this._slide(lf)}nextWhenVisible(){!document.hidden&&Fu(this._element)&&this.next()}prev(){this._slide(Nu)}pause(){this._isSliding&&Yk(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){B.one(this._element,qT,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){B.one(this._element,qT,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?lf:Nu;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&B.on(this._element,rK,e=>this._keydown(e)),this._config.pause==="hover"&&(B.on(this._element,iK,()=>this.pause()),B.on(this._element,oK,()=>this._maybeEnableCycle())),this._config.touch&&Nv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of ue.find(mK,this._element))B.on(r,sK,i=>i.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(Pu)),rightCallback:()=>this._slide(this._directionToOrder(Dv)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),tK+this._config.interval))}};this._swipeHelper=new Nv(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=_K[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ue.findOne(lL,this._indicatorsElement);t.classList.remove(wv),t.removeAttribute("aria-current");let r=ue.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(wv),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),i=e===lf,o=t||sD(this._getItems(),r,i,this._config.wrap);if(o===r)return;let s=this._getItemIndex(o),a=w=>B.trigger(this._element,w,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:s});if(a(nK).defaultPrevented||!r||!o)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let p=i?dK:uK,m=i?hK:fK;o.classList.add(m),pf(o),r.classList.add(p),o.classList.add(p);let _=()=>{o.classList.remove(p,m),o.classList.add(wv),r.classList.remove(wv,m,p),this._isSliding=!1,a(qT)};this._queueCallback(_,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(lK)}_getActive(){return ue.findOne(pK,this._element)}_getItems(){return ue.find(uL,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Mr()?e===Pu?Nu:lf:e===Pu?lf:Nu}_orderToDirection(e){return Mr()?e===Nu?Pu:Dv:e===Nu?Dv:Pu}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};B.on(document,cK,yK,function(n){let e=ue.getElementFromSelector(this);if(!e||!e.classList.contains(cL))return;n.preventDefault();let t=df.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ko.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});B.on(window,aK,()=>{let n=ue.find(vK);for(let e of n)df.getOrCreateInstance(e)});Or(df);var bK="collapse",IK="bs.collapse",mf=`.${IK}`,CK=".data-api",TK=`show${mf}`,DK=`shown${mf}`,AK=`hide${mf}`,SK=`hidden${mf}`,RK=`click${mf}${CK}`,GT="show",ku="collapse",Ev="collapsing",xK="collapsed",NK=`:scope .${ku} .${ku}`,MK="collapse-horizontal",PK="width",OK="height",kK=".collapse.show, .collapse.collapsing",rD='[data-bs-toggle="collapse"]',LK={parent:null,toggle:!0},FK={parent:"(null|element)",toggle:"boolean"},Mv=class n extends fr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let r=ue.find(rD);for(let i of r){let o=ue.getSelectorFromElement(i),s=ue.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return LK}static get DefaultType(){return FK}static get NAME(){return bK}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(kK).filter(a=>a!==this._element).map(a=>n.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||B.trigger(this._element,TK).defaultPrevented)return;for(let a of e)a.hide();let r=this._getDimension();this._element.classList.remove(ku),this._element.classList.add(Ev),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(Ev),this._element.classList.add(ku,GT),this._element.style[r]="",B.trigger(this._element,DK)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||B.trigger(this._element,AK).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,pf(this._element),this._element.classList.add(Ev),this._element.classList.remove(ku,GT);for(let i of this._triggerArray){let o=ue.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ev),this._element.classList.add(ku),B.trigger(this._element,SK)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(GT)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Zs(e.parent),e}_getDimension(){return this._element.classList.contains(MK)?PK:OK}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(rD);for(let t of e){let r=ue.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){let t=ue.find(NK,this._config.parent);return ue.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle(xK,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};B.on(document,RK,rD,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of ue.getMultipleElementsFromSelector(this))Mv.getOrCreateInstance(e,{toggle:!1}).toggle()});Or(Mv);var Tk="dropdown",VK="bs.dropdown",Ac=`.${VK}`,cD=".data-api",UK="Escape",Dk="Tab",jK="ArrowUp",Ak="ArrowDown",BK=2,$K=`hide${Ac}`,HK=`hidden${Ac}`,zK=`show${Ac}`,qK=`shown${Ac}`,dL=`click${Ac}${cD}`,hL=`keydown${Ac}${cD}`,GK=`keyup${Ac}${cD}`,Ou="show",WK="dropup",KK="dropend",QK="dropstart",YK="dropup-center",ZK="dropdown-center",Cc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',JK=`${Cc}.${Ou}`,Av=".dropdown-menu",XK=".navbar",e7=".navbar-nav",t7=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n7=Mr()?"top-end":"top-start",r7=Mr()?"top-start":"top-end",i7=Mr()?"bottom-end":"bottom-start",o7=Mr()?"bottom-start":"bottom-end",s7=Mr()?"left-start":"right-start",a7=Mr()?"right-start":"left-start",c7="top",l7="bottom",u7={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},d7={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Xs=class n extends fr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,Av)[0]||ue.prev(this._element,Av)[0]||ue.findOne(Av,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return u7}static get DefaultType(){return d7}static get NAME(){return Tk}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Js(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!B.trigger(this._element,zK,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(e7))for(let r of[].concat(...document.body.children))B.on(r,"mouseover",Sv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ou),this._element.classList.add(Ou),B.trigger(this._element,qK,e)}}hide(){if(Js(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!B.trigger(this._element,$K,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))B.off(r,"mouseover",Sv);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ou),this._element.classList.remove(Ou),this._element.setAttribute("aria-expanded","false"),ko.removeDataAttribute(this._menu,"popper"),B.trigger(this._element,HK,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Oo(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Tk.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof _v>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Oo(this._config.reference)?e=Zs(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=cf(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ou)}_getPlacement(){let e=this._parent;if(e.classList.contains(KK))return s7;if(e.classList.contains(QK))return a7;if(e.classList.contains(YK))return c7;if(e.classList.contains(ZK))return l7;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(WK)?t?r7:n7:t?o7:i7}_detectNavbar(){return this._element.closest(XK)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ko.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),q(q({},e),nr(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let r=ue.find(t7,this._menu).filter(i=>Fu(i));r.length&&sD(r,t,e===Ak,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===BK||e.type==="keyup"&&e.key!==Dk)return;let t=ue.find(JK);for(let r of t){let i=n.getInstance(r);if(!i||i._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Dk||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r=e.key===UK,i=[jK,Ak].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();let o=this.matches(Cc)?this:ue.prev(this,Cc)[0]||ue.next(this,Cc)[0]||ue.findOne(Cc,e.delegateTarget.parentNode),s=n.getOrCreateInstance(o);if(i){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};B.on(document,hL,Cc,Xs.dataApiKeydownHandler);B.on(document,hL,Av,Xs.dataApiKeydownHandler);B.on(document,dL,Xs.clearMenus);B.on(document,GK,Xs.clearMenus);B.on(document,dL,Cc,function(n){n.preventDefault(),Xs.getOrCreateInstance(this).toggle()});Or(Xs);var fL="backdrop",h7="fade",Sk="show",Rk=`mousedown.bs.${fL}`,f7={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},p7={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Pv=class extends Dc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return f7}static get DefaultType(){return p7}static get NAME(){return fL}show(e){if(!this._config.isVisible){nr(e);return}this._append();let t=this._getElement();this._config.isAnimated&&pf(t),t.classList.add(Sk),this._emulateAnimation(()=>{nr(e)})}hide(e){if(!this._config.isVisible){nr(e);return}this._getElement().classList.remove(Sk),this._emulateAnimation(()=>{this.dispose(),nr(e)})}dispose(){this._isAppended&&(B.off(this._element,Rk),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(h7),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Zs(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),B.on(e,Rk,()=>{nr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Xk(e,this._getElement(),this._config.isAnimated)}},m7="focustrap",g7="bs.focustrap",Ov=`.${g7}`,y7=`focusin${Ov}`,v7=`keydown.tab${Ov}`,_7="Tab",w7="forward",xk="backward",E7={autofocus:!0,trapElement:null},b7={autofocus:"boolean",trapElement:"element"},kv=class extends Dc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return E7}static get DefaultType(){return b7}static get NAME(){return m7}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),B.off(document,Ov),B.on(document,y7,e=>this._handleFocusin(e)),B.on(document,v7,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,B.off(document,Ov))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=ue.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===xk?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===_7&&(this._lastTabNavDirection=e.shiftKey?xk:w7)}},Nk=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mk=".sticky-top",bv="padding-right",Pk="margin-right",hf=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,bv,t=>t+e),this._setElementAttributes(Nk,bv,t=>t+e),this._setElementAttributes(Mk,Pk,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,bv),this._resetElementAttributes(Nk,bv),this._resetElementAttributes(Mk,Pk)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let i=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&ko.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){let r=i=>{let o=ko.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}ko.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Oo(e)){t(e);return}for(let r of ue.find(e,this._element))t(r)}},I7="modal",C7="bs.modal",Pr=`.${C7}`,T7=".data-api",D7="Escape",A7=`hide${Pr}`,S7=`hidePrevented${Pr}`,pL=`hidden${Pr}`,mL=`show${Pr}`,R7=`shown${Pr}`,x7=`resize${Pr}`,N7=`click.dismiss${Pr}`,M7=`mousedown.dismiss${Pr}`,P7=`keydown.dismiss${Pr}`,O7=`click${Pr}${T7}`,Ok="modal-open",k7="fade",kk="show",WT="modal-static",L7=".modal.show",F7=".modal-dialog",V7=".modal-body",U7='[data-bs-toggle="modal"]',j7={backdrop:!0,focus:!0,keyboard:!0},B7={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},ea=class n extends fr{constructor(e,t){super(e,t),this._dialog=ue.findOne(F7,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hf,this._addEventListeners()}static get Default(){return j7}static get DefaultType(){return B7}static get NAME(){return I7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||B.trigger(this._element,mL,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ok),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||B.trigger(this._element,A7).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(kk),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){B.off(window,Pr),B.off(this._dialog,Pr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pv({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new kv({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ue.findOne(V7,this._dialog);t&&(t.scrollTop=0),pf(this._element),this._element.classList.add(kk);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,B.trigger(this._element,R7,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){B.on(this._element,P7,e=>{if(e.key===D7){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),B.on(window,x7,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),B.on(this._element,M7,e=>{B.one(this._element,N7,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ok),this._resetAdjustments(),this._scrollBar.reset(),B.trigger(this._element,pL)})}_isAnimated(){return this._element.classList.contains(k7)}_triggerBackdropTransition(){if(B.trigger(this._element,S7).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(WT)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(WT),this._queueCallback(()=>{this._element.classList.remove(WT),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let i=Mr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){let i=Mr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};B.on(document,O7,U7,function(n){let e=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),B.one(e,mL,i=>{i.defaultPrevented||B.one(e,pL,()=>{Fu(this)&&this.focus()})});let t=ue.findOne(L7);t&&ea.getInstance(t).hide(),ea.getOrCreateInstance(e).toggle(this)});Vv(ea);Or(ea);var $7="offcanvas",H7="bs.offcanvas",Lo=`.${H7}`,gL=".data-api",z7=`load${Lo}${gL}`,q7="Escape",Lk="show",Fk="showing",Vk="hiding",G7="offcanvas-backdrop",yL=".offcanvas.show",W7=`show${Lo}`,K7=`shown${Lo}`,Q7=`hide${Lo}`,Uk=`hidePrevented${Lo}`,vL=`hidden${Lo}`,Y7=`resize${Lo}`,Z7=`click${Lo}${gL}`,J7=`keydown.dismiss${Lo}`,X7='[data-bs-toggle="offcanvas"]',eQ={backdrop:!0,keyboard:!0,scroll:!1},tQ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},ta=class n extends fr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return eQ}static get DefaultType(){return tQ}static get NAME(){return $7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||B.trigger(this._element,W7,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new hf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Fk);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Lk),this._element.classList.remove(Fk),B.trigger(this._element,K7,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||B.trigger(this._element,Q7).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Vk),this._backdrop.hide();let t=()=>{this._element.classList.remove(Lk,Vk),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hf().reset(),B.trigger(this._element,vL)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){B.trigger(this._element,Uk);return}this.hide()},t=!!this._config.backdrop;return new Pv({className:G7,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new kv({trapElement:this._element})}_addEventListeners(){B.on(this._element,J7,e=>{if(e.key===q7){if(this._config.keyboard){this.hide();return}B.trigger(this._element,Uk)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};B.on(document,Z7,X7,function(n){let e=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Js(this))return;B.one(e,vL,()=>{Fu(this)&&this.focus()});let t=ue.findOne(yL);t&&t!==e&&ta.getInstance(t).hide(),ta.getOrCreateInstance(e).toggle(this)});B.on(window,z7,()=>{for(let n of ue.find(yL))ta.getOrCreateInstance(n).show()});B.on(window,Y7,()=>{for(let n of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ta.getOrCreateInstance(n).hide()});Vv(ta);Or(ta);var nQ=/^aria-[\w-]*$/i,_L={"*":["class","dir","id","lang","role",nQ],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rQ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,oQ=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?rQ.has(t)?!!iQ.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function sQ(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let c=[].concat(...s.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(let p of c)oQ(p,u)||s.removeAttribute(p.nodeName)}return i.body.innerHTML}var aQ="TemplateFactory",cQ={allowList:_L,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},lQ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},uQ={entry:"(string|element|function|null)",selector:"(string|element)"},iD=class extends Dc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return cQ}static get DefaultType(){return lQ}static get NAME(){return aQ}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=q(q({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},uQ)}_setContent(e,t,r){let i=ue.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Oo(t)){this._putElementInTemplate(Zs(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?sQ(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return nr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},dQ="tooltip",hQ=new Set(["sanitize","allowList","sanitizeFn"]),KT="fade",fQ="modal",Iv="show",pQ=".tooltip-inner",jk=`.${fQ}`,Bk="hide.bs.modal",uf="hover",QT="focus",mQ="click",gQ="manual",yQ="hide",vQ="hidden",_Q="show",wQ="shown",EQ="inserted",bQ="click",IQ="focusin",CQ="focusout",TQ="mouseenter",DQ="mouseleave",AQ={AUTO:"auto",TOP:"top",RIGHT:Mr()?"left":"right",BOTTOM:"bottom",LEFT:Mr()?"right":"left"},SQ={allowList:_L,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},RQ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Lu=class n extends fr{constructor(e,t){if(typeof _v>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return SQ}static get DefaultType(){return RQ}static get NAME(){return dQ}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),B.off(this._element.closest(jk),Bk,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=B.trigger(this._element,this.constructor.eventName(_Q)),r=(Zk(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),B.trigger(this._element,this.constructor.eventName(EQ))),this._popper=this._createPopper(i),i.classList.add(Iv),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))B.on(a,"mouseover",Sv);let s=()=>{B.trigger(this._element,this.constructor.eventName(wQ)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||B.trigger(this._element,this.constructor.eventName(yQ)).defaultPrevented)return;if(this._getTipElement().classList.remove(Iv),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))B.off(i,"mouseover",Sv);this._activeTrigger[mQ]=!1,this._activeTrigger[QT]=!1,this._activeTrigger[uf]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),B.trigger(this._element,this.constructor.eventName(vQ)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(KT,Iv),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=g9(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(KT),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iD(De(q({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[pQ]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(KT)}_isShown(){return this.tip&&this.tip.classList.contains(Iv)}_createPopper(e){let t=nr(this._config.placement,[this,e,this._element]),r=AQ[t.toUpperCase()];return cf(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return nr(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return q(q({},t),nr(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")B.on(this._element,this.constructor.eventName(bQ),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==gQ){let r=t===uf?this.constructor.eventName(TQ):this.constructor.eventName(IQ),i=t===uf?this.constructor.eventName(DQ):this.constructor.eventName(CQ);B.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?QT:uf]=!0,s._enter()}),B.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?QT:uf]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},B.on(this._element.closest(jk),Bk,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=ko.getDataAttributes(this._element);for(let r of Object.keys(t))hQ.has(r)&&delete t[r];return e=q(q({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Zs(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Or(Lu);var xQ="popover",NQ=".popover-header",MQ=".popover-body",PQ=De(q({},Lu.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),OQ=De(q({},Lu.DefaultType),{content:"(null|string|element|function)"}),oD=class n extends Lu{static get Default(){return PQ}static get DefaultType(){return OQ}static get NAME(){return xQ}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[NQ]:this._getTitle(),[MQ]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Or(oD);var kQ="scrollspy",LQ="bs.scrollspy",lD=`.${LQ}`,FQ=".data-api",VQ=`activate${lD}`,$k=`click${lD}`,UQ=`load${lD}${FQ}`,jQ="dropdown-item",Mu="active",BQ='[data-bs-spy="scroll"]',YT="[href]",$Q=".nav, .list-group",Hk=".nav-link",HQ=".nav-item",zQ=".list-group-item",qQ=`${Hk}, ${HQ} > ${Hk}, ${zQ}`,GQ=".dropdown",WQ=".dropdown-toggle",KQ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},QQ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Lv=class n extends fr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return KQ}static get DefaultType(){return QQ}static get NAME(){return kQ}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Zs(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(B.off(this._config.target,$k),B.on(this._config.target,$k,YT,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(r(s),!i)return;continue}!o&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ue.find(YT,this._config.target);for(let t of e){if(!t.hash||Js(t))continue;let r=ue.findOne(decodeURI(t.hash),this._element);Fu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Mu),this._activateParents(e),B.trigger(this._element,VQ,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(jQ)){ue.findOne(WQ,e.closest(GQ)).classList.add(Mu);return}for(let t of ue.parents(e,$Q))for(let r of ue.prev(t,qQ))r.classList.add(Mu)}_clearActiveClass(e){e.classList.remove(Mu);let t=ue.find(`${YT}.${Mu}`,e);for(let r of t)r.classList.remove(Mu)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};B.on(window,UQ,()=>{for(let n of ue.find(BQ))Lv.getOrCreateInstance(n)});Or(Lv);var YQ="tab",ZQ="bs.tab",Sc=`.${ZQ}`,JQ=`hide${Sc}`,XQ=`hidden${Sc}`,eY=`show${Sc}`,tY=`shown${Sc}`,nY=`click${Sc}`,rY=`keydown${Sc}`,iY=`load${Sc}`,oY="ArrowLeft",zk="ArrowRight",sY="ArrowUp",qk="ArrowDown",ZT="Home",Gk="End",Tc="active",Wk="fade",JT="show",aY="dropdown",wL=".dropdown-toggle",cY=".dropdown-menu",XT=`:not(${wL})`,lY='.list-group, .nav, [role="tablist"]',uY=".nav-item, .list-group-item",dY=`.nav-link${XT}, .list-group-item${XT}, [role="tab"]${XT}`,EL='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',eD=`${dY}, ${EL}`,hY=`.${Tc}[data-bs-toggle="tab"], .${Tc}[data-bs-toggle="pill"], .${Tc}[data-bs-toggle="list"]`,ff=class n extends fr{constructor(e){super(e),this._parent=this._element.closest(lY),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),B.on(this._element,rY,t=>this._keydown(t)))}static get NAME(){return YQ}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?B.trigger(t,JQ,{relatedTarget:e}):null;B.trigger(e,eY,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Tc),this._activate(ue.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(JT);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),B.trigger(e,tY,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(Wk))}_deactivate(e,t){if(!e)return;e.classList.remove(Tc),e.blur(),this._deactivate(ue.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(JT);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),B.trigger(e,XQ,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(Wk))}_keydown(e){if(![oY,zk,sY,qk,ZT,Gk].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(i=>!Js(i)),r;if([ZT,Gk].includes(e.key))r=t[e.key===ZT?0:t.length-1];else{let i=[zk,qk].includes(e.key);r=sD(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}_getChildren(){return ue.find(eD,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=ue.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains(aY))return;let i=(o,s)=>{let a=ue.findOne(o,r);a&&a.classList.toggle(s,t)};i(wL,Tc),i(cY,JT),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Tc)}_getInnerElement(e){return e.matches(eD)?e:ue.findOne(eD,e)}_getOuterElement(e){return e.closest(uY)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};B.on(document,nY,EL,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Js(this)&&ff.getOrCreateInstance(this).show()});B.on(window,iY,()=>{for(let n of ue.find(hY))ff.getOrCreateInstance(n)});Or(ff);var fY="toast",pY="bs.toast",ra=`.${pY}`,mY=`mouseover${ra}`,gY=`mouseout${ra}`,yY=`focusin${ra}`,vY=`focusout${ra}`,_Y=`hide${ra}`,wY=`hidden${ra}`,EY=`show${ra}`,bY=`shown${ra}`,IY="fade",Kk="hide",Cv="show",Tv="showing",CY={animation:"boolean",autohide:"boolean",delay:"number"},TY={animation:!0,autohide:!0,delay:5e3},Fv=class n extends fr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return TY}static get DefaultType(){return CY}static get NAME(){return fY}show(){if(B.trigger(this._element,EY).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(IY);let t=()=>{this._element.classList.remove(Tv),B.trigger(this._element,bY),this._maybeScheduleHide()};this._element.classList.remove(Kk),pf(this._element),this._element.classList.add(Cv,Tv),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||B.trigger(this._element,_Y).defaultPrevented)return;let t=()=>{this._element.classList.add(Kk),this._element.classList.remove(Tv,Cv),B.trigger(this._element,wY)};this._element.classList.add(Tv),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cv),super.dispose()}isShown(){return this._element.classList.contains(Cv)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){B.on(this._element,mY,e=>this._onInteraction(e,!0)),B.on(this._element,gY,e=>this._onInteraction(e,!1)),B.on(this._element,yY,e=>this._onInteraction(e,!0)),B.on(this._element,vY,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Vv(Fv);Or(Fv);var Rc=ud(wu());var DY=["fileInput"];function AY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function SY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function RY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"La edad debe ser entre 18 y 99"),A(),Ge())}function xY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"Se deben ingresar 8 digitos"),A(),Ge())}function NY(n,e){if(n&1){let t=ln();R(0,"li",26),we("click",function(){let i=$e(t).$implicit,o=Be(2);return He(o.addTagFromSelect(i))}),F(1),A()}if(n&2){let t=e.$implicit;te("value",t),j(),Fe(t)}}function MY(n,e){if(n&1&&(R(0,"ul",24),le(1,NY,2,2,"li",25),A()),n&2){let t=Be();j(),te("ngForOf",t.especialidadesList)}}function PY(n,e){if(n&1){let t=ln();R(0,"span",27),F(1),R(2,"button",28),we("click",function(){let i=$e(t).index,o=Be();return He(o.removeTag(i))}),F(3,"x"),A()()}if(n&2){let t=e.$implicit;j(),zm(" ",t," ")}}function OY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"Ingrese por lo menos una especialidad"),A(),Ge())}function kY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"Formato de email invalido"),A(),Ge())}function LY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),A(),Ge())}function FY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"Ingrese una imagen"),A(),Ge())}function VY(n,e){n&1&&(qe(0),R(1,"small",23),F(2,"Complete el recaptcha"),A(),Ge())}var Uu=class n{constructor(e,t,r){this.usuarioService=e;this.auth=t;this.firestore=r}fileInput;registerForm;especialidadesList=["","Medicina","Enfermer\xEDa","Odontolog\xEDa","Psicolog\xEDa"];formularioEnviado=!1;tags=[];showDropdown=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new Ar({nombre:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),apellido:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),edad:new de("",[ce.min(18),ce.max(99),ce.required]),dni:new de("",[ce.required,ce.minLength(8),ce.maxLength(8)]),email:new de("",[ce.required,ce.email]),especialidades:new de(""),password:new de("",[ce.required,ce.minLength(6)]),imagen:new de("",[ce.required,this.validarImagen]),recaptcha:new de("",ce.required)})}resolved(e){this.recaptchaResponse=e}addTag(){let e=this.registerForm.value.especialidades.trim();e&&!this.tags.includes(e)&&(this.tags.push(e),this.registerForm.value.especialidades="")}removeTag(e){this.tags.splice(e,1)}handleKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.addTag(),this.showDropdown=!1,this.especialidades?.reset())}addTagFromSelect(e){e&&!this.tags.includes(e)&&this.tags.push(e)}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}handleInputFocus(){this.showDropdown=!0}handleInputBlur(){setTimeout(()=>{this.showDropdown=!1},200)}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){Rc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Rc.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,especialidades:this.tags,verificado:!1,rol:"especialista"},t=Jt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),i=(yield tr(t)).data(),o=this.auth.currentUser;Gl(this.auth,e.email,this.registerForm.value.password).then(s=>C(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),Xg(this.auth.currentUser),console.log(i?.rol),i?.rol=="administrador"?Wl(this.auth,o):yo(this.auth),Rc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.tags=[],this.formularioEnviado=!1})).catch(s=>{switch(Rc.default.close(),s.code){case"auth/email-already-in-use":Rc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:Rc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get especialidades(){return this.registerForm.get("especialidades")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Y(Ws),Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-registro-especialista"]],viewQuery:function(t,r){if(t&1&&In(DY,5),t&2){let i;un(i=dn())&&(r.fileInput=i.first)}},standalone:!0,features:[Je],decls:39,vars:12,consts:[["fileInput",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],[1,"form-group","especialidad"],["placeholder","Ingrese una especialidad","type","text","formControlName","especialidades",3,"keydown","focus","blur"],["id","especialidad",4,"ngIf"],[1,"tags-input-container"],["class","tag",4,"ngFor","ngForOf"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],[1,"form-group","password"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"],["id","especialidad"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"],[1,"tag"],[1,"remove-btn",3,"click"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",1)(1,"h2"),F(2,"Registro de Especialistas"),A(),R(3,"form",2)(4,"div",3),ie(5,"input",4),le(6,AY,3,0,"ng-container",5),A(),R(7,"div",3),ie(8,"input",6),le(9,SY,3,0,"ng-container",5),A(),R(10,"div",3),ie(11,"input",7),le(12,RY,3,0,"ng-container",5),A(),R(13,"div",3),ie(14,"input",8),le(15,xY,3,0,"ng-container",5),A(),R(16,"div",9)(17,"input",10),we("keydown",function(s){return $e(i),He(r.handleKeyDown(s))})("focus",function(){return $e(i),He(r.handleInputFocus())})("blur",function(){return $e(i),He(r.handleInputBlur())}),A(),le(18,MY,2,1,"ul",11),R(19,"div",12),le(20,PY,4,1,"span",13),A(),le(21,OY,3,0,"ng-container",5),A(),R(22,"div",3),ie(23,"input",14),le(24,kY,3,0,"ng-container",5),A(),R(25,"div",15),ie(26,"input",16),le(27,LY,3,0,"ng-container",5),A(),R(28,"div",17)(29,"label",18),F(30,"Imagen de perfil"),A(),R(31,"input",19,0),we("change",function(s){return $e(i),He(r.onFileChange(s,"imagen"))}),A(),le(33,FY,3,0,"ng-container",5),A(),R(34,"div",20)(35,"re-captcha",21),we("resolved",function(s){return $e(i),He(r.resolved(s))}),A(),le(36,VY,3,0,"ng-container",5),A(),R(37,"button",22),we("click",function(){return $e(i),He(r.onSubmit())}),F(38,"Registrarse"),A()()()}t&2&&(j(3),te("formGroup",r.registerForm),j(3),te("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),j(3),te("ngIf",r.showDropdown&&r.especialidadesList.length),j(2),te("ngForOf",r.tags),j(),te("ngIf",r.tags.length==0&&r.formularioEnviado),j(3),te("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),j(6),te("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado),j(3),te("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[hn,ys,vs,qs,Pi,Sr,So,Ni,Mi,Ro,xo,bu,Eu,Gs,fc],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;min-height:94.5vh;margin:0}.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:60px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}ul[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto;list-style:none;position:fixed;background:#fff;width:550px;border:1px solid black;padding:0}li[_ngcontent-%COMP%]:hover{width:100%;background-color:#c4c4c4}.form-group[_ngcontent-%COMP%]{margin-bottom:30px;text-align:left;height:60px;width:47%}.especialidad[_ngcontent-%COMP%]{height:90px}.recaptcha[_ngcontent-%COMP%]{margin-bottom:60px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}#nueva-especialidad[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.tags-input-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;border:1px solid #ddd;border-radius:4px;cursor:text;gap:5px;max-height:70px;overflow-y:auto}.tag[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:3px;display:flex;align-items:center}.remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;margin-left:5px;font-size:12px}select[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;border-radius:4px}.imagen-perfil[_ngcontent-%COMP%]{width:100px;height:100px;margin:10px}.image-input[_ngcontent-%COMP%]{margin-bottom:30px}"]})};var xc=ud(wu());var UY=["fileInput1"],jY=["fileInput2"];function BY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function $Y(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"S\xF3lo debe contener letras"),A(),Ge())}function HY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"La edad debe ser entre 0 y 99"),A(),Ge())}function zY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Se deben ingresar 8 digitos"),A(),Ge())}function qY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Este campo es requerido"),A(),Ge())}function GY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Formato de email invalido"),A(),Ge())}function WY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),A(),Ge())}function KY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Ingrese una imagen"),A(),Ge())}function QY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Ingrese una imagen"),A(),Ge())}function YY(n,e){n&1&&(qe(0),R(1,"small",20),F(2,"Complete el recaptcha"),A(),Ge())}var ju=class n{constructor(e,t,r){this.usuarioService=e;this.auth=t;this.firestore=r}fileInput1;fileInput2;registroForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registroForm=new Ar({nombre:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),apellido:new de("",[ce.pattern("^[a-zA-Z]+$"),ce.required]),edad:new de("",[ce.min(0),ce.max(99),ce.required]),dni:new de("",[ce.required,ce.minLength(8),ce.maxLength(8)]),obraSocial:new de("",ce.required),email:new de("",[ce.required,ce.email]),password:new de("",[ce.required,ce.minLength(6)]),imagen1:new de("",[ce.required,this.validarImagen]),imagen2:new de("",[ce.required,this.validarImagen]),recaptcha:new de("",ce.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registroForm.valid){xc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{xc.default.showLoading()}});let e={nombre:this.registroForm.value.nombre,apellido:this.registroForm.value.apellido,edad:this.registroForm.value.edad,dni:this.registroForm.value.dni,obraSocial:this.registroForm.value.obraSocial,email:this.registroForm.value.email,imagen1:this.registroForm.value.imagen1,imagen2:this.registroForm.value.imagen2,rol:"paciente"},t=Jt(this.firestore,`usuarios/${this.auth.currentUser?.uid}`),i=(yield tr(t)).data(),o=this.auth.currentUser;Gl(this.auth,e.email,this.registroForm.value.password).then(s=>C(this,null,function*(){s.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),Xg(this.auth.currentUser),console.log(i?.rol),i?.rol=="administrador"?(Wl(this.auth,o),console.log("El usuario permanece logueado")):yo(this.auth),xc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registroForm.reset(),this.fileInput1.nativeElement.value="",this.fileInput2.nativeElement.value="",this.formularioEnviado=!1})).catch(s=>{switch(xc.default.close(),s.code){case"auth/email-already-in-use":xc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:xc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registroForm.get(t)?.setValue([o]),this.registroForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registroForm.get(t)?.setValue([]),this.registroForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registroForm.get("nombre")}get apellido(){return this.registroForm.get("apellido")}get edad(){return this.registroForm.get("edad")}get dni(){return this.registroForm.get("dni")}get obraSocial(){return this.registroForm.get("obraSocial")}get email(){return this.registroForm.get("email")}get password(){return this.registroForm.get("password")}get imagen1(){return this.registroForm.get("imagen1")}get imagen2(){return this.registroForm.get("imagen2")}get recaptcha(){return this.registroForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(Y(Ws),Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-registro-paciente"]],viewQuery:function(t,r){if(t&1&&(In(UY,5),In(jY,5)),t&2){let i;un(i=dn())&&(r.fileInput1=i.first),un(i=dn())&&(r.fileInput2=i.first)}},standalone:!0,features:[Je],decls:39,vars:11,consts:[["fileInput1",""],["fileInput2",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["type","text","id","apellido","formControlName","apellido","placeholder","Ingresa tu apellido"],["type","number","id","edad","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["type","text","id","obra-social","formControlName","obraSocial","placeholder","Ingresa tu obra social"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","images"],["for","imagenes"],["type","file","id","imagen1","accept","image/*",3,"change"],["type","file","id","imagen2","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=ln();R(0,"div",2)(1,"h2"),F(2,"Registro de Pacientes"),A(),R(3,"form",3)(4,"div",4),ie(5,"input",5),le(6,BY,3,0,"ng-container",6),A(),R(7,"div",4),ie(8,"input",7),le(9,$Y,3,0,"ng-container",6),A(),R(10,"div",4),ie(11,"input",8),le(12,HY,3,0,"ng-container",6),A(),R(13,"div",4),ie(14,"input",9),le(15,zY,3,0,"ng-container",6),A(),R(16,"div",4),ie(17,"input",10),le(18,qY,3,0,"ng-container",6),A(),R(19,"div",4),ie(20,"input",11),le(21,GY,3,0,"ng-container",6),A(),R(22,"div",4),ie(23,"input",12),le(24,WY,3,0,"ng-container",6),A(),R(25,"div",13)(26,"label",14),F(27,"Sube tus im\xE1genes"),A(),R(28,"input",15,0),we("change",function(s){return $e(i),He(r.onFileChange(s,"imagen1"))}),A(),le(30,KY,3,0,"ng-container",6),R(31,"input",16,1),we("change",function(s){return $e(i),He(r.onFileChange(s,"imagen2"))}),A(),le(33,QY,3,0,"ng-container",6),A(),R(34,"div",17)(35,"re-captcha",18),we("resolved",function(s){return $e(i),He(r.resolved(s))}),A(),le(36,YY,3,0,"ng-container",6),A(),R(37,"button",19),we("click",function(){return $e(i),He(r.onSubmit())}),F(38,"Registrarse"),A()()()}t&2&&(j(3),te("formGroup",r.registroForm),j(3),te("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.obraSocial==null?null:r.obraSocial.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),j(3),te("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),j(6),te("ngIf",(r.imagen1==null||r.imagen1.errors==null?null:r.imagen1.errors.invalidImageCount)&&r.formularioEnviado),j(3),te("ngIf",(r.imagen2==null||r.imagen2.errors==null?null:r.imagen2.errors.invalidImageCount)&&r.formularioEnviado),j(3),te("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[qs,Pi,Sr,So,Ni,Mi,Ro,xo,hn,vs,Gs,fc,bu,Eu],styles:['@charset "UTF-8";.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:50px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px;width:100%}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{text-align:left;height:100px;width:47%}.recaptcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;height:120px;flex-wrap:wrap}.recaptcha[_ngcontent-%COMP%]   re-captcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.images[_ngcontent-%COMP%]{height:170px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}']})};var Uv=class n{modal;ngAfterViewInit(){let e=document.getElementById("miModal");e&&(this.modal=new ea(e))}openModal(){this.modal?.show()}closeModal(){this.modal?.hide()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[Je],decls:18,vars:0,consts:[[1,"main-container"],["type","button","data-bs-toggle","modal","data-bs-target","#adminRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#especialistaRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#pacienteRegister",1,"btn","btn-primary"],["id","adminRegister","tabindex","-1","aria-labelledby","adminRegisterLabel","aria-hidden","true",1,"modal","fade","modal-lg"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","especialistaRegister","tabindex","-1","aria-labelledby","especialistaRegisterLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","pacienteRegister","tabindex","-1","aria-labelledby","pacienteRegisterLabel","aria-hidden","true",1,"modal","fade"]],template:function(t,r){t&1&&(R(0,"div",0),ie(1,"app-lista-usuarios"),R(2,"button",1),F(3," Registrar Administrador "),A(),R(4,"button",2),F(5," Registrar Especialista "),A(),R(6,"button",3),F(7," Registrar Paciente "),A(),R(8,"div",4)(9,"div",5)(10,"div",6),ie(11,"app-registro-admins"),A()()(),R(12,"div",7)(13,"div",8),ie(14,"app-registro-especialista"),A()(),R(15,"div",9)(16,"div",8),ie(17,"app-registro-paciente"),A()()())},dependencies:[cv,lv,Uu,ju],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px;height:94.5vh;margin:0}app-lista-usuarios[_ngcontent-%COMP%]{width:100%;height:600px;margin-top:20px}.modal-content[_ngcontent-%COMP%]{overflow-y:auto}"]})};var bL=(n,e)=>{let t=Jg(),r=G(Ln);return t.currentUser?!0:(r.navigate(["/login"]),!1)};var jv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-registro"]],standalone:!0,features:[Je],decls:2,vars:0,template:function(t,r){t&1&&(R(0,"body"),ie(1,"router-outlet"),A())},dependencies:[ih],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;height:94.5vh;margin:0;padding:0 50px}"]})};var Bv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-opciones-registro"]],standalone:!0,features:[Je],decls:21,vars:0,consts:[[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal","text-body-emphasis"],[1,"fs-5","text-body-secondary"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center","container-fluid"],[1,"col"],[1,"card-body"],["type","button","routerLink","../registro/registro-paciente",1,"w-100","btn","btn-lg"],[1,"image-button-container"],["src","/assets/images/paciente.jpg"],[1,"overlay-text"],["type","button","routerLink","../registro/registro-especialista",1,"w-100","btn","btn-lg"],["src","/assets/images/doctor.jpg"]],template:function(t,r){t&1&&(R(0,"header")(1,"div",0)(2,"h1",1),F(3,"Bienvenido"),A(),R(4,"p",2),F(5,"Seleccione una opci\xF3n"),A()()(),R(6,"div",3)(7,"div",4)(8,"div",5)(9,"button",6)(10,"div",7),ie(11,"img",8),R(12,"span",9),F(13,"Registrarse como paciente"),A()()()()(),R(14,"div",4)(15,"div",5)(16,"button",10)(17,"div",7),ie(18,"img",11),R(19,"span",9),F(20,"Registrarse como especialista"),A()()()()()())},dependencies:[As,Ds],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]{border-radius:50%;width:600px;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border-radius:50%;width:400px;height:400px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]{border-radius:50%;position:relative;width:400px;overflow:hidden}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:400px;max-height:400px;object-fit:cover;border:1px solid rgba(0,0,0,.357);display:block}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   .overlay-text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]:hover   .overlay-text[_ngcontent-%COMP%]{opacity:1}.row[_ngcontent-%COMP%]{margin:0}']})};function ZY(n,e){if(n&1&&(R(0,"div",3),ie(1,"input",10),R(2,"label",11),F(3),px(4,"titlecase"),A(),R(5,"label",11),F(6,"Desde:"),A(),ie(7,"input",12),R(8,"label",11),F(9,"Hasta:"),A(),ie(10,"input",12),A()),n&2){let t=e.$implicit;j(),te("id",t)("formControlName",t),j(),te("for",t),j(),Fe(mx(4,10,t)),j(2),te("for","inicio"+t),j(2),te("id","inicio"+t)("formControlName","inicio"+t),j(),te("for","fin"+t),j(2),te("id","fin"+t)("formControlName","fin"+t)}}function JY(n,e){if(n&1&&(R(0,"small",15),F(1),A()),n&2){let t=e.$implicit;j(),Fe(t)}}function XY(n,e){if(n&1&&(R(0,"div",13),le(1,JY,2,1,"small",14),ie(2,"br"),A()),n&2){let t=Be();j(),te("ngForOf",t.form.errors==null?null:t.form.errors.incompleteSchedule)}}function eZ(n,e){n&1&&(R(0,"div",13)(1,"small",15),F(2,"Ingrese el tiempo de la consulta"),A(),ie(3,"br"),A())}function tZ(n,e){if(n&1&&(R(0,"div",13)(1,"small",15),F(2),A(),ie(3,"br"),A()),n&2){let t=Be();j(2),Fe(t.form.errors==null?null:t.form.errors.sinDiasSeleccionados)}}var $v=class n{constructor(e,t){this.auth=e;this.firestore=t}horarioEspecialidad;listaHorarios=[];form;modal;dias=["lunes","martes","miercoles","jueves","viernes","sabado"];horariosCargados=!1;formularioEnviado=!1;ngOnInit(){this.form=new Ar({minutos:new de({value:"",disabled:!0},ce.required),lunes:new de(!1),iniciolunes:new de({value:"",disabled:!0}),finlunes:new de({value:"",disabled:!0}),martes:new de(!1),iniciomartes:new de({value:"",disabled:!0}),finmartes:new de({value:"",disabled:!0}),miercoles:new de(!1),iniciomiercoles:new de({value:"",disabled:!0}),finmiercoles:new de({value:"",disabled:!0}),jueves:new de(!1),iniciojueves:new de({value:"",disabled:!0}),finjueves:new de({value:"",disabled:!0}),viernes:new de(!1),inicioviernes:new de({value:"",disabled:!0}),finviernes:new de({value:"",disabled:!0}),sabado:new de(!1),iniciosabado:new de({value:"",disabled:!0}),finsabado:new de({value:"",disabled:!0})},{validators:[this.validateDias,this.validateAlMenosUnDiaSeleccionado]}),this.dias.forEach(e=>{this.form.get(e)?.valueChanges.subscribe(t=>{t?(this.form.get(`inicio${e}`)?.enable(),this.form.get(`fin${e}`)?.enable()):(this.form.get(`inicio${e}`)?.disable(),this.form.get(`fin${e}`)?.disable(),this.form.get(`inicio${e}`)?.reset(""),this.form.get(`fin${e}`)?.reset("")),this.actualizarMinutos(this.dias)})}),this.actualizarMinutos(this.dias),this.cargarFormulario()}validateDias(e){let t=["lunes","martes","miercoles","jueves","viernes","sabado"],r=[];for(let i of t){let o=e.get(i),s=e.get(`inicio${i}`),a=e.get(`fin${i}`);o?.value&&(!s?.value||!a?.value)&&r.push(`${i} tiene horarios incompletos`)}return r.length==0?null:{incompleteSchedule:r}}validateAlMenosUnDiaSeleccionado(e){return["lunes","martes","miercoles","jueves","viernes","sabado"].some(i=>e.get(i)?.value)?null:{sinDiasSeleccionados:"Por favor seleccione al menos un dia"}}obtenerDiasHabilitados(){let e=[];return this.dias.forEach(t=>{if(this.form.get(t)?.value){let r={diaAtencion:t,inicio:this.form.get(`inicio${t}`)?.value,fin:this.form.get(`fin${t}`)?.value};console.log(t),e.push(r)}}),e}actualizarMinutos(e){e.some(r=>this.form.get(r)?.value)?this.minutos?.enable():(this.minutos?.disable(),this.minutos?.reset(""))}obtenerHorarios(){return C(this,null,function*(){let e=Dr(this.firestore,"horariosAtencion");$s(e,t=>{t.forEach(r=>{let i=r.data();this.auth.currentUser?.uid==i.especialistaId&&(i.id=r.id,this.listaHorarios.push(i))}),this.horariosCargados=!0})})}cargarFormulario(){this.listaHorarios.forEach(e=>{e.especialidad==this.horarioEspecialidad&&e.especialistaId==this.auth.currentUser?.uid&&(this.minutos?.enable(),this.minutos.setValue(e.minutosTurno),e.horarios.forEach(t=>{this.form.get(`${t.diaAtencion}`)?.setValue(!0),this.form.get(`inicio${t.diaAtencion}`)?.setValue(t.inicio),this.form.get(`fin${t.diaAtencion}`)?.setValue(t.fin)}))})}CargarHorariosPorEspecialidad(){return C(this,null,function*(){this.formularioEnviado=!0;let e=!1,r={especialistaId:this.auth.currentUser?.uid,especialidad:this.horarioEspecialidad,minutosTurno:this.minutos.value,horarios:this.obtenerDiasHabilitados()};if(this.form.valid)try{for(let i of this.listaHorarios)if(i.especialidad==this.horarioEspecialidad&&i.especialistaId==this.auth.currentUser?.uid){let o=Jt(this.firestore,`horariosAtencion/${i.id}`);yield yu(o,r),e=!0,console.log("Se editaron los horarios de la especialidad")}if(!e){let i=Dr(this.firestore,"horariosAtencion");yield Hh(i,r),console.log("Se cargaron los horarios de la especialidad")}this.formularioEnviado=!1}catch(i){console.error("Error al registrar los horarios del usuario:",i)}else console.log("Formulario Invalido")})}CargarHorarios(){return C(this,null,function*(){let e=this.auth.currentUser?.uid,t=Jt(this.firestore,`usuarios/${e}`);(yield tr(t)).data()?.especialidades.forEach(o=>C(this,null,function*(){let s={especialistaId:this.auth.currentUser?.uid,especialidad:o,horarios:[{dia:"lunes",horaInicio:"08:00",horaFin:"19:00"},{dia:"martes",horaInicio:"08:00",horaFin:"19:00"},{dia:"miercoles",horaInicio:"08:00",horaFin:"19:00"},{dia:"jueves",horaInicio:"08:00",horaFin:"19:00"},{dia:"viernes",horaInicio:"08:00",horaFin:"19:00"},{dia:"sabado",horaInicio:"08:00",horaFin:"14:00"}],minutosTurno:30};try{let a=Dr(this.firestore,"horariosAtencion");yield Hh(a,s),console.log("Los horarios del usuario se registraron con exito")}catch(a){console.error("Error al registrar los horarios del usuario:",a)}}))})}get minutos(){return this.form.get("minutos")}set minutos(e){this.minutos.value=e}get lunes(){return this.form.get("lunes")}set lunes(e){this.lunes.value=e}get finlunes(){return this.form.get("finlunes")}set finlunes(e){this.finlunes.value=e}get iniciolunes(){return this.form.get("iniciolunes")}set iniciolunes(e){this.iniciolunes.value=e}get martes(){return this.form.get("martes")}set martes(e){this.martes.value=e}get finmartes(){return this.form.get("finmartes")}set finmartes(e){this.finmartes.value=e}get iniciomartes(){return this.form.get("iniciomartes")}set iniciomartes(e){this.iniciomartes.value=e}get miercoles(){return this.form.get("miercoles")}set miercoles(e){this.miercoles.value=e}get finmiercoles(){return this.form.get("finmiercoles")}set finmiercoles(e){this.finmiercoles.value=e}get iniciomiercoles(){return this.form.get("iniciomiercoles")}set iniciomiercoles(e){this.iniciomiercoles.value=e}get jueves(){return this.form.get("jueves")}set jueves(e){this.jueves.value=e}get finjueves(){return this.form.get("finjueves")}set finjueves(e){this.finjueves.value=e}get iniciojueves(){return this.form.get("iniciojueves")}set iniciojueves(e){this.iniciojueves.value=e}get viernes(){return this.form.get("viernes")}set viernes(e){this.viernes.value=e}get finviernes(){return this.form.get("finviernes")}set finviernes(e){this.finviernes.value=e}get inicioviernes(){return this.form.get("inicioviernes")}set inicioviernes(e){this.inicioviernes.value=e}get sabado(){return this.form.get("sabado")}set sabado(e){this.sabado.value=e}get finsabado(){return this.form.get("finsabado")}set finsabado(e){this.finsabado.value=e}get iniciosabado(){return this.form.get("iniciosabado")}set iniciosabado(e){this.iniciosabado.value=e}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-form-horarios"]],inputs:{horarioEspecialidad:"horarioEspecialidad",listaHorarios:"listaHorarios"},standalone:!0,features:[Je],decls:16,vars:5,consts:[[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],["for","minutos"],["id","minutos","formControlName","minutos"],["value","30"],["value","60"],["class","error",4,"ngIf"],[3,"click"],["type","checkbox",3,"id","formControlName"],[3,"for"],["type","number",3,"id","formControlName"],[1,"error"],["class","text-danger",4,"ngFor","ngForOf"],[1,"text-danger"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"form",1),le(2,ZY,11,12,"div",2),R(3,"div",3)(4,"label",4),F(5,"Tiempo de turno"),A(),R(6,"select",5)(7,"option",6),F(8,"30"),A(),R(9,"option",7),F(10,"60"),A()()(),le(11,XY,3,1,"div",8)(12,eZ,4,0,"div",8)(13,tZ,4,1,"div",8),R(14,"button",9),we("click",function(){return r.CargarHorariosPorEspecialidad()}),F(15,"Guardar horarios"),A()()()),t&2&&(j(),te("formGroup",r.form),j(),te("ngForOf",r.dias),j(9),te("ngIf",(r.form.errors==null?null:r.form.errors.incompleteSchedule)&&r.formularioEnviado),j(),te("ngIf",(r.minutos==null?null:r.minutos.invalid)&&r.formularioEnviado),j(),te("ngIf",(r.form.errors==null?null:r.form.errors.sinDiasSeleccionados)&&r.formularioEnviado))},dependencies:[qs,Pi,W1,Q1,Sr,So,pT,ov,Ni,Mi,Ro,xo,hn,ys,vs,Ox,Oi],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between}.error[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{width:100%}"]})};var nZ=["modal"];function rZ(n,e){if(n&1&&(R(0,"div",4),ie(1,"img",11)(2,"img",11),A()),n&2){let t=Be();j(),te("src",t.userData.imagen1,pi),j(),te("src",t.userData.imagen2,pi)}}function iZ(n,e){if(n&1&&ie(0,"div",4),n&2){let t=Be();eo("background-image","url("+t.userData.imagen+")")}}function oZ(n,e){if(n&1&&(R(0,"div",7)(1,"p",8),F(2,"Obra Social"),A()(),R(3,"div",9)(4,"p",10),F(5),A()()),n&2){let t=Be();j(5),Fe(t.userData.obraSocial)}}function sZ(n,e){if(n&1&&(R(0,"div",7)(1,"p",8),F(2,"Especialidades"),A()(),R(3,"div",9)(4,"p",10),F(5),A()()),n&2){let t=Be();j(5),Fe(t.userData.especialidades)}}function aZ(n,e){if(n&1&&(R(0,"div")(1,"h1"),F(2),A(),ie(3,"app-form-horarios",13),A()),n&2){let t=e.$implicit,r=Be(2);j(2),Fe(t),j(),te("horarioEspecialidad",t)("listaHorarios",r.horarios)}}function cZ(n,e){if(n&1&&(R(0,"div",6)(1,"div",3),le(2,aZ,4,3,"div",12),A()()),n&2){let t=Be();j(2),te("ngForOf",t.userData.especialidades)}}var Hv=class n{constructor(e,t){this.auth=e;this.firestore=t}modal;userData;horarios;horariosCargados=!1;ngOnInit(){return C(this,null,function*(){let e=this.auth.currentUser?.uid,t=Jt(this.firestore,`usuarios/${e}`),r=yield tr(t);this.userData=r.data(),this.obtenerHorarios()})}obtenerHorarios(){return C(this,null,function*(){let e=Dr(this.firestore,"horariosAtencion");$s(e,t=>{this.horarios=[],t.forEach(r=>{let i=r.data();this.auth.currentUser?.uid==i.especialistaId&&(i.id=r.id,this.horarios.push(i))}),console.log(this.horarios),this.horariosCargados=!0})})}static \u0275fac=function(t){return new(t||n)(Y(pt),Y(mt))};static \u0275cmp=Qe({type:n,selectors:[["app-perfil"]],viewQuery:function(t,r){if(t&1&&In(nZ,5),t&2){let i;un(i=dn())&&(r.modal=i.first)}},standalone:!0,features:[Je],decls:45,vars:8,consts:[[1,"main-container"],[1,"row"],[1,"col-lg-3"],[1,"card","mb-4","profile"],[1,"card-body"],[1,"card-body",3,"background-image"],[1,"col-lg-9"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],["alt","",3,"src"],[4,"ngFor","ngForOf"],[3,"horarioEspecialidad","listaHorarios"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),le(4,rZ,3,2,"div",4)(5,iZ,1,2,"div",5),A()(),R(6,"div",6)(7,"div",3)(8,"div",4)(9,"div",1)(10,"div",7)(11,"p",8),F(12,"Nombre Completo"),A()(),R(13,"div",9)(14,"p",10),F(15),A()()(),ie(16,"hr"),R(17,"div",1)(18,"div",7)(19,"p",8),F(20,"Email"),A()(),R(21,"div",9)(22,"p",10),F(23),A()()(),ie(24,"hr"),R(25,"div",1)(26,"div",7)(27,"p",8),F(28,"Edad"),A()(),R(29,"div",9)(30,"p",10),F(31),A()()(),ie(32,"hr"),R(33,"div",1)(34,"div",7)(35,"p",8),F(36,"D.N.I"),A()(),R(37,"div",9)(38,"p",10),F(39),A()()(),ie(40,"hr"),R(41,"div",1),le(42,oZ,6,1)(43,sZ,6,1),A()()()(),le(44,cZ,3,1,"div",6),A()()),t&2&&(j(4),lr(r.userData.rol=="paciente"?4:5),j(11),jE("",r.userData.nombre," ",r.userData.apellido,""),j(8),Fe(r.userData.email),j(8),Fe(r.userData.edad),j(8),Fe(r.userData.dni),j(3),lr(r.userData.rol=="paciente"?42:r.userData.rol=="especialista"?43:-1),j(2),lr(r.userData.rol=="especialista"&&r.horariosCargados?44:-1))},dependencies:[hn,ys,$v],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;min-height:94.5vh;margin:0;display:flex;align-items:center}.row[_ngcontent-%COMP%]{width:100%}.profile[_ngcontent-%COMP%]{min-height:50vh}.profile[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-radius:5px;background-size:cover;background-position:center}.profile[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0006}.modal.show[_ngcontent-%COMP%]{display:block}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:15% auto;padding:20px;border:1px solid #888;width:50%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})};var IL=[{component:Cg,path:""},{component:sv,path:"login"},{component:Bv,path:"opciones-registro"},{component:jv,path:"registro",children:[{component:ju,path:"registro-paciente"},{component:Uu,path:"registro-especialista"}]},{component:av,path:"home",canActivate:[bL]},{component:Uv,path:"gestion-usuarios"},{component:Hv,path:"perfil"}];var RL="firebasestorage.googleapis.com",lZ="storageBucket",uZ=2*60*1e3,dZ=10*60*1e3;var Vi=class n extends Fn{constructor(e,t,r=0){super(uD(e),`Firebase Storage: ${t} (${uD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Vo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Vo||{});function uD(n){return"storage/"+n}function hZ(){let n="An unknown error occurred, please check the error payload for server response.";return new Vi(Vo.UNKNOWN,n)}function fZ(){return new Vi(Vo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pZ(){return new Vi(Vo.CANCELED,"User canceled the upload/download.")}function mZ(n){return new Vi(Vo.INVALID_URL,"Invalid URL '"+n+"'.")}function gZ(n){return new Vi(Vo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CL(n){return new Vi(Vo.INVALID_ARGUMENT,n)}function xL(){return new Vi(Vo.APP_DELETED,"The Firebase app was deleted.")}function yZ(n){return new Vi(Vo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Fo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw gZ(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(z){z.path_=decodeURIComponent(z.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${p}/b/${i}/o${_}`,"i"),N={bucket:1,path:3},O=t===RL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",U=new RegExp(`^https?://${O}/${i}/${M}`,"i"),$=[{regex:a,indices:c,postModify:o},{regex:w,indices:N,postModify:u},{regex:U,indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<$.length;z++){let ee=$[z],Q=ee.regex.exec(e);if(Q){let D=Q[ee.indices.bucket],b=Q[ee.indices.path];b||(b=""),r=new n(D,b),ee.postModify(r);break}}if(r==null)throw mZ(e);return r}},dD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function vZ(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function p(...M){u||(u=!0,e.apply(null,M))}function m(M){i=setTimeout(()=>{i=null,n(w,c())},M)}function _(){o&&clearTimeout(o)}function w(M,...U){if(u){_();return}if(M){_(),p.call(null,M,...U);return}if(c()||s){_(),p.call(null,M,...U);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,m($)}let N=!1;function O(M){N||(N=!0,_(),!u&&(i!==null?(M||(a=2),clearTimeout(i),m(0)):M||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,O(!0)},t),O}function _Z(n){n(!1)}function wZ(n){return n!==void 0}function TL(n,e,t,r){if(r<e)throw CL(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw CL(`Invalid value for '${n}'. Expected ${t} or less.`)}function EZ(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var hD=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(hD||{});function bZ(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var fD=class{constructor(e,t,r,i,o,s,a,c,u,p,m,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,N)=>{this.resolve_=w,this.reject_=N,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Bu(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===hD.NO_ERROR,c=o.getStatus();if(!a||bZ(c,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===hD.ABORT;r(!1,new Bu(!1,null,p));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Bu(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());wZ(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=hZ();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?xL():pZ();s(c)}else{let c=fZ();s(c)}};this.canceled_?t(!1,new Bu(!1,null,!0)):this.backoffId_=vZ(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_Z(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function IZ(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CZ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TZ(n,e){e&&(n["X-Firebase-GMPID"]=e)}function DZ(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AZ(n,e,t,r,i,o,s=!0){let a=EZ(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return TZ(u,e),IZ(u,t),CZ(u,o),DZ(u,r),new fD(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function SZ(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RZ(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var jme=256*1024;var pD=class n{constructor(e,t){this._service=e,t instanceof Fo?this._location=t:this._location=Fo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Fo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RZ(this._location.path)}get storage(){return this._service}get parent(){let e=SZ(this._location.path);if(e===null)return null;let t=new Fo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yZ(e)}};function DL(n,e){let t=e?.[lZ];return t==null?null:Fo.makeFromBucketSpec(t,n)}function xZ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Sg(i,n.app.options.projectId))}var mD=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=RL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uZ,this._maxUploadRetryTime=dZ,this._requests=new Set,i!=null?this._bucket=Fo.makeFromBucketSpec(i,this._host):this._bucket=DL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fo.makeFromBucketSpec(this._url,e):this._bucket=DL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pD(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new dD(xL());{let s=AZ(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},AL="@firebase/storage",SL="0.13.2";var NL="storage";function ML(n=xs(),e){n=Lt(n);let r=Ka(n,NL).getImmediate({identifier:e}),i=Ag("storage");return i&&PL(r,...i),r}function PL(n,e,t,r={}){xZ(n,e,t,r)}function NZ(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new mD(t,r,i,e,wi)}function MZ(){_i(new Xn(NL,NZ,"PUBLIC").setMultipleInstances(!0)),at(AL,SL,""),at(AL,SL,"esm2017")}MZ();var gf=class{constructor(e){return e}},OL="storage",gD=class{constructor(){return Ya(OL)}};var yD=new J("angularfire2.storage-instances");function PZ(n,e){let t=Hl(OL,n,e);return t&&new gf(t)}function OZ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new gf(r)}}var kZ={provide:gD,deps:[[new Dt,yD]]},LZ={provide:gf,useFactory:PZ,deps:[[new Dt,yD],Gr]};function kL(n,...e){return at("angularfire",lo.full,"gcs"),Yn([LZ,kZ,{provide:yD,useFactory:OZ(n),multi:!0,deps:[Me,Qt,Ms,uo,[new Dt,tc],[new Dt,Ns],...e]}])}var LL=Yt(ML,!0);var FL={providers:[Ex({eventCoalescing:!0}),zN(IL),EM(()=>bM({projectId:"tp2-labo4-96998",appId:"1:551030929167:web:1f1f826c51083b0685707a",storageBucket:"tp2-labo4-96998.firebasestorage.app",apiKey:"AIzaSyCPPiaFLgtdkkMbMyrg-j3h-CwQm8aBZiY",authDomain:"tp2-labo4-96998.firebaseapp.com",messagingSenderId:"551030929167"})),vP(()=>Jg()),m1(()=>g1()),kL(()=>LL()),Gx(),rE(Gs,tk),{provide:ET,useValue:{siteKey:"6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih"}}]};var vD=ud(wu());function FZ(n,e){n&1&&(R(0,"button",2),ie(1,"img",3),F(2," Inicio "),A())}function VZ(n,e){if(n&1){let t=ln();R(0,"button",4),ie(1,"img",3),F(2," Inicio "),A(),R(3,"button",5),we("click",function(){$e(t);let i=Be();return He(i.logout())}),F(4," Salir "),A()}}var zv=class n{constructor(e,t){this.router=e;this.auth=t}title="tp2_labo4";goTo(e){console.log(e),this.router.navigate([e])}isLoggedOut(){return this.auth.currentUser==null}logout(){vD.default.fire({title:"\xBFEsta seguro que desea cerrar la sesi\xF3n?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Cerrar Sesi\xF3n",cancelButtonText:"Cancelar",background:"#fff",color:"#000"}).then(e=>{e.isConfirmed&&(vD.default.showLoading(),this.auth.signOut(),this.goTo("/login"))})}static \u0275fac=function(t){return new(t||n)(Y(Ln),Y(pt))};static \u0275cmp=Qe({type:n,selectors:[["app-root"]],standalone:!0,features:[Je],decls:5,vars:1,consts:[[1,"navbar"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","favicon.ico","alt","Logo","width","30","height","24",1,"d-inline-block","align-text-top"],["routerLink","/home",1,"navbar-brand"],[1,"navbar-brand",3,"click"]],template:function(t,r){t&1&&(R(0,"nav",0)(1,"div",1),le(2,FZ,3,0,"button",2)(3,VZ,5,0),A()(),ie(4,"router-outlet")),t&2&&(j(2),lr(r.isLoggedOut()?2:3))},dependencies:[ih,As,Ds],styles:["nav[_ngcontent-%COMP%]{background-color:#2c8ab3;padding:0}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px;background-color:#2c8ab3;border:none}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1;height:100%}.container-fluid[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:start}"]})};eN(zv,FL).catch(n=>console.error(n));
