var oF=Object.create;var Yf=Object.defineProperty,sF=Object.defineProperties,aF=Object.getOwnPropertyDescriptor,cF=Object.getOwnPropertyDescriptors,lF=Object.getOwnPropertyNames,gD=Object.getOwnPropertySymbols,vD=Object.getPrototypeOf,_D=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable,dF=Reflect.get;var yD=(n,e,t)=>e in n?Yf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})_D.call(e,t)&&yD(n,t,e[t]);if(gD)for(var t of gD(e))uF.call(e,t)&&yD(n,t,e[t]);return n},Ce=(n,e)=>sF(n,cF(e));var hF=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),fF=(n,e)=>{for(var t in e)Yf(n,t,{get:e[t],enumerable:!0})},pF=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lF(e))!_D.call(n,i)&&i!==t&&Yf(n,i,{get:()=>e[i],enumerable:!(r=aF(e,i))||r.enumerable});return n};var nd=(n,e,t)=>(t=n!=null?oF(vD(n)):{},pF(e||!n||!n.__esModule?Yf(t,"default",{value:n,enumerable:!0}):t,n));var Mo=(n,e,t)=>dF(vD(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var hu=hF((Ci,uT)=>{"use strict";(function(n,e){typeof Ci=="object"&&typeof uT<"u"?uT.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Ci,function(){"use strict";function n(d,h,y){if(typeof d=="function"?d===h:d.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(d,h){if(h.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(d,h){return d.get(n(d,h))}function r(d,h,y){e(d,h),h.set(d,y)}function i(d,h,y){return d.set(n(d,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(h=>{if(!d)return h();let y=window.scrollX,E=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,E)}),u="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,h)=>(d[h]=u+h,d),{}),w=["success","warning","info","question","error"].reduce((d,h)=>(d[h]=u+h,d),{}),R="SweetAlert2:",M=d=>d.charAt(0).toUpperCase()+d.slice(1),x=d=>{console.warn(`${R} ${typeof d=="object"?d.join(" "):d}`)},V=d=>{console.error(`${R} ${d}`)},G=[],B=d=>{G.includes(d)||(G.push(d),x(d))},H=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;B(`"${d}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},X=d=>typeof d=="function"?d():d,K=d=>d&&typeof d.toPromise=="function",D=d=>K(d)?d.toPromise():Promise.resolve(d),b=d=>d&&Promise.resolve(d)===d,I=()=>document.body.querySelector(`.${m.container}`),A=d=>{let h=I();return h?h.querySelector(d):null},S=d=>A(`.${d}`),N=()=>S(m.popup),T=()=>S(m.icon),kt=()=>S(m["icon-content"]),un=()=>S(m.title),Lt=()=>S(m["html-container"]),Ct=()=>S(m.image),kn=()=>S(m["progress-steps"]),dn=()=>S(m["validation-message"]),Zt=()=>A(`.${m.actions} .${m.confirm}`),ar=()=>A(`.${m.actions} .${m.cancel}`),ft=()=>A(`.${m.actions} .${m.deny}`),ct=()=>S(m["input-label"]),bn=()=>A(`.${m.loader}`),Tt=()=>S(m.actions),Hr=()=>S(m.footer),In=()=>S(m["timer-progress-bar"]),Kn=()=>S(m.close),Us=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,zr=()=>{let d=N();if(!d)return[];let h=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((J,Ie)=>{let Ge=parseInt(J.getAttribute("tabindex")||"0"),dt=parseInt(Ie.getAttribute("tabindex")||"0");return Ge>dt?1:Ge<dt?-1:0}),E=d.querySelectorAll(Us),L=Array.from(E).filter(J=>J.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(L))].filter(J=>sn(J))},cr=()=>Cn(document.body,m.shown)&&!Cn(document.body,m["toast-shown"])&&!Cn(document.body,m["no-backdrop"]),qr=()=>{let d=N();return d?Cn(d,m.toast):!1},wo=()=>{let d=N();return d?d.hasAttribute("data-loading"):!1},Ft=(d,h)=>{if(d.textContent="",h){let E=new DOMParser().parseFromString(h,"text/html"),L=E.querySelector("head");L&&Array.from(L.childNodes).forEach(Ie=>{d.appendChild(Ie)});let J=E.querySelector("body");J&&Array.from(J.childNodes).forEach(Ie=>{Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?d.appendChild(Ie.cloneNode(!0)):d.appendChild(Ie)})}},Cn=(d,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let E=0;E<y.length;E++)if(!d.classList.contains(y[E]))return!1;return!0},js=(d,h)=>{Array.from(d.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(w).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&d.classList.remove(y)})},Vt=(d,h,y)=>{if(js(d,h),!h.customClass)return;let E=h.customClass[y];if(E){if(typeof E!="string"&&!E.forEach){x(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof E}"`);return}Ee(d,E)}},Eo=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return d.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return d.querySelector(`.${m.popup} > .${m.radio} input:checked`)||d.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return d.querySelector(`.${m.popup} > .${m.range} input`);default:return d.querySelector(`.${m.popup} > .${m.input}`)}},Bs=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},Qn=(d,h,y)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(E=>{Array.isArray(d)?d.forEach(L=>{y?L.classList.add(E):L.classList.remove(E)}):y?d.classList.add(E):d.classList.remove(E)}))},Ee=(d,h)=>{Qn(d,h,!0)},hn=(d,h)=>{Qn(d,h,!1)},Yn=(d,h)=>{let y=Array.from(d.children);for(let E=0;E<y.length;E++){let L=y[E];if(L instanceof HTMLElement&&Cn(L,h))return L}},Tn=(d,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?d.style.setProperty(h,typeof y=="number"?`${y}px`:y):d.style.removeProperty(h)},Xe=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=h)},lt=d=>{d&&(d.style.display="none")},ut=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{Gr(d,d.innerHTML,h)}).observe(d,{childList:!0,subtree:!0})},_t=(d,h,y,E)=>{let L=d.querySelector(h);L&&L.style.setProperty(y,E)},Gr=function(d,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Xe(d,y):lt(d)},sn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),sf=()=>!sn(Zt())&&!sn(ft())&&!sn(ar()),af=d=>d.scrollHeight>d.clientHeight,bo=d=>{let h=window.getComputedStyle(d),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||E>0},_c=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=In();y&&sn(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${d/1e3}s linear`,y.style.width="0%"},10))},cf=()=>{let d=In();if(!d)return;let h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let y=parseInt(window.getComputedStyle(d).width),E=h/y*100;d.style.width=`${E}%`},Ou=()=>typeof window>"u"||typeof document>"u",Vv=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Uv=()=>{let d=I();return d?(d.remove(),hn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Cr=()=>{s.currentInstance.resetValidationMessage()},lf=()=>{let d=N(),h=Yn(d,m.input),y=Yn(d,m.file),E=d.querySelector(`.${m.range} input`),L=d.querySelector(`.${m.range} output`),J=Yn(d,m.select),Ie=d.querySelector(`.${m.checkbox} input`),Ge=Yn(d,m.textarea);h.oninput=Cr,y.onchange=Cr,J.onchange=Cr,Ie.onchange=Cr,Ge.oninput=Cr,E.oninput=()=>{Cr(),L.value=E.value},E.onchange=()=>{Cr(),L.value=E.value}},uf=d=>typeof d=="string"?document.querySelector(d):d,$s=d=>{let h=N();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},ku=d=>{window.getComputedStyle(d).direction==="rtl"&&Ee(I(),m.rtl)},Lu=d=>{let h=Uv();if(Ou()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ee(y,m["no-transition"]),Ft(y,Vv);let E=uf(d.target);E.appendChild(y),$s(d),ku(E),lf()},Tr=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?df(d,h):d&&Ft(h,d)},df=(d,h)=>{d.jquery?wc(h,d):Ft(h,d.toString())},wc=(d,h)=>{if(d.textContent="",0 in h)for(let y=0;y in h;y++)d.appendChild(h[y].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},hf=(d,h)=>{let y=Tt(),E=bn();!y||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?lt(y):Xe(y),Vt(y,h,"actions"),Hs(y,E,h),Ft(E,h.loaderHtml||""),Vt(E,h,"loader"))};function Hs(d,h,y){let E=Zt(),L=ft(),J=ar();!E||!L||!J||(Ut(E,"confirm",y),Ut(L,"deny",y),Ut(J,"cancel",y),ff(E,L,J,y),y.reverseButtons&&(y.toast?(d.insertBefore(J,E),d.insertBefore(L,E)):(d.insertBefore(J,h),d.insertBefore(L,h),d.insertBefore(E,h))))}function ff(d,h,y,E){if(!E.buttonsStyling){hn([d,h,y],m.styled);return}Ee([d,h,y],m.styled),E.confirmButtonColor&&(d.style.backgroundColor=E.confirmButtonColor,Ee(d,m["default-outline"])),E.denyButtonColor&&(h.style.backgroundColor=E.denyButtonColor,Ee(h,m["default-outline"])),E.cancelButtonColor&&(y.style.backgroundColor=E.cancelButtonColor,Ee(y,m["default-outline"]))}function Ut(d,h,y){let E=M(h);Gr(d,y[`show${E}Button`],"inline-block"),Ft(d,y[`${h}ButtonText`]||""),d.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),d.className=m[h],Vt(d,y,`${h}Button`)}let pf=(d,h)=>{let y=Kn();y&&(Ft(y,h.closeButtonHtml||""),Vt(y,h,"closeButton"),Gr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},zs=(d,h)=>{let y=I();y&&(qs(y,h.backdrop),jv(y,h.position),Bv(y,h.grow),Vt(y,h,"container"))};function qs(d,h){typeof h=="string"?d.style.background=h:h||Ee([document.documentElement,document.body],m["no-backdrop"])}function jv(d,h){h&&(h in m?Ee(d,m[h]):(x('The "position" parameter is not valid, defaulting to "center"'),Ee(d,m.center)))}function Bv(d,h){h&&Ee(d,m[`grow-${h}`])}var Ve={innerParams:new WeakMap,domCache:new WeakMap};let $v=["input","file","range","select","radio","checkbox","textarea"],Hv=(d,h)=>{let y=N();if(!y)return;let E=Ve.innerParams.get(d),L=!E||h.input!==E.input;$v.forEach(J=>{let Ie=Yn(y,m[J]);Ie&&(Fu(J,h.inputAttributes),Ie.className=m[J],L&&lt(Ie))}),h.input&&(L&&Ec(h),bc(h))},Ec=d=>{if(!d.input)return;if(!et[d.input]){V(`Unexpected type of input! Expected ${Object.keys(et).join(" | ")}, got "${d.input}"`);return}let h=Vu(d.input);if(!h)return;let y=et[d.input](h,d);Xe(h),d.inputAutoFocus&&setTimeout(()=>{Bs(y)})},mf=d=>{for(let h=0;h<d.attributes.length;h++){let y=d.attributes[h].name;["id","type","value","style"].includes(y)||d.removeAttribute(y)}},Fu=(d,h)=>{let y=N();if(!y)return;let E=Eo(y,d);if(E){mf(E);for(let L in h)E.setAttribute(L,h[L])}},bc=d=>{if(!d.input)return;let h=Vu(d.input);h&&Vt(h,d,"input")},lr=(d,h)=>{!d.placeholder&&h.inputPlaceholder&&(d.placeholder=h.inputPlaceholder)},Io=(d,h,y)=>{if(y.inputLabel){let E=document.createElement("label"),L=m["input-label"];E.setAttribute("for",d.id),E.className=L,typeof y.customClass=="object"&&Ee(E,y.customClass.inputLabel),E.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",E)}},Vu=d=>{let h=N();if(h)return Yn(h,m[d]||m.input)},Co=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:b(h)||x(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},et={};et.text=et.email=et.password=et.number=et.tel=et.url=et.search=et.date=et["datetime-local"]=et.time=et.week=et.month=(d,h)=>(Co(d,h.inputValue),Io(d,d,h),lr(d,h),d.type=h.input,d),et.file=(d,h)=>(Io(d,d,h),lr(d,h),d),et.range=(d,h)=>{let y=d.querySelector("input"),E=d.querySelector("output");return Co(y,h.inputValue),y.type=h.input,Co(E,h.inputValue),Io(y,d,h),d},et.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let y=document.createElement("option");Ft(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,d.appendChild(y)}return Io(d,d,h),d},et.radio=d=>(d.textContent="",d),et.checkbox=(d,h)=>{let y=Eo(N(),"checkbox");y.value="1",y.checked=!!h.inputValue;let E=d.querySelector("span");return Ft(E,h.inputPlaceholder||h.inputLabel),y},et.textarea=(d,h)=>{Co(d,h.inputValue),lr(d,h),Io(d,d,h);let y=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let E=parseInt(window.getComputedStyle(N()).width),L=()=>{if(!document.body.contains(d))return;let J=d.offsetWidth+y(d);J>E?N().style.width=`${J}px`:Tn(N(),"width",h.width)};new MutationObserver(L).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let gf=(d,h)=>{let y=Lt();y&&(ut(y),Vt(y,h,"htmlContainer"),h.html?(Tr(h.html,y),Xe(y,"block")):h.text?(y.textContent=h.text,Xe(y,"block")):lt(y),Hv(d,h))},yf=(d,h)=>{let y=Hr();y&&(ut(y),Gr(y,h.footer,"block"),h.footer&&Tr(h.footer,y),Vt(y,h,"footer"))},zv=(d,h)=>{let y=Ve.innerParams.get(d),E=T();if(E){if(y&&h.icon===y.icon){Wr(E,h),Gs(E,h);return}if(!h.icon&&!h.iconHtml){lt(E);return}if(h.icon&&Object.keys(w).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),lt(E);return}Xe(E),Wr(E,h),Gs(E,h),Ee(E,h.showClass&&h.showClass.icon)}},Gs=(d,h)=>{for(let[y,E]of Object.entries(w))h.icon!==y&&hn(d,E);Ee(d,h.icon&&w[h.icon]),ju(d,h),vf(),Vt(d,h,"icon")},vf=()=>{let d=N();if(!d)return;let h=window.getComputedStyle(d).getPropertyValue("background-color"),y=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<y.length;E++)y[E].style.backgroundColor=h},Uu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ws=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Wr=(d,h)=>{if(!h.icon&&!h.iconHtml)return;let y=d.innerHTML,E="";h.iconHtml?E=_f(h.iconHtml):h.icon==="success"?(E=Uu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?E=Ws:h.icon&&(E=_f({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==E.trim()&&Ft(d,E)},ju=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])_t(d,y,"background-color",h.iconColor);_t(d,".swal2-success-ring","border-color",h.iconColor)}},_f=d=>`<div class="${m["icon-content"]}">${d}</div>`,wf=(d,h)=>{let y=Ct();if(y){if(!h.imageUrl){lt(y);return}Xe(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Tn(y,"width",h.imageWidth),Tn(y,"height",h.imageHeight),y.className=m.image,Vt(y,h,"image")}},Ef=(d,h)=>{let y=I(),E=N();if(!(!y||!E)){if(h.toast){Tn(y,"width",h.width),E.style.width="100%";let L=bn();L&&E.insertBefore(L,T())}else Tn(E,"width",h.width);Tn(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),lt(dn()),bf(E,h)}},bf=(d,h)=>{let y=h.showClass||{};d.className=`${m.popup} ${sn(d)?y.popup:""}`,h.toast?(Ee([document.documentElement,document.body],m["toast-shown"]),Ee(d,m.toast)):Ee(d,m.modal),Vt(d,h,"popup"),typeof h.customClass=="string"&&Ee(d,h.customClass),h.icon&&Ee(d,m[`icon-${h.icon}`])},Bu=(d,h)=>{let y=kn();if(!y)return;let{progressSteps:E,currentProgressStep:L}=h;if(!E||E.length===0||L===void 0){lt(y);return}Xe(y),y.textContent="",L>=E.length&&x("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach((J,Ie)=>{let Ge=$u(J);if(y.appendChild(Ge),Ie===L&&Ee(Ge,m["active-progress-step"]),Ie!==E.length-1){let dt=If(h);y.appendChild(dt)}})},$u=d=>{let h=document.createElement("li");return Ee(h,m["progress-step"]),Ft(h,d),h},If=d=>{let h=document.createElement("li");return Ee(h,m["progress-step-line"]),d.progressStepsDistance&&Tn(h,"width",d.progressStepsDistance),h},Cf=(d,h)=>{let y=un();y&&(ut(y),Gr(y,h.title||h.titleText,"block"),h.title&&Tr(h.title,y),h.titleText&&(y.innerText=h.titleText),Vt(y,h,"title"))},Tf=(d,h)=>{Ef(d,h),zs(d,h),Bu(d,h),zv(d,h),wf(d,h),Cf(d,h),pf(d,h),gf(d,h),hf(d,h),yf(d,h);let y=N();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},qv=()=>sn(N()),Hu=()=>{var d;return(d=Zt())===null||d===void 0?void 0:d.click()},Df=()=>{var d;return(d=ft())===null||d===void 0?void 0:d.click()},Gv=()=>{var d;return(d=ar())===null||d===void 0?void 0:d.click()},Ln=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ur=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},Ic=(d,h,y)=>{ur(d),h.toast||(d.keydownHandler=E=>Cc(h,E,y),d.keydownTarget=h.keydownListenerCapture?window:N(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},To=(d,h)=>{var y;let E=zr();if(E.length){d=d+h,d===E.length?d=0:d===-1&&(d=E.length-1),E[d].focus();return}(y=N())===null||y===void 0||y.focus()},zu=["ArrowRight","ArrowDown"],Qe=["ArrowLeft","ArrowUp"],Cc=(d,h,y)=>{d&&(h.isComposing||h.keyCode===229||(d.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Ks(h,d):h.key==="Tab"?Qs(h):[...zu,...Qe].includes(h.key)?Wv(h.key):h.key==="Escape"&&Af(h,d,y)))},Ks=(d,h)=>{if(!X(h.allowEnterKey))return;let y=Eo(N(),h.input);if(d.target&&y&&d.target instanceof HTMLElement&&d.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Hu(),d.preventDefault()}},Qs=d=>{let h=d.target,y=zr(),E=-1;for(let L=0;L<y.length;L++)if(h===y[L]){E=L;break}d.shiftKey?To(E,-1):To(E,1),d.stopPropagation(),d.preventDefault()},Wv=d=>{let h=Tt(),y=Zt(),E=ft(),L=ar();if(!h||!y||!E||!L)return;let J=[y,E,L];if(document.activeElement instanceof HTMLElement&&!J.includes(document.activeElement))return;let Ie=zu.includes(d)?"nextElementSibling":"previousElementSibling",Ge=document.activeElement;if(Ge){for(let dt=0;dt<h.children.length;dt++){if(Ge=Ge[Ie],!Ge)return;if(Ge instanceof HTMLButtonElement&&sn(Ge))break}Ge instanceof HTMLButtonElement&&Ge.focus()}},Af=(d,h,y)=>{X(h.allowEscapeKey)&&(d.preventDefault(),y(Ln.esc))};var Do={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Kv=()=>{let d=I();Array.from(document.body.children).forEach(y=>{y.contains(d)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Sf=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Rf=typeof window<"u"&&!!window.GestureEvent,Ys=()=>{if(Rf&&!Cn(document.body,m.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,Ee(document.body,m.iosfix),Kr()}},Kr=()=>{let d=I();if(!d)return;let h;d.ontouchstart=y=>{h=xf(y)},d.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},xf=d=>{let h=d.target,y=I(),E=Lt();return!y||!E||Nf(d)||Mf(d)?!1:h===y||!af(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(af(E)&&E.contains(h))},Nf=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",Mf=d=>d.touches&&d.touches.length>1,Ao=()=>{if(Cn(document.body,m.iosfix)){let d=parseInt(document.body.style.top,10);hn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Qv=()=>{let d=document.createElement("div");d.className=m["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},So=null,Yv=d=>{So===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(So=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${So+Qv()}px`)},Qr=()=>{So!==null&&(document.body.style.paddingRight=`${So}px`,So=null)};function Pf(d,h,y,E){qr()?tt(d,E):(c(y).then(()=>tt(d,E)),ur(s)),Rf?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),cr()&&(Qr(),Ao(),Sf()),Zv()}function Zv(){hn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function Fn(d){d=Zs(d);let h=Do.swalPromiseResolve.get(this),y=Tc(this);this.isAwaitingPromise?d.isDismissed||(Dr(this),h(d)):y&&h(d)}let Tc=d=>{let h=N();if(!h)return!1;let y=Ve.innerParams.get(d);if(!y||Cn(h,y.hideClass.popup))return!1;hn(h,y.showClass.popup),Ee(h,y.hideClass.popup);let E=I();return hn(E,y.showClass.backdrop),Ee(E,y.hideClass.backdrop),Of(d,h,y),!0};function qu(d){let h=Do.swalPromiseReject.get(this);Dr(this),h&&h(d)}let Dr=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,Ve.innerParams.get(d)||d._destroy())},Zs=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),Of=(d,h,y)=>{let E=I(),L=bo(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),L?Gu(d,h,E,y.returnFocus,y.didClose):Pf(d,E,y.returnFocus,y.didClose)},Gu=(d,h,y,E,L)=>{s.swalCloseEventFinishedCallback=Pf.bind(null,d,y,E,L);let J=function(Ie){Ie.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",J),h.removeEventListener("transitionend",J))};h.addEventListener("animationend",J),h.addEventListener("transitionend",J)},tt=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),s.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},Ro=d=>{let h=N();if(h||new Qf,h=N(),!h)return;let y=bn();qr()?lt(T()):Jv(h,d),Xe(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Jv=(d,h)=>{let y=Tt(),E=bn();!y||!E||(!h&&sn(Zt())&&(h=Zt()),Xe(y),h&&(lt(h),E.setAttribute("data-button-to-replace",h.className),y.insertBefore(E,h)),Ee([d,y],m.loading))},kf=(d,h)=>{h.input==="select"||h.input==="radio"?Ar(d,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(K(h.inputValue)||b(h.inputValue))&&(Ro(Zt()),Uf(d,h))},Lf=(d,h)=>{let y=d.getInput();if(!y)return null;switch(h.input){case"checkbox":return Ff(y);case"radio":return Dc(y);case"file":return Vf(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Ff=d=>d.checked?1:0,Dc=d=>d.checked?d.value:null,Vf=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Ar=(d,h)=>{let y=N();if(!y)return;let E=L=>{h.input==="select"?Xv(y,Xs(L),h):h.input==="radio"&&Js(y,Xs(L),h)};K(h.inputOptions)||b(h.inputOptions)?(Ro(Zt()),D(h.inputOptions).then(L=>{d.hideLoading(),E(L)})):typeof h.inputOptions=="object"?E(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Uf=(d,h)=>{let y=d.getInput();y&&(lt(y),D(h.inputValue).then(E=>{y.value=h.input==="number"?`${parseFloat(E)||0}`:`${E}`,Xe(y),y.focus(),d.hideLoading()}).catch(E=>{V(`Error in inputValue promise: ${E}`),y.value="",Xe(y),y.focus(),d.hideLoading()}))};function Xv(d,h,y){let E=Yn(d,m.select);if(!E)return;let L=(J,Ie,Ge)=>{let dt=document.createElement("option");dt.value=Ge,Ft(dt,Ie),dt.selected=Ac(Ge,y.inputValue),J.appendChild(dt)};h.forEach(J=>{let Ie=J[0],Ge=J[1];if(Array.isArray(Ge)){let dt=document.createElement("optgroup");dt.label=Ie,dt.disabled=!1,E.appendChild(dt),Ge.forEach(Nc=>L(dt,Nc[1],Nc[0]))}else L(E,Ge,Ie)}),E.focus()}function Js(d,h,y){let E=Yn(d,m.radio);if(!E)return;h.forEach(J=>{let Ie=J[0],Ge=J[1],dt=document.createElement("input"),Nc=document.createElement("label");dt.type="radio",dt.name=m.radio,dt.value=Ie,Ac(Ie,y.inputValue)&&(dt.checked=!0);let t_=document.createElement("span");Ft(t_,Ge),t_.className=m.label,Nc.appendChild(dt),Nc.appendChild(t_),E.appendChild(Nc)});let L=E.querySelectorAll("input");L.length&&L[0].focus()}let Xs=d=>{let h=[];return d instanceof Map?d.forEach((y,E)=>{let L=y;typeof L=="object"&&(L=Xs(L)),h.push([E,L])}):Object.keys(d).forEach(y=>{let E=d[y];typeof E=="object"&&(E=Xs(E)),h.push([y,E])}),h},Ac=(d,h)=>!!h&&h.toString()===d.toString(),Sc=d=>{let h=Ve.innerParams.get(d);d.disableButtons(),h.input?Bf(d,"confirm"):ea(d,!0)},jf=d=>{let h=Ve.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?Bf(d,"deny"):Si(d,!1)},Rc=(d,h)=>{d.disableButtons(),h(Ln.cancel)},Bf=(d,h)=>{let y=Ve.innerParams.get(d);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${M(h)}`);return}let E=d.getInput(),L=Lf(d,y);y.inputValidator?$f(d,L,h):E&&!E.checkValidity()?(d.enableButtons(),d.showValidationMessage(y.validationMessage||E.validationMessage)):h==="deny"?Si(d,L):ea(d,L)},$f=(d,h,y)=>{let E=Ve.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>D(E.inputValidator(h,E.validationMessage))).then(J=>{d.enableButtons(),d.enableInput(),J?d.showValidationMessage(J):y==="deny"?Si(d,h):ea(d,h)})},Si=(d,h)=>{let y=Ve.innerParams.get(d||void 0);y.showLoaderOnDeny&&Ro(ft()),y.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(L=>{L===!1?(d.hideLoading(),Dr(d)):d.close({isDenied:!0,value:typeof L>"u"?h:L})}).catch(L=>Ku(d||void 0,L))):d.close({isDenied:!0,value:h})},Wu=(d,h)=>{d.close({isConfirmed:!0,value:h})},Ku=(d,h)=>{d.rejectPromise(h)},ea=(d,h)=>{let y=Ve.innerParams.get(d||void 0);y.showLoaderOnConfirm&&Ro(),y.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(L=>{sn(dn())||L===!1?(d.hideLoading(),Dr(d)):Wu(d,typeof L>"u"?h:L)}).catch(L=>Ku(d||void 0,L))):Wu(d,h)};function xo(){let d=Ve.innerParams.get(this);if(!d)return;let h=Ve.domCache.get(this);lt(h.loader),qr()?d.icon&&Xe(T()):Hf(h),hn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Hf=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?Xe(h[0],"inline-block"):sf()&&lt(d.actions)};function ta(){let d=Ve.innerParams.get(this),h=Ve.domCache.get(this);return h?Eo(h.popup,d.input):null}function Qu(d,h,y){let E=Ve.domCache.get(d);h.forEach(L=>{E[L].disabled=y})}function Yu(d,h){let y=N();if(!(!y||!d))if(d.type==="radio"){let E=y.querySelectorAll(`[name="${m.radio}"]`);for(let L=0;L<E.length;L++)E[L].disabled=h}else d.disabled=h}function Yr(){Qu(this,["confirmButton","denyButton","cancelButton"],!1)}function Zu(){Qu(this,["confirmButton","denyButton","cancelButton"],!0)}function Ju(){Yu(this.getInput(),!1)}function Xu(){Yu(this.getInput(),!0)}function ed(d){let h=Ve.domCache.get(this),y=Ve.innerParams.get(this);Ft(h.validationMessage,d),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ee(h.validationMessage,y.customClass.validationMessage),Xe(h.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",m["validation-message"]),Bs(E),Ee(E,m.inputerror))}function na(){let d=Ve.domCache.get(this);d.validationMessage&&lt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),hn(h,m.inputerror))}let Dt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},zf=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],qf={allowEnterKey:void 0},No=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],l=d=>Object.prototype.hasOwnProperty.call(Dt,d),f=d=>zf.indexOf(d)!==-1,g=d=>qf[d],v=d=>{l(d)||x(`Unknown parameter "${d}"`)},k=d=>{No.includes(d)&&x(`The parameter "${d}" is incompatible with toasts`)},F=d=>{let h=g(d);h&&H(d,h)},Q=d=>{d.backdrop===!1&&d.allowOutsideClick&&x('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)v(h),d.toast&&k(h),F(h)};function qe(d){let h=N(),y=Ve.innerParams.get(this);if(!h||Cn(h,y.hideClass.popup)){x("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let E=jt(d),L=Object.assign({},y,E);Tf(this,L),Ve.innerParams.set(this,L),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let jt=d=>{let h={};return Object.keys(d).forEach(y=>{f(y)?h[y]=d[y]:x(`Invalid parameter to update: ${y}`)}),h};function Oe(){let d=Ve.domCache.get(this),h=Ve.innerParams.get(this);if(!h){Bt(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),Jt(this)}let Jt=d=>{Bt(d),delete d.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Bt=d=>{d.isAwaitingPromise?(Zr(Ve,d),d.isAwaitingPromise=!0):(Zr(Do,d),Zr(Ve,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},Zr=(d,h)=>{for(let y in d)d[y].delete(h)};var Zn=Object.freeze({__proto__:null,_destroy:Oe,close:Fn,closeModal:Fn,closePopup:Fn,closeToast:Fn,disableButtons:Zu,disableInput:Xu,disableLoading:xo,enableButtons:Yr,enableInput:Ju,getInput:ta,handleAwaitingPromise:Dr,hideLoading:xo,rejectPromise:qu,resetValidationMessage:na,showValidationMessage:ed,update:qe});let xc=(d,h,y)=>{d.toast?td(d,h,y):(_L(h),wL(h),EL(d,h,y))},td=(d,h,y)=>{h.popup.onclick=()=>{d&&(vL(d)||d.timer||d.input)||y(Ln.close)}},vL=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),Gf=!1,_L=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=()=>{},h.target===d.container&&(Gf=!0)}}},wL=d=>{d.container.onmousedown=h=>{h.target===d.container&&h.preventDefault(),d.popup.onmouseup=function(y){d.popup.onmouseup=()=>{},(y.target===d.popup||y.target instanceof HTMLElement&&d.popup.contains(y.target))&&(Gf=!0)}}},EL=(d,h,y)=>{h.container.onclick=E=>{if(Gf){Gf=!1;return}E.target===h.container&&X(d.allowOutsideClick)&&y(Ln.backdrop)}},bL=d=>typeof d=="object"&&d.jquery,lD=d=>d instanceof Element||bL(d),IL=d=>{let h={};return typeof d[0]=="object"&&!lD(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((y,E)=>{let L=d[E];typeof L=="string"||lD(L)?h[y]=L:L!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof L}`)}),h};function CL(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];return new this(...h)}function TL(d){class h extends this{_main(E,L){return super._main(E,Object.assign({},d,L))}}return h}let DL=()=>s.timeout&&s.timeout.getTimerLeft(),uD=()=>{if(s.timeout)return cf(),s.timeout.stop()},dD=()=>{if(s.timeout){let d=s.timeout.start();return _c(d),d}},AL=()=>{let d=s.timeout;return d&&(d.running?uD():dD())},SL=d=>{if(s.timeout){let h=s.timeout.increase(d);return _c(h,!0),h}},RL=()=>!!(s.timeout&&s.timeout.isRunning()),hD=!1,e_={};function xL(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";e_[d]=this,hD||(document.body.addEventListener("click",NL),hD=!0)}let NL=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let y in e_){let E=h.getAttribute(y);if(E){e_[y].fire({template:E});return}}};class ML{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let E=this._getHandlersByEventName(h);E.includes(y)||E.push(y)}once(h,y){var E=this;let L=function(){E.removeListener(h,L);for(var J=arguments.length,Ie=new Array(J),Ge=0;Ge<J;Ge++)Ie[Ge]=arguments[Ge];y.apply(E,Ie)};this.on(h,L)}emit(h){for(var y=arguments.length,E=new Array(y>1?y-1:0),L=1;L<y;L++)E[L-1]=arguments[L];this._getHandlersByEventName(h).forEach(J=>{try{J.apply(this,E)}catch(Ie){console.error(Ie)}})}removeListener(h,y){let E=this._getHandlersByEventName(h),L=E.indexOf(y);L>-1&&E.splice(L,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new ML;var PL=Object.freeze({__proto__:null,argsToParams:IL,bindClickHandler:xL,clickCancel:Gv,clickConfirm:Hu,clickDeny:Df,enableLoading:Ro,fire:CL,getActions:Tt,getCancelButton:ar,getCloseButton:Kn,getConfirmButton:Zt,getContainer:I,getDenyButton:ft,getFocusableElements:zr,getFooter:Hr,getHtmlContainer:Lt,getIcon:T,getIconContent:kt,getImage:Ct,getInputLabel:ct,getLoader:bn,getPopup:N,getProgressSteps:kn,getTimerLeft:DL,getTimerProgressBar:In,getTitle:un,getValidationMessage:dn,increaseTimer:SL,isDeprecatedParameter:g,isLoading:wo,isTimerRunning:RL,isUpdatableParameter:f,isValidParameter:l,isVisible:qv,mixin:TL,off:(d,h)=>{if(!d){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(d,h):s.eventEmitter.removeAllListeners(d)},on:(d,h)=>{s.eventEmitter.on(d,h)},once:(d,h)=>{s.eventEmitter.once(d,h)},resumeTimer:dD,showLoading:Ro,stopTimer:uD,toggleTimer:AL});class OL{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let fD=["swal-title","swal-html","swal-footer"],kL=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let y=h.content;return HL(y),Object.assign(LL(y),FL(y),VL(y),UL(y),jL(y),BL(y),$L(y,fD))},LL=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(E=>{ra(E,["name","value"]);let L=E.getAttribute("name"),J=E.getAttribute("value");!L||!J||(typeof Dt[L]=="boolean"?h[L]=J!=="false":typeof Dt[L]=="object"?h[L]=JSON.parse(J):h[L]=J)}),h},FL=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(E=>{let L=E.getAttribute("name"),J=E.getAttribute("value");!L||!J||(h[L]=new Function(`return ${J}`)())}),h},VL=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(E=>{ra(E,["type","color","aria-label"]);let L=E.getAttribute("type");!L||!["confirm","cancel","deny"].includes(L)||(h[`${L}ButtonText`]=E.innerHTML,h[`show${M(L)}Button`]=!0,E.hasAttribute("color")&&(h[`${L}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h[`${L}ButtonAriaLabel`]=E.getAttribute("aria-label")))}),h},UL=d=>{let h={},y=d.querySelector("swal-image");return y&&(ra(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},jL=d=>{let h={},y=d.querySelector("swal-icon");return y&&(ra(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},BL=d=>{let h={},y=d.querySelector("swal-input");y&&(ra(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let E=Array.from(d.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(L=>{ra(L,["value"]);let J=L.getAttribute("value");if(!J)return;let Ie=L.innerHTML;h.inputOptions[J]=Ie})),h},$L=(d,h)=>{let y={};for(let E in h){let L=h[E],J=d.querySelector(L);J&&(ra(J,[]),y[L.replace(/^swal-/,"")]=J.innerHTML.trim())}return y},HL=d=>{let h=fD.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(y=>{let E=y.tagName.toLowerCase();h.includes(E)||x(`Unrecognized element <${E}>`)})},ra=(d,h)=>{Array.from(d.attributes).forEach(y=>{h.indexOf(y.name)===-1&&x([`Unrecognized attribute "${y.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},pD=10,zL=d=>{let h=I(),y=N();typeof d.willOpen=="function"&&d.willOpen(y),s.eventEmitter.emit("willOpen",y);let L=window.getComputedStyle(document.body).overflowY;WL(h,y,d),setTimeout(()=>{qL(h,y)},pD),cr()&&(GL(h,d.scrollbarPadding,L),Kv()),!qr()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(y)),s.eventEmitter.emit("didOpen",y),hn(h,m["no-transition"])},Wf=d=>{let h=N();if(d.target!==h)return;let y=I();h.removeEventListener("animationend",Wf),h.removeEventListener("transitionend",Wf),y.style.overflowY="auto"},qL=(d,h)=>{bo(h)?(d.style.overflowY="hidden",h.addEventListener("animationend",Wf),h.addEventListener("transitionend",Wf)):d.style.overflowY="auto"},GL=(d,h,y)=>{Ys(),h&&y!=="hidden"&&Yv(y),setTimeout(()=>{d.scrollTop=0})},WL=(d,h,y)=>{Ee(d,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Xe(h,"grid"),setTimeout(()=>{Ee(h,y.showClass.popup),h.style.removeProperty("opacity")},pD)):Xe(h,"grid"),Ee([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ee([document.documentElement,document.body],m["height-auto"])};var mD={email:(d,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function KL(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=mD.email),d.input==="url"&&(d.inputValidator=mD.url))}function QL(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(x('Target parameter is not valid, defaulting to "body"'),d.target="body")}function YL(d){KL(d),d.showLoaderOnConfirm&&!d.preConfirm&&x(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),QL(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),Lu(d)}let Jr;var Kf=new WeakMap;class wt{constructor(){if(r(this,Kf,void 0),typeof window>"u")return;Jr=this;for(var h=arguments.length,y=new Array(h),E=0;E<h;E++)y[E]=arguments[E];let L=Object.freeze(this.constructor.argsToParams(y));this.params=L,this.isAwaitingPromise=!1,i(Kf,this,this._main(Jr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Q(Object.assign({},y,h)),s.currentInstance){let J=Do.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ie}=s.currentInstance;s.currentInstance._destroy(),Ie||J({isDismissed:!0}),cr()&&Sf()}s.currentInstance=Jr;let E=JL(h,y);YL(E),Object.freeze(E),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let L=XL(Jr);return Tf(Jr,E),Ve.innerParams.set(Jr,E),ZL(Jr,L,E)}then(h){return t(Kf,this).then(h)}finally(h){return t(Kf,this).finally(h)}}let ZL=(d,h,y)=>new Promise((E,L)=>{let J=Ie=>{d.close({isDismissed:!0,dismiss:Ie})};Do.swalPromiseResolve.set(d,E),Do.swalPromiseReject.set(d,L),h.confirmButton.onclick=()=>{Sc(d)},h.denyButton.onclick=()=>{jf(d)},h.cancelButton.onclick=()=>{Rc(d,J)},h.closeButton.onclick=()=>{J(Ln.close)},xc(y,h,J),Ic(s,y,J),kf(d,y),zL(y),eF(s,y,J),tF(h,y),setTimeout(()=>{h.container.scrollTop=0})}),JL=(d,h)=>{let y=kL(d),E=Object.assign({},Dt,h,y,d);return E.showClass=Object.assign({},Dt.showClass,E.showClass),E.hideClass=Object.assign({},Dt.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},XL=d=>{let h={popup:N(),container:I(),actions:Tt(),confirmButton:Zt(),denyButton:ft(),cancelButton:ar(),loader:bn(),closeButton:Kn(),validationMessage:dn(),progressSteps:kn()};return Ve.domCache.set(d,h),h},eF=(d,h,y)=>{let E=In();lt(E),h.timer&&(d.timeout=new OL(()=>{y("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(Xe(E),Vt(E,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&_c(h.timer)})))},tF=(d,h)=>{if(!h.toast){if(!X(h.allowEnterKey)){H("allowEnterKey"),iF();return}nF(d)||rF(d,h)||To(-1,1)}},nF=d=>{let h=d.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&sn(y))return y.focus(),!0;return!1},rF=(d,h)=>h.focusDeny&&sn(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&sn(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&sn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,iF=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}wt.prototype.disableButtons=Zu,wt.prototype.enableButtons=Yr,wt.prototype.getInput=ta,wt.prototype.disableInput=Xu,wt.prototype.enableInput=Ju,wt.prototype.hideLoading=xo,wt.prototype.disableLoading=xo,wt.prototype.showValidationMessage=ed,wt.prototype.resetValidationMessage=na,wt.prototype.close=Fn,wt.prototype.closePopup=Fn,wt.prototype.closeModal=Fn,wt.prototype.closeToast=Fn,wt.prototype.rejectPromise=qu,wt.prototype.update=qe,wt.prototype._destroy=Oe,Object.assign(wt,PL),Object.keys(Zn).forEach(d=>{wt[d]=function(){return Jr&&Jr[d]?Jr[d](...arguments):null}}),wt.DismissReason=Ln,wt.version="11.14.4";let Qf=wt;return Qf.default=Qf,Qf});typeof Ci<"u"&&Ci.Sweetalert2&&(Ci.swal=Ci.sweetAlert=Ci.Swal=Ci.SweetAlert=Ci.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function wD(n,e){return Object.is(n,e)}var $t=null,Zf=!1,Jf=1,Ri=Symbol("SIGNAL");function Se(n){let e=$t;return $t=n,e}function ED(){return $t}var id={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function i_(n){if(Zf)throw new Error("");if($t===null)return;$t.consumerOnSignalRead(n);let e=$t.nextProducerIndex++;if(np($t),e<$t.producerNode.length&&$t.producerNode[e]!==n&&rd($t)){let t=$t.producerNode[e];tp(t,$t.producerIndexOfThis[e])}$t.producerNode[e]!==n&&($t.producerNode[e]=n,$t.producerIndexOfThis[e]=rd($t)?TD(n,$t,e):0),$t.producerLastReadVersion[e]=n.version}function mF(){Jf++}function bD(n){if(!(rd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jf)){if(!n.producerMustRecompute(n)&&!s_(n)){n.dirty=!1,n.lastCleanEpoch=Jf;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Jf}}function ID(n){if(n.liveConsumerNode===void 0)return;let e=Zf;Zf=!0;try{for(let t of n.liveConsumerNode)t.dirty||gF(t)}finally{Zf=e}}function CD(){return $t?.consumerAllowSignalWrites!==!1}function gF(n){n.dirty=!0,ID(n),n.consumerMarkedDirty?.(n)}function ep(n){return n&&(n.nextProducerIndex=0),Se(n)}function o_(n,e){if(Se(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(rd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function s_(n){np(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(bD(t),r!==t.version))return!0}return!1}function a_(n){if(np(n),rd(n))for(let e=0;e<n.producerNode.length;e++)tp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function TD(n,e,t){if(DD(n),n.liveConsumerNode.length===0&&AD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=TD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tp(n,e){if(DD(n),n.liveConsumerNode.length===1&&AD(n))for(let r=0;r<n.producerNode.length;r++)tp(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];np(i),i.producerIndexOfThis[r]=e}}function rd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function np(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function DD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function AD(n){return n.producerNode!==void 0}function SD(n){let e=Object.create(yF);e.computation=n;let t=()=>{if(bD(e),i_(e),e.value===Xf)throw e.error;return e.value};return t[Ri]=e,t}var n_=Symbol("UNSET"),r_=Symbol("COMPUTING"),Xf=Symbol("ERRORED"),yF=Ce(z({},id),{value:n_,dirty:!0,error:null,equal:wD,producerMustRecompute(n){return n.value===n_||n.value===r_},producerRecomputeValue(n){if(n.value===r_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=r_;let t=ep(n),r;try{r=n.computation()}catch(i){r=Xf,n.error=i}finally{o_(n,t)}if(e!==n_&&e!==Xf&&r!==Xf&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function vF(){throw new Error}var RD=vF;function xD(){RD()}function ND(n){RD=n}var _F=null;function MD(n){let e=Object.create(OD);e.value=n;let t=()=>(i_(e),e.value);return t[Ri]=e,t}function c_(n,e){CD()||xD(),n.equal(n.value,e)||(n.value=e,wF(n))}function PD(n,e){CD()||xD(),c_(n,e(n.value))}var OD=Ce(z({},id),{equal:wD,value:void 0});function wF(n){n.version++,mF(),ID(n),_F?.()}function ve(n){return typeof n=="function"}function Mc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var rp=Mc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ia(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var pt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ve(r))try{r()}catch(o){e=o instanceof rp?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kD(o)}catch(s){e=e??[],s instanceof rp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)kD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ia(t,e)}remove(e){let{_finalizers:t}=this;t&&ia(t,e),e instanceof n&&e._removeParent(this)}};pt.EMPTY=(()=>{let n=new pt;return n.closed=!0,n})();var l_=pt.EMPTY;function ip(n){return n instanceof pt||n&&"closed"in n&&ve(n.remove)&&ve(n.add)&&ve(n.unsubscribe)}function kD(n){ve(n)?n():n.unsubscribe()}var Sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pc={setTimeout(n,e,...t){let{delegate:r}=Pc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function op(n){Pc.setTimeout(()=>{let{onUnhandledError:e}=Sr;if(e)e(n);else throw n})}function od(){}var LD=u_("C",void 0,void 0);function FD(n){return u_("E",void 0,n)}function VD(n){return u_("N",n,void 0)}function u_(n,e,t){return{kind:n,value:e,error:t}}var oa=null;function Oc(n){if(Sr.useDeprecatedSynchronousErrorHandling){let e=!oa;if(e&&(oa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=oa;if(oa=null,t)throw r}}else n()}function UD(n){Sr.useDeprecatedSynchronousErrorHandling&&oa&&(oa.errorThrown=!0,oa.error=n)}var sa=class extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ip(e)&&e.add(this)):this.destination=IF}static create(e,t,r){return new kc(e,t,r)}next(e){this.isStopped?h_(VD(e),this):this._next(e)}error(e){this.isStopped?h_(FD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?h_(LD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EF=Function.prototype.bind;function d_(n,e){return EF.call(n,e)}var f_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){sp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){sp(r)}else sp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){sp(t)}}},kc=class extends sa{constructor(e,t,r){super();let i;if(ve(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&d_(e.next,o),error:e.error&&d_(e.error,o),complete:e.complete&&d_(e.complete,o)}):i=e}this.destination=new f_(i)}};function sp(n){Sr.useDeprecatedSynchronousErrorHandling?UD(n):op(n)}function bF(n){throw n}function h_(n,e){let{onStoppedNotification:t}=Sr;t&&Pc.setTimeout(()=>t(n,e))}var IF={closed:!0,next:od,error:bF,complete:od};var Lc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jn(n){return n}function p_(...n){return m_(n)}function m_(n){return n.length===0?Jn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=TF(t)?t:new kc(t,r,i);return Oc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=jD(r),new r((i,o)=>{let s=new kc({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Lc](){return this}pipe(...t){return m_(t)(this)}toPromise(t){return t=jD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jD(n){var e;return(e=n??Sr.Promise)!==null&&e!==void 0?e:Promise}function CF(n){return n&&ve(n.next)&&ve(n.error)&&ve(n.complete)}function TF(n){return n&&n instanceof sa||CF(n)&&ip(n)}function g_(n){return ve(n?.lift)}function Le(n){return e=>{if(g_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,e,t,r,i){return new y_(n,e,t,r,i)}var y_=class extends sa{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fc(){return Le((n,e)=>{let t=null;n._refCount++;let r=Ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Vc=class extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,g_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pt;let t=this.getSubject();e.add(this.source.subscribe(Ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pt.EMPTY)}return e}refCount(){return Fc()(this)}};var BD=Mc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ap(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new BD}next(t){Oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?l_:(this.currentObservers=null,o.push(t),new pt(()=>{this.currentObservers=null,ia(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return n.create=(e,t)=>new ap(e,t),n})(),ap=class extends mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:l_}};var Ht=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var v_={now(){return(v_.delegate||Date).now()},delegate:void 0};var cp=class extends pt{constructor(e,t){super()}schedule(e,t=0){return this}};var sd={setInterval(n,e,...t){let{delegate:r}=sd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=sd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Uc=class extends cp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return sd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&sd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ia(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var jc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};jc.now=v_.now;var Bc=class extends jc{constructor(e,t=jc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var __=new Bc(Uc);var lp=class extends Uc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var up=class extends Bc{};var w_=new up(lp);var Xn=new Re(n=>n.complete());function $D(n){return n&&ve(n.schedule)}function HD(n){return n[n.length-1]}function dp(n){return ve(HD(n))?n.pop():void 0}function Po(n){return $D(HD(n))?n.pop():void 0}function E_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{u(r.next(p))}catch(m){s(m)}}function c(p){try{u(r.throw(p))}catch(m){s(m)}}function u(p){p.done?o(p.value):i(p.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function zD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function aa(n){return this instanceof aa?(this.v=n,this):new aa(n)}function GD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(R){return Promise.resolve(R).then(w,m)}}function a(w,R){r[w]&&(i[w]=function(M){return new Promise(function(x,V){o.push([w,M,x,V])>1||c(w,M)})},R&&(i[w]=R(i[w])))}function c(w,R){try{u(r[w](R))}catch(M){_(o[0][3],M)}}function u(w){w.value instanceof aa?Promise.resolve(w.value.v).then(p,m):_(o[0][2],w)}function p(w){c("next",w)}function m(w){c("throw",w)}function _(w,R){w(R),o.shift(),o.length&&c(o[0][0],o[0][1])}}function WD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zD=="function"?zD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var hp=n=>n&&typeof n.length=="number"&&typeof n!="function";function fp(n){return ve(n?.then)}function pp(n){return ve(n[Lc])}function mp(n){return Symbol.asyncIterator&&ve(n?.[Symbol.asyncIterator])}function gp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yp=DF();function vp(n){return ve(n?.[yp])}function _p(n){return GD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield aa(t.read());if(i)return yield aa(void 0);yield yield aa(r)}}finally{t.releaseLock()}})}function wp(n){return ve(n?.getReader)}function At(n){if(n instanceof Re)return n;if(n!=null){if(pp(n))return AF(n);if(hp(n))return SF(n);if(fp(n))return RF(n);if(mp(n))return KD(n);if(vp(n))return xF(n);if(wp(n))return NF(n)}throw gp(n)}function AF(n){return new Re(e=>{let t=n[Lc]();if(ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SF(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function RF(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,op)})}function xF(n){return new Re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function KD(n){return new Re(e=>{MF(n,e).catch(t=>e.error(t))})}function NF(n){return KD(_p(n))}function MF(n,e){var t,r,i,o;return qD(this,void 0,void 0,function*(){try{for(t=WD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Oo(n,e=0){return Le((t,r)=>{t.subscribe(Ne(r,i=>Vn(r,n,()=>r.next(i),e),()=>Vn(r,n,()=>r.complete(),e),i=>Vn(r,n,()=>r.error(i),e)))})}function ko(n,e=0){return Le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function QD(n,e){return At(n).pipe(ko(e),Oo(e))}function YD(n,e){return At(n).pipe(ko(e),Oo(e))}function ZD(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function JD(n,e){return new Re(t=>{let r;return Vn(t,e,()=>{r=n[yp](),Vn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}function Ep(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{Vn(t,e,()=>{let r=n[Symbol.asyncIterator]();Vn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function XD(n,e){return Ep(_p(n),e)}function eA(n,e){if(n!=null){if(pp(n))return QD(n,e);if(hp(n))return ZD(n,e);if(fp(n))return YD(n,e);if(mp(n))return Ep(n,e);if(vp(n))return JD(n,e);if(wp(n))return XD(n,e)}throw gp(n)}function nt(n,e){return e?eA(n,e):At(n)}function ce(...n){let e=Po(n);return nt(n,e)}function $c(n,e){let t=ve(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}function b_(n){return!!n&&(n instanceof Re||ve(n.lift)&&ve(n.subscribe))}var xi=Mc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _e(n,e){return Le((t,r)=>{let i=0;t.subscribe(Ne(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:PF}=Array;function OF(n,e){return PF(e)?n(...e):n(e)}function bp(n){return _e(e=>OF(n,e))}var{isArray:kF}=Array,{getPrototypeOf:LF,prototype:FF,keys:VF}=Object;function Ip(n){if(n.length===1){let e=n[0];if(kF(e))return{args:e,keys:null};if(UF(e)){let t=VF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function UF(n){return n&&typeof n=="object"&&LF(n)===FF}function Cp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ad(...n){let e=Po(n),t=dp(n),{args:r,keys:i}=Ip(n);if(r.length===0)return nt([],e);let o=new Re(jF(r,e,i?s=>Cp(i,s):Jn));return t?o.pipe(bp(t)):o}function jF(n,e,t=Jn){return r=>{tA(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)tA(e,()=>{let u=nt(n[c],e),p=!1;u.subscribe(Ne(r,m=>{o[c]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tA(n,e,t){n?Vn(t,n,e):e()}function nA(n,e,t,r,i,o,s,a){let c=[],u=0,p=0,m=!1,_=()=>{m&&!c.length&&!u&&e.complete()},w=M=>u<r?R(M):c.push(M),R=M=>{o&&e.next(M),u++;let x=!1;At(t(M,p++)).subscribe(Ne(e,V=>{i?.(V),o?w(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(u--;c.length&&u<r;){let V=c.shift();s?Vn(e,s,()=>R(V)):R(V)}_()}catch(V){e.error(V)}}))};return n.subscribe(Ne(e,w,()=>{m=!0,_()})),()=>{a?.()}}function St(n,e,t=1/0){return ve(e)?St((r,i)=>_e((o,s)=>e(r,o,i,s))(At(n(r,i))),t):(typeof e=="number"&&(t=e),Le((r,i)=>nA(r,i,n,t)))}function Hc(n=1/0){return St(Jn,n)}function rA(){return Hc(1)}function zc(...n){return rA()(nt(n,Po(n)))}function Tp(n){return new Re(e=>{At(n()).subscribe(e)})}function I_(...n){let e=dp(n),{args:t,keys:r}=Ip(n),i=new Re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let p=0;p<s;p++){let m=!1;At(t[p]).subscribe(Ne(o,_=>{m||(m=!0,u--),a[p]=_},()=>c--,void 0,()=>{(!c||!m)&&(u||o.next(r?Cp(r,a):a),o.complete())}))}});return e?i.pipe(bp(e)):i}function fn(n,e){return Le((t,r)=>{let i=0;t.subscribe(Ne(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Lo(n){return Le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ne(t,void 0,void 0,s=>{o=At(n(s,Lo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function iA(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ne(s,p=>{let m=u++;c=a?n(c,p,m):(a=!0,p),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ni(n,e){return ve(e)?St(n,e,1):St(n,1)}function Fo(n){return Le((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mi(n){return n<=0?()=>Xn:Le((e,t)=>{let r=0;e.subscribe(Ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function C_(n){return _e(()=>n)}function Dp(n=BF){return Le((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function BF(){return new xi}function ca(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?fn((i,o)=>n(i,o,r)):Jn,Mi(1),t?Fo(e):Dp(()=>new xi))}function qc(n){return n<=0?()=>Xn:Le((e,t)=>{let r=[];e.subscribe(Ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function T_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?fn((i,o)=>n(i,o,r)):Jn,qc(1),t?Fo(e):Dp(()=>new xi))}function D_(n,e){return Le(iA(n,e,arguments.length>=2,!0))}function A_(...n){let e=Po(n);return Le((t,r)=>{(e?zc(n,t,e):zc(n,t)).subscribe(r)})}function Un(n,e){return Le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ne(r,c=>{i?.unsubscribe();let u=0,p=o++;At(n(c,p)).subscribe(i=Ne(r,m=>r.next(e?e(c,m,p,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function S_(n){return Le((e,t)=>{At(n).subscribe(Ne(t,()=>t.complete(),od)),!t.closed&&e.subscribe(t)})}function Rt(n,e,t){let r=ve(n)||e||t?{next:n,error:e,complete:t}:n;return r?Le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ne(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Jn}var zA="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,t){super(cm(e,t)),this.code=e}};function cm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function wd(n){return{toString:n}.toString()}var Ap="__parameters__";function $F(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function qA(n,e,t){return wd(()=>{let r=$F(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,p){let m=c.hasOwnProperty(Ap)?c[Ap]:Object.defineProperty(c,Ap,{value:[]})[Ap];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var H_=globalThis;function Ze(n){for(let e in n)if(n[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function HF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function An(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(An).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function oA(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var zF=Ze({__forward_ref__:Ze});function Mr(n){return n.__forward_ref__=Mr,n.toString=function(){return An(this())},n}function Dn(n){return GA(n)?n():n}function GA(n){return typeof n=="function"&&n.hasOwnProperty(zF)&&n.__forward_ref__===Mr}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function lm(n){return sA(n,KA)||sA(n,QA)}function WA(n){return lm(n)!==null}function sA(n,e){return n.hasOwnProperty(e)?n[e]:null}function qF(n){let e=n&&(n[KA]||n[QA]);return e||null}function aA(n){return n&&(n.hasOwnProperty(cA)||n.hasOwnProperty(GF))?n[cA]:null}var KA=Ze({\u0275prov:Ze}),cA=Ze({\u0275inj:Ze}),QA=Ze({ngInjectableDef:Ze}),GF=Ze({ngInjectorDef:Ze}),Z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YA(n){return n&&!!n.\u0275providers}var WF=Ze({\u0275cmp:Ze}),KF=Ze({\u0275dir:Ze}),QF=Ze({\u0275pipe:Ze}),YF=Ze({\u0275mod:Ze}),Vp=Ze({\u0275fac:Ze}),ld=Ze({__NG_ELEMENT_ID__:Ze}),lA=Ze({__NG_ENV_ID__:Ze});function um(n){return typeof n=="string"?n:n==null?"":String(n)}function ZF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():um(n)}function JF(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ie(-200,n)}function Gw(n,e){throw new ie(-201,!1)}var Te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Te||{}),z_;function ZA(){return z_}function dr(n){let e=z_;return z_=n,e}function JA(n,e,t){let r=lm(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Te.Optional)return null;if(e!==void 0)return e;Gw(n,"Injector")}var XF={},ud=XF,q_="__NG_DI_FLAG__",Up="ngTempTokenPath",eV="ngTokenPath",tV=/\n/gm,nV="\u0275",uA="__source",Yc;function rV(){return Yc}function Vo(n){let e=Yc;return Yc=n,e}function iV(n,e=Te.Default){if(Yc===void 0)throw new ie(-203,!1);return Yc===null?JA(n,void 0,e):Yc.get(n,e&Te.Optional?null:void 0,e)}function te(n,e=Te.Default){return(ZA()||iV)(Dn(n),e)}function q(n,e=Te.Default){return te(n,dm(e))}function dm(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function G_(n){let e=[];for(let t=0;t<n.length;t++){let r=Dn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let i,o=Te.Default;for(let s=0;s<r.length;s++){let a=r[s],c=oV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(te(i,o))}else e.push(te(r))}return e}function XA(n,e){return n[q_]=e,n.prototype[q_]=e,n}function oV(n){return n[q_]}function sV(n,e,t,r){let i=n[Up];throw e[uA]&&i.unshift(e[uA]),n.message=aV(`
`+n.message,i,t,r),n[eV]=i,n[Up]=null,n}function aV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==nV?n.slice(2):n;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(tV,`
  `)}`}var bt=XA(qA("Optional"),8);var Ww=XA(qA("SkipSelf"),4);function Jc(n,e){let t=n.hasOwnProperty(Vp);return t?n[Vp]:null}function cV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function lV(n){return n.flat(Number.POSITIVE_INFINITY)}function Kw(n,e){n.forEach(t=>Array.isArray(t)?Kw(t,e):e(t))}function eS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function dV(n,e,t){let r=Ed(n,e);return r>=0?n[r|1]=t:(r=~r,uV(n,r,e,t)),r}function R_(n,e){let t=Ed(n,e);if(t>=0)return n[t|1]}function Ed(n,e){return hV(n,e,1)}function hV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Xc={},hr=[],el=new Z(""),tS=new Z("",-1),nS=new Z(""),Bp=class{get(e,t=ud){if(t===ud){let r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return t}},rS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rS||{}),ni=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ni||{}),Bo=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Bo||{});function fV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function W_(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];pV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function iS(n){return n===3||n===4||n===6}function pV(n){return n.charCodeAt(0)===64}function dd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?dA(n,t,i,null,e[++r]):dA(n,t,i,null,null))}}return n}function dA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var oS="ng-template";function mV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Qw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Qw(n){return n.type===4&&n.value!==oS}function gV(n,e,t){let r=n.type===4&&!t?oS:n.value;return e===r}function yV(n,e,t){let r=4,i=n.attrs,o=i!==null?wV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Rr(r)&&!Rr(c))return!1;if(s&&Rr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!gV(n,c,t)||c===""&&e.length===1){if(Rr(r))return!1;s=!0}}else if(r&8){if(i===null||!mV(n,i,c,t)){if(Rr(r))return!1;s=!0}}else{let u=e[++a],p=vV(c,i,Qw(n),t);if(p===-1){if(Rr(r))return!1;s=!0;continue}if(u!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&u!==m){if(Rr(r))return!1;s=!0}}}}return Rr(r)||s}function Rr(n){return(n&1)===0}function vV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return EV(e,n)}function _V(n,e,t=!1){for(let r=0;r<e.length;r++)if(yV(n,e[r],t))return!0;return!1}function wV(n){for(let e=0;e<n.length;e++){let t=n[e];if(iS(t))return e}return n.length}function EV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function hA(n,e){return n?":not("+e.trim()+")":e}function bV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rr(s)&&(e+=hA(o,i),i=""),r=s,o=o||!Rr(r);t++}return i!==""&&(e+=hA(o,i)),e}function IV(n){return n.map(bV).join(",")}function CV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Rr(i))break;i=o}r++}return{attrs:e,classes:t}}function Je(n){return wd(()=>{let e=uS(n),t=Ce(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ni.Emulated,styles:n.styles||hr,_:null,schemas:n.schemas||null,tView:null,id:""});dS(t);let r=n.dependencies;return t.directiveDefs=pA(r,!1),t.pipeDefs=pA(r,!0),t.id=AV(t),t})}function TV(n){return $o(n)||sS(n)}function DV(n){return n!==null}function Bn(n){return wd(()=>({type:n.type,bootstrap:n.bootstrap||hr,declarations:n.declarations||hr,imports:n.imports||hr,exports:n.exports||hr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fA(n,e){if(n==null)return Xc;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Bo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Bo.None?[r,a]:r,e[o]=s):t[o]=r}return t}function xt(n){return wd(()=>{let e=uS(n);return dS(e),e})}function $o(n){return n[WF]||null}function sS(n){return n[KF]||null}function aS(n){return n[QF]||null}function cS(n){let e=$o(n)||sS(n)||aS(n);return e!==null?e.standalone:!1}function lS(n,e){let t=n[YF]||null;if(!t&&e===!0)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return t}function uS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Xc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||hr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fA(n.inputs,e),outputs:fA(n.outputs),debugInfo:null}}function dS(n){n.features?.forEach(e=>e(n))}function pA(n,e){if(!n)return null;let t=e?aS:TV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(DV)}function AV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $n(n){return{\u0275providers:n}}function Yw(...n){return{\u0275providers:hS(!0,n),\u0275fromNgModule:!0}}function hS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Kw(e,s=>{let a=s;K_(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fS(i,o),t}function fS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Zw(i,o=>{e(o,r)})}}function K_(n,e,t,r){if(n=Dn(n),!n)return!1;let i=null,o=aA(n),s=!o&&$o(n);if(!o&&!s){let c=n.ngModule;if(o=aA(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)K_(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Kw(o.imports,p=>{K_(p,e,t,r)&&(u||=[],u.push(p))})}finally{}u!==void 0&&fS(u,e)}if(!a){let u=Jc(i)||(()=>new i);e({provide:i,useFactory:u,deps:hr},i),e({provide:nS,useValue:i,multi:!0},i),e({provide:el,useValue:()=>te(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Zw(c,p=>{e(p,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Zw(n,e){for(let t of n)YA(t)&&(t=t.\u0275providers),Array.isArray(t)?Zw(t,e):e(t)}var SV=Ze({provide:String,useValue:Ze});function pS(n){return n!==null&&typeof n=="object"&&SV in n}function RV(n){return!!(n&&n.useExisting)}function xV(n){return!!(n&&n.useFactory)}function tl(n){return typeof n=="function"}function NV(n){return!!n.useClass}var hm=new Z(""),Mp={},MV={},x_;function Jw(){return x_===void 0&&(x_=new Bp),x_}var Sn=class{},hd=class extends Sn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Y_(e,s=>this.processProvider(s)),this.records.set(tS,Gc(void 0,this)),i.has("environment")&&this.records.set(Sn,Gc(void 0,this));let o=this.records.get(hm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nS,hr,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Vo(this),r=dr(void 0),i;try{return e()}finally{Vo(t),dr(r)}}get(e,t=ud,r=Te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lA))return e[lA](this);r=dm(r);let i,o=Vo(this),s=dr(void 0);try{if(!(r&Te.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=FV(e)&&lm(e);u&&this.injectableDefInScope(u)?c=Gc(Q_(e),Mp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Te.Self?Jw():this.parent;return t=r&Te.Optional&&t===ud?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Up]=a[Up]||[]).unshift(An(e)),o)throw a;return sV(a,e,"R3InjectorError",this.source)}else throw a}finally{dr(s),Vo(o)}}resolveInjectorInitializers(){let e=Se(null),t=Vo(this),r=dr(void 0),i;try{let o=this.get(el,hr,Te.Self);for(let s of o)s()}finally{Vo(t),dr(r),Se(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=Dn(e);let t=tl(e)?e:Dn(e&&e.provide),r=OV(e);if(!tl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gc(void 0,Mp,!0),i.factory=()=>G_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Se(null);try{return t.value===Mp&&(t.value=MV,t.value=t.factory()),typeof t.value=="object"&&t.value&&LV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Q_(n){let e=lm(n),t=e!==null?e.factory:Jc(n);if(t!==null)return t;if(n instanceof Z)throw new ie(204,!1);if(n instanceof Function)return PV(n);throw new ie(204,!1)}function PV(n){if(n.length>0)throw new ie(204,!1);let t=qF(n);return t!==null?()=>t.factory(n):()=>new n}function OV(n){if(pS(n))return Gc(void 0,n.useValue);{let e=mS(n);return Gc(e,Mp)}}function mS(n,e,t){let r;if(tl(n)){let i=Dn(n);return Jc(i)||Q_(i)}else if(pS(n))r=()=>Dn(n.useValue);else if(xV(n))r=()=>n.useFactory(...G_(n.deps||[]));else if(RV(n))r=()=>te(Dn(n.useExisting));else{let i=Dn(n&&(n.useClass||n.provide));if(kV(n))r=()=>new i(...G_(n.deps));else return Jc(i)||Q_(i)}return r}function Gc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function kV(n){return!!n.deps}function LV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function FV(n){return typeof n=="function"||typeof n=="object"&&n instanceof Z}function Y_(n,e){for(let t of n)Array.isArray(t)?Y_(t,e):t&&YA(t)?Y_(t.\u0275providers,e):e(t)}function mr(n,e){n instanceof hd&&n.assertNotDestroyed();let t,r=Vo(n),i=dr(void 0);try{return e()}finally{Vo(r),dr(i)}}function gS(){return ZA()!==void 0||rV()!=null}function VV(n){if(!gS())throw new ie(-203,!1)}function UV(n){return typeof n=="function"}var Fi=0,ge=1,pe=2,gn=3,xr=4,Pr=5,fd=6,$p=7,pn=8,nl=9,ri=10,Et=11,pd=12,mA=13,ll=14,Nr=15,ua=16,Wc=17,Pi=18,fm=19,yS=20,Uo=21,N_=22,fr=23,pr=25,vS=1;var da=7,Hp=8,rl=9,mn=10,zp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(zp||{});function jo(n){return Array.isArray(n)&&typeof n[vS]=="object"}function Vi(n){return Array.isArray(n)&&n[vS]===!0}function Xw(n){return(n.flags&4)!==0}function pm(n){return n.componentOffset>-1}function mm(n){return(n.flags&1)===1}function Ho(n){return!!n.template}function Z_(n){return(n[pe]&512)!==0}var J_=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function _S(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ui(){return wS}function wS(n){return n.type.prototype.ngOnChanges&&(n.setInput=BV),jV}Ui.ngInherit=!0;function jV(){let n=bS(this),e=n?.current;if(e){let t=n.previous;if(t===Xc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function BV(n,e,t,r,i){let o=this.declaredInputs[r],s=bS(n)||$V(n,{previous:Xc,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new J_(u&&u.currentValue,t,c===Xc),_S(n,e,i,t)}var ES="__ngSimpleChanges__";function bS(n){return n[ES]||null}function $V(n,e){return n[ES]=e}var gA=null;var ei=function(n,e,t){gA?.(n,e,t)},HV="svg",zV="math";function ii(n){for(;Array.isArray(n);)n=n[Fi];return n}function IS(n,e){return ii(e[n])}function gr(n,e){return ii(e[n.index])}function eE(n,e){return n.data[e]}function Wo(n,e){let t=e[n];return jo(t)?t:t[Fi]}function qV(n){return(n[pe]&4)===4}function tE(n){return(n[pe]&128)===128}function GV(n){return Vi(n[gn])}function zo(n,e){return e==null?null:n[e]}function CS(n){n[Wc]=0}function TS(n){n[pe]&1024||(n[pe]|=1024,tE(n)&&ym(n))}function WV(n,e){for(;n>0;)e=e[ll],n--;return e}function gm(n){return!!(n[pe]&9216||n[fr]?.dirty)}function X_(n){n[ri].changeDetectionScheduler?.notify(8),n[pe]&64&&(n[pe]|=1024),gm(n)&&ym(n)}function ym(n){n[ri].changeDetectionScheduler?.notify(0);let e=ha(n);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!tE(e)));)e=ha(e)}function DS(n,e){if((n[pe]&256)===256)throw new ie(911,!1);n[Uo]===null&&(n[Uo]=[]),n[Uo].push(e)}function KV(n,e){if(n[Uo]===null)return;let t=n[Uo].indexOf(e);t!==-1&&n[Uo].splice(t,1)}function ha(n){let e=n[gn];return Vi(e)?e[gn]:e}var De={lFrame:kS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var AS=!1;function QV(){return De.lFrame.elementDepthCount}function YV(){De.lFrame.elementDepthCount++}function ZV(){De.lFrame.elementDepthCount--}function SS(){return De.bindingsEnabled}function JV(){return De.skipHydrationRootTNode!==null}function XV(n){return De.skipHydrationRootTNode===n}function e2(){De.skipHydrationRootTNode=null}function ke(){return De.lFrame.lView}function qt(){return De.lFrame.tView}function Ue(n){return De.lFrame.contextLView=n,n[pn]}function je(n){return De.lFrame.contextLView=null,n}function yn(){let n=RS();for(;n!==null&&n.type===64;)n=n.parent;return n}function RS(){return De.lFrame.currentTNode}function t2(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function _a(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function nE(){return De.lFrame.isParent}function xS(){De.lFrame.isParent=!1}function NS(){return AS}function yA(n){AS=n}function n2(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function r2(n){return De.lFrame.bindingIndex=n}function ul(){return De.lFrame.bindingIndex++}function i2(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function o2(){return De.lFrame.inI18n}function s2(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,ew(e)}function a2(){return De.lFrame.currentDirectiveIndex}function ew(n){De.lFrame.currentDirectiveIndex=n}function c2(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function MS(){return De.lFrame.currentQueryIndex}function rE(n){De.lFrame.currentQueryIndex=n}function l2(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[Pr]:null}function PS(n,e,t){if(t&Te.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Te.Host);)if(i=l2(o),i===null||(o=o[ll],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=OS();return r.currentTNode=e,r.lView=n,!0}function iE(n){let e=OS(),t=n[ge];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function OS(){let n=De.lFrame,e=n===null?null:n.child;return e===null?kS(n):e}function kS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function LS(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var FS=LS;function oE(){let n=LS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function u2(n){return(De.lFrame.contextLView=WV(n,De.lFrame.contextLView))[pn]}function wa(){return De.lFrame.selectedIndex}function fa(n){De.lFrame.selectedIndex=n}function vm(){let n=De.lFrame;return eE(n.tView,n.selectedIndex)}function d2(){return De.lFrame.currentNamespace}var VS=!0;function _m(){return VS}function wm(n){VS=n}function h2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=wS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Em(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Pp(n,e,t){US(n,e,3,t)}function Op(n,e,t,r){(n[pe]&3)===t&&US(n,e,t,r)}function M_(n,e){let t=n[pe];(t&3)===e&&(t&=16383,t+=1,n[pe]=t)}function US(n,e,t,r){let i=r!==void 0?n[Wc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Wc]+=65536),(a<o||o==-1)&&(f2(n,t,e,c),n[Wc]=(n[Wc]&4294901760)+c+2),c++}function vA(n,e){ei(4,n,e);let t=Se(null);try{e.call(n)}finally{Se(t),ei(5,n,e)}}function f2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[pe]>>14<n[Wc]>>16&&(n[pe]&3)===e&&(n[pe]+=16384,vA(a,o)):vA(a,o)}var Zc=-1,pa=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function p2(n){return n instanceof pa}function m2(n){return(n.flags&8)!==0}function g2(n){return(n.flags&16)!==0}var P_={},tw=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=dm(r);let i=this.injector.get(e,P_,r);return i!==P_||t===P_?i:this.parentInjector.get(e,t,r)}};function jS(n){return n!==Zc}function qp(n){return n&32767}function y2(n){return n>>16}function Gp(n,e){let t=y2(n),r=e;for(;t>0;)r=r[ll],t--;return r}var nw=!0;function _A(n){let e=nw;return nw=n,e}var v2=256,BS=v2-1,$S=5,_2=0,ti={};function w2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ld)&&(r=t[ld]),r==null&&(r=t[ld]=_2++);let i=r&BS,o=1<<i;e.data[n+(i>>$S)]|=o}function Wp(n,e){let t=HS(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,O_(r.data,n),O_(e,null),O_(r.blueprint,null));let i=sE(n,e),o=n.injectorIndex;if(jS(i)){let s=qp(i),a=Gp(i,e),c=a[ge].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function O_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function sE(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KS(i),r===null)return Zc;if(t++,i=i[ll],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Zc}function rw(n,e,t){w2(n,e,t)}function E2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(iS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function zS(n,e,t){if(t&Te.Optional||n!==void 0)return n;Gw(e,"NodeInjector")}function qS(n,e,t,r){if(t&Te.Optional&&r===void 0&&(r=null),!(t&(Te.Self|Te.Host))){let i=n[nl],o=dr(void 0);try{return i?i.get(e,r,t&Te.Optional):JA(e,r,t&Te.Optional)}finally{dr(o)}}return zS(r,e,t)}function GS(n,e,t,r=Te.Default,i){if(n!==null){if(e[pe]&2048&&!(r&Te.Self)){let s=T2(n,e,t,r,ti);if(s!==ti)return s}let o=WS(n,e,t,r,ti);if(o!==ti)return o}return qS(e,t,r,i)}function WS(n,e,t,r,i){let o=I2(t);if(typeof o=="function"){if(!PS(e,n,r))return r&Te.Host?zS(i,t,r):qS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Te.Optional))Gw(t);else return s}finally{FS()}}else if(typeof o=="number"){let s=null,a=HS(n,e),c=Zc,u=r&Te.Host?e[Nr][Pr]:null;for((a===-1||r&Te.SkipSelf)&&(c=a===-1?sE(n,e):e[a+8],c===Zc||!EA(r,!1)?a=-1:(s=e[ge],a=qp(c),e=Gp(c,e)));a!==-1;){let p=e[ge];if(wA(o,a,p.data)){let m=b2(a,e,t,s,r,u);if(m!==ti)return m}c=e[a+8],c!==Zc&&EA(r,e[ge].data[a+8]===u)&&wA(o,a,e)?(s=p,a=qp(c),e=Gp(c,e)):a=-1}}return i}function b2(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],c=r==null?pm(a)&&nw:r!=s&&(a.type&3)!==0,u=i&Te.Host&&o===a,p=kp(a,s,t,c,u);return p!==null?ma(e,s,p,a):ti}function kp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,p=o>>20,m=r?a:a+p,_=i?a+p:u;for(let w=m;w<_;w++){let R=s[w];if(w<c&&t===R||w>=c&&R.type===t)return w}if(i){let w=s[c];if(w&&Ho(w)&&w.type===t)return c}return null}function ma(n,e,t,r){let i=n[t],o=e.data;if(p2(i)){let s=i;s.resolving&&JF(ZF(o[t]));let a=_A(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?dr(s.injectImpl):null,p=PS(n,r,Te.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&h2(t,o[t],e)}finally{u!==null&&dr(u),_A(a),s.resolving=!1,FS()}}return i}function I2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ld)?n[ld]:void 0;return typeof e=="number"?e>=0?e&BS:C2:e}function wA(n,e,t){let r=1<<n;return!!(t[e+(n>>$S)]&r)}function EA(n,e){return!(n&Te.Self)&&!(n&Te.Host&&e)}var la=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GS(this._tNode,this._lView,e,dm(r),t)}};function C2(){return new la(yn(),ke())}function dl(n){return wd(()=>{let e=n.prototype.constructor,t=e[Vp]||iw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Vp]||iw(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function iw(n){return GA(n)?()=>{let e=iw(Dn(n));return e&&e()}:Jc(n)}function T2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[pe]&2048&&!(s[pe]&512);){let a=WS(o,s,t,r|Te.Self,ti);if(a!==ti)return a;let c=o.parent;if(!c){let u=s[yS];if(u){let p=u.get(t,ti,r);if(p!==ti)return p}c=KS(s),s=s[ll]}o=c}return i}function KS(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[Pr]:null}function aE(n){return E2(yn(),n)}function bA(n,e=null,t=null,r){let i=QS(n,e,t,r);return i.resolveInjectorInitializers(),i}function QS(n,e=null,t=null,r,i=new Set){let o=[t||hr,Yw(n)];return r=r||(typeof n=="object"?void 0:An(n)),new hd(o,e||Jw(),r||null,i)}var zt=class n{static{this.THROW_IF_NOT_FOUND=ud}static{this.NULL=new Bp}static create(e,t){if(Array.isArray(e))return bA({name:""},t,e,"");{let r=e.name??"";return bA({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>te(tS)})}static{this.__NG_ELEMENT_ID__=-1}};var D2=new Z("");D2.__NG_ELEMENT_ID__=n=>{let e=yn();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(n&Te.Optional)return null;throw new ie(204,!1)};var A2="ngOriginalError";function k_(n){return n[A2]}var YS=!0,cE=(()=>{class n{static{this.__NG_ELEMENT_ID__=S2}static{this.__NG_ENV_ID__=t=>t}}return n})(),ow=class extends cE{constructor(e){super(),this._lView=e}onDestroy(e){return DS(this._lView,e),()=>KV(this._lView,e)}};function S2(){return new ow(ke())}var Ko=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();var sw=class extends mt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,gS()&&(this.destroyRef=q(cE,{optional:!0})??void 0,this.pendingTasks=q(Ko,{optional:!0})??void 0)}emit(e){let t=Se(null);try{super.next(e)}finally{Se(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=sw;function Kp(...n){}function ZS(n){let e,t;function r(){n=Kp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function IA(n){return queueMicrotask(()=>n()),()=>{n=Kp}}var lE="isAngularZone",Qp=lE+"_ID",R2=0,xe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=YS}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,M2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lE)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ie(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,x2,Kp,Kp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},x2={};function uE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function N2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ZS(()=>{n.callbackScheduled=!1,aw(n),n.isCheckStableRunning=!0,uE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),aw(n)}function M2(n){let e=()=>{N2(n)},t=R2++;n._inner=n._inner.fork({name:"angular",properties:{[lE]:!0,[Qp]:t,[Qp+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(P2(c))return r.invokeTask(o,s,a,c);try{return CA(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TA(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return CA(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!O2(c)&&e(),TA(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,aw(n),uE(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function aw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function CA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TA(n){n._nesting--,uE(n)}var cw=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function P2(n){return JS(n,"__ignore_ng_zone__")}function O2(n){return JS(n,"__scheduler_tick__")}function JS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Oi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&k_(e);for(;t&&k_(t);)t=k_(t);return t||null}},k2=new Z("",{providedIn:"root",factory:()=>{let n=q(xe),e=q(Oi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function L2(){return hl(yn(),ke())}function hl(n,e){return new er(gr(n,e))}var er=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=L2}}return n})();function F2(n){return n instanceof er?n.nativeElement:n}function V2(){return this._results[Symbol.iterator]()}var lw=class n{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=V2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=lV(e);(this._changesDetected=!cV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function XS(n){return(n.flags&128)===128}var eR=new Map,U2=0;function j2(){return U2++}function B2(n){eR.set(n[fm],n)}function uw(n){eR.delete(n[fm])}var DA="__ngContext__";function qo(n,e){jo(e)?(n[DA]=e[fm],B2(e)):n[DA]=e}function tR(n){return rR(n[pd])}function nR(n){return rR(n[xr])}function rR(n){for(;n!==null&&!Vi(n);)n=n[xr];return n}var dw;function iR(n){dw=n}function $2(){if(dw!==void 0)return dw;if(typeof document<"u")return document;throw new ie(210,!1)}var dE=new Z("",{providedIn:"root",factory:()=>H2}),H2="ng",hE=new Z(""),Hn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var fE=new Z("",{providedIn:"root",factory:()=>$2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var z2="h",q2="b";var G2=()=>null;function pE(n,e,t=!1){return G2(n,e,t)}var oR=!1,W2=new Z("",{providedIn:"root",factory:()=>oR});var Sp;function K2(){if(Sp===void 0&&(Sp=null,H_.trustedTypes))try{Sp=H_.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sp}function AA(n){return K2()?.createScriptURL(n)||n}var Yp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zA})`}};function bd(n){return n instanceof Yp?n.changingThisBreaksApplicationSecurity:n}function mE(n,e){let t=Q2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zA})`)}return t===e}function Q2(n){return n instanceof Yp&&n.getTypeName()||null}var Y2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sR(n){return n=String(n),n.match(Y2)?n:"unsafe:"+n}var bm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(bm||{});function Ea(n){let e=cR();return e?e.sanitize(bm.URL,n)||"":mE(n,"URL")?bd(n):sR(um(n))}function Z2(n){let e=cR();if(e)return AA(e.sanitize(bm.RESOURCE_URL,n)||"");if(mE(n,"ResourceURL"))return AA(bd(n));throw new ie(904,!1)}function J2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Z2:Ea}function aR(n,e,t){return J2(e,t)(n)}function cR(){let n=ke();return n&&n[ri].sanitizer}var X2=/^>|^->|<!--|-->|--!>|<!-$/g,eU=/(<|>)/g,tU="\u200B$1\u200B";function nU(n){return n.replace(X2,e=>e.replace(eU,tU))}function lR(n){return n instanceof Function?n():n}function rU(n){return(n??q(zt)).get(Hn)==="browser"}var ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ki||{}),iU;function gE(n,e){return iU(n,e)}function Kc(n,e,t,r,i){if(r!=null){let o,s=!1;Vi(r)?o=r:jo(r)&&(s=!0,r=r[Fi]);let a=ii(r);n===0&&t!==null?i==null?fR(e,t,a):Zp(e,t,a,i||null,!0):n===1&&t!==null?Zp(e,t,a,i||null,!0):n===2?wU(e,a,s):n===3&&e.destroyNode(a),o!=null&&bU(e,n,o,t,i)}}function oU(n,e){return n.createText(e)}function sU(n,e,t){n.setValue(e,t)}function aU(n,e){return n.createComment(nU(e))}function uR(n,e,t){return n.createElement(e,t)}function cU(n,e){dR(n,e),e[Fi]=null,e[Pr]=null}function lU(n,e,t,r,i,o){r[Fi]=i,r[Pr]=e,Tm(n,r,t,1,i,o)}function dR(n,e){e[ri].changeDetectionScheduler?.notify(9),Tm(n,e,e[Et],2,null,null)}function uU(n){let e=n[pd];if(!e)return L_(n[ge],n);for(;e;){let t=null;if(jo(e))t=e[pd];else{let r=e[mn];r&&(t=r)}if(!t){for(;e&&!e[xr]&&e!==n;)jo(e)&&L_(e[ge],e),e=e[gn];e===null&&(e=n),jo(e)&&L_(e[ge],e),t=e&&e[xr]}e=t}}function dU(n,e,t,r){let i=mn+r,o=t.length;r>0&&(t[i-1][xr]=e),r<o-mn?(e[xr]=t[i],eS(t,mn+r,e)):(t.push(e),e[xr]=null),e[gn]=t;let s=e[ua];s!==null&&t!==s&&hR(s,e);let a=e[Pi];a!==null&&a.insertView(n),X_(e),e[pe]|=128}function hR(n,e){let t=n[rl],r=e[gn];if(jo(r))n[pe]|=zp.HasTransplantedViews;else{let i=r[gn][Nr];e[Nr]!==i&&(n[pe]|=zp.HasTransplantedViews)}t===null?n[rl]=[e]:t.push(e)}function yE(n,e){let t=n[rl],r=t.indexOf(e);t.splice(r,1)}function md(n,e){if(n.length<=mn)return;let t=mn+e,r=n[t];if(r){let i=r[ua];i!==null&&i!==n&&yE(i,r),e>0&&(n[t-1][xr]=r[xr]);let o=jp(n,mn+e);cU(r[ge],r);let s=o[Pi];s!==null&&s.detachView(o[ge]),r[gn]=null,r[xr]=null,r[pe]&=-129}return r}function Im(n,e){if(!(e[pe]&256)){let t=e[Et];t.destroyNode&&Tm(n,e,t,3,null,null),uU(e)}}function L_(n,e){if(e[pe]&256)return;let t=Se(null);try{e[pe]&=-129,e[pe]|=256,e[fr]&&a_(e[fr]),fU(n,e),hU(n,e),e[ge].type===1&&e[Et].destroy();let r=e[ua];if(r!==null&&Vi(e[gn])){r!==e[gn]&&yE(r,e);let i=e[Pi];i!==null&&i.detachView(n)}uw(e)}finally{Se(t)}}function hU(n,e){let t=n.cleanup,r=e[$p];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[$p]=null);let i=e[Uo];if(i!==null){e[Uo]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function fU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof pa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ei(4,a,c);try{c.call(a)}finally{ei(5,a,c)}}else{ei(4,i,o);try{o.call(i)}finally{ei(5,i,o)}}}}}function pU(n,e,t){return mU(n,e.parent,t)}function mU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Fi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ni.None||o===ni.Emulated)return null}return gr(r,t)}}function Zp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function fR(n,e,t){n.appendChild(e,t)}function SA(n,e,t,r,i){r!==null?Zp(n,e,t,r,i):fR(n,e,t)}function pR(n,e){return n.parentNode(e)}function gU(n,e){return n.nextSibling(e)}function yU(n,e,t){return _U(n,e,t)}function vU(n,e,t){return n.type&40?gr(n,t):null}var _U=vU,RA;function Cm(n,e,t,r){let i=pU(n,r,e),o=e[Et],s=r.parent||e[Pr],a=yU(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)SA(o,i,t[c],a,!1);else SA(o,i,t,a,!1);RA!==void 0&&RA(o,r,e,t,i)}function cd(n,e){if(e!==null){let t=e.type;if(t&3)return gr(e,n);if(t&4)return hw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cd(n,r);{let i=n[e.index];return Vi(i)?hw(-1,i):ii(i)}}else{if(t&128)return cd(n,e.next);if(t&32)return gE(e,n)()||ii(n[e.index]);{let r=mR(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ha(n[Nr]);return cd(i,r)}else return cd(n,e.next)}}}return null}function mR(n,e){if(e!==null){let r=n[Nr][Pr],i=e.projection;return r.projection[i]}return null}function hw(n,e){let t=mn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return cd(r,i)}return e[da]}function wU(n,e,t){n.removeChild(null,e,t)}function vE(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&qo(ii(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)vE(n,e,t.child,r,i,o,!1),Kc(e,n,i,a,o);else if(c&32){let u=gE(t,r),p;for(;p=u();)Kc(e,n,i,p,o);Kc(e,n,i,a,o)}else c&16?EU(n,e,r,t,i,o):Kc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Tm(n,e,t,r,i,o){vE(t,r,n.firstChild,e,i,o,!1)}function EU(n,e,t,r,i,o){let s=t[Nr],c=s[Pr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let p=c[u];Kc(e,n,i,p,o)}else{let u=c,p=s[gn];XS(r)&&(u.flags|=128),vE(n,e,u,p,i,o,!0)}}function bU(n,e,t,r,i){let o=t[da],s=ii(t);o!==s&&Kc(e,n,r,o,i);for(let a=mn;a<t.length;a++){let c=t[a];Tm(c[ge],c,n,e,r,o)}}function IU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ki.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ki.Important),n.setStyle(t,r,i,o))}}function CU(n,e,t){n.setAttribute(e,"style",t)}function gR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yR(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&W_(n,e,r),i!==null&&gR(n,e,i),o!==null&&CU(n,e,o)}var ji={};function Y(n=1){vR(qt(),ke(),wa()+n,!1)}function vR(n,e,t,r){if(!r)if((e[pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Pp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Op(e,o,0,t)}fa(t)}function ee(n,e=Te.Default){let t=ke();if(t===null)return te(n,e);let r=yn();return GS(r,t,Dn(n),e)}function _R(){let n="invalid";throw new Error(n)}function wR(n,e,t,r,i,o){let s=Se(null);try{let a=null;i&Bo.SignalBased&&(a=e[r][Ri]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Bo.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):_S(e,a,r,o)}finally{Se(s)}}function TU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)fa(~i);else{let o=i,s=t[++r],a=t[++r];s2(s,o);let c=e[o];a(2,c)}}}finally{fa(-1)}}function Dm(n,e,t,r,i,o,s,a,c,u,p){let m=e.blueprint.slice();return m[Fi]=i,m[pe]=r|4|128|8|64,(u!==null||n&&n[pe]&2048)&&(m[pe]|=2048),CS(m),m[gn]=m[ll]=n,m[pn]=t,m[ri]=s||n&&n[ri],m[Et]=a||n&&n[Et],m[nl]=c||n&&n[nl]||null,m[Pr]=o,m[fm]=j2(),m[fd]=p,m[yS]=u,m[Nr]=e.type==2?n[Nr]:m,m}function Id(n,e,t,r,i){let o=n.data[e];if(o===null)o=DU(n,e,t,r,i),o2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=t2();o.injectorIndex=s===null?-1:s.injectorIndex}return _a(o,!0),o}function DU(n,e,t,r,i){let o=RS(),s=nE(),a=s?o:o&&o.parent,c=n.data[e]=MU(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ER(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bR(n,e,t,r,i){let o=wa(),s=r&2;try{fa(-1),s&&e.length>pr&&vR(n,e,pr,!1),ei(s?2:0,i),t(r,i)}finally{fa(o),ei(s?3:1,i)}}function _E(n,e,t){if(Xw(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Se(r)}}}function wE(n,e,t){SS()&&(VU(n,e,t,gr(t,e)),(t.flags&64)===64&&TR(n,e,t))}function EE(n,e,t=gr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function IR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=bE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bE(n,e,t,r,i,o,s,a,c,u,p){let m=pr+r,_=m+i,w=AU(m,_),R=typeof u=="function"?u():u;return w[ge]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:R,incompleteFirstPass:!1,ssrId:p}}function AU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ji);return t}function SU(n,e,t,r){let o=r.get(W2,oR)||t===ni.ShadowDom,s=n.selectRootElement(e,o);return RU(s),s}function RU(n){xU(n)}var xU=()=>null;function NU(n,e,t,r){let i=SR(e);i.push(t),n.firstCreatePass&&RR(n).push(r,i.length-1)}function MU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return JV()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xA(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Bo.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?NA(r,t,u,a,c):NA(r,t,u,a)}return r}function NA(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function PU(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let p=r;p<i;p++){let m=o[p],_=t?t.get(m):null,w=_?_.inputs:null,R=_?_.outputs:null;c=xA(0,m.inputs,p,c,w),u=xA(1,m.outputs,p,u,R);let M=c!==null&&s!==null&&!Qw(e)?QU(c,p,s):null;a.push(M)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function OU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function IE(n,e,t,r,i,o,s,a){let c=gr(e,t),u=e.inputs,p;!a&&u!=null&&(p=u[r])?(TE(n,t,p,r,i),pm(e)&&kU(t,e.index)):e.type&3?(r=OU(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function kU(n,e){let t=Wo(e,n);t[pe]&16||(t[pe]|=64)}function CE(n,e,t,r){if(SS()){let i=r===null?null:{"":-1},o=jU(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CR(n,e,t,s,i,a),i&&BU(t,r,i)}t.mergedAttrs=dd(t.mergedAttrs,t.attrs)}function CR(n,e,t,r,i,o){for(let u=0;u<r.length;u++)rw(Wp(t,e),n,r[u].type);HU(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let p=r[u];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,c=ER(n,e,r.length,null);for(let u=0;u<r.length;u++){let p=r[u];t.mergedAttrs=dd(t.mergedAttrs,p.hostAttrs),zU(n,t,e,c,p),$U(c,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}PU(n,t,o)}function LU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;FU(s)!=a&&s.push(a),s.push(t,r,o)}}function FU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function VU(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;pm(t)&&qU(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Wp(t,e),qo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=ma(e,n,a,t);if(qo(u,e),s!==null&&KU(e,a-i,u,c,t,s),Ho(c)){let p=Wo(t.index,e);p[pn]=ma(e,n,a,t)}}}function TR(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=a2();try{fa(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];ew(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&UU(c,u)}}finally{fa(-1),ew(s)}}function UU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function jU(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(_V(e,s.selectors,!1))if(r||(r=[]),Ho(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;fw(n,e,c)}else r.unshift(s),fw(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function fw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function BU(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ie(-301,!1);r.push(e[i],o)}}}function $U(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ho(e)&&(t[""]=n)}}function HU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function zU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Jc(i.type,!0)),s=new pa(o,Ho(i),ee);n.blueprint[r]=s,t[r]=s,LU(n,e,r,ER(n,t,i.hostVars,ji),i)}function qU(n,e,t){let r=gr(e,n),i=IR(t),o=n[ri].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Am(n,Dm(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function GU(n,e,t,r,i,o){let s=gr(n,e);WU(e[Et],s,o,n.value,t,r,i)}function WU(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?um(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function KU(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],p=s[a++],m=s[a++];wR(r,t,c,u,p,m)}}function QU(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function DR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AR(n,e){let t=n.contentQueries;if(t!==null){let r=Se(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];rE(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function Am(n,e){return n[pd]?n[mA][xr]=e:n[pd]=e,n[mA]=e,e}function pw(n,e,t){rE(0);let r=Se(null);try{e(n,t)}finally{Se(r)}}function SR(n){return n[$p]??=[]}function RR(n){return n.cleanup??=[]}function xR(n,e){let t=n[nl],r=t?t.get(Oi,null):null;r&&r.handleError(e)}function TE(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],p=n.data[s];wR(p,u,r,a,c,i)}}function YU(n,e,t){let r=IS(e,n);sU(n[Et],r,t)}function ZU(n,e){let t=Wo(e,n),r=t[ge];JU(r,t);let i=t[Fi];i!==null&&t[fd]===null&&(t[fd]=pE(i,t[nl])),DE(r,t,t[pn])}function JU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function DE(n,e,t){iE(e);try{let r=n.viewQuery;r!==null&&pw(1,r,t);let i=n.template;i!==null&&bR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Pi]?.finishViewCreation(n),n.staticContentQueries&&AR(n,e),n.staticViewQueries&&pw(2,n.viewQuery,t);let o=n.components;o!==null&&XU(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,oE()}}function XU(n,e){for(let t=0;t<e.length;t++)ZU(n,e[t])}function Sm(n,e,t,r){let i=Se(null);try{let o=e.tView,a=n[pe]&4096?4096:16,c=Dm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ua]=u;let p=n[Pi];return p!==null&&(c[Pi]=p.createEmbeddedView(o)),DE(o,c,t),c}finally{Se(i)}}function NR(n,e){let t=mn+e;if(t<n.length)return n[t]}function gd(n,e){return!e||e.firstChild===null||XS(n)}function Rm(n,e,t,r=!0){let i=e[ge];if(dU(i,e,n,t),r){let s=hw(t,n),a=e[Et],c=pR(a,n[da]);c!==null&&lU(i,n[Pr],a,e,c,s)}let o=e[fd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function MR(n,e){let t=md(n,e);return t!==void 0&&Im(t[ge],t),t}function Jp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ii(o)),Vi(o)&&ej(o,r);let s=t.type;if(s&8)Jp(n,e,t.child,r);else if(s&32){let a=gE(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=mR(e,t);if(Array.isArray(a))r.push(...a);else{let c=ha(e[Nr]);Jp(c[ge],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ej(n,e){for(let t=mn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&Jp(r[ge],r,i,e)}n[da]!==n[Fi]&&e.push(n[da])}var PR=[];function tj(n){return n[fr]??nj(n)}function nj(n){let e=PR.pop()??Object.create(ij);return e.lView=n,e}function rj(n){n.lView[fr]!==n&&(n.lView=null,PR.push(n))}var ij=Ce(z({},id),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ym(n.lView)},consumerOnSignalRead(){this.lView[fr]=this}});function oj(n){let e=n[fr]??Object.create(sj);return e.lView=n,e}var sj=Ce(z({},id),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ha(n.lView);for(;e&&!OR(e[ge]);)e=ha(e);e&&TS(e)},consumerOnSignalRead(){this.lView[fr]=this}});function OR(n){return n.type!==2}var aj=100;function kR(n,e=!0,t=0){let r=n[ri],i=r.rendererFactory,o=!1;o||i.begin?.();try{cj(n,t)}catch(s){throw e&&xR(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function cj(n,e){let t=NS();try{yA(!0),mw(n,e);let r=0;for(;gm(n);){if(r===aj)throw new ie(103,!1);r++,mw(n,1)}}finally{yA(t)}}function lj(n,e,t,r){let i=e[pe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ri].inlineEffectRunner?.flush(),iE(e);let a=!0,c=null,u=null;o||(OR(n)?(u=tj(e),c=ep(u)):ED()===null?(a=!1,u=oj(e),c=ep(u)):e[fr]&&(a_(e[fr]),e[fr]=null));try{CS(e),r2(n.bindingStartIndex),t!==null&&bR(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let w=n.preOrderCheckHooks;w!==null&&Pp(e,w,null)}else{let w=n.preOrderHooks;w!==null&&Op(e,w,0,null),M_(e,0)}if(s||uj(e),LR(e,0),n.contentQueries!==null&&AR(n,e),!o)if(p){let w=n.contentCheckHooks;w!==null&&Pp(e,w)}else{let w=n.contentHooks;w!==null&&Op(e,w,1),M_(e,1)}TU(n,e);let m=n.components;m!==null&&VR(e,m,0);let _=n.viewQuery;if(_!==null&&pw(2,_,r),!o)if(p){let w=n.viewCheckHooks;w!==null&&Pp(e,w)}else{let w=n.viewHooks;w!==null&&Op(e,w,2),M_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[N_]){for(let w of e[N_])w();e[N_]=null}o||(e[pe]&=-73)}catch(p){throw o||ym(e),p}finally{u!==null&&(o_(u,c),a&&rj(u)),oE()}}function LR(n,e){for(let t=tR(n);t!==null;t=nR(t))for(let r=mn;r<t.length;r++){let i=t[r];FR(i,e)}}function uj(n){for(let e=tR(n);e!==null;e=nR(e)){if(!(e[pe]&zp.HasTransplantedViews))continue;let t=e[rl];for(let r=0;r<t.length;r++){let i=t[r];TS(i)}}}function dj(n,e,t){let r=Wo(e,n);FR(r,t)}function FR(n,e){tE(n)&&mw(n,e)}function mw(n,e){let r=n[ge],i=n[pe],o=n[fr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&s_(o)),s||=!1,o&&(o.dirty=!1),n[pe]&=-9217,s)lj(r,n,r.template,n[pn]);else if(i&8192){LR(n,1);let a=r.components;a!==null&&VR(n,a,1)}}function VR(n,e,t){for(let r=0;r<e.length;r++)dj(n,e[r],t)}function AE(n,e){let t=NS()?64:1088;for(n[ri].changeDetectionScheduler?.notify(e);n;){n[pe]|=t;let r=ha(n);if(Z_(n)&&!r)return n;n=r}return null}var ga=class{get rootNodes(){let e=this._lView,t=e[ge];return Jp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gn];if(Vi(e)){let t=e[Hp],r=t?t.indexOf(this):-1;r>-1&&(md(e,r),jp(t,r))}this._attachedToViewContainer=!1}Im(this._lView[ge],this._lView)}onDestroy(e){DS(this._lView,e)}markForCheck(){AE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){X_(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,kR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Z_(this._lView),t=this._lView[ua];t!==null&&!e&&yE(t,this._lView),dR(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let t=Z_(this._lView),r=this._lView[ua];r!==null&&!t&&hR(r,this._lView),X_(this._lView)}},ya=(()=>{class n{static{this.__NG_ELEMENT_ID__=pj}}return n})(),hj=ya,fj=class extends hj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Sm(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ga(i)}};function pj(){return SE(yn(),ke())}function SE(n,e){return n.type&4?new fj(e,n,hl(n,e)):null}var mre=new RegExp(`^(\\d+)*(${q2}|${z2})*(.*)`);var mj=()=>null;function yd(n,e){return mj(n,e)}var il=class{},xm=new Z("",{providedIn:"root",factory:()=>!1});var UR=new Z(""),jR=new Z(""),gw=class{},Xp=class{};function gj(n){let e=Error(`No component factory found for ${An(n)}.`);return e[yj]=n,e}var yj="ngComponent";var yw=class{resolveComponentFactory(e){throw gj(e)}},ol=class{static{this.NULL=new yw}},sl=class{},ba=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>vj()}}return n})();function vj(){let n=ke(),e=yn(),t=Wo(e.index,n);return(jo(t)?t:n)[Et]}var _j=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();function em(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=oA(i,a);else if(o==2){let c=a,u=e[++s];r=oA(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var tm=class extends ol{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=$o(e);return new al(t,this.ngModule)}};function MA(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Bo.None;e?t.push({propName:s,templateName:r,isSignal:(a&Bo.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function wj(n){let e=n.toLowerCase();return e==="svg"?HV:e==="math"?zV:null}var al=class extends Xp{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=MA(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return MA(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof Sn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new tw(e,s):e,c=a.get(sl,null);if(c===null)throw new ie(407,!1);let u=a.get(_j,null),p=a.get(il,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:p},_=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",R=r?SU(_,r,this.componentDef.encapsulation,a):uR(_,w,wj(w)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let x=null;R!==null&&(x=pE(R,a,!0));let V=bE(0,null,null,1,0,null,null,null,null,null,null),G=Dm(null,V,null,M,null,null,m,_,a,null,x);iE(G);let B,H,X=null;try{let K=this.componentDef,D,b=null;K.findHostDirectiveDefs?(D=[],b=new Map,K.findHostDirectiveDefs(K,D,b),D.push(K)):D=[K];let I=Ej(G,R);X=bj(I,R,K,D,G,m,_),H=eE(V,pr),R&&Tj(_,K,R,r),t!==void 0&&Dj(H,this.ngContentSelectors,t),B=Cj(X,K,D,b,G,[Aj]),DE(V,G,null)}catch(K){throw X!==null&&uw(X),uw(G),K}finally{oE()}return new vw(this.componentType,B,hl(H,G),G,H)}finally{Se(o)}}},vw=class extends gw{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ga(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;TE(o[ge],o,i,e,t),this.previousInputValues.set(e,t);let s=Wo(this._tNode.index,o);AE(s,1)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ej(n,e){let t=n[ge],r=pr;return n[r]=e,Id(t,r,2,"#host",null)}function bj(n,e,t,r,i,o,s){let a=i[ge];Ij(r,n,e,s);let c=null;e!==null&&(c=pE(e,i[nl]));let u=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=Dm(i,IR(t),null,p,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&fw(a,n,r.length-1),Am(i,m),i[n.index]=m}function Ij(n,e,t,r){for(let i of n)e.mergedAttrs=dd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(em(e,e.mergedAttrs,!0),t!==null&&yR(r,t,e))}function Cj(n,e,t,r,i,o){let s=yn(),a=i[ge],c=gr(s,i);CR(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let m=s.directiveStart+p,_=ma(i,a,m,s);qo(_,i)}TR(a,i,s),c&&qo(c,i);let u=ma(i,a,s.directiveStart+s.componentOffset,s);if(n[pn]=i[pn]=u,o!==null)for(let p of o)p(u,e);return _E(a,s,i),u}function Tj(n,e,t,r){if(r)W_(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=CV(e.selectors[0]);i&&W_(n,t,i),o&&o.length>0&&gR(n,t,o.join(" "))}}function Dj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Aj(){let n=yn();Em(ke()[ge],n)}var Qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Sj}}return n})();function Sj(){let n=yn();return $R(n,ke())}var Rj=Qo,BR=class extends Rj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hl(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){let e=sE(this._hostTNode,this._hostLView);if(jS(e)){let t=Gp(e,this._hostLView),r=qp(e),i=t[ge].data[r+8];return new la(i,t)}else return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=PA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-mn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,gd(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!UV(e),a;if(s)a=t;else{let R=t||{};a=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}let c=s?e:new al($o(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let M=(s?u:this.parentInjector).get(Sn,null);M&&(o=M)}let p=$o(c.componentType??{}),m=yd(this._lContainer,p?.id??null),_=m?.firstChild??null,w=c.create(u,i,_,o);return this.insertImpl(w.hostView,a,gd(this._hostTNode,m)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(GV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[gn],u=new BR(c,c[Pr],c[gn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Rm(s,i,o,r),e.attachToViewContainerRef(),eS(F_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=PA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=md(this._lContainer,t);r&&(jp(F_(this._lContainer),t),Im(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=md(this._lContainer,t);return r&&jp(F_(this._lContainer),t)!=null?new ga(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function PA(n){return n[Hp]}function F_(n){return n[Hp]||(n[Hp]=[])}function $R(n,e){let t,r=e[n.index];return Vi(r)?t=r:(t=DR(r,e,null,n),e[n.index]=t,Am(e,t)),Nj(t,e,n,r),new BR(t,n,e)}function xj(n,e){let t=n[Et],r=t.createComment(""),i=gr(e,n),o=pR(t,i);return Zp(t,o,r,gU(t,i),!1),r}var Nj=Oj,Mj=()=>!1;function Pj(n,e,t){return Mj(n,e,t)}function Oj(n,e,t,r){if(n[da])return;let i;t.type&8?i=ii(r):i=xj(e,t),n[da]=i}var _w=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ww=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)RE(e,t).matches!==null&&this.queries[t].setDirty()}},Ew=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=$j(e):this.predicate=e}},bw=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Iw=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,kj(t,o)),this.matchTNodeWithReadOption(e,t,kp(t,e,o,!1,!1))}else r===ya?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===er||i===Qo||i===ya&&t.type&4)this.addMatch(t.index,-2);else{let o=kp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function kj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Lj(n,e){return n.type&11?hl(n,e):n.type&4?SE(n,e):null}function Fj(n,e,t,r){return t===-1?Lj(e,n):t===-2?Vj(n,e,r):ma(n,n[ge],t,e)}function Vj(n,e,t){if(t===er)return hl(e,n);if(t===ya)return SE(e,n);if(t===Qo)return $R(e,n)}function HR(n,e,t,r){let i=e[Pi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let p=o[u];a.push(Fj(e,p,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Cw(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=HR(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],p=e[-c];for(let m=mn;m<p.length;m++){let _=p[m];_[ua]===_[gn]&&Cw(_[ge],_,u,r)}if(p[rl]!==null){let m=p[rl];for(let _=0;_<m.length;_++){let w=m[_];Cw(w[ge],w,u,r)}}}}}return r}function Uj(n,e){return n[Pi].queries[e].queryList}function jj(n,e,t){let r=new lw((t&4)===4);return NU(n,e,r,r.destroy),(e[Pi]??=new ww).queries.push(new _w(r))-1}function Bj(n,e,t){let r=qt();return r.firstCreatePass&&(Hj(r,new Ew(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),jj(r,ke(),e)}function $j(n){return n.split(",").map(e=>e.trim())}function Hj(n,e,t){n.queries===null&&(n.queries=new bw),n.queries.track(new Iw(e,t))}function RE(n,e){return n.queries.getByIndex(e)}function zj(n,e){let t=n[ge],r=RE(t,e);return r.crossesNgTemplate?Cw(t,n,e,[]):HR(t,n,r,e)}var OA=new Set;function Bi(n){OA.has(n)||(OA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function qj(n){return typeof n=="function"&&n[Ri]!==void 0}function fl(n,e){Bi("NgSignals");let t=MD(n),r=t[Ri];return e?.equal&&(r.equal=e.equal),t.set=i=>c_(r,i),t.update=i=>PD(r,i),t.asReadonly=Gj.bind(t),t}function Gj(){let n=this[Ri];if(n.readonlyFn===void 0){let e=()=>this();e[Ri]=n,n.readonlyFn=e}return n.readonlyFn}function zR(n){return qj(n)&&typeof n.set=="function"}function Wj(n){return Object.getPrototypeOf(n.prototype).constructor}function Or(n){let e=Wj(n.type),t=!0,r=[n];for(;e;){let i;if(Ho(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Rp(n.inputs),s.inputTransforms=Rp(n.inputTransforms),s.declaredInputs=Rp(n.declaredInputs),s.outputs=Rp(n.outputs);let a=i.hostBindings;a&&Jj(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Yj(n,c),u&&Zj(n,u),Kj(n,i),HF(n.outputs,i.outputs),Ho(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Or&&(t=!1)}}e=Object.getPrototypeOf(e)}Qj(r)}function Kj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Qj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dd(i.hostAttrs,t=dd(t,i.hostAttrs))}}function Rp(n){return n===Xc?{}:n===hr?[]:n}function Yj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Zj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Jj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function xE(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Go=class{},vd=class{};var Tw=class extends Go{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tm(this);let o=lS(e);this._bootstrapComponents=lR(o.bootstrap),this._r3Injector=QS(e,t,[{provide:Go,useValue:this},{provide:ol,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dw=class extends vd{constructor(e){super(),this.moduleType=e}create(e){return new Tw(this.moduleType,e,[])}};var nm=class extends Go{constructor(e){super(),this.componentFactoryResolver=new tm(this),this.instance=null;let t=new hd([...e.providers,{provide:Go,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],e.parent||Jw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nm(n,e,t=null){return new nm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function qR(n){return eB(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Xj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function eB(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function tB(n,e,t){return n[e]=t}function nB(n,e){return n[e]}function Ia(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function rB(n){return(n.flags&32)===32}function iB(n,e,t,r,i,o,s,a,c){let u=e.consts,p=Id(e,n,4,s||null,a||null);CE(e,t,p,zo(u,c)),Em(e,p);let m=p.tView=bE(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function Aw(n,e,t,r,i,o,s,a,c,u){let p=t+pr,m=e.firstCreatePass?iB(p,e,n,r,i,o,s,a,c):e.data[p];_a(m,!1);let _=oB(e,n,m,t);_m()&&Cm(e,n,_,m),qo(_,n);let w=DR(_,n,_,m);return n[p]=w,Am(n,w),Pj(w,m,n),mm(m)&&wE(e,n,m),c!=null&&EE(n,m,u),m}function me(n,e,t,r,i,o,s,a){let c=ke(),u=qt(),p=zo(u.consts,o);return Aw(c,u,n,e,t,r,i,p,s,a),me}var oB=sB;function sB(n,e,t,r){return wm(!0),e[Et].createComment("")}var Qc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Qc||{}),GR=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Sw=class n{constructor(){this.ngZone=q(xe),this.scheduler=q(il),this.errorHandler=q(Oi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Qc.EarlyRead,Qc.Write,Qc.MixedReadWrite,Qc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}},Rw=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function NE(n,e){!e?.injector&&VV(NE);let t=e?.injector??q(zt);return rU(t)?(Bi("NgAfterNextRender"),cB(n,t,e,!0)):lB}function aB(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cB(n,e,t,r){let i=e.get(GR);i.impl??=e.get(Sw);let o=t?.phase??Qc.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(cE):null,a=new Rw(i.impl,aB(n,o),r,s);return i.impl.register(a),a}var lB={destroy(){}};function pl(n,e,t,r){let i=ke(),o=ul();if(Ia(i,o,e)){let s=qt(),a=vm();GU(a,i,n,e,t,r)}return pl}function WR(n,e,t,r){return Ia(n,ul(),t)?e+um(t)+r:ji}function xp(n,e){return n<<17|e<<2}function va(n){return n>>17&32767}function uB(n){return(n&2)==2}function dB(n,e){return n&131071|e<<17}function xw(n){return n|2}function cl(n){return(n&131068)>>2}function V_(n,e){return n&-131069|e<<2}function hB(n){return(n&1)===1}function Nw(n){return n|1}function fB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=va(s),c=cl(s);n[r]=t;let u=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Ed(m,p)>0)&&(u=!0)}else p=t;if(i)if(c!==0){let _=va(n[a+1]);n[r+1]=xp(_,a),_!==0&&(n[_+1]=V_(n[_+1],r)),n[a+1]=dB(n[a+1],r)}else n[r+1]=xp(a,0),a!==0&&(n[a+1]=V_(n[a+1],r)),a=r;else n[r+1]=xp(c,0),a===0?a=r:n[c+1]=V_(n[c+1],r),c=r;u&&(n[r+1]=xw(n[r+1])),kA(n,p,r,!0),kA(n,p,r,!1),pB(e,p,n,r,o),s=xp(a,c),o?e.classBindings=s:e.styleBindings=s}function pB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ed(o,e)>=0&&(t[r+1]=Nw(t[r+1]))}function kA(n,e,t,r){let i=n[t+1],o=e===null,s=r?va(i):cl(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];mB(c,e)&&(a=!0,n[s+1]=r?Nw(u):xw(u)),s=r?va(u):cl(u)}a&&(n[t+1]=r?xw(i):Nw(i))}function mB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ed(n,e)>=0:!1}function de(n,e,t){let r=ke(),i=ul();if(Ia(r,i,e)){let o=qt(),s=vm();IE(o,s,r,n,e,r[Et],t,!1)}return de}function LA(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";TE(n,t,o[s],s,r)}function Mm(n,e,t){return KR(n,e,t,!1),Mm}function Pm(n,e){return KR(n,e,null,!0),Pm}function KR(n,e,t,r){let i=ke(),o=qt(),s=i2(2);if(o.firstUpdatePass&&yB(o,n,s,r),e!==ji&&Ia(i,s,e)){let a=o.data[wa()];bB(o,a,i,i[Et],n,i[s+1]=IB(e,t),r,s)}}function gB(n,e){return e>=n.expandoStartIndex}function yB(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wa()],s=gB(n,t);CB(o,r)&&e===null&&!s&&(e=!1),e=vB(i,o,e,r),fB(i,o,e,t,s,r)}}function vB(n,e,t,r){let i=c2(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=U_(null,n,e,t,r),t=_d(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=U_(i,n,e,t,r),o===null){let c=_B(n,e,r);c!==void 0&&Array.isArray(c)&&(c=U_(null,n,e,c[1],r),c=_d(c,e.attrs,r),wB(n,e,r,c))}else o=EB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _B(n,e,t){let r=t?e.classBindings:e.styleBindings;if(cl(r)!==0)return n[va(r)]}function wB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[va(i)]=r}function EB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=_d(r,s,t)}return _d(r,e.attrs,t)}function U_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=_d(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function _d(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),dV(n,s,t?!0:e[++o]))}return n===void 0?null:n}function bB(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],p=hB(u)?FA(c,e,t,i,cl(u),s):void 0;if(!rm(p)){rm(o)||uB(u)&&(o=FA(c,null,t,i,a,s));let m=IS(wa(),t);IU(r,s,m,i,o)}}function FA(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),p=u?c[1]:c,m=p===null,_=t[i+1];_===ji&&(_=m?hr:void 0);let w=m?R_(_,r):p===r?_:void 0;if(u&&!rm(w)&&(w=R_(c,r)),rm(w)&&(a=w,s))return a;let R=n[i+1];i=s?va(R):cl(R)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=R_(c,r))}return a}function rm(n){return n!==void 0}function IB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=An(bd(n)))),n}function CB(n,e){return(n.flags&(e?8:16))!==0}var Mw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function j_(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function TB(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),p=e[o],m=j_(o,u,o,p,t);if(m!==0){m<0&&n.updateValue(o,p),o++;continue}let _=n.at(s),w=e[c],R=j_(s,_,c,w,t);if(R!==0){R<0&&n.updateValue(s,w),s--,c--;continue}let M=t(o,u),x=t(s,_),V=t(o,p);if(Object.is(V,x)){let G=t(c,w);Object.is(G,M)?(n.swap(o,s),n.updateValue(s,w),c--,s--):n.move(s,o),n.updateValue(o,p),o++;continue}if(r??=new im,i??=UA(n,o,s,t),Pw(n,r,o,V))n.updateValue(o,p),o++,s++;else if(i.has(V))r.set(M,n.detach(o)),s--;else{let G=n.create(o,e[o]);n.attach(o,G),o++,s++}}for(;o<=c;)VA(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let p=n.at(o),m=u.value,_=j_(o,p,o,m,t);if(_!==0)_<0&&n.updateValue(o,m),o++,u=c.next();else{r??=new im,i??=UA(n,o,s,t);let w=t(o,m);if(Pw(n,r,o,w))n.updateValue(o,m),o++,s++,u=c.next();else if(!i.has(w))n.attach(o,n.create(o,m)),o++,s++,u=c.next();else{let R=t(o,p);r.set(R,n.detach(o)),s--}}}for(;!u.done;)VA(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Pw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function VA(n,e,t,r,i){if(Pw(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function UA(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var im=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Yo(n,e){Bi("NgControlFlow");let t=ke(),r=ul(),i=t[r]!==ji?t[r]:-1,o=i!==-1?om(t,pr+i):void 0,s=0;if(Ia(t,r,n)){let a=Se(null);try{if(o!==void 0&&MR(o,s),n!==-1){let c=pr+n,u=om(t,c),p=Fw(t[ge],c),m=yd(u,p.tView.ssrId),_=Sm(t,p,e,{dehydratedView:m});Rm(u,_,s,gd(p,m))}}finally{Se(a)}}else if(o!==void 0){let a=NR(o,s);a!==void 0&&(a[pn]=e)}}var Ow=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-mn}};var kw=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function QR(n,e,t,r,i,o,s,a,c,u,p,m,_){Bi("NgControlFlow");let w=ke(),R=qt(),M=c!==void 0,x=ke(),V=a?s.bind(x[Nr][pn]):s,G=new kw(M,V);x[pr+n]=G,Aw(w,R,n+1,e,t,r,i,zo(R.consts,o)),M&&Aw(w,R,n+2,c,u,p,m,zo(R.consts,_))}var Lw=class extends Mw{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-mn}at(e){return this.getLView(e)[pn].$implicit}attach(e,t){let r=t[fd];this.needsIndexUpdate||=e!==this.length,Rm(this.lContainer,t,e,gd(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,DB(this.lContainer,e)}create(e,t){let r=yd(this.lContainer,this.templateTNode.tView.ssrId),i=Sm(this.hostLView,this.templateTNode,new Ow(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Im(e[ge],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[pn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[pn].$index=e}getLView(e){return AB(this.lContainer,e)}};function YR(n){let e=Se(null),t=wa();try{let r=ke(),i=r[ge],o=r[t],s=t+1,a=om(r,s);if(o.liveCollection===void 0){let u=Fw(i,s);o.liveCollection=new Lw(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(TB(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=ul(),p=c.length===0;if(Ia(r,u,p)){let m=t+2,_=om(r,m);if(p){let w=Fw(i,m),R=yd(_,w.tView.ssrId),M=Sm(r,w,void 0,{dehydratedView:R});Rm(_,M,0,gd(w,R))}else MR(_,0)}}}finally{Se(e)}}function om(n,e){return n[e]}function DB(n,e){return md(n,e)}function AB(n,e){return NR(n,e)}function Fw(n,e){return eE(n,e)}function SB(n,e,t,r,i,o){let s=e.consts,a=zo(s,i),c=Id(e,n,2,r,a);return CE(e,t,c,zo(s,o)),c.attrs!==null&&em(c,c.attrs,!1),c.mergedAttrs!==null&&em(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function O(n,e,t,r){let i=ke(),o=qt(),s=pr+n,a=i[Et],c=o.firstCreatePass?SB(s,o,i,e,t,r):o.data[s],u=RB(o,i,c,a,e,n);i[s]=u;let p=mm(c);return _a(c,!0),yR(a,u,c),!rB(c)&&_m()&&Cm(o,i,u,c),QV()===0&&qo(u,i),YV(),p&&(wE(o,i,c),_E(o,c,i)),r!==null&&EE(i,c),O}function P(){let n=yn();nE()?xS():(n=n.parent,_a(n,!1));let e=n;XV(e)&&e2(),ZV();let t=qt();return t.firstCreatePass&&(Em(t,n),Xw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&m2(e)&&LA(t,e,ke(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&g2(e)&&LA(t,e,ke(),e.stylesWithoutHost,!1),P}function he(n,e,t,r){return O(n,e,t,r),P(),he}var RB=(n,e,t,r,i,o)=>(wm(!0),uR(r,i,d2()));function xB(n,e,t,r,i){let o=e.consts,s=zo(o,r),a=Id(e,n,8,"ng-container",s);s!==null&&em(a,s,!0);let c=zo(o,i);return CE(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function He(n,e,t){let r=ke(),i=qt(),o=n+pr,s=i.firstCreatePass?xB(o,i,r,e,t):i.data[o];_a(s,!0);let a=NB(i,r,s,n);return r[o]=a,_m()&&Cm(i,r,a,s),qo(a,r),mm(s)&&(wE(i,r,s),_E(i,s,r)),t!=null&&EE(r,s),He}function ze(){let n=yn(),e=qt();return nE()?xS():(n=n.parent,_a(n,!1)),e.firstCreatePass&&(Em(e,n),Xw(n)&&e.queries.elementEnd(n)),ze}var NB=(n,e,t,r)=>(wm(!0),aU(e[Et],""));function an(){return ke()}var sm="en-US";var MB=sm;function PB(n){typeof n=="string"&&(MB=n.toLowerCase().replace(/_/g,"-"))}var OB=(n,e,t)=>{};function Ae(n,e,t,r){let i=ke(),o=qt(),s=yn();return ZR(o,i,i[Et],s,n,e,r),Ae}function kB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[$p],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ZR(n,e,t,r,i,o,s){let a=mm(r),u=n.firstCreatePass&&RR(n),p=e[pn],m=SR(e),_=!0;if(r.type&3||s){let M=gr(r,e),x=s?s(M):M,V=m.length,G=s?H=>s(ii(H[r.index])):r.index,B=null;if(!s&&a&&(B=kB(n,e,i,r.index)),B!==null){let H=B.__ngLastListenerFn__||B;H.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,_=!1}else{o=BA(r,e,p,o),OB(M,i,o);let H=t.listen(x,i,o);m.push(o,H),u&&u.push(i,G,V,V+1)}}else o=BA(r,e,p,o);let w=r.outputs,R;if(_&&w!==null&&(R=w[i])){let M=R.length;if(M)for(let x=0;x<M;x+=2){let V=R[x],G=R[x+1],X=e[V][G].subscribe(o),K=m.length;m.push(o,X),u&&u.push(i,r.index,K,-(K+1))}}}function jA(n,e,t,r){let i=Se(null);try{return ei(6,e,t),t(r)!==!1}catch(o){return xR(n,o),!1}finally{ei(7,e,t),Se(i)}}function BA(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Wo(n.index,e):e;AE(s,5);let a=jA(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=jA(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Nt(n=1){return u2(n)}function ME(n,e,t){return JR(n,"",e,"",t),ME}function JR(n,e,t,r,i){let o=ke(),s=WR(o,e,t,r);if(s!==ji){let a=qt(),c=vm();IE(a,c,o,n,s,o[Et],i,!1)}return JR}function zn(n,e,t){Bj(n,e,t)}function Rn(n){let e=ke(),t=qt(),r=MS();rE(r+1);let i=RE(t,r);if(n.dirty&&qV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=zj(e,r);n.reset(o,F2),n.notifyOnChanges()}return!0}return!1}function xn(){return Uj(ke(),MS())}function U(n,e=""){let t=ke(),r=qt(),i=n+pr,o=r.firstCreatePass?Id(r,i,1,e,null):r.data[i],s=LB(r,t,o,e,n);t[i]=s,_m()&&Cm(r,t,s,o),_a(o,!1)}var LB=(n,e,t,r,i)=>(wm(!0),oU(e[Et],r));function rt(n){return Om("",n,""),rt}function Om(n,e,t){let r=ke(),i=WR(r,n,e,t);return i!==ji&&YU(r,wa(),i),Om}function km(n,e,t){zR(e)&&(e=e());let r=ke(),i=ul();if(Ia(r,i,e)){let o=qt(),s=vm();IE(o,s,r,n,e,r[Et],t,!1)}return km}function PE(n,e){let t=zR(n);return t&&n.set(e),t}function Lm(n,e){let t=ke(),r=qt(),i=yn();return ZR(r,t,t[Et],i,n,e),Lm}function FB(n,e,t){let r=qt();if(r.firstCreatePass){let i=Ho(n);Vw(t,r.data,r.blueprint,i,!0),Vw(e,r.data,r.blueprint,i,!1)}}function Vw(n,e,t,r,i){if(n=Dn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Vw(n[o],e,t,r,i);else{let o=qt(),s=ke(),a=yn(),c=tl(n)?n:Dn(n.provide),u=mS(n),p=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(tl(n)||!n.multi){let w=new pa(u,i,ee),R=$_(c,e,i?p:p+_,m);R===-1?(rw(Wp(a,s),o,c),B_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[R]=w,s[R]=w)}else{let w=$_(c,e,p+_,m),R=$_(c,e,p,p+_),M=w>=0&&t[w],x=R>=0&&t[R];if(i&&!x||!i&&!M){rw(Wp(a,s),o,c);let V=jB(i?UB:VB,t.length,i,r,u);!i&&x&&(t[R].providerFactory=V),B_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=XR(t[i?R:w],u,!i&&r);B_(o,n,w>-1?w:R,V)}!i&&r&&x&&t[R].componentProviders++}}}function B_(n,e,t,r){let i=tl(e),o=NV(e);if(i||o){let c=(o?Dn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=u.indexOf(t);p===-1?u.push(t,[r,c]):u[p+1].push(r,c)}else u.push(t,c)}}}function XR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VB(n,e,t,r){return Uw(this.multi,[])}function UB(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ma(t,t[ge],this.providerFactory.index,r);o=a.slice(0,s),Uw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Uw(i,o);return o}function Uw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function jB(n,e,t,r,i){let o=new pa(n,t,ee);return o.multi=[],o.index=e,o.componentProviders=0,XR(o,i,r&&!t),o}function $i(n,e=[]){return t=>{t.providersResolver=(r,i)=>FB(r,i?i(n):n,e)}}var BB=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=hS(!1,t.type),i=r.length>0?Nm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(te(Sn))})}}return n})();function it(n){Bi("NgStandalone"),n.getStandaloneInjector=e=>e.get(BB).getOrCreateStandaloneInjector(n)}function OE(n,e,t){let r=n2()+n,i=ke();return i[r]===ji?tB(i,r,t?e.call(t):e()):nB(i,r)}var Li=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ex=new Li("18.2.10");var Fm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var tx=new Z("");function Ca(n){return!!n&&typeof n.then=="function"}function nx(n){return!!n&&typeof n.subscribe=="function"}var Vm=new Z(""),rx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(Vm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ca(o))t.push(o);else if(nx(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cd=new Z("");function $B(){ND(()=>{throw new ie(600,!1)})}function HB(n){return n.isBoundToModule}var zB=10;function qB(n,e,t){try{let r=t();return Ca(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Zo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(k2),this.afterRenderManager=q(GR),this.zonelessEnabled=q(xm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new mt,this.afterTick=new mt,this.componentTypes=[],this.components=[],this.isStable=q(Ko).hasPendingTasks.pipe(_e(t=>!t)),this._injector=q(Sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Xp;if(!this._injector.get(rx).done){let _=!i&&cS(t),w=!1;throw new ie(405,w)}let s;i?s=t:s=this._injector.get(ol).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=HB(s)?void 0:this._injector.get(Go),c=r||s.selector,u=s.create(zt.NULL,[],c,a),p=u.location.nativeElement,m=u.injector.get(tx,null);return m?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),Lp(this.components,u),m?.unregisterApplication(p)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ie(101,!1);let t=Se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Se(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(sl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<zB;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)GB(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>gm(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Lp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Cd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ie(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GB(n,e,t,r){if(!t&&!gm(n))return;kR(n,e,t&&!r?0:1)}var jw=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Um=(()=>{class n{compileModuleSync(t){return new Dw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lS(t),o=lR(i.declarations).reduce((s,a)=>{let c=$o(a);return c&&s.push(new al(c)),s},[]);return new jw(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WB=(()=>{class n{constructor(){this.zone=q(xe),this.changeDetectionScheduler=q(il),this.applicationRef=q(Zo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),KB=new Z("",{factory:()=>!1});function ix({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(Ce(z({},sx()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:el,multi:!0,useFactory:()=>{let r=q(WB,{optional:!0});return()=>r.initialize()}},{provide:el,multi:!0,useFactory:()=>{let r=q(QB);return()=>{r.initialize()}}},e===!0?{provide:UR,useValue:!0}:[],{provide:jR,useValue:t??YS}]}function ox(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=ix({ngZoneFactory:()=>{let i=sx(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Bi("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return $n([{provide:KB,useValue:!0},{provide:xm,useValue:!1},r])}function sx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var QB=(()=>{class n{constructor(){this.subscription=new pt,this.initialized=!1,this.zone=q(xe),this.pendingTasks=q(Ko)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var YB=(()=>{class n{constructor(){this.appRef=q(Zo),this.taskService=q(Ko),this.ngZone=q(xe),this.zonelessEnabled=q(xm),this.disableScheduling=q(UR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(jR,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cw||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?IA:ZS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,IA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZB(){return typeof $localize<"u"&&$localize.locale||sm}var kE=new Z("",{providedIn:"root",factory:()=>q(kE,Te.Optional|Te.SkipSelf)||ZB()});var Bw=new Z("");function Np(n){return!n.moduleRef}function JB(n){let e=Np(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Np(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Oi,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Np(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Bw);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Bw);s.add(o),n.moduleRef.onDestroy(()=>{Lp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return qB(r,t,()=>{let o=e.get(rx);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(kE,sm);if(PB(s||sm),Np(n)){let a=e.get(Zo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return XB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function XB(n,e){let t=n.injector.get(Zo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ie(-403,!1);e.push(n)}var Fp=null;function e$(n=[],e){return zt.create({name:e,providers:[{provide:hm,useValue:"platform"},{provide:Bw,useValue:new Set([()=>Fp=null])},...n]})}function t$(n=[]){if(Fp)return Fp;let e=e$(n);return Fp=e,$B(),n$(e),e}function n$(n){n.get(hE,null)?.forEach(t=>t())}var Ta=(()=>{class n{static{this.__NG_ELEMENT_ID__=r$}}return n})();function r$(n){return i$(yn(),ke(),(n&16)===16)}function i$(n,e,t){if(pm(n)&&!t){let r=Wo(n.index,e);return new ga(r,r)}else if(n.type&175){let r=e[Nr];return new ga(r,e)}return null}var $w=class{constructor(){}supports(e){return qR(e)}create(e){return new Hw(e)}},o$=(n,e)=>e,Hw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||o$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<$A(r,i,o)?t:r,a=$A(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,p=c-i;if(u!=p){for(let _=0;_<u;_++){let w=_<o.length?o[_]:o[_]=0,R=w+_;p<=R&&R<u&&(o[_]=w+1)}let m=s.previousIndex;o[m]=p-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!qR(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Xj(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new zw(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new am),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new am),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zw=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},am=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new qw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $A(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function HA(){return new LE([new $w])}var LE=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:HA})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||HA()),deps:[[n,new Ww,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ie(901,!1)}}return n})();function ax(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=t$(r),o=[ix({}),{provide:il,useExisting:YB},...t||[]],s=new nm({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return JB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Da(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ml(n,e){Bi("NgSignals");let t=SD(n);return e?.equal&&(t[Ri].equal=e.equal),t}function oi(n){let e=Se(null);try{return n()}finally{Se(e)}}function cx(n){let e=$o(n);if(!e)return null;let t=new al(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fx=null;function zi(){return fx}function px(n){fx??=n}var jm=class{};var vn=new Z(""),BE=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(a$),providedIn:"platform"})}}return n})(),mx=new Z(""),a$=(()=>{class n extends BE{constructor(){super(),this._doc=q(vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(t){let r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function $E(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function lx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Hi(n){return n&&n[0]!=="?"?"?"+n:n}var qi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(HE),providedIn:"root"})}}return n})(),gx=new Z(""),HE=(()=>{class n extends qi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $E(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(te(BE),te(gx,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yx=(()=>{class n extends qi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$E(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(te(BE),te(gx,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),yl=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=u$(lx(ux(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Hi(r))}normalize(t){return n.stripTrailingSlash(l$(this._basePath,ux(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Hi}static{this.joinWithSlash=$E}static{this.stripTrailingSlash=lx}static{this.\u0275fac=function(r){return new(r||n)(te(qi))}}static{this.\u0275prov=ne({token:n,factory:()=>c$(),providedIn:"root"})}}return n})();function c$(){return new yl(te(qi))}function l$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ux(n){return n.replace(/\/index.html$/,"")}function u$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Bm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var FE=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$m=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new FE(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),dx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);dx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ee(Qo),ee(ya),ee(LE))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function dx(n,e){n.context.$implicit=e.item}var vl=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new VE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ee(Qo),ee(ya))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),VE=class{constructor(){this.$implicit=null,this.ngIf=null}};function hx(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${An(e)}'.`)}var tr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({})}}return n})(),zE="browser",d$="server";function qE(n){return n===zE}function Hm(n){return n===d$}var vx=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>qE(q(Hn))?new UE(q(vn),window):new jE})}}return n})(),UE=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=h$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function h$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var jE=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},gl=class{};var Dd=class{},qm=class{},Gi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var WE=class{encodeKey(e){return _x(e)}encodeValue(e){return _x(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function f$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var p$=/%(\d[a-f0-9])/gi,m$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _x(n){return encodeURIComponent(n).replace(p$,(e,t)=>m$[t]??e)}function zm(n){return`${n}`}var Xo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new WE,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=f$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(zm):[zm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(zm(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zm(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var KE=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function g$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ex(n){return typeof Blob<"u"&&n instanceof Blob}function bx(n){return typeof FormData<"u"&&n instanceof FormData}function y$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Td=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(g$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gi,this.context??=new KE,!this.params)this.params=new Xo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wx(this.body)||Ex(this.body)||bx(this.body)||y$(this.body)?this.body:this.body instanceof Xo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bx(this.body)?null:Ex(this.body)?this.body.type||null:wx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((_,w)=>_.set(w,e.setHeaders[w]),u)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,w)=>_.set(w,e.setParams[w]),p)),new n(t,r,s,{params:p,headers:u,context:m,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},es=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(es||{}),Ad=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Gi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Gm=class n extends Ad{constructor(e={}){super(e),this.type=es.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sd=class n extends Ad{constructor(e={}){super(e),this.type=es.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Jo=class extends Ad{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Dx=200,v$=204;function GE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var _$=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Td)o=t;else{let c;i.headers instanceof Gi?c=i.headers:c=new Gi(i.headers);let u;i.params&&(i.params instanceof Xo?u=i.params:u=new Xo({fromObject:i.params})),o=new Td(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ce(o).pipe(Ni(c=>this.handler.handle(c)));if(t instanceof Td||i.observe==="events")return s;let a=s.pipe(fn(c=>c instanceof Sd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(_e(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(_e(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(_e(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Xo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,GE(i,r))}post(t,r,i={}){return this.request("POST",t,GE(i,r))}put(t,r,i={}){return this.request("PUT",t,GE(i,r))}static{this.\u0275fac=function(r){return new(r||n)(te(Dd))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),w$=/^\)\]\}',?\n/,E$="X-Request-URL";function Ix(n){if(n.url)return n.url;let e=E$.toLocaleLowerCase();return n.headers.get(e)}var b$=(()=>{class n{constructor(){this.fetchImpl=q(QE,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=q(xe)}handle(t){return new Re(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(YE,o=>r.error(new Jo({error:o}))),()=>i.abort()})}doRequest(t,r,i){return C(this,null,function*(){let o=this.createRequestInit(t),s;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,z({signal:r},o)));I$(w),i.next({type:es.Sent}),s=yield w}catch(w){i.error(new Jo({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let a=new Gi(s.headers),c=s.statusText,u=Ix(s)??t.urlWithParams,p=s.status,m=null;if(t.reportProgress&&i.next(new Gm({headers:a,status:p,statusText:c,url:u})),s.body){let w=s.headers.get("content-length"),R=[],M=s.body.getReader(),x=0,V,G,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>C(this,null,function*(){for(;;){let{done:X,value:K}=yield M.read();if(X)break;if(R.push(K),x+=K.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(V??=new TextDecoder).decode(K,{stream:!0}):void 0;let D=()=>i.next({type:es.DownloadProgress,total:w?+w:void 0,loaded:x,partialText:G});B?B.run(D):D()}}}));let H=this.concatChunks(R,x);try{let X=s.headers.get("Content-Type")??"";m=this.parseBody(t,H,X)}catch(X){i.error(new Jo({error:X,headers:new Gi(s.headers),status:s.status,statusText:s.statusText,url:Ix(s)??t.urlWithParams}));return}}p===0&&(p=m?Dx:0),p>=200&&p<300?(i.next(new Sd({body:m,headers:a,status:p,statusText:c,url:u})),i.complete()):i.error(new Jo({error:m,headers:a,status:p,statusText:c,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(w$,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),QE=class{};function YE(){}function I$(n){n.then(YE,YE)}function C$(n,e){return e(n)}function T$(n,e,t){return(r,i)=>mr(t,()=>e(r,o=>n(o,i)))}var Ax=new Z(""),D$=new Z(""),A$=new Z("",{providedIn:"root",factory:()=>!0});var Cx=(()=>{class n extends Dd{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=q(Ko),this.contributeToStability=q(A$)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ax),...this.injector.get(D$,[])]));this.chain=r.reduceRight((i,o)=>T$(i,o,this.injector),C$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ca(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(te(qm),te(Sn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();var S$=/^\)\]\}',?\n/;function R$(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Tx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ie(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?nt(r.\u0275loadImpl()):ce(null)).pipe(Un(()=>new Re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,x)=>s.setRequestHeader(M,x.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let M=s.statusText||"OK",x=new Gi(s.getAllResponseHeaders()),V=R$(s)||t.url;return c=new Gm({headers:x,status:s.status,statusText:M,url:V}),c},p=()=>{let{headers:M,status:x,statusText:V,url:G}=u(),B=null;x!==v$&&(B=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=B?Dx:0);let H=x>=200&&x<300;if(t.responseType==="json"&&typeof B=="string"){let X=B;B=B.replace(S$,"");try{B=B!==""?JSON.parse(B):null}catch(K){B=X,H&&(H=!1,B={error:K,text:B})}}H?(o.next(new Sd({body:B,headers:M,status:x,statusText:V,url:G||void 0})),o.complete()):o.error(new Jo({error:B,headers:M,status:x,statusText:V,url:G||void 0}))},m=M=>{let{url:x}=u(),V=new Jo({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(V)},_=!1,w=M=>{_||(o.next(u()),_=!0);let x={type:es.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(x.total=M.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},R=M=>{let x={type:es.UploadProgress,loaded:M.loaded};M.lengthComputable&&(x.total=M.total),o.next(x)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),o.next({type:es.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(te(gl))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Sx=new Z(""),x$="XSRF-TOKEN",N$=new Z("",{providedIn:"root",factory:()=>x$}),M$="X-XSRF-TOKEN",P$=new Z("",{providedIn:"root",factory:()=>M$}),Wm=class{},O$=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bm(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(te(vn),te(Hn),te(N$))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function k$(n,e){let t=n.url.toLowerCase();if(!q(Sx)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=q(Wm).getToken(),i=q(P$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Rx(...n){let e=[_$,Tx,Cx,{provide:Dd,useExisting:Cx},{provide:qm,useFactory:()=>q(b$,{optional:!0})??q(Tx)},{provide:Ax,useValue:k$,multi:!0},{provide:Sx,useValue:!0},{provide:Wm,useClass:O$}];for(let t of n)e.push(...t.\u0275providers);return $n(e)}var XE=class extends jm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eb=class n extends XE{static makeCurrent(){px(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=L$();return t==null?null:F$(t)}resetBaseElement(){Rd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bm(document.cookie,e)}},Rd=null;function L$(){return Rd=Rd||document.querySelector("base"),Rd?Rd.getAttribute("href"):null}function F$(n){return new URL(n,document.baseURI).pathname}var V$=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),tb=new Z(""),Px=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ie(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(te(tb),te(xe))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Km=class{constructor(e){this._doc=e}},ZE="ng-app-id",Ox=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hm(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ZE}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(ZE),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ZE,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(te(vn),te(dE),te(fE,8),te(Hn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),JE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rb=/%COMP%/g,kx="%COMP%",U$=`_nghost-${kx}`,j$=`_ngcontent-${kx}`,B$=!0,$$=new Z("",{providedIn:"root",factory:()=>B$});function H$(n){return j$.replace(rb,n)}function z$(n){return U$.replace(rb,n)}function Lx(n,e){return e.map(t=>t.replace(rb,n))}var xx=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Hm(a),this.defaultRenderer=new xd(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ni.ShadowDom&&(r=Ce(z({},r),{encapsulation:ni.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Qm?i.applyToHost(t):i instanceof Nd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ni.Emulated:o=new Qm(c,u,r,this.appId,p,s,a,m);break;case ni.ShadowDom:return new nb(c,u,t,r,s,a,this.nonce,m);default:o=new Nd(c,u,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(te(Px),te(Ox),te(dE),te($$),te(vn),te(Hn),te(xe),te(fE))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),xd=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(JE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Nx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=JE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=JE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ki.DashCase|ki.Important)?e.style.setProperty(t,r,i&ki.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=zi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Nx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nb=class extends xd{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Lx(i.id,i.styles);for(let p of u){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nd=class extends xd{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Lx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qm=class extends Nd{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=H$(u),this.hostAttr=z$(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},q$=(()=>{class n extends Km{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(te(vn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Mx=["alt","control","meta","shift"],G$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},K$=(()=>{class n extends Km{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Mx.forEach(u=>{let p=r.indexOf(u);p>-1&&(r.splice(p,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=G$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Mx.forEach(s=>{if(s!==i){let a=W$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(te(vn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function Fx(n,e){return ax(z({rootComponent:n},Q$(e)))}function Q$(n){return{appProviders:[...eH,...n?.providers??[]],platformProviders:X$}}function Y$(){eb.makeCurrent()}function Z$(){return new Oi}function J$(){return iR(document),document}var X$=[{provide:Hn,useValue:zE},{provide:hE,useValue:Y$,multi:!0},{provide:vn,useFactory:J$,deps:[]}];var eH=[{provide:hm,useValue:"root"},{provide:Oi,useFactory:Z$,deps:[]},{provide:tb,useClass:q$,multi:!0,deps:[vn,xe,Hn]},{provide:tb,useClass:K$,multi:!0,deps:[vn]},xx,Ox,Px,{provide:sl,useExisting:xx},{provide:gl,useClass:V$,deps:[]},[]];var Vx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(te(vn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var be="primary",Gd=Symbol("RouteTitle"),cb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Tl(n){return new cb(n)}function nH(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function rH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}function si(n,e){let t=n?lb(n):void 0,r=e?lb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Qx(n[i],e[i]))return!1;return!0}function lb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Qx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Yx(n){return n.length>0?n[n.length-1]:null}function rs(n){return b_(n)?n:Ca(n)?nt(Promise.resolve(n)):ce(n)}var iH={exact:Jx,subset:Xx},Zx={exact:oH,subset:sH,ignored:()=>!0};function Ux(n,e,t){return iH[t.paths](n.root,e.root,t.matrixParams)&&Zx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function oH(n,e){return si(n,e)}function Jx(n,e,t){if(!Sa(n.segments,e.segments)||!Jm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Jx(n.children[r],e.children[r],t))return!1;return!0}function sH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qx(n[t],e[t]))}function Xx(n,e,t){return eN(n,e,e.segments,t)}function eN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Sa(i,t)||e.hasChildren()||!Jm(i,t,r))}else if(n.segments.length===t.length){if(!Sa(n.segments,t)||!Jm(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Xx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Sa(n.segments,i)||!Jm(n.segments,i,r)||!n.children[be]?!1:eN(n.children[be],e,o,r)}}function Jm(n,e,t){return e.every((r,i)=>Zx[t](n[i].parameters,r.parameters))}var Ki=class{constructor(e=new We([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tl(this.queryParams),this._queryParamMap}toString(){return lH.serialize(this)}},We=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xm(this)}},Aa=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Tl(this.parameters),this._parameterMap}toString(){return nN(this)}};function aH(n,e){return Sa(n,e)&&n.every((t,r)=>si(t.parameters,e[r].parameters))}function Sa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function cH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===be&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==be&&(t=t.concat(e(i,r)))}),t}var Wd=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new Dl,providedIn:"root"})}}return n})(),Dl=class{parse(e){let t=new db(e);return new Ki(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Md(e.root,!0)}`,r=hH(e.queryParams),i=typeof e.fragment=="string"?`#${uH(e.fragment)}`:"";return`${t}${r}${i}`}},lH=new Dl;function Xm(n){return n.segments.map(e=>nN(e)).join("/")}function Md(n,e){if(!n.hasChildren())return Xm(n);if(e){let t=n.children[be]?Md(n.children[be],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${Md(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=cH(n,(r,i)=>i===be?[Md(n.children[be],!1)]:[`${i}:${Md(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[be]!=null?`${Xm(n)}/${t[0]}`:`${Xm(n)}/(${t.join("//")})`}}function tN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ym(n){return tN(n).replace(/%3B/gi,";")}function uH(n){return encodeURI(n)}function ub(n){return tN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eg(n){return decodeURIComponent(n)}function jx(n){return eg(n.replace(/\+/g,"%20"))}function nN(n){return`${ub(n.path)}${dH(n.parameters)}`}function dH(n){return Object.entries(n).map(([e,t])=>`;${ub(e)}=${ub(t)}`).join("")}function hH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ym(t)}=${Ym(i)}`).join("&"):`${Ym(t)}=${Ym(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var fH=/^[^\/()?;#]+/;function ib(n){let e=n.match(fH);return e?e[0]:""}var pH=/^[^\/()?;=#]+/;function mH(n){let e=n.match(pH);return e?e[0]:""}var gH=/^[^=?&#]+/;function yH(n){let e=n.match(gH);return e?e[0]:""}var vH=/^[^&#]+/;function _H(n){let e=n.match(vH);return e?e[0]:""}var db=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new We(e,t)),r}parseSegment(){let e=ib(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new Aa(eg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=mH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ib(this.remaining);i&&(r=i,this.capture(r))}e[eg(t)]=eg(r)}parseQueryParam(e){let t=yH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=_H(this.remaining);s&&(r=s,this.capture(r))}let i=jx(t),o=jx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ib(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[be]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function rN(n){return n.segments.length>0?new We([],{[be]:n}):n}function iN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=iN(i);if(r===be&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new We(n.segments,e);return wH(t)}function wH(n){if(n.numberOfChildren===1&&n.children[be]){let e=n.children[be];return new We(n.segments.concat(e.segments),e.children)}return n}function Ra(n){return n instanceof Ki}function EH(n,e,t=null,r=null){let i=oN(n);return sN(i,e,t,r)}function oN(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new We(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=rN(r);return e??i}function sN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ob(i,i,i,t,r);let o=bH(e);if(o.toRoot())return ob(i,i,new We([],{}),t,r);let s=IH(o,i,n),a=s.processChildren?kd(s.segmentGroup,s.index,o.commands):cN(s.segmentGroup,s.index,o.commands);return ob(i,s.segmentGroup,a,t,r)}function tg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Vd(n){return typeof n=="object"&&n!=null&&n.outlets}function ob(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`});let s;n===e?s=t:s=aN(n,e,t);let a=rN(iN(s));return new Ki(a,o,i)}function aN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=aN(o,e,t)}),new We(n.segments,r)}var ng=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tg(r[0]))throw new ie(4003,!1);let i=r.find(Vd);if(i&&i!==Yx(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ng(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ng(t,e,r)}var bl=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function IH(n,e,t){if(n.isAbsolute)return new bl(e,!0,0);if(!t)return new bl(e,!1,NaN);if(t.parent===null)return new bl(t,!0,0);let r=tg(n.commands[0])?0:1,i=t.segments.length-1+r;return CH(t,i,n.numberOfDoubleDots)}function CH(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new bl(r,!1,i-o)}function TH(n){return Vd(n[0])?n[0].outlets:{[be]:n}}function cN(n,e,t){if(n??=new We([],{}),n.segments.length===0&&n.hasChildren())return kd(n,e,t);let r=DH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new We(n.segments.slice(0,r.pathIndex),{});return o.children[be]=new We(n.segments.slice(r.pathIndex),n.children),kd(o,0,i)}else return r.match&&i.length===0?new We(n.segments,{}):r.match&&!n.hasChildren()?hb(n,e,t):r.match?kd(n,0,i):hb(n,e,t)}function kd(n,e,t){if(t.length===0)return new We(n.segments,{});{let r=TH(t),i={};if(Object.keys(r).some(o=>o!==be)&&n.children[be]&&n.numberOfChildren===1&&n.children[be].segments.length===0){let o=kd(n.children[be],e,t);return new We(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new We(n.segments,i)}}function DH(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Vd(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!$x(c,u,s))return o;r+=2}else{if(!$x(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Vd(o)){let c=AH(o.outlets);return new We(r,c)}if(i===0&&tg(t[0])){let c=n.segments[e];r.push(new Aa(c.path,Bx(t[0]))),i++;continue}let s=Vd(o)?o.outlets[be]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&tg(a)?(r.push(new Aa(s,Bx(a))),i+=2):(r.push(new Aa(s,{})),i++)}return new We(r,{})}function AH(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=hb(new We([],{}),0,r))}),e}function Bx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $x(n,e,t){return n==t.path&&si(e,t.parameters)}var Ld="imperative",Xt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Xt||{}),yr=class{constructor(e,t){this.id=e,this.url=t}},Al=class extends yr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Xt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends yr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(rr||{}),rg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(rg||{}),Wi=class extends yr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ts=class extends yr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Xt.NavigationSkipped}},Ud=class extends yr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ig=class extends yr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fb=class extends yr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pb=class extends yr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mb=class extends yr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gb=class extends yr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yb=class{constructor(e){this.route=e,this.type=Xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vb=class{constructor(e){this.route=e,this.type=Xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_b=class{constructor(e){this.snapshot=e,this.type=Xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wb=class{constructor(e){this.snapshot=e,this.type=Xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eb=class{constructor(e){this.snapshot=e,this.type=Xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bb=class{constructor(e){this.snapshot=e,this.type=Xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},og=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Xt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jd=class{},Sl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function SH(n,e){return n.providers&&!n._injector&&(n._injector=Nm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kr(n){return n.outlet||be}function RH(n,e){let t=n.filter(r=>kr(r)===e);return t.push(...n.filter(r=>kr(r)!==e)),t}function Kd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ib=class{get injector(){return Kd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Qd(this.rootInjector),this.attachRef=null}},Qd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ib(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(te(Sn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Cb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Cb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Tb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tb(e,this._root).map(t=>t.value)}};function Cb(n,e){if(n===e.value)return e;for(let t of e.children){let r=Cb(n,t);if(r)return r}return null}function Tb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Tb(n,t);if(r.length)return r.unshift(e),r}return[]}var nr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function El(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ag=class extends sg{constructor(e,t){super(e),this.snapshot=t,Ob(this,e)}toString(){return this.snapshot.toString()}};function lN(n){let e=xH(n),t=new Ht([new Aa("",{})]),r=new Ht({}),i=new Ht({}),o=new Ht({}),s=new Ht(""),a=new ns(t,r,o,s,i,be,n,e.root);return a.snapshot=e.root,new ag(new nr(a,[]),e)}function xH(n){let e={},t={},r={},i="",o=new Il([],e,r,i,t,be,n,null,{});return new lg("",new nr(o,[]))}var ns=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(u=>u[Gd]))??ce(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(e=>Tl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(e=>Tl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&dN(i)&&(r.resolve[Gd]=i.title),r}var Il=class{get title(){return this.data?.[Gd]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lg=class extends sg{constructor(e,t){super(t),this.url=e,Ob(this,t)}toString(){return uN(this._root)}};function Ob(n,e){e.value._routerState=n,e.children.forEach(t=>Ob(n,t))}function uN(n){let e=n.children.length>0?` { ${n.children.map(uN).join(", ")} } `:"";return`${n.value}${e}`}function sb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),si(e.params,t.params)||n.paramsSubject.next(t.params),rH(e.url,t.url)||n.urlSubject.next(t.url),si(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Db(n,e){let t=si(n.params,e.params)&&aH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Db(n.parent,e.parent))}function dN(n){return typeof n.title=="string"||n.title===null}var Yd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=q(Qd),this.location=q(Qo),this.changeDetector=q(Ta),this.inputBinder=q(fg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ab(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]})}}return n})(),Ab=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ns?this.route:e===Qd?this.childContexts:this.parent.get(e,t)}},fg=new Z(""),Hx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ad([r.queryParams,r.params,r.data]).pipe(Un(([o,s,a],c)=>(a=z(z(z({},o),s),a),c===0?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=cx(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function NH(n,e,t){let r=Bd(n,e._root,t?t._root:void 0);return new ag(r,e)}function Bd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=MH(n,e,t);return new nr(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bd(n,a)),s}}let r=PH(e.value),i=e.children.map(o=>Bd(n,o));return new nr(r,i)}}function MH(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bd(n,r,i);return Bd(n,r)})}function PH(n){return new ns(new Ht(n.url),new Ht(n.params),new Ht(n.queryParams),new Ht(n.fragment),new Ht(n.data),n.outlet,n.component,n)}var $d=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},hN="ngNavigationCancelingError";function ug(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fN(!1,rr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[hN]=!0,t.cancellationCode=e,t}function OH(n){return pN(n)&&Ra(n.url)}function pN(n){return!!n&&n[hN]}var kH=(n,e,t,r)=>_e(i=>(new Sb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Sb=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=El(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=El(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=El(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=El(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(sb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cl=class{constructor(e,t){this.component=e,this.route=t}};function LH(n,e,t){let r=n._root,i=e?e._root:null;return Pd(r,i,t,[r.value])}function FH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!WA(n)?n:e.get(n):r}function Pd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=El(e);return n.children.forEach(s=>{VH(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fd(a,t.getContext(s),i)),i}function VH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=UH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new dg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pd(n,e,a?a.children:null,r,i):Pd(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cl(a.outlet.component,s))}else s&&Fd(e,a,i),i.canActivateChecks.push(new dg(r)),o.component?Pd(n,null,a?a.children:null,r,i):Pd(n,null,t,r,i);return i}function UH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Sa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sa(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Db(n,e)||!si(n.queryParams,e.queryParams);case"paramsChange":default:return!Db(n,e)}}function Fd(n,e,t){let r=El(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fd(s,e.children.getContext(o),t):Fd(s,null,t):Fd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Cl(e.outlet.component,i)):t.canDeactivateChecks.push(new Cl(null,i)):t.canDeactivateChecks.push(new Cl(null,i))}function Zd(n){return typeof n=="function"}function jH(n){return typeof n=="boolean"}function BH(n){return n&&Zd(n.canLoad)}function $H(n){return n&&Zd(n.canActivate)}function HH(n){return n&&Zd(n.canActivateChild)}function zH(n){return n&&Zd(n.canDeactivate)}function qH(n){return n&&Zd(n.canMatch)}function mN(n){return n instanceof xi||n?.name==="EmptyError"}var Zm=Symbol("INITIAL_VALUE");function Rl(){return Un(n=>ad(n.map(e=>e.pipe(Mi(1),A_(Zm)))).pipe(_e(e=>{for(let t of e)if(t!==!0){if(t===Zm)return Zm;if(t===!1||GH(t))return t}return!0}),fn(e=>e!==Zm),Mi(1)))}function GH(n){return Ra(n)||n instanceof $d}function WH(n,e){return St(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ce(Ce(z({},t),{guardsResult:!0})):KH(s,r,i,n).pipe(St(a=>a&&jH(a)?QH(r,o,n,e):ce(a)),_e(a=>Ce(z({},t),{guardsResult:a})))})}function KH(n,e,t,r){return nt(n).pipe(St(i=>ez(i.component,i.route,t,e,r)),Xr(i=>i!==!0,!0))}function QH(n,e,t,r){return nt(e).pipe(Ni(i=>zc(ZH(i.route.parent,r),YH(i.route,r),XH(n,i.path,t),JH(n,i.route,t))),Xr(i=>i!==!0,!0))}function YH(n,e){return n!==null&&e&&e(new Eb(n)),ce(!0)}function ZH(n,e){return n!==null&&e&&e(new _b(n)),ce(!0)}function JH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>Tp(()=>{let s=Kd(e)??t,a=xl(o,s),c=$H(a)?a.canActivate(e,n):mr(s,()=>a(e,n));return rs(c).pipe(Xr())}));return ce(i).pipe(Rl())}function XH(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>FH(s)).filter(s=>s!==null).map(s=>Tp(()=>{let a=s.guards.map(c=>{let u=Kd(s.node)??t,p=xl(c,u),m=HH(p)?p.canActivateChild(r,n):mr(u,()=>p(r,n));return rs(m).pipe(Xr())});return ce(a).pipe(Rl())}));return ce(o).pipe(Rl())}function ez(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let c=Kd(e)??i,u=xl(a,c),p=zH(u)?u.canDeactivate(n,e,t,r):mr(c,()=>u(n,e,t,r));return rs(p).pipe(Xr())});return ce(s).pipe(Rl())}function tz(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=xl(s,n),c=BH(a)?a.canLoad(e,t):mr(n,()=>a(e,t));return rs(c)});return ce(o).pipe(Rl(),gN(r))}function gN(n){return p_(Rt(e=>{if(typeof e!="boolean")throw ug(n,e)}),_e(e=>e===!0))}function nz(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=xl(s,n),c=qH(a)?a.canMatch(e,t):mr(n,()=>a(e,t));return rs(c)});return ce(o).pipe(Rl(),gN(r))}var Hd=class{constructor(e){this.segmentGroup=e||null}},zd=class extends Error{constructor(e){super(),this.urlTree=e}};function wl(n){return $c(new Hd(n))}function rz(n){return $c(new ie(4e3,!1))}function iz(n){return $c(fN(!1,rr.GuardRejected))}var Rb=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[be])return rz(`${e.redirectTo}`);i=i.children[be]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:p,url:m,outlet:_,params:w,data:R,title:M}=i,x=mr(o,()=>a({params:w,data:R,queryParams:c,fragment:u,routeConfig:p,url:m,outlet:_,title:M}));if(x instanceof Ki)throw new zd(x);t=x}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new zd(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ki(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new We(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},xb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oz(n,e,t,r,i){let o=yN(n,e,t);return o.matched?(r=SH(e,r),nz(r,e,t,i).pipe(_e(s=>s===!0?o:z({},xb)))):ce(o)}function yN(n,e,t){if(e.path==="**")return sz(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},xb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nH)(t,n,e);if(!i)return z({},xb);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sz(n){return{matched:!0,parameters:n.length>0?Yx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zx(n,e,t,r){return t.length>0&&lz(n,t,r)?{segmentGroup:new We(e,cz(r,new We(t,n.children))),slicedSegments:[]}:t.length===0&&uz(n,t,r)?{segmentGroup:new We(n.segments,az(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function az(n,e,t,r){let i={};for(let o of t)if(pg(n,e,o)&&!r[kr(o)]){let s=new We([],{});i[kr(o)]=s}return z(z({},r),i)}function cz(n,e){let t={};t[be]=e;for(let r of n)if(r.path===""&&kr(r)!==be){let i=new We([],{});t[kr(r)]=i}return t}function lz(n,e,t){return t.some(r=>pg(n,e,r)&&kr(r)!==be)}function uz(n,e,t){return t.some(r=>pg(n,e,r))}function pg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dz(n,e,t){return e.length===0&&!n.children[t]}var Nb=class{};function hz(n,e,t,r,i,o,s="emptyOnly"){return new Mb(n,e,t,r,i,s,o).recognize()}var fz=31,Mb=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=zx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_e(({children:t,rootSnapshot:r})=>{let i=new nr(r,t),o=new lg("",i),s=EH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Il([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,be,t).pipe(_e(r=>({children:r,rootSnapshot:t})),Lo(r=>{if(r instanceof zd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(_e(s=>s instanceof nr?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return nt(o).pipe(Ni(s=>{let a=r.children[s],c=RH(t,s);return this.processSegmentGroup(e,c,a,s,i)}),D_((s,a)=>(s.push(...a),s)),Fo(null),T_(),St(s=>{if(s===null)return wl(r);let a=vN(s);return pz(a),ce(a)}))}processSegment(e,t,r,i,o,s,a){return nt(t).pipe(Ni(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Lo(u=>{if(u instanceof Hd)return ce(null);throw u}))),Xr(c=>!!c),Lo(c=>{if(mN(c))return dz(r,i,o)?ce(new Nb):wl(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return kr(r)!==s&&(s===be||!pg(i,o,r))?wl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):wl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:p,positionalParamSegments:m,remainingSegments:_}=yN(t,i,o);if(!c)return wl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fz&&(this.allowRedirects=!1));let w=new Il(o,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,qx(i),kr(i),i.component??i._loadedComponent??null,i,Gx(i)),R=cg(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let M=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,w,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(St(x=>this.processSegment(e,r,t,x.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=oz(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Un(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Un(({routes:u})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:w}=c,R=new Il(_,m,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,qx(r),kr(r),r.component??r._loadedComponent??null,r,Gx(r)),M=cg(R,s,this.paramsInheritanceStrategy);R.params=Object.freeze(M.params),R.data=Object.freeze(M.data);let{segmentGroup:x,slicedSegments:V}=zx(t,_,w,u);if(V.length===0&&x.hasChildren())return this.processChildren(p,u,x,R).pipe(_e(B=>new nr(R,B)));if(u.length===0&&V.length===0)return ce(new nr(R,[]));let G=kr(r)===o;return this.processSegment(p,u,x,V,G?be:o,!0,R).pipe(_e(B=>new nr(R,B instanceof nr?[B]:[])))}))):wl(t)))}getChildConfig(e,t,r){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):tz(e,t,r,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(e,t).pipe(Rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iz(t))):ce({routes:[],injector:e})}};function pz(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}function mz(n){let e=n.value.routeConfig;return e&&e.path===""}function vN(n){let e=[],t=new Set;for(let r of n){if(!mz(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vN(r.children);e.push(new nr(r.value,i))}return e.filter(r=>!t.has(r))}function qx(n){return n.data||{}}function Gx(n){return n.resolve||{}}function gz(n,e,t,r,i,o){return St(s=>hz(n,e,t,r,s.extractedUrl,i,o).pipe(_e(({state:a,tree:c})=>Ce(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yz(n,e){return St(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of _N(c))s.add(u);let a=0;return nt(s).pipe(Ni(c=>o.has(c)?vz(c,r,n,e):(c.data=cg(c,c.parent,n).resolve,ce(void 0))),Rt(()=>a++),qc(1),St(c=>a===s.size?ce(t):Xn))})}function _N(n){let e=n.children.map(t=>_N(t)).flat();return[n,...e]}function vz(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dN(i)&&(o[Gd]=i.title),_z(o,n,e,r).pipe(_e(s=>(n._resolvedData=s,n.data=cg(n,n.parent,t).resolve,null)))}function _z(n,e,t,r){let i=lb(n);if(i.length===0)return ce({});let o={};return nt(i).pipe(St(s=>wz(n[s],e,t,r).pipe(Xr(),Rt(a=>{if(a instanceof $d)throw ug(new Dl,a);o[s]=a}))),qc(1),C_(o),Lo(s=>mN(s)?Xn:$c(s)))}function wz(n,e,t,r){let i=Kd(e)??r,o=xl(n,i),s=o.resolve?o.resolve(e,t):mr(i,()=>o(e,t));return rs(s)}function ab(n){return Un(e=>{let t=n(e);return t?nt(t).pipe(_e(()=>e)):ce(e)})}var wN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(t){return t.data[Gd]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(Ez),providedIn:"root"})}}return n})(),Ez=(()=>{class n extends wN{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(te(Vx))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jd=new Z("",{providedIn:"root",factory:()=>({})}),bz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Je({type:n,selectors:[["ng-component"]],standalone:!0,features:[it],decls:1,vars:0,template:function(r,i){r&1&&he(0,"router-outlet")},dependencies:[Yd],encapsulation:2})}}return n})();function kb(n){let e=n.children&&n.children.map(kb),t=e?Ce(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=bz),t}var qd=new Z(""),Lb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(Um)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=rs(t.loadComponent()).pipe(_e(EN),Rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ca(()=>{this.componentLoaders.delete(t)})),i=new Vc(r,()=>new mt).pipe(Fc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Iz(r,this.compiler,t,this.onLoadEndListener).pipe(ca(()=>{this.childrenLoaders.delete(r)})),s=new Vc(o,()=>new mt).pipe(Fc());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Iz(n,e,t,r){return rs(n.loadChildren()).pipe(_e(EN),St(i=>i instanceof vd||Array.isArray(i)?ce(i):nt(e.compileModuleAsync(i))),_e(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(qd,[],{optional:!0,self:!0}).flat()),{routes:s.map(kb),injector:o}}))}function Cz(n){return n&&typeof n=="object"&&"default"in n}function EN(n){return Cz(n)?n.default:n}var Fb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(Tz),providedIn:"root"})}}return n})(),Tz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bN=new Z(""),IN=new Z("");function Dz(n,e,t){let r=n.get(IN),i=n.get(vn);return n.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Az(n))),{onViewTransitionCreated:c}=r;return c&&mr(n,()=>c({transition:a,from:e,to:t})),s})}function Az(n){return new Promise(e=>{NE({read:()=>setTimeout(e)},{injector:n})})}var Sz=new Z(""),Vb=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=q(Lb),this.environmentInjector=q(Sn),this.urlSerializer=q(Wd),this.rootContexts=q(Qd),this.location=q(yl),this.inputBindingEnabled=q(fg,{optional:!0})!==null,this.titleStrategy=q(wN),this.options=q(Jd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(Fb),this.createViewTransition=q(bN,{optional:!0}),this.navigationErrorHandler=q(Sz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let t=i=>this.events.next(new yb(i)),r=i=>this.events.next(new vb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ce(z(z({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ht({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ld,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fn(o=>o.id!==0),_e(o=>Ce(z({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Un(o=>{let s=!1,a=!1;return ce(o).pipe(Un(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rr.SupersededByNewNavigation),Xn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&p!=="reload"){let m="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.rawUrl),m,rg.IgnoredSameUrlNavigation)),c.resolve(!1),Xn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(Un(m=>{let _=this.transitions?.getValue();return this.events.next(new Al(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Xn:Promise.resolve(m)}),gz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ce(z({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new ig(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:_,source:w,restoredState:R,extras:M}=c,x=new Al(m,this.urlSerializer.serialize(_),w,R);this.events.next(x);let V=lN(this.rootComponentType).snapshot;return this.currentTransition=o=Ce(z({},c),{targetSnapshot:V,urlAfterRedirects:_,extras:Ce(z({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ce(o)}else{let m="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.extractedUrl),m,rg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Xn}}),Rt(c=>{let u=new fb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),_e(c=>(this.currentTransition=o=Ce(z({},c),{guards:LH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),WH(this.environmentInjector,c=>this.events.next(c)),Rt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ug(this.urlSerializer,c.guardsResult);let u=new pb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),fn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",rr.GuardRejected),!1)),ab(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(Rt(u=>{let p=new mb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),Un(u=>{let p=!1;return ce(u).pipe(yz(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(u,"",rr.NoDataFromResolver)}}))}),Rt(u=>{let p=new gb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),ab(c=>{let u=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Rt(_=>{p.component=_}),_e(()=>{})));for(let _ of p.children)m.push(...u(_));return m};return ad(u(c.targetSnapshot.root)).pipe(Fo(null),Mi(1))}),ab(()=>this.afterPreactivation()),Un(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return p?nt(p).pipe(_e(()=>o)):ce(o)}),_e(c=>{let u=NH(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Ce(z({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Rt(()=>{this.events.next(new jd)}),kH(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Mi(1),Rt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),S_(this.transitionAbortSubject.pipe(Rt(c=>{throw c}))),ca(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lo(c=>{if(a=!0,pN(c))this.events.next(new Wi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),OH(c)?this.events.next(new Sl(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Ud(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let p=mr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(p instanceof $d){let{message:m,cancellationCode:_}=ug(this.urlSerializer,p);this.events.next(new Wi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,_)),this.events.next(new Sl(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(u);let m=t.errorHandler(c);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Xn}))}))}cancelNavigationTransition(t,r,i){let o=new Wi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Rz(n){return n!==Ld}var xz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(Nz),providedIn:"root"})}}return n})(),Pb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Nz=(()=>{class n extends Pb{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dl(n)))(i||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>q(Mz),providedIn:"root"})}}return n})(),Mz=(()=>{class n extends CN{constructor(){super(...arguments),this.location=q(yl),this.urlSerializer=q(Wd),this.options=q(Jd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(Fb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ki,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Al)this.stateMemento=this.createStateMemento();else if(t instanceof ts)this.rawUrlTree=r.initialUrl;else if(t instanceof ig){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof jd?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Wi&&(t.code===rr.GuardRejected||t.code===rr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ud?this.restoreHistory(r,!0):t instanceof ai&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ki?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=z(z({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=z(z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dl(n)))(i||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Od=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Od||{});function TN(n,e){n.events.pipe(fn(t=>t instanceof ai||t instanceof Wi||t instanceof Ud||t instanceof ts),_e(t=>t instanceof ai||t instanceof ts?Od.COMPLETE:(t instanceof Wi?t.code===rr.Redirect||t.code===rr.SupersededByNewNavigation:!1)?Od.REDIRECTING:Od.FAILED),fn(t=>t!==Od.REDIRECTING),Mi(1)).subscribe(()=>{e()})}function Pz(n){throw n}var Oz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(Fm),this.stateManager=q(CN),this.options=q(Jd,{optional:!0})||{},this.pendingTasks=q(Ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Vb),this.urlSerializer=q(Wd),this.location=q(yl),this.urlHandlingStrategy=q(Fb),this._events=new mt,this.errorHandler=this.options.errorHandler||Pz,this.navigated=!1,this.routeReuseStrategy=q(xz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(qd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(fg,{optional:!0}),this.eventsSubscription=new pt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Wi&&r.code!==rr.Redirect&&r.code!==rr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof Sl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Rz(i.source)},s);this.scheduleNavigation(a,Ld,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=i?i.snapshot:this.routerState.snapshot.root;m=oN(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return sN(m,t,p,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ra(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ld,null,r)}navigate(t,r={skipLocationChange:!1}){return Lz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},Oz):r===!1?i=z({},kz):i=r,Ra(t))return Ux(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Ux(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((m,_)=>{a=m,c=_});let p=this.pendingTasks.add();return TN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ie(4008,!1)}function Fz(n){return!(n instanceof jd)&&!(n instanceof Sl)}var is=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ra(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:aR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ra(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ee(Nn),ee(ns),aE("tabindex"),ee(ba),ee(er),ee(qi))}}static{this.\u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&pl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Da],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Da],replaceUrl:[2,"replaceUrl","replaceUrl",Da],routerLink:"routerLink"},standalone:!0,features:[xE,Ui]})}}return n})();var hg=class{};var Vz=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fn(t=>t instanceof ai),Ni(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Nm(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return nt(i).pipe(Hc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ce(null);let o=i.pipe(St(s=>s===null?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return nt([o,s]).pipe(Hc())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(te(Nn),te(Um),te(Sn),te(hg),te(Lb))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),DN=new Z(""),Uz=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Al?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ai?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ts&&t.code===rg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof og&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new og(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){_R()}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function AN(n,...e){return $n([{provide:qd,multi:!0,useValue:n},[],{provide:ns,useFactory:SN,deps:[Nn]},{provide:Cd,multi:!0,useFactory:RN},e.map(t=>t.\u0275providers)])}function SN(n){return n.routerState.root}function Xd(n,e){return{\u0275kind:n,\u0275providers:e}}function RN(){let n=q(zt);return e=>{let t=n.get(Zo);if(e!==t.components[0])return;let r=n.get(Nn),i=n.get(xN);n.get(Ub)===1&&r.initialNavigation(),n.get(NN,null,Te.Optional)?.setUpPreloading(),n.get(DN,null,Te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xN=new Z("",{factory:()=>new mt}),Ub=new Z("",{providedIn:"root",factory:()=>1});function jz(){return Xd(2,[{provide:Ub,useValue:0},{provide:Vm,multi:!0,deps:[zt],useFactory:e=>{let t=e.get(mx,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Nn),o=e.get(xN);TN(i,()=>{r(!0)}),e.get(Vb).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}])}function Bz(){return Xd(3,[{provide:Vm,multi:!0,useFactory:()=>{let e=q(Nn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ub,useValue:2}])}var NN=new Z("");function $z(n){return Xd(0,[{provide:NN,useExisting:Vz},{provide:hg,useExisting:n}])}function Hz(){return Xd(8,[Hx,{provide:fg,useExisting:Hx}])}function zz(n){let e=[{provide:bN,useValue:Dz},{provide:IN,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return Xd(9,e)}var Wx=new Z("ROUTER_FORROOT_GUARD"),qz=[yl,{provide:Wd,useClass:Dl},Nn,Qd,{provide:ns,useFactory:SN,deps:[Nn]},Lb,[]],os=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qz,[],{provide:qd,multi:!0,useValue:t},{provide:Wx,useFactory:Qz,deps:[[Nn,new bt,new Ww]]},{provide:Jd,useValue:r||{}},r?.useHash?Wz():Kz(),Gz(),r?.preloadingStrategy?$z(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Yz(r):[],r?.bindToComponentInputs?Hz().\u0275providers:[],r?.enableViewTransitions?zz().\u0275providers:[],Zz()]}}static forChild(t){return{ngModule:n,providers:[{provide:qd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(te(Wx,8))}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({})}}return n})();function Gz(){return{provide:DN,useFactory:()=>{let n=q(vx),e=q(xe),t=q(Jd),r=q(Vb),i=q(Wd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Uz(i,r,n,e,t)}}}function Wz(){return{provide:qi,useClass:yx}}function Kz(){return{provide:qi,useClass:HE}}function Qz(n){return"guarded"}function Yz(n){return[n.initialNavigation==="disabled"?Bz().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jz().\u0275providers:[]]}var Kx=new Z("");function Zz(){return[{provide:Kx,useFactory:RN},{provide:Cd,multi:!0,useExisting:Kx}]}var mg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Je({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[it],decls:12,vars:0,consts:[[1,"container-fluid"],[1,"jumbotron","p-3","p-md-5","text-white","rounded"],[1,"col-md-6","px-0","texto"],[1,"display-4","font-italic"],[1,"lead","my-3"],[1,"opciones"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/opciones-registro",1,"btn","btn-danger"]],template:function(t,r){t&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),U(4,"Bienvenido al sitio web de la Clinica OnLine"),P(),O(5,"p",4),U(6,"Contamos 6 consultorios, 2 laboratorios fisicos y una sala de espera general. Estamos abiertos de Lunes a Viernes de 08:00hs a 19:00hs y los Sabados de 08:00hs a 14:00hs"),P()(),O(7,"div",5)(8,"button",6),U(9,"Ingresar"),P(),O(10,"button",7),U(11,"Registrarse"),P()()()())},dependencies:[os,is],styles:[".container-fluid[_ngcontent-%COMP%]{width:100vw;height:94.5vh;background-image:url(/assets/images/hospital-bienvenida.jpg);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;align-items:center;justify-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]{height:80%;background-color:#ffffffcb;display:flex}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c8ab3;font-size:75px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:35px}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]{width:50%;display:flex;flex-wrap:wrap;justify-content:center;align-content:center}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px;width:80%;height:15%}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2c8ab3;border-color:#2c8ab3}.container-fluid[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4190b2}"]})};var PN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Jz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ON={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,_=(a&15)<<2|u>>6,w=u&63;c||(w=64,s||(_=64)),r.push(t[p],t[m],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new Bb;let _=o<<2|a>>4;if(r.push(_),u!==64){let w=a<<4&240|u>>2;if(r.push(w),m!==64){let R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Bb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xz=function(n){let e=PN(n);return ON.encodeByteArray(e,!0)},th=function(n){return Xz(n).replace(/\./g,"")},Hb=function(n){try{return ON.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function e3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t3=()=>e3().__FIREBASE_DEFAULTS__,n3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hb(n[1]);return e&&JSON.parse(e)},yg=()=>{try{return t3()||n3()||r3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zb=n=>{var e,t;return(t=(e=yg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vg=n=>{let e=zb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qb=()=>{var n;return(n=yg())===null||n===void 0?void 0:n.config},Gb=n=>{var e;return(e=yg())===null||e===void 0?void 0:e[`_${n}`]};var gg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function _g(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[th(JSON.stringify(t)),th(JSON.stringify(s)),""].join(".")}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function i3(){var n;let e=(n=yg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UN(){let n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jN(){return!i3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wb(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var o3="FirebaseError",Mn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}},Qi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mn(i,a,r)}};function s3(n,e){return n.replace(a3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var a3=/\{\$([^}]+)}/g;function $N(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xa(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(MN(o)&&MN(s)){if(!xa(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function MN(n){return n!==null&&typeof n=="object"}function nh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ml(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HN(n,e){let t=new $b(n,e);return t.subscribe.bind(t)}var $b=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");c3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jb),i.error===void 0&&(i.error=jb),i.complete===void 0&&(i.complete=jb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function c3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jb(){}var Gie=4*60*60*1e3;function Wt(n){return n&&n._delegate?n._delegate:n}var qn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Na="[DEFAULT]";var Kb=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new gg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u3(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l3(n){return n===Na?void 0:n}function u3(n){return n.instantiationMode==="EAGER"}var wg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Kb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var d3=[],Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{}),h3={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},f3=Me.INFO,p3={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},m3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=p3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ss=class{constructor(e){this.name=e,this._logLevel=f3,this._logHandler=m3,this._userLogHandler=null,d3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var g3=(n,e)=>e.some(t=>n instanceof t),zN,qN;function y3(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v3(){return qN||(qN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GN=new WeakMap,Yb=new WeakMap,WN=new WeakMap,Qb=new WeakMap,Jb=new WeakMap;function _3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(li(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&GN.set(t,n)}).catch(()=>{}),Jb.set(e,n),e}function w3(n){if(Yb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Yb.set(n,e)}var Zb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KN(n){Zb=n(Zb)}function E3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Eg(this),e,...t);return WN.set(r,e.sort?e.sort():[e]),li(r)}:v3().includes(n)?function(...e){return n.apply(Eg(this),e),li(GN.get(this))}:function(...e){return li(n.apply(Eg(this),e))}}function b3(n){return typeof n=="function"?E3(n):(n instanceof IDBTransaction&&w3(n),g3(n,y3())?new Proxy(n,Zb):n)}function li(n){if(n instanceof IDBRequest)return _3(n);if(Qb.has(n))return Qb.get(n);let e=b3(n);return e!==n&&(Qb.set(n,e),Jb.set(e,n)),e}var Eg=n=>Jb.get(n);function YN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=li(s);return r&&s.addEventListener("upgradeneeded",c=>{r(li(s.result),c.oldVersion,c.newVersion,li(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var I3=["get","getKey","getAll","getAllKeys","count"],C3=["put","add","delete","clear"],Xb=new Map;function QN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xb.get(e))return Xb.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I3.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Xb.set(e,o),o}KN(n=>Ce(z({},n),{get:(e,t,r)=>QN(e,t)||n.get(e,t,r),has:(e,t)=>!!QN(e,t)||n.has(e,t)}));var tI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(T3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function T3(n){let e=n.getComponent();return e?.type==="VERSION"}var nI="@firebase/app",ZN="0.10.13";var Yi=new ss("@firebase/app"),D3="@firebase/app-compat",A3="@firebase/analytics-compat",S3="@firebase/analytics",R3="@firebase/app-check-compat",x3="@firebase/app-check",N3="@firebase/auth",M3="@firebase/auth-compat",P3="@firebase/database",O3="@firebase/data-connect",k3="@firebase/database-compat",L3="@firebase/functions",F3="@firebase/functions-compat",V3="@firebase/installations",U3="@firebase/installations-compat",j3="@firebase/messaging",B3="@firebase/messaging-compat",$3="@firebase/performance",H3="@firebase/performance-compat",z3="@firebase/remote-config",q3="@firebase/remote-config-compat",G3="@firebase/storage",W3="@firebase/storage-compat",K3="@firebase/firestore",Q3="@firebase/vertexai-preview",Y3="@firebase/firestore-compat",Z3="firebase",J3="10.14.1";var rI="[DEFAULT]",X3={[nI]:"fire-core",[D3]:"fire-core-compat",[S3]:"fire-analytics",[A3]:"fire-analytics-compat",[x3]:"fire-app-check",[R3]:"fire-app-check-compat",[N3]:"fire-auth",[M3]:"fire-auth-compat",[P3]:"fire-rtdb",[O3]:"fire-data-connect",[k3]:"fire-rtdb-compat",[L3]:"fire-fn",[F3]:"fire-fn-compat",[V3]:"fire-iid",[U3]:"fire-iid-compat",[j3]:"fire-fcm",[B3]:"fire-fcm-compat",[$3]:"fire-perf",[H3]:"fire-perf-compat",[z3]:"fire-rc",[q3]:"fire-rc-compat",[G3]:"fire-gcs",[W3]:"fire-gcs-compat",[K3]:"fire-fst",[Y3]:"fire-fst-compat",[Q3]:"fire-vertex","fire-js":"fire-js",[Z3]:"fire-js-all"};var rh=new Map,eq=new Map,iI=new Map;function JN(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ui(n){let e=n.name;if(iI.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;iI.set(e,n);for(let t of rh.values())JN(t,n);for(let t of eq.values())JN(t,n);return!0}function Ma(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lr(n){return n.settings!==void 0}var tq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Qi("app","Firebase",tq);var oI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}};var di=J3;function cI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:rI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw as.create("bad-app-name",{appName:String(i)});if(t||(t=qb()),!t)throw as.create("no-options");let o=rh.get(i);if(o){if(xa(t,o.options)&&xa(r,o.config))return o;throw as.create("duplicate-app",{appName:i})}let s=new wg(i);for(let c of iI.values())s.addComponent(c);let a=new oI(t,r,s);return rh.set(i,a),a}function cs(n=rI){let e=rh.get(n);if(!e&&n===rI&&qb())return cI();if(!e)throw as.create("no-app",{appName:n});return e}function bg(){return Array.from(rh.values())}function ot(n,e,t){var r;let i=(r=X3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(a.join(" "));return}ui(new qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var nq="firebase-heartbeat-database",rq=1,ih="firebase-heartbeat-store",eI=null;function nM(){return eI||(eI=YN(nq,rq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ih)}catch(t){console.warn(t)}}}}).catch(n=>{throw as.create("idb-open",{originalErrorMessage:n.message})})),eI}function iq(n){return C(this,null,function*(){try{let t=(yield nM()).transaction(ih),r=yield t.objectStore(ih).get(rM(n));return yield t.done,r}catch(e){if(e instanceof Mn)Yi.warn(e.message);else{let t=as.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(t.message)}}})}function XN(n,e){return C(this,null,function*(){try{let r=(yield nM()).transaction(ih,"readwrite");yield r.objectStore(ih).put(e,rM(n)),yield r.done}catch(t){if(t instanceof Mn)Yi.warn(t.message);else{let r=as.create("idb-set",{originalErrorMessage:t?.message});Yi.warn(r.message)}}})}function rM(n){return`${n.name}!${n.options.appId}`}var oq=1024,sq=30*24*60*60*1e3,sI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new aI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=sq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yi.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eM(),{heartbeatsToSend:r,unsentEntries:i}=aq(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yi.warn(t),""}})}};function eM(){return new Date().toISOString().substring(0,10)}function aq(n,e=oq){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var aI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Wb()?BN().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield iq(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tM(n){return th(JSON.stringify({version:2,heartbeats:n})).length}function cq(n){ui(new qn("platform-logger",e=>new tI(e),"PRIVATE")),ui(new qn("heartbeat",e=>new sI(e),"PRIVATE")),ot(nI,ZN,n),ot(nI,ZN,"esm2017"),ot("fire-js","")}cq("");var lq="firebase",uq="10.14.1";ot(lq,uq,"app");var Zi=new Li("ANGULARFIRE2_VERSION");function Ol(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Oa=(n,e)=>{let t=e?[e]:bg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ls=class{constructor(){return Oa(dq)}},dq="app-check";function Pl(){}var Ig=class{zone;delegate;constructor(e,t=w_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},lI=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl)),t.pipe(Rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},us=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ig(Zone.current)),this.insideAngular=t.run(()=>new Ig(Zone.current,__)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(te(xe))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function hq(n){return Cg().ngZone.runOutsideAngular(()=>n())}function Pa(n){return Cg().ngZone.run(()=>n())}function fq(n){return pq(Cg())(n)}function pq(n){return function(t){return t=t.lift(new lI(n.ngZone)),t.pipe(ko(n.outsideAngular),Oo(n.insideAngular))}}var mq=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Pa(()=>n.apply(void 0,r))},tn=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Pa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl))),r[o]=mq(r[o],t));let i=hq(()=>n.apply(this,r));if(!e)if(i instanceof Re){let o=Cg();return i.pipe(ko(o.outsideAngular),Oo(o.insideAngular))}else return Pa(()=>i);return i instanceof Re?i.pipe(fq):i instanceof Promise?Pa(()=>new Promise((o,s)=>i.then(a=>Pa(()=>o(a)),a=>Pa(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Pa(()=>i)};var Fr=class{constructor(e){return e}},Ji=class{constructor(){return bg()}};function gq(n){return n&&n.length===1?n[0]:new Fr(cs())}var uI=new Z("angularfire2._apps"),yq={provide:Fr,useFactory:gq,deps:[[new bt,uI]]},vq={provide:Ji,deps:[[new bt,uI]]};function _q(n){return(e,t)=>{let r=t.get(Hn);ot("angularfire",Zi.full,"core"),ot("angularfire",Zi.full,"app"),ot("angular",ex.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Fr(i)}}function iM(n,...e){return $n([yq,vq,{provide:uI,useFactory:_q(n),multi:!0,deps:[xe,zt,us,...e]}])}var oM=tn(cI,!0);function bM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IM=bM,CM=new Qi("auth","Firebase",bM());var xg=new ss("@firebase/auth");function wq(n,...e){xg.logLevel<=Me.WARN&&xg.warn(`Auth (${di}): ${n}`,...e)}function Dg(n,...e){xg.logLevel<=Me.ERROR&&xg.error(`Auth (${di}): ${n}`,...e)}function fi(n,...e){throw PI(n,...e)}function ka(n,...e){return PI(n,...e)}function TM(n,e,t){let r=Object.assign(Object.assign({},IM()),{[e]:t});return new Qi("auth","Firebase",r).create(e,{appName:n.name})}function to(n){return TM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return CM.create(n,...e)}function le(n,e,...t){if(!n)throw PI(e,...t)}function Xi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dg(e),new Error(e)}function hs(n,e){n||Xi(e)}function pI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Eq(){return sM()==="http:"||sM()==="https:"}function sM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function bq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eq()||FN()||"connection"in navigator)?navigator.onLine:!0}function Iq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var La=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=kN()||VN()}get(){return bq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function OI(n,e){hs(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ng=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Cq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Tq=new La(3e4,6e4);function no(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ro(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){return DM(n,i,()=>C(this,null,function*(){let u={},p={};r&&(e==="GET"?p=r:u={body:JSON.stringify(r)});let m=nh(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:_},u);return LN()||(w.referrerPolicy="no-referrer"),Ng.fetch()(AM(n,n.config.apiHost,t,m),w)}))})}function DM(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Cq),e);try{let i=new mI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Tg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Tg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Tg(n,"user-disabled",s);let p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw TM(n,p,u);fi(n,p)}}catch(i){if(i instanceof Mn)throw i;fi(n,"network-request-failed",{message:String(i)})}})}function hh(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){let u=yield ro(n,e,t,r,i);return"mfaPendingCredential"in u&&fi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function AM(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?OI(n.config,i):`${n.config.apiScheme}://${i}`}function Dq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var mI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ka(this.auth,"network-request-failed")),Tq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ka(n,e,r);return i.customData._tokenResponse=t,i}function aM(n){return n!==void 0&&n.enterprise!==void 0}var gI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Aq(n,e){return C(this,null,function*(){return ro(n,"GET","/v2/recaptchaConfig",no(n,e))})}function Sq(n,e){return C(this,null,function*(){return ro(n,"POST","/v1/accounts:delete",e)})}function SM(n,e){return C(this,null,function*(){return ro(n,"POST","/v1/accounts:lookup",e)})}function oh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kI(n,e=!1){return C(this,null,function*(){let t=Wt(n),r=yield t.getIdToken(e),i=LI(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:oh(dI(i.auth_time)),issuedAtTime:oh(dI(i.iat)),expirationTime:oh(dI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function dI(n){return Number(n)*1e3}function LI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hb(t);return i?JSON.parse(i):(Dg("Failed to decode base64 JWT payload"),null)}catch(i){return Dg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cM(n){let e=LI(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ah(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Mn&&Rq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Rq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var yI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ch=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mg(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ah(n,SM(t,{idToken:r}));le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RM(o.providerUserInfo):[],a=xq(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,p=c?u:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ch(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function FI(n){return C(this,null,function*(){let e=Wt(n);yield Mg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RM(n){return n.map(e=>{var{providerId:t}=e,r=E_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Nq(n,e){return C(this,null,function*(){let t=yield DM(n,{},()=>C(this,null,function*(){let r=nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=AM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ng.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Mq(n,e){return C(this,null,function*(){return ro(n,"POST","/v2/accounts:revokeToken",no(n,e))})}var sh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=cM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Nq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xi("not implemented")}};function ds(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var kl=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=E_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ch(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield ah(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return kI(this,e)}reload(){return FI(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Mg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Lr(this.auth.app))return Promise.reject(to(this.auth));let e=yield this.getIdToken();return yield ah(this,Sq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,G=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:H,isAnonymous:X,providerData:K,stsTokenManager:D}=t;le(B&&D,e,"internal-error");let b=sh.fromJSON(this.name,D);le(typeof B=="string",e,"internal-error"),ds(m,e.name),ds(_,e.name),le(typeof H=="boolean",e,"internal-error"),le(typeof X=="boolean",e,"internal-error"),ds(w,e.name),ds(R,e.name),ds(M,e.name),ds(x,e.name),ds(V,e.name),ds(G,e.name);let I=new n({uid:B,auth:e,email:_,emailVerified:H,displayName:m,isAnonymous:X,photoURL:R,phoneNumber:w,tenantId:M,stsTokenManager:b,createdAt:V,lastLoginAt:G});return K&&Array.isArray(K)&&(I.providerData=K.map(A=>Object.assign({},A))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new sh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?RM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new sh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ch(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var lM=new Map;function eo(n){hs(n instanceof Function,"Expected a class definition");let e=lM.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lM.set(n,e),e)}var Pq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),vI=Pq;function Ag(n,e,t){return`firebase:${n}:${e}:${t}`}var Pg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ag("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?kl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(eo(vI),e,r);let i=(yield Promise.all(t.map(u=>C(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||eo(vI),s=Ag(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let p=yield u._get(s);if(p){let m=kl._fromJSON(e,p);u!==o&&(a=m),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>C(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function uM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kM(e))return"Blackberry";if(LM(e))return"Webos";if(NM(e))return"Safari";if((e.includes("chrome/")||MM(e))&&!e.includes("edge/"))return"Chrome";if(OM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function xM(n=en()){return/firefox\//i.test(n)}function NM(n=en()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MM(n=en()){return/crios\//i.test(n)}function PM(n=en()){return/iemobile/i.test(n)}function OM(n=en()){return/android/i.test(n)}function kM(n=en()){return/blackberry/i.test(n)}function LM(n=en()){return/webos/i.test(n)}function VI(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Oq(n=en()){var e;return VI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kq(){return UN()&&document.documentMode===10}function FM(n=en()){return VI(n)||OM(n)||LM(n)||kM(n)||/windows phone/i.test(n)||PM(n)}function VM(n,e=[]){let t;switch(n){case"Browser":t=uM(en());break;case"Worker":t=`${uM(en())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${di}/${r}`}var _I=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Lq(t){return C(this,arguments,function*(n,e={}){return ro(n,"GET","/v2/passwordPolicy",no(n,e))})}var Fq=6,wI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Fq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var EI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Og(this),this.idTokenSubscription=new Og(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield SM(this,{idToken:e}),r=yield kl._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Lr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Mg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Iq()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Lr(this.app))return Promise.reject(to(this));let t=e?Wt(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Lr(this.app)?Promise.reject(to(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Lr(this.app)?Promise.reject(to(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(eo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield Lq(this),t=new wI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Mq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&eo(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield Pg.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&wq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Va(n){return Wt(n)}var Og=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HN(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bg={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vq(n){Bg=n}function UM(n){return Bg.loadJS(n)}function Uq(){return Bg.recaptchaEnterpriseScript}function jq(){return Bg.gapiScript}function jM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Bq="recaptcha-enterprise",$q="NO_RECAPTCHA",bI=class{constructor(e){this.type=Bq,this.auth=Va(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){Aq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new gI(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;aM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s($q)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&aM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Uq();c.length!==0&&(c+=a),UM(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function dM(n,e,t,r=!1){return C(this,null,function*(){let i=new bI(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function II(n,e,t,r){return C(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield dM(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield dM(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function UI(n,e){let t=Ma(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(xa(o,e??{}))return i;fi(i,"already-initialized")}return t.initialize({options:e})}function Hq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jI(n,e,t){let r=Va(n);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=BM(e),{host:s,port:a}=zq(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qq()}function BM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zq(n){let e=BM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:hM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:hM(s)}}}function hM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function qq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var lh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}};function Gq(n,e){return C(this,null,function*(){return ro(n,"POST","/v1/accounts:signUp",e)})}function Wq(n,e){return C(this,null,function*(){return hh(n,"POST","/v1/accounts:signInWithPassword",no(n,e))})}function Kq(n,e){return C(this,null,function*(){return ro(n,"POST","/v1/accounts:sendOobCode",no(n,e))})}function Qq(n,e){return C(this,null,function*(){return Kq(n,e)})}function Yq(n,e){return C(this,null,function*(){return hh(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))})}function Zq(n,e){return C(this,null,function*(){return hh(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))})}var uh=class n extends lh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return II(e,t,"signInWithPassword",Wq);case"emailLink":return Yq(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return II(e,r,"signUpPassword",Gq);case"emailLink":return Zq(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function hI(n,e){return C(this,null,function*(){return hh(n,"POST","/v1/accounts:signInWithIdp",no(n,e))})}function Jq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xq(n){let e=Nl(Ml(n)).link,t=e?Nl(Ml(e)).deep_link_id:null,r=Nl(Ml(n)).deep_link_id;return(r?Nl(Ml(r)).link:null)||r||t||e||n}var kg=class n{constructor(e){var t,r,i,o,s,a;let c=Nl(Ml(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Jq((i=c.mode)!==null&&i!==void 0?i:null);le(u&&p&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=p,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Xq(e);try{return new n(t)}catch{return null}}};var $M=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return uh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=kg.parseLink(r);return le(i,"argument-error"),uh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Lg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var CI=class extends Lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function e4(n,e){return C(this,null,function*(){return hh(n,"POST","/v1/accounts:signUp",no(n,e))})}var Ll=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield kl._fromIdTokenResponse(e,r,i),s=fM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=fM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function fM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var TI=class n extends Mn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function HM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?TI._fromErrorAndOperation(n,o,e,r):o})}function t4(n,e,t=!1){return C(this,null,function*(){let r=yield ah(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ll._forOperation(n,"link",r)})}function n4(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(Lr(r.app))return Promise.reject(to(r));let i="reauthenticate";try{let o=yield ah(n,HM(r,i,e,n),t);le(o.idToken,r,"internal-error");let s=LI(o.idToken);le(s,r,"internal-error");let{sub:a}=s;return le(n.uid===a,r,"user-mismatch"),Ll._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),o}})}function zM(n,e,t=!1){return C(this,null,function*(){if(Lr(n.app))return Promise.reject(to(n));let r="signIn",i=yield HM(n,r,e),o=yield Ll._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function BI(n,e){return C(this,null,function*(){return zM(Va(n),e)})}function r4(n,e,t){var r;le(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),le(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(le(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(le(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function qM(n){return C(this,null,function*(){let e=Va(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $I(n,e,t){return C(this,null,function*(){if(Lr(n.app))return Promise.reject(to(n));let r=Va(n),s=yield II(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&qM(n),c}),a=yield Ll._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function HI(n,e,t){return Lr(n.app)?Promise.reject(to(n)):BI(Wt(n),$M.credential(e,t)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&qM(n),r}))}function zI(n,e){return C(this,null,function*(){let t=Wt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&r4(t.auth,i,e);let{email:o}=yield Qq(t.auth,i);o!==n.email&&(yield n.reload())})}function qI(n,e,t,r){return Wt(n).onIdTokenChanged(e,t,r)}function GI(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function WI(n){return Wt(n).signOut()}var Fg="__sak";var Vg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var i4=1e3,o4=10,s4=(()=>{class n extends Vg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);kq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,o4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield Mo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield Mo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield Mo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),GM=s4;var a4=(()=>{class n extends Vg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),KI=a4;function c4(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var l4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,s)})),u=yield c4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function WM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var DI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=WM("",20);i.port1.start();let p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hi(){return window}function u4(n){hi().location.href=n}function KM(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}function d4(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function h4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function f4(){return KM()?self:null}var QM="firebaseLocalStorageDb",p4=1,Ug="firebaseLocalStorage",YM="fbase_key",Fa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $g(n,e){return n.transaction([Ug],e?"readwrite":"readonly").objectStore(Ug)}function m4(){let n=indexedDB.deleteDatabase(QM);return new Fa(n).toPromise()}function AI(){let n=indexedDB.open(QM,p4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ug,{keyPath:YM})}catch(i){t(i)}}),n.addEventListener("success",()=>C(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ug)?e(r):(r.close(),yield m4(),e(yield AI()))}))})}function pM(n,e,t){return C(this,null,function*(){let r=$g(n,!0).put({[YM]:e,value:t});return new Fa(r).toPromise()})}function g4(n,e){return C(this,null,function*(){let t=$g(n,!1).get(e),r=yield new Fa(t).toPromise();return r===void 0?null:r.value})}function mM(n,e){let t=$g(n,!0).delete(e);return new Fa(t).toPromise()}var y4=800,v4=3,_4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield AI(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>v4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return KM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=l4._getInstance(f4()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield d4(),!this.activeServiceWorker)return;this.sender=new DI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||h4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield AI();return yield pM(t,Fg,"1"),yield mM(t,Fg),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>pM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>g4(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>mM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=$g(o,!1).getAll();return new Fa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ZM=_4;var Uoe=jM("rcb"),joe=new La(3e4,6e4);function w4(n,e){return e?eo(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var dh=class extends lh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function E4(n){return zM(n.auth,new dh(n),n.bypassAuthState)}function b4(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),n4(t,new dh(n),n.bypassAuthState)}function I4(n){return C(this,null,function*(){let{auth:e,user:t}=n;return le(t,e,"internal-error"),t4(t,new dh(n),n.bypassAuthState)})}var SI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E4;case"linkViaPopup":case"linkViaRedirect":return I4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:fi(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Boe=new La(2e3,1e4);var C4="pendingRedirect",Sg=new Map,RI=class n extends SI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Sg.get(this.auth._key());if(!e){try{let r=(yield T4(this.resolver,this.auth))?yield Mo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sg.set(this.auth._key(),e)}return this.bypassAuthState||Sg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Mo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function T4(n,e){return C(this,null,function*(){let t=S4(e),r=A4(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function D4(n,e){Sg.set(n._key(),e)}function A4(n){return eo(n._redirectPersistence)}function S4(n){return Ag(C4,n.config.apiKey,n.name)}function R4(n,e,t=!1){return C(this,null,function*(){if(Lr(n.app))return Promise.reject(to(n));let r=Va(n),i=w4(r,e),s=yield new RI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var x4=10*60*1e3,xI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ka(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(gM(e))}saveEventToCache(e){this.cachedEventUids.add(gM(e)),this.lastProcessedEventTime=Date.now()}};function gM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function N4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JM(n);default:return!1}}function M4(t){return C(this,arguments,function*(n,e={}){return ro(n,"GET","/v1/projects",e)})}var P4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O4=/^https?/;function k4(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield M4(n);for(let t of e)try{if(L4(t))return}catch{}fi(n,"unauthorized-domain")})}function L4(n){let e=pI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!O4.test(t))return!1;if(P4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var F4=new La(3e4,6e4);function yM(){let n=hi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function V4(n){return new Promise((e,t)=>{var r,i,o;function s(){yM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yM(),t(ka(n,"network-request-failed"))},timeout:F4.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hi().gapi)===null||o===void 0)&&o.load)s();else{let a=jM("iframefcb");return hi()[a]=()=>{gapi.load?s():t(ka(n,"network-request-failed"))},UM(`${jq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Rg=null,e})}var Rg=null;function U4(n){return Rg=Rg||V4(n),Rg}var j4=new La(5e3,15e3),B4="__/auth/iframe",$4="emulator/auth/iframe",H4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q4(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?OI(e,$4):`https://${n.config.authDomain}/${B4}`,r={apiKey:e.apiKey,appName:n.name,v:di},i=z4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${nh(r).slice(1)}`}function G4(n){return C(this,null,function*(){let e=yield U4(n),t=hi().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:q4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H4,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ka(n,"network-request-failed"),a=hi().setTimeout(()=>{o(s)},j4.get());function c(){hi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K4=500,Q4=600,Y4="_blank",Z4="http://localhost",jg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function J4(n,e,t,r=K4,i=Q4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},W4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=en().toLowerCase();t&&(a=MM(u)?Y4:t),xM(u)&&(e=e||Z4,c.scrollbars="yes");let p=Object.entries(c).reduce((_,[w,R])=>`${_}${w}=${R},`,"");if(Oq(u)&&a!=="_self")return X4(e||"",a),new jg(null);let m=window.open(e||"",a,p);le(m,n,"popup-blocked");try{m.focus()}catch{}return new jg(m)}function X4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var e5="__/auth/handler",t5="emulator/auth/handler",n5=encodeURIComponent("fac");function vM(n,e,t,r,i,o){return C(this,null,function*(){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:di,eventId:i};if(e instanceof Lg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",$N(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof CI){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let c=yield n._getAppCheckToken(),u=c?`#${n5}=${encodeURIComponent(c)}`:"";return`${r5(n)}?${nh(a).slice(1)}${u}`})}function r5({config:n}){return n.emulator?OI(n,t5):`https://${n.authDomain}/${e5}`}var fI="webStorageSupport",NI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KI,this._completeRedirectFn=R4,this._overrideRedirectResult=D4}_openPopup(e,t,r,i){return C(this,null,function*(){var o;hs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield vM(e,t,r,pI(),i);return J4(e,s,WM())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield vM(e,t,r,pI(),i);return u4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hs(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield G4(e),r=new xI(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fI,{type:fI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[fI];s!==void 0&&t(!!s),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=k4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FM()||NM()||VI()}},XM=NI;var _M="@firebase/auth",wM="1.7.9";var MI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function i5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o5(n){ui(new qn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VM(n)},u=new EI(r,i,o,c);return Hq(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ui(new qn("auth-internal",e=>{let t=Va(e.getProvider("auth").getImmediate());return(r=>new MI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(_M,wM,i5(n)),ot(_M,wM,"esm2017")}var s5=5*60,a5=Gb("authIdTokenMaxAge")||s5,EM=null,c5=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>a5)return;let i=t?.token;EM!==i&&(EM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function QI(n=cs()){let e=Ma(n,"auth");if(e.isInitialized())return e.getImmediate();let t=UI(n,{popupRedirectResolver:XM,persistence:[ZM,GM,KI]}),r=Gb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=c5(o.toString());GI(t,s,()=>s(t.currentUser)),qI(t,a=>s(a))}}let i=zb("auth");return i&&jI(t,`http://${i}`),t}function l5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Vq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ka("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",l5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o5("Browser");var eP="auth",Kt=class{constructor(e){return e}},Ua=class{constructor(){return Oa(eP)}};var YI=new Z("angularfire2.auth-instances");function J5(n,e){let t=Ol(eP,n,e);return t&&new Kt(t)}function X5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Kt(r)}}var eG={provide:Ua,deps:[[new bt,YI]]},tG={provide:Kt,useFactory:J5,deps:[[new bt,YI],Fr]};function tP(n,...e){return ot("angularfire",Zi.full,"auth"),$n([tG,eG,{provide:YI,useFactory:X5(n),multi:!0,deps:[xe,zt,us,Ji,[new bt,ls],...e]}])}var Fl=tn($I,!0);var Hg=tn(QI,!0);var zg=tn(zI,!0);var nP=tn(HI,!0);var Vr=tn(WI,!0);var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iP={};var fs,ZI;(function(){var n;function e(D,b){function I(){}I.prototype=b.prototype,D.D=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(A,S,N){for(var T=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)T[kt-2]=arguments[kt];return b.prototype[S].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,I){I||(I=0);var A=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)A[S]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(S=0;16>S;++S)A[S]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],S=D.g[2];var N=D.g[3],T=b+(N^I&(S^N))+A[0]+3614090360&4294967295;b=I+(T<<7&4294967295|T>>>25),T=N+(S^b&(I^S))+A[1]+3905402710&4294967295,N=b+(T<<12&4294967295|T>>>20),T=S+(I^N&(b^I))+A[2]+606105819&4294967295,S=N+(T<<17&4294967295|T>>>15),T=I+(b^S&(N^b))+A[3]+3250441966&4294967295,I=S+(T<<22&4294967295|T>>>10),T=b+(N^I&(S^N))+A[4]+4118548399&4294967295,b=I+(T<<7&4294967295|T>>>25),T=N+(S^b&(I^S))+A[5]+1200080426&4294967295,N=b+(T<<12&4294967295|T>>>20),T=S+(I^N&(b^I))+A[6]+2821735955&4294967295,S=N+(T<<17&4294967295|T>>>15),T=I+(b^S&(N^b))+A[7]+4249261313&4294967295,I=S+(T<<22&4294967295|T>>>10),T=b+(N^I&(S^N))+A[8]+1770035416&4294967295,b=I+(T<<7&4294967295|T>>>25),T=N+(S^b&(I^S))+A[9]+2336552879&4294967295,N=b+(T<<12&4294967295|T>>>20),T=S+(I^N&(b^I))+A[10]+4294925233&4294967295,S=N+(T<<17&4294967295|T>>>15),T=I+(b^S&(N^b))+A[11]+2304563134&4294967295,I=S+(T<<22&4294967295|T>>>10),T=b+(N^I&(S^N))+A[12]+1804603682&4294967295,b=I+(T<<7&4294967295|T>>>25),T=N+(S^b&(I^S))+A[13]+4254626195&4294967295,N=b+(T<<12&4294967295|T>>>20),T=S+(I^N&(b^I))+A[14]+2792965006&4294967295,S=N+(T<<17&4294967295|T>>>15),T=I+(b^S&(N^b))+A[15]+1236535329&4294967295,I=S+(T<<22&4294967295|T>>>10),T=b+(S^N&(I^S))+A[1]+4129170786&4294967295,b=I+(T<<5&4294967295|T>>>27),T=N+(I^S&(b^I))+A[6]+3225465664&4294967295,N=b+(T<<9&4294967295|T>>>23),T=S+(b^I&(N^b))+A[11]+643717713&4294967295,S=N+(T<<14&4294967295|T>>>18),T=I+(N^b&(S^N))+A[0]+3921069994&4294967295,I=S+(T<<20&4294967295|T>>>12),T=b+(S^N&(I^S))+A[5]+3593408605&4294967295,b=I+(T<<5&4294967295|T>>>27),T=N+(I^S&(b^I))+A[10]+38016083&4294967295,N=b+(T<<9&4294967295|T>>>23),T=S+(b^I&(N^b))+A[15]+3634488961&4294967295,S=N+(T<<14&4294967295|T>>>18),T=I+(N^b&(S^N))+A[4]+3889429448&4294967295,I=S+(T<<20&4294967295|T>>>12),T=b+(S^N&(I^S))+A[9]+568446438&4294967295,b=I+(T<<5&4294967295|T>>>27),T=N+(I^S&(b^I))+A[14]+3275163606&4294967295,N=b+(T<<9&4294967295|T>>>23),T=S+(b^I&(N^b))+A[3]+4107603335&4294967295,S=N+(T<<14&4294967295|T>>>18),T=I+(N^b&(S^N))+A[8]+1163531501&4294967295,I=S+(T<<20&4294967295|T>>>12),T=b+(S^N&(I^S))+A[13]+2850285829&4294967295,b=I+(T<<5&4294967295|T>>>27),T=N+(I^S&(b^I))+A[2]+4243563512&4294967295,N=b+(T<<9&4294967295|T>>>23),T=S+(b^I&(N^b))+A[7]+1735328473&4294967295,S=N+(T<<14&4294967295|T>>>18),T=I+(N^b&(S^N))+A[12]+2368359562&4294967295,I=S+(T<<20&4294967295|T>>>12),T=b+(I^S^N)+A[5]+4294588738&4294967295,b=I+(T<<4&4294967295|T>>>28),T=N+(b^I^S)+A[8]+2272392833&4294967295,N=b+(T<<11&4294967295|T>>>21),T=S+(N^b^I)+A[11]+1839030562&4294967295,S=N+(T<<16&4294967295|T>>>16),T=I+(S^N^b)+A[14]+4259657740&4294967295,I=S+(T<<23&4294967295|T>>>9),T=b+(I^S^N)+A[1]+2763975236&4294967295,b=I+(T<<4&4294967295|T>>>28),T=N+(b^I^S)+A[4]+1272893353&4294967295,N=b+(T<<11&4294967295|T>>>21),T=S+(N^b^I)+A[7]+4139469664&4294967295,S=N+(T<<16&4294967295|T>>>16),T=I+(S^N^b)+A[10]+3200236656&4294967295,I=S+(T<<23&4294967295|T>>>9),T=b+(I^S^N)+A[13]+681279174&4294967295,b=I+(T<<4&4294967295|T>>>28),T=N+(b^I^S)+A[0]+3936430074&4294967295,N=b+(T<<11&4294967295|T>>>21),T=S+(N^b^I)+A[3]+3572445317&4294967295,S=N+(T<<16&4294967295|T>>>16),T=I+(S^N^b)+A[6]+76029189&4294967295,I=S+(T<<23&4294967295|T>>>9),T=b+(I^S^N)+A[9]+3654602809&4294967295,b=I+(T<<4&4294967295|T>>>28),T=N+(b^I^S)+A[12]+3873151461&4294967295,N=b+(T<<11&4294967295|T>>>21),T=S+(N^b^I)+A[15]+530742520&4294967295,S=N+(T<<16&4294967295|T>>>16),T=I+(S^N^b)+A[2]+3299628645&4294967295,I=S+(T<<23&4294967295|T>>>9),T=b+(S^(I|~N))+A[0]+4096336452&4294967295,b=I+(T<<6&4294967295|T>>>26),T=N+(I^(b|~S))+A[7]+1126891415&4294967295,N=b+(T<<10&4294967295|T>>>22),T=S+(b^(N|~I))+A[14]+2878612391&4294967295,S=N+(T<<15&4294967295|T>>>17),T=I+(N^(S|~b))+A[5]+4237533241&4294967295,I=S+(T<<21&4294967295|T>>>11),T=b+(S^(I|~N))+A[12]+1700485571&4294967295,b=I+(T<<6&4294967295|T>>>26),T=N+(I^(b|~S))+A[3]+2399980690&4294967295,N=b+(T<<10&4294967295|T>>>22),T=S+(b^(N|~I))+A[10]+4293915773&4294967295,S=N+(T<<15&4294967295|T>>>17),T=I+(N^(S|~b))+A[1]+2240044497&4294967295,I=S+(T<<21&4294967295|T>>>11),T=b+(S^(I|~N))+A[8]+1873313359&4294967295,b=I+(T<<6&4294967295|T>>>26),T=N+(I^(b|~S))+A[15]+4264355552&4294967295,N=b+(T<<10&4294967295|T>>>22),T=S+(b^(N|~I))+A[6]+2734768916&4294967295,S=N+(T<<15&4294967295|T>>>17),T=I+(N^(S|~b))+A[13]+1309151649&4294967295,I=S+(T<<21&4294967295|T>>>11),T=b+(S^(I|~N))+A[4]+4149444226&4294967295,b=I+(T<<6&4294967295|T>>>26),T=N+(I^(b|~S))+A[11]+3174756917&4294967295,N=b+(T<<10&4294967295|T>>>22),T=S+(b^(N|~I))+A[2]+718787259&4294967295,S=N+(T<<15&4294967295|T>>>17),T=I+(N^(S|~b))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+N&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var I=b-this.blockSize,A=this.B,S=this.h,N=0;N<b;){if(S==0)for(;N<=I;)i(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<b;)if(A[S++]=D.charCodeAt(N++),S==this.blockSize){i(this,A),S=0;break}}else for(;N<b;)if(A[S++]=D[N++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var I=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=I&255,I/=256;for(this.u(D),D=Array(16),b=I=0;4>b;++b)for(var A=0;32>A;A+=8)D[I++]=this.g[b]>>>A&255;return D};function o(D,b){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function s(D,b){this.h=b;for(var I=[],A=!0,S=D.length-1;0<=S;S--){var N=D[S]|0;A&&N==b||(I[S]=N,A=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(b){return new s([b|0],0>b?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return x(u(-D));for(var b=[],I=1,A=0;D>=I;A++)b[A]=D/I|0,I*=4294967296;return new s(b,0)}function p(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return x(p(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),A=m,S=0;S<D.length;S+=8){var N=Math.min(8,D.length-S),T=parseInt(D.substring(S,S+N),b);8>N?(N=u(Math.pow(b,N)),A=A.j(N).add(u(T))):(A=A.j(I),A=A.add(u(T)))}return A}var m=c(0),_=c(1),w=c(16777216);n=s.prototype,n.m=function(){if(M(this))return-x(this).m();for(var D=0,b=1,I=0;I<this.g.length;I++){var A=this.i(I);D+=(0<=A?A:4294967296+A)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(M(this))return"-"+x(this).toString(D);for(var b=u(Math.pow(D,6)),I=this,A="";;){var S=H(I,b).g;I=V(I,S.j(b));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=S,R(I))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=V(this,D),M(D)?-1:R(D)?0:1};function x(D){for(var b=D.g.length,I=[],A=0;A<b;A++)I[A]=~D.g[A];return new s(I,~D.h).add(_)}n.abs=function(){return M(this)?x(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],A=0,S=0;S<=b;S++){var N=A+(this.i(S)&65535)+(D.i(S)&65535),T=(N>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);A=T>>>16,N&=65535,T&=65535,I[S]=T<<16|N}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(D,b){return D.add(x(b))}n.j=function(D){if(R(this)||R(D))return m;if(M(this))return M(D)?x(this).j(x(D)):x(x(this).j(D));if(M(D))return x(this.j(x(D)));if(0>this.l(w)&&0>D.l(w))return u(this.m()*D.m());for(var b=this.g.length+D.g.length,I=[],A=0;A<2*b;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<D.g.length;S++){var N=this.i(A)>>>16,T=this.i(A)&65535,kt=D.i(S)>>>16,un=D.i(S)&65535;I[2*A+2*S]+=T*un,G(I,2*A+2*S),I[2*A+2*S+1]+=N*un,G(I,2*A+2*S+1),I[2*A+2*S+1]+=T*kt,G(I,2*A+2*S+1),I[2*A+2*S+2]+=N*kt,G(I,2*A+2*S+2)}for(A=0;A<b;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=b;A<2*b;A++)I[A]=0;return new s(I,0)};function G(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function B(D,b){this.g=D,this.h=b}function H(D,b){if(R(b))throw Error("division by zero");if(R(D))return new B(m,m);if(M(D))return b=H(x(D),b),new B(x(b.g),x(b.h));if(M(b))return b=H(D,x(b)),new B(x(b.g),b.h);if(30<D.g.length){if(M(D)||M(b))throw Error("slowDivide_ only works with positive integers.");for(var I=_,A=b;0>=A.l(D);)I=X(I),A=X(A);var S=K(I,1),N=K(A,1);for(A=K(A,2),I=K(I,2);!R(A);){var T=N.add(A);0>=T.l(D)&&(S=S.add(I),N=T),A=K(A,1),I=K(I,1)}return b=V(D,S.j(b)),new B(S,b)}for(S=m;0<=D.l(b);){for(I=Math.max(1,Math.floor(D.m()/b.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=u(I),T=N.j(b);M(T)||0<T.l(D);)I-=A,N=u(I),T=N.j(b);R(N)&&(N=_),S=S.add(N),D=V(D,T)}return new B(S,D)}n.A=function(D){return H(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],A=0;A<b;A++)I[A]=this.i(A)&D.i(A);return new s(I,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],A=0;A<b;A++)I[A]=this.i(A)|D.i(A);return new s(I,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],A=0;A<b;A++)I[A]=this.i(A)^D.i(A);return new s(I,this.h^D.h)};function X(D){for(var b=D.g.length+1,I=[],A=0;A<b;A++)I[A]=D.i(A)<<1|D.i(A-1)>>>31;return new s(I,D.h)}function K(D,b){var I=b>>5;b%=32;for(var A=D.g.length-I,S=[],N=0;N<A;N++)S[N]=0<b?D.i(N+I)>>>b|D.i(N+I+1)<<32-b:D.i(N+I);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZI=iP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=p,fs=iP.Integer=s}).apply(typeof rP<"u"?rP:typeof self<"u"?self:typeof window<"u"?window:{});var qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},io={};var JI,nG,Vl,XI,fh,Gg,e0,t0,n0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qg=="object"&&qg];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var k=l[v];if(!(k in g))break e;g=g[k]}l=l[l.length-1],v=g[l],f=f(v),f!=v&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var g=0,v=!1,k={next:function(){if(!v&&g<l.length){var F=g++;return{value:f(F,l[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function p(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,v),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function _(l,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function w(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function R(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,k,F){for(var Q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Q[qe-2]=arguments[qe];return f.prototype[k].apply(v,Q)}}function M(l){let f=l.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=l[v];return g}return[]}function x(l,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(c(v)){let k=l.length||0,F=v.length||0;l.length=k+F;for(let Q=0;Q<F;Q++)l[k+Q]=v[Q]}else l.push(v)}}class V{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(l){return/^[\s\xa0]*$/.test(l)}function B(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function K(l,f,g){for(let v in l)f.call(g,l[v],v,l)}function D(l,f){for(let g in l)f.call(void 0,l[g],g,l)}function b(l){let f={};for(let g in l)f[g]=l[g];return f}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let g,v;for(let k=1;k<arguments.length;k++){v=arguments[k];for(g in v)l[g]=v[g];for(let F=0;F<I.length;F++)g=I[F],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function S(l){var f=1;l=l.split(":");let g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function N(l){a.setTimeout(()=>{throw l},0)}function T(){var l=dn;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class kt{constructor(){this.h=this.g=null}add(f,g){let v=un.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var un=new V(()=>new Lt,l=>l.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,kn=!1,dn=new kt,Zt=()=>{let l=a.Promise.resolve(void 0);Ct=()=>{l.then(ar)}};var ar=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){N(g)}var f=un;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}kn=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Tt(l,f){if(ct.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(X){e:{try{H(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Hr[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Tt.aa.h.call(this)}}R(Tt,ct);var Hr={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Us(l,f,g,v,k){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=k,this.key=++Kn,this.da=this.fa=!1}function zr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function cr(l){this.src=l,this.g={},this.h=0}cr.prototype.add=function(l,f,g,v,k){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Q=wo(l,f,v,k);return-1<Q?(f=l[Q],g||(f.fa=!1)):(f=new Us(f,this.src,F,!!v,k),f.fa=g,l.push(f)),f};function qr(l,f){var g=f.type;if(g in l.g){var v=l.g[g],k=Array.prototype.indexOf.call(v,f,void 0),F;(F=0<=k)&&Array.prototype.splice.call(v,k,1),F&&(zr(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function wo(l,f,g,v){for(var k=0;k<l.length;++k){var F=l[k];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==v)return k}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),Cn={};function js(l,f,g,v,k){if(v&&v.once)return Bs(l,f,g,v,k);if(Array.isArray(f)){for(var F=0;F<f.length;F++)js(l,f[F],g,v,k);return null}return g=lt(g),l&&l[In]?l.K(f,g,u(v)?!!v.capture:!!v,k):Vt(l,f,g,!1,v,k)}function Vt(l,f,g,v,k,F){if(!f)throw Error("Invalid event type");var Q=u(k)?!!k.capture:!!k,qe=Tn(l);if(qe||(l[Ft]=qe=new cr(l)),g=qe.add(f,g,v,Q,F),g.proxy)return g;if(v=Eo(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)bn||(k=Q),k===void 0&&(k=!1),l.addEventListener(f.toString(),v,k);else if(l.attachEvent)l.attachEvent(hn(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Eo(){function l(g){return f.call(l.src,l.listener,g)}let f=Yn;return l}function Bs(l,f,g,v,k){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Bs(l,f[F],g,v,k);return null}return g=lt(g),l&&l[In]?l.L(f,g,u(v)?!!v.capture:!!v,k):Vt(l,f,g,!0,v,k)}function Qn(l,f,g,v,k){if(Array.isArray(f))for(var F=0;F<f.length;F++)Qn(l,f[F],g,v,k);else v=u(v)?!!v.capture:!!v,g=lt(g),l&&l[In]?(l=l.i,f=String(f).toString(),f in l.g&&(F=l.g[f],g=wo(F,g,v,k),-1<g&&(zr(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[f],l.h--)))):l&&(l=Tn(l))&&(f=l.g[f.toString()],l=-1,f&&(l=wo(f,g,v,k)),(g=-1<l?f[l]:null)&&Ee(g))}function Ee(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[In])qr(f.i,l);else{var g=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(g,v,l.capture):f.detachEvent?f.detachEvent(hn(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Tn(f))?(qr(g,l),g.h==0&&(g.src=null,f[Ft]=null)):zr(l)}}}function hn(l){return l in Cn?Cn[l]:Cn[l]="on"+l}function Yn(l,f){if(l.da)l=!0;else{f=new Tt(f,this);var g=l.listener,v=l.ha||l.src;l.fa&&Ee(l),l=g.call(v,f)}return l}function Tn(l){return l=l[Ft],l instanceof cr?l:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(l){return typeof l=="function"?l:(l[Xe]||(l[Xe]=function(f){return l.handleEvent(f)}),l[Xe])}function ut(){ft.call(this),this.i=new cr(this),this.M=this,this.F=null}R(ut,ft),ut.prototype[In]=!0,ut.prototype.removeEventListener=function(l,f,g,v){Qn(this,l,f,g,v)};function _t(l,f){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new ct(f,l);else if(f instanceof ct)f.target=f.target||l;else{var k=f;f=new ct(v,l),A(f,k)}if(k=!0,g)for(var F=g.length-1;0<=F;F--){var Q=f.g=g[F];k=Gr(Q,v,!0,f)&&k}if(Q=f.g=l,k=Gr(Q,v,!0,f)&&k,k=Gr(Q,v,!1,f)&&k,g)for(F=0;F<g.length;F++)Q=f.g=g[F],k=Gr(Q,v,!1,f)&&k}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],v=0;v<g.length;v++)zr(g[v]);delete l.g[f],l.h--}}this.F=null},ut.prototype.K=function(l,f,g,v){return this.i.add(String(l),f,!1,g,v)},ut.prototype.L=function(l,f,g,v){return this.i.add(String(l),f,!0,g,v)};function Gr(l,f,g,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var k=!0,F=0;F<f.length;++F){var Q=f[F];if(Q&&!Q.da&&Q.capture==g){var qe=Q.listener,jt=Q.ha||Q.src;Q.fa&&qr(l.i,Q),k=qe.call(jt,v)!==!1&&k}}return k&&!v.defaultPrevented}function sn(l,f,g){if(typeof l=="function")g&&(l=_(l,g));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function sf(l){l.g=sn(()=>{l.g=null,l.i&&(l.i=!1,sf(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class af extends ft{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:sf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(l){ft.call(this),this.h=l,this.g={}}R(bo,ft);var _c=[];function cf(l){K(l.g,function(f,g){this.g.hasOwnProperty(g)&&Ee(f)},l),l.g={}}bo.prototype.N=function(){bo.aa.N.call(this),cf(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ou=a.JSON.stringify,Vv=a.JSON.parse,Uv=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Cr(){}Cr.prototype.h=null;function lf(l){return l.h||(l.h=l.i())}function uf(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ku(){ct.call(this,"d")}R(ku,ct);function Lu(){ct.call(this,"c")}R(Lu,ct);var Tr={},df=null;function wc(){return df=df||new ut}Tr.La="serverreachability";function hf(l){ct.call(this,Tr.La,l)}R(hf,ct);function Hs(l){let f=wc();_t(f,new hf(f))}Tr.STAT_EVENT="statevent";function ff(l,f){ct.call(this,Tr.STAT_EVENT,l),this.stat=f}R(ff,ct);function Ut(l){let f=wc();_t(f,new ff(f,l))}Tr.Ma="timingevent";function pf(l,f){ct.call(this,Tr.Ma,l),this.size=f}R(pf,ct);function zs(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function jv(l,f,g,v,k,F){l.info(function(){if(l.g)if(F)for(var Q="",qe=F.split("&"),jt=0;jt<qe.length;jt++){var Oe=qe[jt].split("=");if(1<Oe.length){var Jt=Oe[0];Oe=Oe[1];var Bt=Jt.split("_");Q=2<=Bt.length&&Bt[1]=="type"?Q+(Jt+"="+Oe+"&"):Q+(Jt+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+v+") [attempt "+k+"]: "+f+`
`+g+`
`+Q})}function Bv(l,f,g,v,k,F,Q){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+k+"]: "+f+`
`+g+`
`+F+" "+Q})}function Ve(l,f,g,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Hv(l,g)+(v?" "+v:"")})}function $v(l,f){l.info(function(){return"TIMEOUT: "+f})}qs.prototype.info=function(){};function Hv(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var k=v[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<k.length;Q++)k[Q]=""}}}}return Ou(g)}catch{return f}}var Ec={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fu;function bc(){}R(bc,Cr),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},Fu=new bc;function lr(l,f,g,v){this.j=l,this.i=f,this.l=g,this.R=v||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Io}function Io(){this.i=null,this.g="",this.h=!1}var Vu={},Co={};function et(l,f,g){l.L=1,l.v=Cc(ur(f)),l.m=g,l.P=!0,gf(l,null)}function gf(l,f){l.F=Date.now(),Gs(l),l.A=ur(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Mf(g.i,"t",v),l.C=0,g=l.j.J,l.h=new Io,l.g=Xu(l.j,g?f:null,!l.m),0<l.O&&(l.M=new af(_(l.Y,l,l.g),l.O)),f=l.U,g=l.g,v=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(_c[0]=k.toString()),k=_c);for(var F=0;F<k.length;F++){var Q=js(g,k[F],v||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Hs(),jv(l.i,l.u,l.A,l.l,l.R,l.m)}lr.prototype.ca=function(l){l=l.target;let f=this.M;f&&Ar(l)==3?f.j():this.Y(l)},lr.prototype.Y=function(l){try{if(l==this.g)e:{let Bt=Ar(this.g);var f=this.g.Ba();let Zr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Uf(this.g)))){this.J||Bt!=4||f==7||(f==8||0>=Zr?Hs(3):Hs(2)),Uu(this);var g=this.g.Z();this.X=g;t:if(yf(this)){var v=Uf(this.g);l="";var k=v.length,F=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Ws(this);var Q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(F&&f==k-1)});v.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=g==200,Bv(this.i,this.u,this.A,this.l,this.R,Bt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,jt=this.g;if((qe=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Oe=qe;break t}}Oe=null}if(g=Oe)Ve(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ju(this,g);else{this.o=!1,this.s=3,Ut(12),Wr(this),Ws(this);break e}}if(this.P){g=!0;let Zn;for(;!this.J&&this.C<Q.length;)if(Zn=zv(this,Q),Zn==Co){Bt==4&&(this.s=4,Ut(14),g=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Vu){this.s=4,Ut(15),Ve(this.i,this.l,Q,"[Invalid Chunk]"),g=!1;break}else Ve(this.i,this.l,Zn,null),ju(this,Zn);if(yf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||Q.length!=0||this.h.h||(this.s=1,Ut(16),g=!1),this.o=this.o&&g,!g)Ve(this.i,this.l,Q,"[Invalid Chunked Response]"),Wr(this),Ws(this);else if(0<Q.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),xo(Jt),Jt.M=!0,Ut(11))}}else Ve(this.i,this.l,Q,null),ju(this,Q);Bt==4&&Wr(this),this.o&&!this.J&&(Bt==4?Qu(this.j,this):(this.o=!1,Gs(this)))}else Xv(this.g),g==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Wr(this),Ws(this)}}}catch{}finally{}};function yf(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function zv(l,f){var g=l.C,v=f.indexOf(`
`,g);return v==-1?Co:(g=Number(f.substring(g,v)),isNaN(g)?Vu:(v+=1,v+g>f.length?Co:(f=f.slice(v,v+g),l.C=v+g,f)))}lr.prototype.cancel=function(){this.J=!0,Wr(this)};function Gs(l){l.S=Date.now()+l.I,vf(l,l.I)}function vf(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=zs(_(l.ba,l),f)}function Uu(l){l.B&&(a.clearTimeout(l.B),l.B=null)}lr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?($v(this.i,this.A),this.L!=2&&(Hs(),Ut(17)),Wr(this),this.s=2,Ws(this)):vf(this,this.S-l)};function Ws(l){l.j.G==0||l.J||Qu(l.j,l)}function Wr(l){Uu(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,cf(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function ju(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Bu(g.h,l))){if(!l.K&&Bu(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var k=v;if(k[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ta(g),Sc(g);else break e;ea(g),Ut(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=zs(_(g.Za,g),6e3));if(1>=bf(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Yr(g,11)}else if((l.K||g.g==l)&&ta(g),!G(f))for(k=g.Da.g.parse(f),f=0;f<k.length;f++){let Oe=k[f];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];let Jt=Oe[3];Jt!=null&&(g.la=Jt,g.j.info("VER="+g.la));let Bt=Oe[4];Bt!=null&&(g.Aa=Bt,g.j.info("SVER="+g.Aa));let Zr=Oe[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(v=1.5*Zr,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let Zn=l.g;if(Zn){let xc=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var F=v.h;F.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($u(F,F.h),F.h=null))}if(v.D){let td=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(v.ya=td,Qe(v.I,v.D,td))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Q=l;if(v.qa=Ju(v,v.J?v.ia:null,v.W),Q.K){If(v.h,Q);var qe=Q,jt=v.L;jt&&(qe.I=jt),qe.B&&(Uu(qe),Gs(qe)),v.g=Q}else Ku(v);0<g.i.length&&Rc(g)}else Oe[0]!="stop"&&Oe[0]!="close"||Yr(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Yr(g,7):Ac(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}Hs(4)}catch{}}var _f=class{constructor(l,f){this.g=l,this.map=f}};function wf(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ef(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function bf(l){return l.h?1:l.g?l.g.size:0}function Bu(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function $u(l,f){l.g?l.g.add(f):l.h=f}function If(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}wf.prototype.cancel=function(){if(this.i=Cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Cf(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let g of l.g.values())f=f.concat(g.D);return f}return M(l.i)}function Tf(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],g=l.length,v=0;v<g;v++)f.push(l[v]);return f}f=[],g=0;for(v in l)f[g++]=l[v];return f}function qv(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(let v in l)f[g++]=v;return f}}}function Hu(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=qv(l),v=Tf(l),k=v.length,F=0;F<k;F++)f.call(void 0,v[F],g&&g[F],l)}var Df=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gv(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),k=null;if(0<=v){var F=l[g].substring(0,v);k=l[g].substring(v+1)}else F=l[g];f(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ln(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ln){this.h=l.h,Ic(this,l.j),this.o=l.o,this.g=l.g,To(this,l.s),this.l=l.l;var f=l.i,g=new Ys;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),zu(this,g),this.m=l.m}else l&&(f=String(l).match(Df))?(this.h=!1,Ic(this,f[1]||"",!0),this.o=Ks(f[2]||""),this.g=Ks(f[3]||"",!0),To(this,f[4]),this.l=Ks(f[5]||"",!0),zu(this,f[6]||"",!0),this.m=Ks(f[7]||"")):(this.h=!1,this.i=new Ys(null,this.h))}Ln.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Qs(f,Af,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Qs(f,Af,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Qs(g,g.charAt(0)=="/"?Kv:Do,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Qs(g,Rf)),l.join("")};function ur(l){return new Ln(l)}function Ic(l,f,g){l.j=g?Ks(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function To(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function zu(l,f,g){f instanceof Ys?(l.i=f,Qv(l.i,l.h)):(g||(f=Qs(f,Sf)),l.i=new Ys(f,l.h))}function Qe(l,f,g){l.i.set(f,g)}function Cc(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ks(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Qs(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Wv),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Wv(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Af=/[#\/\?@]/g,Do=/[#\?:]/g,Kv=/[#\?]/g,Sf=/[#\?@]/g,Rf=/#/g;function Ys(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Kr(l){l.g||(l.g=new Map,l.h=0,l.i&&Gv(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Ys.prototype,n.add=function(l,f){Kr(this),this.i=null,l=Ao(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function xf(l,f){Kr(l),f=Ao(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Nf(l,f){return Kr(l),f=Ao(l,f),l.g.has(f)}n.forEach=function(l,f){Kr(this),this.g.forEach(function(g,v){g.forEach(function(k){l.call(f,k,v,this)},this)},this)},n.na=function(){Kr(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let k=l[v];for(let F=0;F<k.length;F++)g.push(f[v])}return g},n.V=function(l){Kr(this);let f=[];if(typeof l=="string")Nf(this,l)&&(f=f.concat(this.g.get(Ao(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return Kr(this),this.i=null,l=Ao(this,l),Nf(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Mf(l,f,g){xf(l,f),0<g.length&&(l.i=null,l.g.set(Ao(l,f),M(g)),l.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let F=encodeURIComponent(String(v)),Q=this.V(v);for(v=0;v<Q.length;v++){var k=F;Q[v]!==""&&(k+="="+encodeURIComponent(String(Q[v]))),l.push(k)}}return this.i=l.join("&")};function Ao(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Qv(l,f){f&&!l.j&&(Kr(l),l.i=null,l.g.forEach(function(g,v){var k=v.toLowerCase();v!=k&&(xf(this,v),Mf(this,k,g))},l)),l.j=f}function So(l,f){let g=new qs;if(a.Image){let v=new Image;v.onload=w(Qr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=w(Qr,g,"TestLoadImage: error",!1,f,v),v.onabort=w(Qr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=w(Qr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function Yv(l,f){let g=new qs,v=new AbortController,k=setTimeout(()=>{v.abort(),Qr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(F=>{clearTimeout(k),F.ok?Qr(g,"TestPingServer: ok",!0,f):Qr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(k),Qr(g,"TestPingServer: error",!1,f)})}function Qr(l,f,g,v,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),v(g)}catch{}}function Pf(){this.g=new Uv}function Zv(l,f,g){let v=g||"";try{Hu(l,function(k,F){let Q=k;u(k)&&(Q=Ou(k)),f.push(v+F+"="+encodeURIComponent(Q))})}catch(k){throw f.push(v+"type="+encodeURIComponent("_badmap")),k}}function Fn(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Fn,Cr),Fn.prototype.g=function(){return new Tc(this.l,this.j)},Fn.prototype.i=function(l){return function(){return l}}({});function Tc(l,f){ut.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Tc,ut),n=Tc.prototype,n.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Zs(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Dr(this):Zs(this),this.readyState==3&&qu(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Dr(this))},n.Qa=function(l){this.g&&(this.response=l,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Zs(l)}n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Zs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Of(l){let f="";return K(l,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function Gu(l,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Of(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Qe(l,f,g))}function tt(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(tt,ut);var Ro=/^https?$/i,Jv=["POST","PUT"];n=tt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fu.g(),this.v=this.o?lf(this.o):lf(Fu),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(F){kf(this,F);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var k in v)g.set(k,v[k]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let F of v.keys())g.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jv,f,void 0))||v||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,Q]of g)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vf(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){kf(this,F)}};function kf(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Lf(l),Dc(l)}function Lf(l){l.A||(l.A=!0,_t(l,"complete"),_t(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,_t(this,"complete"),_t(this,"abort"),Dc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ff(this):this.bb())},n.bb=function(){Ff(this)};function Ff(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ar(l)!=4||l.Z()!=2)){if(l.u&&Ar(l)==4)sn(l.Ea,0,l);else if(_t(l,"readystatechange"),Ar(l)==4){l.h=!1;try{let Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=Q===0){var k=String(l.D).match(Df)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),v=!Ro.test(k?k.toLowerCase():"")}g=v}if(g)_t(l,"complete"),_t(l,"success");else{l.m=6;try{var F=2<Ar(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Lf(l)}}finally{Dc(l)}}}}function Dc(l,f){if(l.g){Vf(l);let g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||_t(l,"ready");try{g.onreadystatechange=v}catch{}}}function Vf(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Ar(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Vv(f)}};function Uf(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xv(l){let f={};l=(l.g&&2<=Ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(G(l[v]))continue;var g=S(l[v]);let k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=f[k]||[];f[k]=F,F.push(g)}D(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Xs(l){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,l),this.cb=Js("retryDelaySeedMs",1e4,l),this.Wa=Js("forwardChannelMaxRetries",2,l),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new wf(l&&l.concurrentRequestLimit),this.Da=new Pf,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xs.prototype,n.la=8,n.G=1,n.connect=function(l,f,g,v){Ut(0),this.W=l,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Ju(this,null,this.W),Rc(this)};function Ac(l){if(jf(l),l.G==3){var f=l.U++,g=ur(l.I);if(Qe(g,"SID",l.K),Qe(g,"RID",f),Qe(g,"TYPE","terminate"),Si(l,g),f=new lr(l,l.j,f),f.L=2,f.v=Cc(ur(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Xu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Gs(f)}Zu(l)}function Sc(l){l.g&&(xo(l),l.g.cancel(),l.g=null)}function jf(l){Sc(l),l.u&&(a.clearTimeout(l.u),l.u=null),ta(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Rc(l){if(!Ef(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ct||Zt(),kn||(Ct(),kn=!0),dn.add(f,l),l.B=0}}function Bf(l,f){return bf(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=zs(_(l.Ga,l,f),Yu(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new lr(this,this.j,l),F=this.o;if(this.S&&(F?(F=b(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Wu(this,k,f),g=ur(this.I),Qe(g,"RID",l),Qe(g,"CVER",22),this.D&&Qe(g,"X-HTTP-Session-Id",this.D),Si(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(Of(F)))+"&"+f:this.m&&Gu(g,this.m,F)),$u(this.h,k),this.Ua&&Qe(g,"TYPE","init"),this.P?(Qe(g,"$req",f),Qe(g,"SID","null"),k.T=!0,et(k,g,null)):et(k,g,f),this.G=2}}else this.G==3&&(l?$f(this,l):this.i.length==0||Ef(this.h)||$f(this))};function $f(l,f){var g;f?g=f.l:g=l.U++;let v=ur(l.I);Qe(v,"SID",l.K),Qe(v,"RID",g),Qe(v,"AID",l.T),Si(l,v),l.m&&l.o&&Gu(v,l.m,l.o),g=new lr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Wu(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),$u(l.h,g),et(g,v,f)}function Si(l,f){l.H&&K(l.H,function(g,v){Qe(f,v,g)}),l.l&&Hu({},function(g,v){Qe(f,v,g)})}function Wu(l,f,g){g=Math.min(l.i.length,g);var v=l.l?_(l.l.Na,l.l,l):null;e:{var k=l.i;let F=-1;for(;;){let Q=["count="+g];F==-1?0<g?(F=k[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let qe=!0;for(let jt=0;jt<g;jt++){let Oe=k[jt].g,Jt=k[jt].map;if(Oe-=F,0>Oe)F=Math.max(0,k[jt].g-100),qe=!1;else try{Zv(Jt,Q,"req"+Oe+"_")}catch{v&&v(Jt)}}if(qe){v=Q.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,v}function Ku(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ct||Zt(),kn||(Ct(),kn=!0),dn.add(f,l),l.v=0}}function ea(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=zs(_(l.Fa,l),Yu(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=zs(_(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Sc(this),Hf(this))};function xo(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Hf(l){l.g=new lr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=ur(l.qa);Qe(f,"RID","rpc"),Qe(f,"SID",l.K),Qe(f,"AID",l.T),Qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(f,"TO",l.ja),Qe(f,"TYPE","xmlhttp"),Si(l,f),l.m&&l.o&&Gu(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Cc(ur(f)),g.m=null,g.P=!0,gf(g,l)}n.Za=function(){this.C!=null&&(this.C=null,Sc(this),ea(this),Ut(19))};function ta(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Qu(l,f){var g=null;if(l.g==f){ta(l),xo(l),l.g=null;var v=2}else if(Bu(l.h,f))g=f.D,If(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;v=wc(),_t(v,new pf(v,g)),Rc(l)}else Ku(l);else if(k=f.s,k==3||k==0&&0<f.X||!(v==1&&Bf(l,f)||v==2&&ea(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),k){case 1:Yr(l,5);break;case 4:Yr(l,10);break;case 3:Yr(l,6);break;default:Yr(l,2)}}}function Yu(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Yr(l,f){if(l.j.info("Error code "+f),f==2){var g=_(l.fb,l),v=l.Xa;let k=!v;v=new Ln(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ic(v,"https"),Cc(v),k?So(v.toString(),g):Yv(v.toString(),g)}else Ut(2);l.G=0,l.l&&l.l.sa(f),Zu(l),jf(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Zu(l){if(l.G=0,l.ka=[],l.l){let f=Cf(l.h);(f.length!=0||l.i.length!=0)&&(x(l.ka,f),x(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function Ju(l,f,g){var v=g instanceof Ln?ur(g):new Ln(g);if(v.g!="")f&&(v.g=f+"."+v.g),To(v,v.s);else{var k=a.location;v=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var F=new Ln(null);v&&Ic(F,v),f&&(F.g=f),k&&To(F,k),g&&(F.l=g),v=F}return g=l.D,f=l.ya,g&&f&&Qe(v,g,f),Qe(v,"VER",l.la),Si(l,v),v}function Xu(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new tt(new Fn({eb:g})):new tt(l.pa),f.Ha(l.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}n=ed.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function na(){}na.prototype.g=function(l,f){return new Dt(l,f)};function Dt(l,f){ut.call(this),this.g=new Xs(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!G(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new No(this)}R(Dt,ut),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Ac(this.g)},Dt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ou(l),l=g);f.i.push(new _f(f.Ya++,l)),f.G==3&&Rc(f)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Ac(this.g),delete this.g,Dt.aa.N.call(this)};function zf(l){ku.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}R(zf,ku);function qf(){Lu.call(this),this.status=1}R(qf,Lu);function No(l){this.g=l}R(No,ed),No.prototype.ua=function(){_t(this.g,"a")},No.prototype.ta=function(l){_t(this.g,new zf(l))},No.prototype.sa=function(l){_t(this.g,new qf)},No.prototype.ra=function(){_t(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,n0=io.createWebChannelTransport=function(){return new na},t0=io.getStatEventTarget=function(){return wc()},e0=io.Event=Tr,Gg=io.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ec.NO_ERROR=0,Ec.TIMEOUT=8,Ec.HTTP_ERROR=6,fh=io.ErrorCode=Ec,mf.COMPLETE="complete",XI=io.EventType=mf,uf.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Vl=io.WebChannel=uf,nG=io.FetchXmlHttpFactory=Fn,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,JI=io.XhrIo=tt}).apply(typeof qg<"u"?qg:typeof self<"u"?self:typeof window<"u"?window:{});var oP="@firebase/firestore";var nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var iu="10.14.0";var za=new ss("@firebase/firestore");function ph(){return za.logLevel}function re(n,...e){if(za.logLevel<=Me.DEBUG){let t=e.map(LC);za.debug(`Firestore (${iu}): ${n}`,...t)}}function so(n,...e){if(za.logLevel<=Me.ERROR){let t=e.map(LC);za.error(`Firestore (${iu}): ${n}`,...t)}}function ql(n,...e){if(za.logLevel<=Me.WARN){let t=e.map(LC);za.warn(`Firestore (${iu}): ${n}`,...t)}}function LC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function fe(n="Unexpected state"){let e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+n;throw so(e),new Error(e)}function Ke(n,e){n||fe()}function ye(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends Mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},a0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}},c0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},l0=class{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new Zg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new nn(e)}},u0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},d0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new u0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},h0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},f0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);let r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new h0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Jg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Be(n,e){return n<e?-1:n>e?1:0}function Gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var we=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new cn(0,0))}static max(){return new n(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(),r===void 0?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},gt=class n extends Xg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},iG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ir=class n extends Xg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return iG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(gt.fromString(e))}static fromName(e){return new n(gt.fromString(e).popFirst(5))}static empty(){return new n(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new gt(e.slice()))}};var p0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};p0.UNKNOWN_ID=-1;function oG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new cn(t+1,0):new cn(t,r));return new qa(i,ue.empty(),e)}function sG(n){return new qa(n.readTime,n.key,-1)}var qa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(we.min(),ue.empty(),-1)}static max(){return new n(we.max(),ue.empty(),-1)}};function aG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}var cG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",m0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nh(n){return C(this,null,function*(){if(n.code!==$.FAILED_PRECONDITION||n.message!==cG)throw n;re("LocalStore","Unexpectedly lost primary lease")})}var W=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(p=>{s[u]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function lG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mh(n){return n.name==="IndexedDbTransactionError"}var FP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function xy(n){return n==null}function wh(n){return n===0&&1/n==-1/0}function uG(n){return typeof n=="number"&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var dG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lse=[...dG,"documentOverlays"],hG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fG=hG,pG=[...fG,"indexConfiguration","indexState","indexEntries"];var Fse=[...pG,"globals"];function sP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ou(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var yt=class n{constructor(e,t){this.comparator=e,this.root=t||yi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}},$l=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();let e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1;yi.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new yi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wn=class n{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ey(this.data.getIterator())}getIteratorFrom(e){return new ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ey=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mi=class n{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new n([])}unionWith(e){let t=new wn(ir.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ty=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var En=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ty("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};En.EMPTY_BYTE_STRING=new En("");var mG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(n){if(Ke(!!n),typeof n=="string"){let e=0,t=mG.exec(n);if(Ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gs(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}function FC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function VC(n){let e=n.mapValue.fields.__previous_value__;return FC(e)?VC(e):e}function Eh(n){let e=ao(n.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}var g0=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},ny=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Wg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FC(n)?4:jP(n)?9007199254740991:UP(n)?10:11:fe()}function wi(n,e){if(n===e)return!0;let t=Ga(n);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eh(n).isEqual(Eh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ao(i.timestampValue),a=ao(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return gs(i.bytesValue).isEqual(gs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=st(i.doubleValue),a=st(o.doubleValue);return s===a?wh(s)===wh(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Gl(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sP(s)!==sP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!wi(s[c],a[c])))return!1;return!0}(n,e);default:return fe()}}function bh(n,e){return(n.values||[]).find(t=>wi(t,e))!==void 0}function Wl(n,e){if(n===e)return 0;let t=Ga(n),r=Ga(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=st(o.integerValue||o.doubleValue),c=st(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return aP(n.timestampValue,e.timestampValue);case 4:return aP(Eh(n),Eh(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(o,s){let a=gs(o),c=gs(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let p=Be(a[u],c[u]);if(p!==0)return p}return Be(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Be(st(o.latitude),st(s.latitude));return a!==0?a:Be(st(o.longitude),st(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,p;let m=o.fields||{},_=s.fields||{},w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,R=(c=_.value)===null||c===void 0?void 0:c.arrayValue,M=Be(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((p=R?.values)===null||p===void 0?void 0:p.length)||0);return M!==0?M:cP(w,R)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wg.mapValue&&s===Wg.mapValue)return 0;if(o===Wg.mapValue)return 1;if(s===Wg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},p=Object.keys(u);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){let _=Be(c[m],p[m]);if(_!==0)return _;let w=Wl(a[c[m]],u[p[m]]);if(w!==0)return w}return Be(c.length,p.length)}(n.mapValue,e.mapValue);default:throw fe()}}function aP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);let t=ao(n),r=ao(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function cP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Wl(t[i],r[i]);if(o)return o}return Be(t.length,r.length)}function Kl(n){return y0(n)}function y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ao(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=y0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${y0(t.fields[s])}`;return i+"}"}(n.mapValue):fe()}function v0(n){return!!n&&"integerValue"in n}function UC(n){return!!n&&"arrayValue"in n}function lP(n){return!!n&&"nullValue"in n}function uP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qg(n){return!!n&&"mapValue"in n}function UP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ou(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ur=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(t)}setAll(e){let t=ir.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=gh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ou(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(gh(this.value))}};function BP(n){let e=[];return ou(n.fields,(t,r)=>{let i=new ir([t]);if(Qg(r)){let o=BP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new mi(e)}var jr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,we.min(),we.min(),we.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,we.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,we.min(),we.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,we.min(),we.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ql=class{constructor(e,t){this.position=e,this.inclusive=t}};function dP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),t.key):r=Wl(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}var Yl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ry=class{},Qt=class n extends ry{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w0(e,t,r):t==="array-contains"?new I0(e,r):t==="in"?new C0(e,r):t==="not-in"?new T0(e,r):t==="array-contains-any"?new D0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E0(e,r):new b0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wl(t,this.value)):t!==null&&Ga(this.value)===Ga(t)&&this.matchesComparison(Wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ei=class n extends ry{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return $P(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function $P(n){return n.op==="and"}function HP(n){return yG(n)&&$P(n)}function yG(n){for(let e of n.filters)if(e instanceof Ei)return!1;return!0}function _0(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(HP(n))return n.filters.map(e=>_0(e)).join(",");{let e=n.filters.map(t=>_0(t)).join(",");return`${n.op}(${e})`}}function zP(n,e){return n instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&wi(r.value,i.value)}(n,e):n instanceof Ei?function(r,i){return i instanceof Ei&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zP(s,i.filters[a]),!0):!1}(n,e):void fe()}function qP(n){return n instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`}(n):n instanceof Ei?function(t){return t.op.toString()+" {"+t.getFilters().map(qP).join(" ,")+"}"}(n):"Filter"}var w0=class extends Qt{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},E0=class extends Qt{constructor(e,t){super(e,"in",t),this.keys=GP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},b0=class extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=GP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function GP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var I0=class extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return UC(t)&&bh(t.arrayValue,this.value)}},C0=class extends Qt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}},T0=class extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!bh(this.value.arrayValue,t)}},D0=class extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!UC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}};var A0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function fP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new A0(n,e,t,r,i,o,s)}function jC(n){let e=ye(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kl(r)).join(",")),e.ue=t}return e.ue}function BC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hP(n.startAt,e.startAt)&&hP(n.endAt,e.endAt)}function S0(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zl=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function vG(n,e,t,r,i,o,s,a){return new Zl(n,e,t,r,i,o,s,a)}function Ny(n){return new Zl(n)}function pP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _G(n){return n.collectionGroup!==null}function yh(n){let e=ye(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wn(ir.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yl(o,r))}),t.has(ir.keyField().canonicalString())||e.ce.push(new Yl(ir.keyField(),r))}return e.ce}function vi(n){let e=ye(n);return e.le||(e.le=wG(e,yh(n))),e.le}function wG(n,e){if(n.limitType==="F")return fP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yl(i.field,o)});let t=n.endAt?new Ql(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ql(n.startAt.position,n.startAt.inclusive):null;return fP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function R0(n,e,t){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function My(n,e){return BC(vi(n),vi(e))&&n.limitType===e.limitType}function WP(n){return`${jC(vi(n))}|lt:${n.limitType}`}function Ul(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qP(i)).join(", ")}]`),xy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(vi(n))}; limitType=${n.limitType})`}function Py(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of yh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=dP(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,yh(r),i)||r.endAt&&!function(s,a,c){let u=dP(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,yh(r),i))}(n,e)}function EG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KP(n){return(e,t)=>{let r=!1;for(let i of yh(n)){let o=bG(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bG(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Wl(c,u):fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}var ys=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ou(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return VP(this.inner)}size(){return this.innerSize}};var IG=new yt(ue.comparator);function co(){return IG}var QP=new yt(ue.comparator);function mh(...n){let e=QP;for(let t of n)e=e.insert(t.key,t);return e}function YP(n){let e=QP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ba(){return vh()}function ZP(){return vh()}function vh(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}var CG=new yt(ue.comparator),TG=new wn(ue.comparator);function Pe(...n){let e=TG;for(let t of n)e=e.add(t);return e}var DG=new wn(Be);function AG(){return DG}function $C(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function JP(n){return{integerValue:""+n}}function SG(n,e){return uG(e)?JP(e):$C(n,e)}var Jl=class{constructor(){this._=void 0}};function RG(n,e,t){return n instanceof Xl?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&FC(o)&&(o=VC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Wa?eO(n,e):n instanceof Ka?tO(n,e):function(i,o){let s=XP(i,o),a=mP(s)+mP(i.Pe);return v0(s)&&v0(i.Pe)?JP(a):$C(i.serializer,a)}(n,e)}function xG(n,e,t){return n instanceof Wa?eO(n,e):n instanceof Ka?tO(n,e):t}function XP(n,e){return n instanceof eu?function(r){return v0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Xl=class extends Jl{},Wa=class extends Jl{constructor(e){super(),this.elements=e}};function eO(n,e){let t=nO(e);for(let r of n.elements)t.some(i=>wi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ka=class extends Jl{constructor(e){super(),this.elements=e}};function tO(n,e){let t=nO(e);for(let r of n.elements)t=t.filter(i=>!wi(i,r));return{arrayValue:{values:t}}}var eu=class extends Jl{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function mP(n){return st(n.integerValue||n.doubleValue)}function nO(n){return UC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NG(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wa&&i instanceof Wa||r instanceof Ka&&i instanceof Ka?Gl(r.elements,i.elements,wi):r instanceof eu&&i instanceof eu?wi(r.Pe,i.Pe):r instanceof Xl&&i instanceof Xl}(n.transform,e.transform)}var x0=class{constructor(e,t){this.version=e,this.transformResults=t}},ps=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var tu=class{};function rO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iy(n.key,ps.none()):new Qa(n.key,n.data,ps.none());{let t=n.data,r=Ur.empty(),i=new wn(ir.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new lo(n.key,r,new mi(i.toArray()),ps.none())}}function MG(n,e,t){n instanceof Qa?function(i,o,s){let a=i.value.clone(),c=yP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof lo?function(i,o,s){if(!Yg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=yP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(iO(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function _h(n,e,t,r){return n instanceof Qa?function(o,s,a,c){if(!Yg(o.precondition,s))return a;let u=o.value.clone(),p=vP(o.fieldTransforms,c,s);return u.setAll(p),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof lo?function(o,s,a,c){if(!Yg(o.precondition,s))return a;let u=vP(o.fieldTransforms,c,s),p=s.data;return p.setAll(iO(o)),p.setAll(u),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return Yg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function PG(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=XP(r.transform,i||null);o!=null&&(t===null&&(t=Ur.empty()),t.set(r.field,o))}return t||null}function gP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gl(r,i,(o,s)=>NG(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qa=class extends tu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lo=class extends tu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function iO(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function yP(n,e,t){let r=new Map;Ke(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xG(s,a,t[i]))}return r}function vP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,RG(o,s,e))}return r}var iy=class extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},N0=class extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var M0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&MG(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=_h(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=_h(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ZP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=rO(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(t,r)=>gP(t,r))&&Gl(this.baseMutations,e.baseMutations,(t,r)=>gP(t,r))}},P0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ke(e.mutations.length===r.length);let i=function(){return CG}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var O0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var k0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Mt,Fe;function OG(n){switch(n){default:return fe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function oO(n){if(n===void 0)return so("GRPC error has no .code"),$.UNKNOWN;switch(n){case Mt.OK:return $.OK;case Mt.CANCELLED:return $.CANCELLED;case Mt.UNKNOWN:return $.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return $.INTERNAL;case Mt.UNAVAILABLE:return $.UNAVAILABLE;case Mt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Mt.NOT_FOUND:return $.NOT_FOUND;case Mt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Mt.ABORTED:return $.ABORTED;case Mt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Mt.DATA_LOSS:return $.DATA_LOSS;default:return fe()}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var _P=null;function kG(){return new TextEncoder}var LG=new fs([4294967295,4294967295],0);function wP(n){let e=kG().encode(n),t=new ZI;return t.update(e),new Uint8Array(t.digest())}function EP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fs([t,r],0),new fs([i,o],0)]}var L0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=fs.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(fs.fromNumber(r)));return i.compare(LG)===1&&(i=new fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=wP(e),[r,i]=EP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=wP(e),[r,i]=EP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},$a=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var oy=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(we.min(),i,new yt(Be),co(),Pe())}},Ih=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Pe(),Pe(),Pe())}};var Hl=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},sy=class{constructor(e,t){this.targetId=e,this.me=t}},ay=class{constructor(e,t,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},cy=class{constructor(){this.fe=0,this.ge=IP(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Ih(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=IP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},F0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=co(),this.qe=bP(),this.Qe=new yt(Be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(S0(o))if(r===0){let s=new ue(o.path);this.Ue(t,s,jr.newNoDocument(s,we.min()))}else Ke(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}_P?.et(function(p,m,_,w,R){var M,x,V,G,B,H;let X={localCacheCount:p,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},K=m.unchangedNames;return K&&(X.bloomFilter={applied:R===0,hashCount:(M=K?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(V=(x=K?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(H=(B=K?.bits)===null||B===void 0?void 0:B.padding)!==null&&H!==void 0?H:0,mightContain:D=>{var b;return(b=w?.mightContain(D))!==null&&b!==void 0&&b}}),X}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=gs(r).toUint8Array()}catch(c){if(c instanceof ty)return ql("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new L0(s,i,o)}catch(c){return ql(c instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&S0(a.target)){let c=new ue(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,jr.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new oy(e,t,this.Qe,this.ke,r);return this.ke=co(),this.qe=bP(),this.Qe=new yt(Be),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new cy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new wn(Be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||re("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function bP(){return new yt(ue.comparator)}function IP(){return new yt(ue.comparator)}var FG={asc:"ASCENDING",desc:"DESCENDING"},VG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UG={and:"AND",or:"OR"},V0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function U0(n,e){return n.useProto3Json||xy(e)?e:{value:e}}function ly(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jG(n,e){return ly(n,e.toTimestamp())}function _i(n){return Ke(!!n),we.fromTimestamp(function(t){let r=ao(t);return new cn(r.seconds,r.nanos)}(n))}function HC(n,e){return j0(n,e).canonicalString()}function j0(n,e){let t=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aO(n){let e=gt.fromString(n);return Ke(hO(e)),e}function B0(n,e){return HC(n.databaseId,e.path)}function r0(n,e){let t=aO(e);if(t.get(1)!==n.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(lO(t))}function cO(n,e){return HC(n.databaseId,e)}function BG(n){let e=aO(n);return e.length===4?gt.emptyPath():lO(e)}function $0(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lO(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CP(n,e,t){return{name:B0(n,e),fields:t.value.mapValue.fields}}function $G(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,p){return u.useProto3Json?(Ke(p===void 0||typeof p=="string"),En.fromBase64String(p||"")):(Ke(p===void 0||p instanceof Buffer||p instanceof Uint8Array),En.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let p=u.code===void 0?$.UNKNOWN:oO(u.code);return new oe(p,u.message||"")}(s);t=new ay(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=r0(n,r.document.name),o=_i(r.document.updateTime),s=r.document.createTime?_i(r.document.createTime):we.min(),a=new Ur({mapValue:{fields:r.document.fields}}),c=jr.newFoundDocument(i,o,s,a),u=r.targetIds||[],p=r.removedTargetIds||[];t=new Hl(u,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=r0(n,r.document),o=r.readTime?_i(r.readTime):we.min(),s=jr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Hl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=r0(n,r.document),o=r.removedTargetIds||[];t=new Hl([],o,i,null)}else{if(!("filter"in e))return fe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new k0(i,o),a=r.targetId;t=new sy(a,s)}}return t}function HG(n,e){let t;if(e instanceof Qa)t={update:CP(n,e.key,e.value)};else if(e instanceof iy)t={delete:B0(n,e.key)};else if(e instanceof lo)t={update:CP(n,e.key,e.data),updateMask:JG(e.fieldMask)};else{if(!(e instanceof N0))return fe();t={verify:B0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Xl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ka)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(n,e.precondition)),t}function zG(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?_i(i.updateTime):_i(o);return s.isEqual(we.min())&&(s=_i(o)),new x0(s,i.transformResults||[])}(t,e))):[]}function qG(n,e){return{documents:[cO(n,e.path)]}}function GG(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cO(n,i);let o=function(u){if(u.length!==0)return dO(Ei.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(p=>function(_){return{field:jl(_.field),direction:QG(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=U0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function WG(n){let e=BG(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ke(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(m){let _=uO(m);return _ instanceof Ei&&HP(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(_=>function(R){return new Yl(Bl(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,xy(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(m){let _=!!m.before,w=m.values||[];return new Ql(w,_)}(t.startAt));let u=null;return t.endAt&&(u=function(m){let _=!m.before,w=m.values||[];return new Ql(w,_)}(t.endAt)),vG(e,i,s,o,a,"F",c,u)}function KG(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Bl(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bl(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bl(t.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bl(t.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):n.fieldFilter!==void 0?function(t){return Qt.create(Bl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ei.create(t.compositeFilter.filters.map(r=>uO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(t.compositeFilter.op))}(n):fe()}function QG(n){return FG[n]}function YG(n){return VG[n]}function ZG(n){return UG[n]}function jl(n){return{fieldPath:n.canonicalString()}}function Bl(n){return ir.fromServerFormat(n.fieldPath)}function dO(n){return n instanceof Qt?function(t){if(t.op==="=="){if(uP(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(lP(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uP(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(lP(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:YG(t.op),value:t.value}}}(n):n instanceof Ei?function(t){let r=t.getFilters().map(i=>dO(i));return r.length===1?r[0]:{compositeFilter:{op:ZG(t.op),filters:r}}}(n):fe()}function JG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ch=class n{constructor(e,t,r,i,o=we.min(),s=we.min(),a=En.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var H0=class{constructor(e){this.ct=e}};function XG(n){let e=WG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?R0(e,e.limit,"L"):e}var uy=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(st(e.integerValue));else if("doubleValue"in e){let r=st(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),wh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ao(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(gs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?jP(e)?this.dt(t,Number.MAX_SAFE_INTEGER):UP(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(st(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ue.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};uy.vt=new uy;var z0=class{constructor(){this.un=new q0}addToCollectionParentIndex(e,t){return this.un.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(qa.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}},q0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(gt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(gt.comparator)).toArray()}};var Use=new Uint8Array(0);var pi=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);var Th=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var G0=class{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var W0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var K0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&_h(r.mutation,i,mi.empty(),cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){let i=Ba();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=mh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ba();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=co(),s=vh(),a=function(){return vh()}();return t.forEach((c,u)=>{let p=r.get(u.key);i.has(u.key)&&(p===void 0||p.mutation instanceof lo)?o=o.insert(u.key,u):p!==void 0?(s.set(u.key,p.mutation.getFieldMask()),_h(p.mutation,u,p.mutation.getFieldMask(),cn.now())):s.set(u.key,mi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,p)=>s.set(u,p)),t.forEach((u,p)=>{var m;return a.set(u,new W0(p,(m=s.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=vh(),i=new yt((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let p=r.get(c)||mi.empty();p=a.applyToLocalView(u,p),r.set(c,p);let m=(i.get(a.batchId)||Pe()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,p=c.value,m=ZP();p.forEach(_=>{if(!o.has(_)){let w=rO(t.get(_),r.get(_));w!==null&&m.set(_,w),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_G(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):W.resolve(Ba()),a=-1,c=o;return s.next(u=>W.forEach(u,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?W.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Pe())).next(p=>({batchId:a,changes:YP(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=mh();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,c=>{let u=function(m,_){return new Zl(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(p=>{p.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let p=u.getKey();s.get(p)===null&&(s=s.insert(p,jr.newInvalidDocument(p)))});let a=mh();return s.forEach((c,u)=>{let p=o.get(c);p!==void 0&&_h(p.mutation,u,mi.empty(),cn.now()),Py(t,u)&&(a=a.insert(c,u))}),a})}};var Q0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return W.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:XG(i.bundledQuery),readTime:_i(i.readTime)}}(t)),W.resolve()}};var Y0=class{constructor(){this.overlays=new yt(ue.comparator),this.Ir=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ba();return W.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),W.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){let i=Ba(),o=t.length+1,s=new ue(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return W.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((u,p)=>u-p),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let p=o.get(u.largestBatchId);p===null&&(p=Ba(),o=o.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}let a=Ba(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,p)=>a.set(u,p)),!(a.size()>=i)););return W.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new O0(t,r));let o=this.Ir.get(t);o===void 0&&(o=Pe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Z0=class{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}};var Dh=class{constructor(){this.Tr=new wn(Pt.Er),this.dr=new wn(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Pt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ue(new gt([])),r=new Pt(t,e),i=new Pt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ue(new gt([])),r=new Pt(t,e),i=new Pt(t,e+1),o=Pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Pt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Pt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ue.comparator(e.key,t.key)||Be(e.wr,t.wr)}static Ar(e,t){return Be(e.wr,t.wr)||ue.comparator(e.key,t.key)}};var J0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new wn(Pt.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new M0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,t){return W.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Pt(t,0),i=new Pt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Be);return t.forEach(i=>{let o=new Pt(i,0),s=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new Pt(new ue(o),0),a=new wn(Be);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),W.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ke(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(t.mutations,i=>{let o=new Pt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Pt(t,0),i=this.br.firstAfterOrEqual(r);return W.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var X0=class{constructor(e){this.Mr=e,this.docs=function(){return new yt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let r=co();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jr.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=co(),s=t.path,a=new ue(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:p}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||aG(sG(p),r)<=0||(i.has(p.key)||Py(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,t,r,i){fe()}Or(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eC(this)}getSize(e){return W.resolve(this.size)}},eC=class extends G0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var tC=class{constructor(e){this.persistence=e,this.Nr=new ys(t=>jC(t),BC),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dh,this.targetCount=0,this.kr=Th.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),W.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Th(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Kn(t),W.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Br.containsKey(t))}};var nC=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new FP(0),this.Kr=!1,this.Kr=!0,this.$r=new Z0,this.referenceDelegate=e(this),this.Ur=new tC(this),this.indexManager=new z0,this.remoteDocumentCache=function(i){return new X0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new H0(t),this.Gr=new Q0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new J0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){re("MemoryPersistence","Starting transaction:",e);let i=new rC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},rC=class extends m0{constructor(e){super(),this.currentSequenceNumber=e}},iC=class n{constructor(e){this.persistence=e,this.Jr=new Dh,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{let i=ue.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return W.or([()=>W.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var oC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Pe(),i=Pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var sC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aC=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jN()?8:lG(en())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sC;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ph()<=Me.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ul(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(ph()<=Me.DEBUG&&re("QueryEngine","Query:",Ul(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ph()<=Me.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ul(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):W.resolve())}Yi(e,t){if(pP(t))return W.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=R0(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,R0(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return pP(t)||i.isEqual(we.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?W.resolve(null):(ph()<=Me.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ul(t)),this.rs(e,s,t,oG(i,-1)).next(a=>a))})}ts(e,t){let r=new wn(KP(e));return t.forEach((i,o)=>{Py(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return ph()<=Me.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ul(t)),this.Ji.getDocumentsMatchingQuery(e,t,qa.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var cC=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new yt(Be),this._s=new ys(o=>jC(o),BC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function eW(n,e,t,r){return new cC(n,e,t,r)}function fO(n,e){return C(this,null,function*(){let t=ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Pe();for(let u of i){s.push(u.batchId);for(let p of u.mutations)c=c.add(p.key)}for(let u of o){a.push(u.batchId);for(let p of u.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function tW(n,e){let t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,p){let m=u.batch,_=m.keys(),w=W.resolve();return _.forEach(R=>{w=w.next(()=>p.getEntry(c,R)).next(M=>{let x=u.docVersions.get(R);Ke(x!==null),M.version.compareTo(x)<0&&(m.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),p.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pO(n){let e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function nW(n,e){let t=ye(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let _=i.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,m)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(En.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(m,w),function(M,x,V){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,w,p)&&a.push(t.Ur.updateTargetData(o,w))});let c=co(),u=Pe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(rW(o,s,e.documentUpdates).next(p=>{c=p.Ps,u=p.Is})),!r.isEqual(we.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function rW(n,e,t){let r=Pe(),i=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=co();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function iW(n,e){let t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oW(n,e){let t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ch(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function lC(n,e,t){return C(this,null,function*(){let r=ye(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Mh(s))throw s;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function TP(n,e,t){let r=ye(n),i=we.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,p){let m=ye(c),_=m._s.get(p);return _!==void 0?W.resolve(m.os.get(_)):m.Ur.getTargetData(u,p)}(r,s,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:we.min(),t?o:Pe())).next(a=>(sW(r,EG(e),a),{documents:a,Ts:o})))}function sW(n,e,t){let r=n.us.get(e)||we.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var dy=class{constructor(){this.activeTargetIds=AG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uC=class{constructor(){this.so=new dy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dC=class{_o(e){}shutdown(){}};var hy=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kg=null;function i0(){return Kg===null?Kg=function(){return 268435456+Math.round(2147483648*Math.random())}():Kg++,"0x"+Kg.toString(16)}var aW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hC=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var _n="WebChannelConnection",fC=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=i0(),c=this.xo(t,r.toUriEncodedString());re("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(p=>(re("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw ql("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=aW[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=i0();return new Promise((s,a)=>{let c=new JI;c.setWithCredentials(!0),c.listenOnce(XI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fh.NO_ERROR:let p=c.getResponseJson();re(_n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case fh.TIMEOUT:re(_n,`RPC '${e}' ${o} timed out`),a(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:let m=c.getStatus();if(re(_n,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let R=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(V)>=0?V:$.UNKNOWN}(w.status);a(new oe(R,w.message))}else a(new oe($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new oe($.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(_n,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);re(_n,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=i0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=n0(),a=t0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let p=o.join("");re(_n,`Creating RPC '${e}' stream ${i}: ${p}`,c);let m=s.createWebChannel(p,c),_=!1,w=!1,R=new hC({Io:x=>{w?re(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(re(_n,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),re(_n,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},To:()=>m.close()}),M=(x,V,G)=>{x.listen(V,B=>{try{G(B)}catch(H){setTimeout(()=>{throw H},0)}})};return M(m,Vl.EventType.OPEN,()=>{w||(re(_n,`RPC '${e}' stream ${i} transport opened.`),R.yo())}),M(m,Vl.EventType.CLOSE,()=>{w||(w=!0,re(_n,`RPC '${e}' stream ${i} transport closed`),R.So())}),M(m,Vl.EventType.ERROR,x=>{w||(w=!0,ql(_n,`RPC '${e}' stream ${i} transport errored:`,x),R.So(new oe($.UNAVAILABLE,"The operation could not be completed")))}),M(m,Vl.EventType.MESSAGE,x=>{var V;if(!w){let G=x.data[0];Ke(!!G);let B=G,H=B.error||((V=B[0])===null||V===void 0?void 0:V.error);if(H){re(_n,`RPC '${e}' stream ${i} received error:`,H);let X=H.status,K=function(I){let A=Mt[I];if(A!==void 0)return oO(A)}(X),D=H.message;K===void 0&&(K=$.INTERNAL,D="Unknown error status: "+X+" with message "+H.message),w=!0,R.So(new oe(K,D)),m.close()}else re(_n,`RPC '${e}' stream ${i} received:`,G),R.bo(G)}}),M(a,e0.STAT_EVENT,x=>{x.stat===Gg.PROXY?re(_n,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Gg.NOPROXY&&re(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}};function o0(){return typeof document<"u"?document:null}function Oy(n){return new V0(n,!0)}var fy=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var py=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fy(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pC=class extends py{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=$G(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?_i(s.readTime):we.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=$0(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=S0(c)?{documents:qG(o,c)}:{query:GG(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sO(o,s.resumeToken);let u=U0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=ly(o,s.snapshotVersion.toTimestamp());let u=U0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=KG(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=$0(this.serializer),t.removeTarget=e,this.a_(t)}},mC=class extends py{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=zG(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=$0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>HG(this.serializer,r))};this.a_(t)}};var gC=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,j0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe($.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,j0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe($.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},yC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(so(t),this.D_=!1):re("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var vC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Ya(this)&&(re("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=ye(c);u.L_.add(4),yield Ph(u),u.q_.set("Unknown"),u.L_.delete(4),yield ky(u)})}(this))}))}),this.q_=new yC(r,i)}};function ky(n){return C(this,null,function*(){if(Ya(n))for(let e of n.B_)yield e(!0)})}function Ph(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function mO(n,e){let t=ye(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),WC(t)?GC(t):su(t).r_()&&qC(t,e))}function zC(n,e){let t=ye(n),r=su(t);t.N_.delete(e),r.r_()&&gO(t,e),t.N_.size===0&&(r.r_()?r.o_():Ya(t)&&t.q_.set("Unknown"))}function qC(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}su(n).A_(e)}function gO(n,e){n.Q_.xe(e),su(n).R_(e)}function GC(n){n.Q_=new F0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),su(n).start(),n.q_.v_()}function WC(n){return Ya(n)&&!su(n).n_()&&n.N_.size>0}function Ya(n){return ye(n).L_.size===0}function yO(n){n.Q_=void 0}function cW(n){return C(this,null,function*(){n.q_.set("Online")})}function lW(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{qC(n,e)})})}function uW(n,e){return C(this,null,function*(){yO(n),WC(n)?(n.q_.M_(e),GC(n)):n.q_.set("Unknown")})}function dW(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof ay&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield my(n,r)}else if(e instanceof Hl?n.Q_.Ke(e):e instanceof sy?n.Q_.He(e):n.Q_.We(e),!t.isEqual(we.min()))try{let r=yield pO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let p=o.N_.get(u);p&&o.N_.set(u,p.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let p=o.N_.get(c);if(!p)return;o.N_.set(c,p.withResumeToken(En.EMPTY_BYTE_STRING,p.snapshotVersion)),gO(o,c);let m=new Ch(p.target,c,u,p.sequenceNumber);qC(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){re("RemoteStore","Failed to raise snapshot:",r),yield my(n,r)}})}function my(n,e,t){return C(this,null,function*(){if(!Mh(e))throw e;n.L_.add(1),yield Ph(n),n.q_.set("Offline"),t||(t=()=>pO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield ky(n)}))})}function vO(n,e){return e().catch(t=>my(n,t,e))}function Ly(n){return C(this,null,function*(){let e=ye(n),t=vs(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hW(e);)try{let i=yield iW(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,fW(e,i)}catch(i){yield my(e,i)}_O(e)&&wO(e)})}function hW(n){return Ya(n)&&n.O_.length<10}function fW(n,e){n.O_.push(e);let t=vs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function _O(n){return Ya(n)&&!vs(n).n_()&&n.O_.length>0}function wO(n){vs(n).start()}function pW(n){return C(this,null,function*(){vs(n).p_()})}function mW(n){return C(this,null,function*(){let e=vs(n);for(let t of n.O_)e.m_(t.mutations)})}function gW(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=P0.from(r,e,t);yield vO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ly(n)})}function yW(n,e){return C(this,null,function*(){e&&vs(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return OG(s)&&s!==$.ABORTED}(i.code)){let o=r.O_.shift();vs(r).s_(),yield vO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ly(r)}})}(n,e)),_O(n)&&wO(n)})}function DP(n,e){return C(this,null,function*(){let t=ye(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");let r=Ya(t);t.L_.add(3),yield Ph(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield ky(t)})}function vW(n,e){return C(this,null,function*(){let t=ye(n);e?(t.L_.delete(2),yield ky(t)):e||(t.L_.add(2),yield Ph(t),t.q_.set("Unknown"))})}function su(n){return n.K_||(n.K_=function(t,r,i){let o=ye(t);return o.w_(),new pC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:cW.bind(null,n),Ro:lW.bind(null,n),mo:uW.bind(null,n),d_:dW.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),WC(n)?GC(n):n.q_.set("Unknown")):(yield n.K_.stop(),yO(n))}))),n.K_}function vs(n){return n.U_||(n.U_=function(t,r,i){let o=ye(t);return o.w_(),new mC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pW.bind(null,n),mo:yW.bind(null,n),f_:mW.bind(null,n),g_:gW.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield Ly(n)):(yield n.U_.stop(),n.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var _C=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function KC(n,e){if(so("AsyncQueue",`${e}: ${n}`),Mh(n))return new oe($.UNAVAILABLE,`${e}: ${n}`);throw n}var gy=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=mh(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var yy=class{constructor(){this.W_=new yt(ue.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},nu=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,gy.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&My(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var wC=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},EC=class{constructor(){this.queries=AP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ye(t),o=i.queries;i.queries=AP(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new oe($.ABORTED,"Firestore shutting down"))}};function AP(){return new ys(n=>WP(n),My)}function EO(n,e){return C(this,null,function*(){let t=ye(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new wC,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=KC(s,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&QC(t)})}function bO(n,e){return C(this,null,function*(){let t=ye(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function _W(n,e){let t=ye(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&QC(t)}function wW(n,e,t){let r=ye(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function QC(n){n.Y_.forEach(e=>{e.next()})}var bC,SP;(SP=bC||(bC={})).ea="default",SP.Cache="cache";var vy=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bC.Cache}};var _y=class{constructor(e){this.key=e}},wy=class{constructor(e){this.key=e}},IC=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=KP(e),this.Ra=new gy(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new yy,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let _=i.get(p),w=Py(this.query,m)?m:null,R=!!_&&this.mutatedKeys.has(_.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),x=!1;_&&w?_.data.isEqual(w.data)?R!==M&&(r.track({type:3,doc:w}),x=!0):this.ga(_,w)||(r.track({type:2,doc:w}),x=!0,(c&&this.Aa(w,c)>0||u&&this.Aa(w,u)<0)&&(a=!0)):!_&&w?(r.track({type:0,doc:w}),x=!0):_&&!w&&(r.track({type:1,doc:_}),x=!0,(c||u)&&(a=!0)),x&&(w?(s=s.add(w),o=M?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(w,R){let M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return M(w)-M(R)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new nu(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new wy(r))}),this.da.forEach(r=>{e.has(r)||t.push(new _y(r))}),t}ba(e){this.Ta=e.Ts,this.da=Pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return nu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},CC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},TC=class{constructor(e){this.key=e,this.va=!1}},DC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ys(a=>WP(a),My),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(ue.comparator),this.Na=new Map,this.La=new Dh,this.Ba={},this.ka=new Map,this.qa=Th.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function EW(n,e,t=!0){return C(this,null,function*(){let r=SO(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield IO(r,e,t,!0),i})}function bW(n,e){return C(this,null,function*(){let t=SO(n);yield IO(t,e,!0,!1)})}function IO(n,e,t,r){return C(this,null,function*(){let i=yield oW(n.localStore,vi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield IW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&mO(n.remoteStore,i),a})}function IW(n,e,t,r,i){return C(this,null,function*(){n.Ka=(m,_,w)=>function(M,x,V,G){return C(this,null,function*(){let B=x.view.ma(V);B.ns&&(B=yield TP(M.localStore,x.query,!1).then(({documents:D})=>x.view.ma(D,B)));let H=G&&G.targetChanges.get(x.targetId),X=G&&G.targetMismatches.get(x.targetId)!=null,K=x.view.applyChanges(B,M.isPrimaryClient,H,X);return xP(M,x.targetId,K.wa),K.snapshot})}(n,m,_,w);let o=yield TP(n.localStore,e,!0),s=new IC(e,o.Ts),a=s.ma(o.documents),c=Ih.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);xP(n,t,u.wa);let p=new CC(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function CW(n,e,t){return C(this,null,function*(){let r=ye(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!My(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zC(r.remoteStore,i.targetId),AC(r,i.targetId)}).catch(Nh))):(AC(r,i.targetId),yield lC(r.localStore,i.targetId,!0))})}function TW(n,e){return C(this,null,function*(){let t=ye(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zC(t.remoteStore,r.targetId))})}function DW(n,e,t){return C(this,null,function*(){let r=PW(n);try{let i=yield function(s,a){let c=ye(s),u=cn.now(),p=a.reduce((w,R)=>w.add(R.key),Pe()),m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=co(),M=Pe();return c.cs.getEntries(w,p).next(x=>{R=x,R.forEach((V,G)=>{G.isValidDocument()||(M=M.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,R)).next(x=>{m=x;let V=[];for(let G of a){let B=PG(G,m.get(G.key).overlayedDocument);B!=null&&V.push(new lo(G.key,B,BP(B.value.mapValue),ps.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,V,a)}).next(x=>{_=x;let V=x.applyToLocalDocumentSet(m,M);return c.documentOverlayCache.saveOverlays(w,x.batchId,V)})}).then(()=>({batchId:_.batchId,changes:YP(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new yt(Be)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Oh(r,i.changes),yield Ly(r.remoteStore)}catch(i){let o=KC(i,"Failed to persist write");t.reject(o)}})}function CO(n,e){return C(this,null,function*(){let t=ye(n);try{let r=yield nW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ke(s.va):i.removedDocuments.size>0&&(Ke(s.va),s.va=!1))}),yield Oh(t,r,e)}catch(r){yield Nh(r)}})}function RP(n,e,t){let r=ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ye(s);c.onlineState=a;let u=!1;c.queries.forEach((p,m)=>{for(let _ of m.j_)_.Z_(a)&&(u=!0)}),u&&QC(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AW(n,e,t){return C(this,null,function*(){let r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new yt(ue.comparator);s=s.insert(o,jr.newNoDocument(o,we.min()));let a=Pe().add(o),c=new oy(we.min(),new Map,new yt(Be),s,a);yield CO(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),YC(r)}else yield lC(r.localStore,e,!1).then(()=>AC(r,e,t)).catch(Nh)})}function SW(n,e){return C(this,null,function*(){let t=ye(n),r=e.batch.batchId;try{let i=yield tW(t.localStore,e);DO(t,r,null),TO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oh(t,i)}catch(i){yield Nh(i)}})}function RW(n,e,t){return C(this,null,function*(){let r=ye(n);try{let i=yield function(s,a){let c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let p;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(Ke(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p)).next(()=>c.localDocuments.getDocuments(u,p))})}(r.localStore,e);DO(r,e,t),TO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oh(r,i)}catch(i){yield Nh(i)}})}function TO(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function DO(n,e,t){let r=ye(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function AC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||AO(n,r)})}function AO(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(zC(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),YC(n))}function xP(n,e,t){for(let r of t)r instanceof _y?(n.La.addReference(r.key,e),xW(n,r)):r instanceof wy?(re("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||AO(n,r.key)):fe()}function xW(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(re("SyncEngine","New document in limbo: "+t),n.xa.add(r),YC(n))}function YC(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ue(gt.fromString(e)),r=n.qa.next();n.Na.set(r,new TC(t)),n.Oa=n.Oa.insert(t,r),mO(n.remoteStore,new Ch(vi(Ny(t.path)),r,"TargetPurposeLimboResolution",FP.oe))}}function Oh(n,e,t){return C(this,null,function*(){let r=ye(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var p;if((u||t)&&r.isPrimaryClient){let m=u?!u.fromCache:(p=t?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);let m=oC.Wi(c.targetId,u);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return C(this,null,function*(){let p=ye(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>W.forEach(u,_=>W.forEach(_.$i,w=>p.persistence.referenceDelegate.addReference(m,_.targetId,w)).next(()=>W.forEach(_.Ui,w=>p.persistence.referenceDelegate.removeReference(m,_.targetId,w)))))}catch(m){if(!Mh(m))throw m;re("LocalStore","Failed to update sequence numbers: "+m)}for(let m of u){let _=m.targetId;if(!m.fromCache){let w=p.os.get(_),R=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(R);p.os=p.os.insert(_,M)}}})}(r.localStore,o))})}function NW(n,e){return C(this,null,function*(){let t=ye(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());let r=yield fO(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new oe($.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oh(t,r.hs)}})}function MW(n,e){let t=ye(n),r=t.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function SO(n){let e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AW.bind(null,e),e.Ca.d_=_W.bind(null,e.eventManager),e.Ca.$a=wW.bind(null,e.eventManager),e}function PW(n){let e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RW.bind(null,e),e}var NP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Oy(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return eW(this.persistence,new aC,t.initialUser,this.serializer)}Ga(t){return new nC(iC.Zr,this.serializer)}Wa(t){return new uC}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var OW=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NW.bind(null,this.syncEngine),yield vW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new EC}()}createDatastore(t){let r=Oy(t.databaseInfo.databaseId),i=function(s){return new fC(s)}(t.databaseInfo);return function(s,a,c,u){return new gC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new vC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>RP(this.syncEngine,r,0),function(){return hy.D()?new hy:new dC}())}createSyncEngine(t,r){return function(o,s,a,c,u,p,m){let _=new DC(o,s,a,c,u,p);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ye(o);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ph(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ey=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var SC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){re("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=KC(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function s0(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield fO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function MP(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield kW(n);re("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>DP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>DP(e.remoteStore,i)),n._onlineComponents=e})}function kW(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield s0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ql("Error using user provided cache. Falling back to memory cache: "+t),yield s0(n,new NP)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield s0(n,new NP);return n._offlineComponents})}function RO(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield MP(n,n._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield MP(n,new OW))),n._onlineComponents})}function LW(n){return RO(n).then(e=>e.syncEngine)}function RC(n){return C(this,null,function*(){let e=yield RO(n),t=e.eventManager;return t.onListen=EW.bind(null,e.syncEngine),t.onUnlisten=CW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TW.bind(null,e.syncEngine),t})}function FW(n,e,t={}){let r=new gi;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,c,u){let p=new Ey({next:_=>{p.Za(),s.enqueueAndForget(()=>bO(o,m));let w=_.docs.has(a);!w&&_.fromCache?u.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?u.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),m=new vy(Ny(a.path),p,{includeMetadataChanges:!0,_a:!0});return EO(o,m)}(yield RC(n),n.asyncQueue,e,t,r)})),r.promise}function xO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var PP=new Map;function NO(n,e,t){if(!t)throw new oe($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VW(n,e,t,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OP(n){if(!ue.isDocumentKey(n))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kP(n){if(ue.isDocumentKey(n))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZC(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fe()}function oo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ZC(n);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var by=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ru=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new by({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new by(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a0;switch(r.type){case"firstParty":return new d0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=PP.get(t);r&&(re("ComponentProvider","Removing Datastore"),PP.delete(t),r.terminate())}(this),Promise.resolve()}};function MO(n,e,t,r={}){var i;let o=(n=oo(n,ru))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=nn.MOCK_USER;else{a=_g(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new nn(u)}n._authCredentials=new c0(new Zg(a,c))}}var Iy=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Gn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ms=class n extends Iy{constructor(e,t,r){super(e,t,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function PO(n,e,...t){if(n=Wt(n),NO("collection","path",e),n instanceof ru){let r=gt.fromString(e,...t);return kP(r),new ms(n,null,r)}{if(!(n instanceof Gn||n instanceof ms))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(gt.fromString(e,...t));return kP(r),new ms(n.firestore,null,r)}}function JC(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=Jg.newId()),NO("doc","path",e),n instanceof ru){let r=gt.fromString(e,...t);return OP(r),new Gn(n,null,new ue(r))}{if(!(n instanceof Gn||n instanceof ms))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(gt.fromString(e,...t));return OP(r),new Gn(n.firestore,n instanceof ms?n.converter:null,new ue(r))}}var Cy=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fy(this,"async_queue_retry"),this.Vu=()=>{let r=o0();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=o0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=o0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new gi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mh(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw so("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=_C.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function LP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var _s=class extends ru{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cy(e),this._firestoreClient=void 0,yield e}})}};function OO(n,e){let t=typeof n=="object"?n:cs(),r=typeof n=="string"?n:e||"(default)",i=Ma(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=vg("firestore");o&&MO(i,...o)}return i}function XC(n){if(n._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UW(n),n._firestoreClient}function UW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,p){return new g0(a,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,xO(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new SC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Ah=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(En.fromBase64String(e))}catch(t){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ty=class{constructor(e){this._methodName=e}};var Rh=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}};var xh=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var jW=/^__.*__$/,xC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qa(e,this.data,t,this.fieldTransforms)}};function kO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var NC=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kO(this.Cu)&&jW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},MC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oy(e)}Qu(e,t,r,i=!1){return new NC({Cu:e,methodName:t,qu:r,path:ir.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function LO(n){let e=n._freezeSettings(),t=Oy(n._databaseId);return new MC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FO(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);BO("Data must be an object, but it was:",s,r);let a=UO(r,s),c,u;if(o.merge)c=new mi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let _=BW(e,m,t);if(!s.contains(_))throw new oe($.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);HW(p,_)||p.push(_)}c=new mi(p),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new xC(new Ur(a),c,u)}function VO(n,e){if(jO(n=Wt(n)))return BO("Unsupported field value:",e,n),UO(n,e);if(n instanceof Ty)return function(r,i){if(!kO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=VO(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=cn.fromDate(r);return{timestampValue:ly(i.serializer,o)}}if(r instanceof cn){let o=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ly(i.serializer,o)}}if(r instanceof Rh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ah)return{bytesValue:sO(i.serializer,r._byteString)};if(r instanceof Gn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xh)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return $C(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ZC(r)}`)}(n,e)}function UO(n,e){let t={};return VP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(n,(r,i)=>{let o=VO(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function jO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cn||n instanceof Rh||n instanceof Ah||n instanceof Gn||n instanceof Ty||n instanceof xh)}function BO(n,e,t){if(!jO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ZC(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function BW(n,e,t){if((e=Wt(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return $O(n,e);throw Dy("Field path arguments must be of type string or ",n,!1,void 0,t)}var $W=new RegExp("[~\\*/\\[\\]]");function $O(n,e,t){if(e.search($W)>=0)throw Dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sh(...e.split("."))._internalPath}catch{throw Dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dy(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new oe($.INVALID_ARGUMENT,a+n+c)}function HW(n,e){return n.some(t=>t.isEqual(e))}var Ay=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new PC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(HO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},PC=class extends Ay{data(){return super.data()}};function HO(n,e){return typeof e=="string"?$O(n,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}function zW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OC=class{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ou(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>st(s.doubleValue));return new xh(o)}convertGeoPoint(e){return new Rh(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=VC(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){let t=ao(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=gt.fromString(e);Ke(hO(r));let i=new ny(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(t)||so(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function zO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ha=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Sy=class extends Ay{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(HO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zl=class extends Sy{data(e={}){return super.data(e)}},kC=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zl(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,p=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:qW(a.type),doc:c,oldIndex:u,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function qW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function qO(n){n=oo(n,Gn);let e=oo(n.firestore,_s);return FW(XC(e),n._key).then(t=>YO(e,n,t))}var Ry=class extends OC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ah(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}};function GO(n,e,t){n=oo(n,Gn);let r=oo(n.firestore,_s),i=zO(n.converter,e,t);return QO(r,[FO(LO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ps.none())])}function WO(n,e){let t=oo(n.firestore,_s),r=JC(n),i=zO(n.converter,e);return QO(t,[FO(LO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then(()=>r)}function KO(n,...e){var t,r,i;n=Wt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||LP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(LP(e[s])){let m=e[s];e[s]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,p;if(n instanceof Gn)u=oo(n.firestore,_s),p=Ny(n._key.path),c={next:m=>{e[s]&&e[s](YO(u,n,m))},error:e[s+1],complete:e[s+2]};else{let m=oo(n,Iy);u=oo(m.firestore,_s),p=m._query;let _=new Ry(u);c={next:w=>{e[s]&&e[s](new kC(u,_,m,w))},error:e[s+1],complete:e[s+2]},zW(n._query)}return function(_,w,R,M){let x=new Ey(M),V=new vy(w,x,R);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return EO(yield RC(_),V)})),()=>{x.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return bO(yield RC(_),V)}))}}(XC(u),p,a,c)}function QO(n,e){return function(r,i){let o=new gi;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return DW(yield LW(r),i,o)})),o.promise}(XC(n),e)}function YO(n,e,t){let r=t.docs.get(e._key),i=new Ry(n);return new Sy(n,i,e._key,r,new Ha(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){iu=i})(di),ui(new qn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new _s(new l0(r.getProvider("auth-internal")),new f0(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ny(u.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ot(oP,"4.7.3",e),ot(oP,"4.7.3","esm2017")})();var or=class{constructor(e){return e}},ZO="firestore",eT=class{constructor(){return Oa(ZO)}};var tT=new Z("angularfire2.firestore-instances");function GW(n,e){let t=Ol(ZO,n,e);return t&&new or(t)}function WW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new or(r)}}var KW={provide:eT,deps:[[new bt,tT]]},QW={provide:or,useFactory:GW,deps:[[new bt,tT],Fr]};function JO(n,...e){return ot("angularfire",Zi.full,"fst"),$n([QW,KW,{provide:tT,useFactory:WW(n),multi:!0,deps:[xe,zt,us,Ji,[new bt,Ua],[new bt,ls],...e]}])}var XO=tn(WO,!0);var au=tn(PO,!0);var ws=tn(JC,!0);var Fy=tn(qO,!0);var ek=tn(OO,!0);var Vy=tn(KO,!0);var Uy=tn(GO,!0);var ck=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ee(ba),ee(er))}}static{this.\u0275dir=xt({type:n})}}return n})(),lk=(()=>{class n extends ck{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dl(n)))(i||n)}})()}static{this.\u0275dir=xt({type:n,features:[Or]})}}return n})(),uu=new Z("");var YW={provide:uu,useExisting:Mr(()=>Ii),multi:!0};function ZW(){let n=zi()?zi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var JW=new Z(""),Ii=(()=>{class n extends ck{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ZW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(ba),ee(er),ee(JW,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$i([YW]),Or]})}}return n})();function Es(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function uk(n){return n!=null&&typeof n.length=="number"}var Yy=new Z(""),Zy=new Z(""),XW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,se=class{static min(e){return e6(e)}static max(e){return t6(e)}static required(e){return n6(e)}static requiredTrue(e){return r6(e)}static email(e){return i6(e)}static minLength(e){return o6(e)}static maxLength(e){return s6(e)}static pattern(e){return a6(e)}static nullValidator(e){return dk(e)}static compose(e){return yk(e)}static composeAsync(e){return vk(e)}};function e6(n){return e=>{if(Es(e.value)||Es(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function t6(n){return e=>{if(Es(e.value)||Es(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function n6(n){return Es(n.value)?{required:!0}:null}function r6(n){return n.value===!0?null:{required:!0}}function i6(n){return Es(n.value)||XW.test(n.value)?null:{email:!0}}function o6(n){return e=>Es(e.value)||!uk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function s6(n){return e=>uk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function a6(n){if(!n)return dk;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Es(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function dk(n){return null}function hk(n){return n!=null}function fk(n){return Ca(n)?nt(n):n}function pk(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function mk(n,e){return e.map(t=>t(n))}function c6(n){return!n.validate}function gk(n){return n.map(e=>c6(e)?e:t=>e.validate(t))}function yk(n){if(!n)return null;let e=n.filter(hk);return e.length==0?null:function(t){return pk(mk(t,e))}}function oT(n){return n!=null?yk(gk(n)):null}function vk(n){if(!n)return null;let e=n.filter(hk);return e.length==0?null:function(t){let r=mk(t,e).map(fk);return I_(r).pipe(_e(pk))}}function sT(n){return n!=null?vk(gk(n)):null}function tk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _k(n){return n._rawValidators}function wk(n){return n._rawAsyncValidators}function nT(n){return n?Array.isArray(n)?n:[n]:[]}function $y(n,e){return Array.isArray(n)?n.includes(e):n===e}function nk(n,e){let t=nT(e);return nT(n).forEach(i=>{$y(t,i)||t.push(i)}),t}function rk(n,e){return nT(e).filter(t=>!$y(n,t))}var Hy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},uo=class extends Hy{get formDirective(){return null}get path(){return null}},Za=class extends Hy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zy=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},l6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ece=Ce(z({},l6),{"[class.ng-submitted]":"isSubmitted"}),Is=(()=>{class n extends zy{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(Za,2))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Or]})}}return n})(),Cs=(()=>{class n extends zy{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(uo,10))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Or]})}}return n})();var kh="VALID",By="INVALID",cu="PENDING",Lh="DISABLED",bs=class{},qy=class extends bs{constructor(e,t){super(),this.value=e,this.source=t}},Vh=class extends bs{constructor(e,t){super(),this.pristine=e,this.source=t}},Uh=class extends bs{constructor(e,t){super(),this.touched=e,this.source=t}},lu=class extends bs{constructor(e,t){super(),this.status=e,this.source=t}},rT=class extends bs{constructor(e){super(),this.source=e}},iT=class extends bs{constructor(e){super(),this.source=e}};function Ek(n){return(Jy(n)?n.validators:n)||null}function u6(n){return Array.isArray(n)?oT(n):n||null}function bk(n,e){return(Jy(e)?e.asyncValidators:n)||null}function d6(n){return Array.isArray(n)?sT(n):n||null}function Jy(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function h6(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[t])throw new ie(1001,"")}function f6(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ie(1002,"")})}var Gy=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ml(()=>this.statusReactive()),this.statusReactive=fl(void 0),this._pristine=ml(()=>this.pristineReactive()),this.pristineReactive=fl(!0),this._touched=ml(()=>this.touchedReactive()),this.touchedReactive=fl(!1),this._events=new mt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return oi(this.statusReactive)}set status(e){oi(()=>this.statusReactive.set(e))}get valid(){return this.status===kh}get invalid(){return this.status===By}get pending(){return this.status==cu}get disabled(){return this.status===Lh}get enabled(){return this.status!==Lh}get pristine(){return oi(this.pristineReactive)}set pristine(e){oi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return oi(this.touchedReactive)}set touched(e){oi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rk(e,this._rawAsyncValidators))}hasValidator(e){return $y(this._rawValidators,e)}hasAsyncValidator(e){return $y(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ce(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ce(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vh(!0,r))}markAsPending(e={}){this.status=cu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ce(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Lh,this.errors=null,this._forEachChild(i=>{i.disable(Ce(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qy(this.value,r)),this._events.next(new lu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this._forEachChild(r=>{r.enable(Ce(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===cu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qy(this.value,t)),this._events.next(new lu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ce(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lh:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=fk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new lu(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Lh:this.errors?By:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(By)?By:kh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Vh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Uh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=d6(this._rawAsyncValidators)}},bi=class extends Gy{constructor(e,t,r){super(Ek(t),bk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){f6(this,!0,e),Object.keys(e).forEach(r=>{h6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jh=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>Xy}),Xy="always";function Ik(n,e){return[...e.path,n]}function Wy(n,e,t=Xy){aT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),m6(n,e),y6(n,e),g6(n,e),p6(n,e)}function ik(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ky(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function p6(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function aT(n,e){let t=_k(n);e.validator!==null?n.setValidators(tk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wk(n);e.asyncValidator!==null?n.setAsyncValidators(tk(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ky(e._rawValidators,i),Ky(e._rawAsyncValidators,i)}function Qy(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=_k(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=wk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ky(e._rawValidators,r),Ky(e._rawAsyncValidators,r),t}function m6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ck(n,e)})}function g6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ck(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ck(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function y6(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Tk(n,e){n==null,aT(n,e)}function v6(n,e){return Qy(n,e)}function Dk(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function _6(n){return Object.getPrototypeOf(n.constructor)===lk}function Ak(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Sk(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ii?t=o:_6(o)?r=o:i=o}),i||r||t||null}function w6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var E6={provide:uo,useExisting:Mr(()=>cT)},Fh=Promise.resolve(),cT=(()=>{class n extends uo{get submitted(){return oi(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ml(()=>this.submittedReactive()),this.submittedReactive=fl(!1),this._directives=new Set,this.ngSubmit=new Ye,this.form=new bi({},oT(t),sT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Wy(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fh.then(()=>{let r=this._findContainer(t.path),i=new bi({});Tk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Ak(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(ee(Yy,10),ee(Zy,10),ee(jh,8))}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$i([E6]),Or]})}}return n})();function ok(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var $e=class extends Gy{constructor(e=null,t,r){super(Ek(t),bk(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ok(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ok(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var b6=n=>n instanceof $e;var I6={provide:Za,useExisting:Mr(()=>lT)},ak=Promise.resolve(),lT=(()=>{class n extends Za{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $e,this._registered=!1,this.name="",this.update=new Ye,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Dk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Wy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ak.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Da(r);ak.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ik(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ee(uo,9),ee(Yy,10),ee(Zy,10),ee(uu,10),ee(Ta,8),ee(jh,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$i([I6]),Or,Ui]})}}return n})(),Ts=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),C6={provide:uu,useExisting:Mr(()=>Ja),multi:!0},Ja=(()=>{class n extends lk{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=dl(n)))(i||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[$i([C6]),Or]})}}return n})();var Rk=new Z("");var T6={provide:uo,useExisting:Mr(()=>Xa)},Xa=(()=>{class n extends uo{get submitted(){return oi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ml(()=>this._submittedReactive()),this._submittedReactive=fl(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Wy(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ik(t.control||null,t,!1),w6(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Ak(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new rT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new iT(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ik(r||null,t),b6(i)&&(Wy(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Tk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&v6(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aT(this.form,this),this._oldForm&&Qy(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(ee(Yy,10),ee(Zy,10),ee(jh,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$i([T6]),Or,Ui]})}}return n})();var D6={provide:Za,useExisting:Mr(()=>ec)},ec=(()=>{class n extends Za{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Dk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ik(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ee(uo,13),ee(Yy,10),ee(Zy,10),ee(uu,10),ee(Rk,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$i([D6]),Or,Ui]})}}return n})();var xk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({})}}return n})();var Ds=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jh,useValue:t.callSetDisabledState??Xy}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({imports:[xk]})}}return n})(),du=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rk,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:jh,useValue:t.callSetDisabledState??Xy}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({imports:[xk]})}}return n})();var Ti=nd(hu());var A6=["favbutton"],S6=["favbuttondiv"],R6=(n,e)=>e.email,Nk=()=>({standalone:!0});function x6(n,e){if(n&1){let t=an();O(0,"button",15),Ae("click",function(){let i=Ue(t).$implicit,o=Nt();return je(o.onOptionClick(i))}),he(1,"img",16),P()}if(n&2){let t=e.$implicit;Mm("right",t.pos),Y(),ME("src",t.imagen,Ea)}}var tv=class n{constructor(e,t,r){this.auth=e;this.router=t;this.firestore=r}favButton;favButtonDiv;userMail="";userPWD="";loggedUser="";flagError=!1;msjError="";fabOptions=[{email:"quebraffuyottu-7479@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"80px"},{email:"gruruttevauppeu-6330@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"140px"},{email:"xifroyaprouhoi-2328@yopmail.com",pass:"123456",imagen:"/assets/images/paciente.jpg",pos:"200px"},{email:"veuqueuddauddamu-5932@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"260px"},{email:"gaukacreugrouxou-9905@yopmail.com",pass:"123456",imagen:"/assets/images/doctor.jpg",pos:"320px"},{email:"admin@mail.com",pass:"123456",imagen:"/assets/images/admin.jpeg",pos:"380px"}];isExpanded=!1;convertBase64ToURL(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);let o=new Uint8Array(i),s=new Blob([o],{type:t});return URL.createObjectURL(s)}toggleFab(){this.isExpanded?(this.favButtonDiv.nativeElement.classList.remove("active"),this.favButton.nativeElement.innerText="+"):(this.favButtonDiv.nativeElement.classList.add("active"),this.favButton.nativeElement.innerText="-"),this.isExpanded=!this.isExpanded}onOptionClick(e){console.log("Clicked option:",e),this.CompletarInputs(e.email,e.pass)}obtenerFechaActual=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${t}/${r}/${i} ${o}:${s}`};Login(){return C(this,null,function*(){Ti.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{Ti.default.showLoading()}}),yield nP(this.auth,this.userMail,this.userPWD).then(e=>C(this,null,function*(){if(e.user.email!==null){let t=e.user.uid,r=ws(this.firestore,`usuarios/${t}`),o=(yield Fy(r)).data();if(Ti.default.close(),o?.rol=="paciente"&&e.user.emailVerified||o?.rol=="especialista"&&o?.verificado||o?.rol=="administrador"){this.loggedUser=e.user.email;let s=au(this.firestore,"logins");switch(XO(s,{fecha:new Date,user:this.loggedUser}),Ti.default.fire({title:`Bienvenido ${o?.nombre}
Fecha de ingreso: ${this.obtenerFechaActual()}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),o?.rol){case"paciente":console.log("Ingreso un paciente"),this.flagError=!1,this.router.navigate(["home"]);break;case"especialista":console.log("Ingreso un especialista"),this.flagError=!1,this.router.navigate(["home"]);break;default:console.log("Ingreso un administrador"),this.flagError=!1,this.router.navigate(["home"]);break}}else o?.rol=="especialista"?(Vr(this.auth),e.user.emailVerified?(Vr(this.auth),Ti.default.fire({title:"El administrador aun no valido su cuenta",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):Ti.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})):(Vr(this.auth),Ti.default.fire({title:"Email no verificado, revise su correo",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}))}})).catch(e=>{switch(Vr(this.auth),Ti.default.close(),this.flagError=!0,console.log(e.code),e.code){case"auth/invalid-email":this.userMail==""?this.msjError="Por favor ingrese un mail":this.msjError="El mail ingresado es invalido";break;case"auth/invalid-credential":this.msjError="Contrase\xF1a incorrecta";break;case"auth/missing-password":this.msjError="Falta ingresar la contrase\xF1a";break;default:this.msjError="Ocurrio un error inesperado";break}Ti.default.fire({title:`${this.msjError}`,background:"#fff",color:"#000",confirmButtonColor:"#ff5722"})})})}CompletarInputs(e,t){this.userMail=e,this.userPWD=t}static \u0275fac=function(t){return new(t||n)(ee(Kt),ee(Nn),ee(or))};static \u0275cmp=Je({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(zn(A6,5),zn(S6,5)),t&2){let i;Rn(i=xn())&&(r.favButton=i.first),Rn(i=xn())&&(r.favButtonDiv=i.first)}},standalone:!0,features:[it],decls:24,vars:6,consts:[["mail",""],["pass",""],["favbuttondiv",""],["favbutton",""],[1,"main-container"],[1,"login-container","container-fluid"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Ingresa tu correo",3,"ngModelChange","ngModel","ngModelOptions"],["for","password"],["type","password","id","password","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","ngModel","ngModelOptions"],[3,"click"],[1,"fab-button-container"],[1,"fab-button","main-fab",3,"click"],[1,"fab-button","fab-option",3,"right"],[1,"fab-button","fab-option",3,"click"],["alt","",3,"src"]],template:function(t,r){if(t&1){let i=an();O(0,"div",4)(1,"div",5)(2,"h2"),U(3,"Iniciar sesi\xF3n"),P(),O(4,"form")(5,"div",6)(6,"label",7),U(7,"Correo electr\xF3nico"),P(),O(8,"input",8,0),Lm("ngModelChange",function(s){return Ue(i),PE(r.userMail,s)||(r.userMail=s),je(s)}),P()(),O(10,"div",6)(11,"label",9),U(12,"Contrase\xF1a"),P(),O(13,"input",10,1),Lm("ngModelChange",function(s){return Ue(i),PE(r.userPWD,s)||(r.userPWD=s),je(s)}),P()()(),O(15,"button",11),Ae("click",function(){return Ue(i),je(r.Login())}),U(16,"Ingresar"),P()(),O(17,"div",12,2)(19,"button",13,3),Ae("click",function(){return Ue(i),je(r.toggleFab())}),U(21,"+"),P(),QR(22,x6,2,3,"button",14,R6),P()()}t&2&&(Y(8),km("ngModel",r.userMail),de("ngModelOptions",OE(4,Nk)),Y(5),km("ngModel",r.userPWD),de("ngModelOptions",OE(5,Nk)),Y(9),YR(r.fabOptions))},dependencies:[Ds,Ts,Ii,Is,Cs,lT,cT,tr],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;flex-wrap:wrap;height:94.5vh;margin:0}.login-container[_ngcontent-%COMP%]{width:500px;max-height:350px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:200px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.fab-button-container[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;justify-content:end;padding:10px}.fab-button-container[_ngcontent-%COMP%]   .fab-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 8px #0000004d;cursor:pointer;transition:background-color .3s ease}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:0;transform:scale(0);pointer-events:auto}.fab-button-container[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto;right:80px;padding:0}.active[_ngcontent-%COMP%]   .fab-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}']})};function N6(n,e){n&1&&(O(0,"div",2)(1,"div",3)(2,"button",4),U(3,"Permisos y Administracion"),P()()())}function M6(n,e){n&1&&(O(0,"p"),U(1,"Otro panel"),P())}var nv=class n{constructor(e,t){this.auth=e;this.firestore=t}userData;ngOnInit(){return C(this,null,function*(){let e=this.auth.currentUser?.uid,t=ws(this.firestore,`usuarios/${e}`),r=yield Fy(t);this.userData=r.data()})}static \u0275fac=function(t){return new(t||n)(ee(Kt),ee(or))};static \u0275cmp=Je({type:n,selectors:[["app-home"]],standalone:!0,features:[it],decls:4,vars:1,consts:[[1,"main-container"],[1,"card-deck","mb-3","text-center"],[1,"card","mb-4","box-shadow"],[1,"card-body"],["type","button","routerLink","/gestion-usuarios",1,"btn","btn-lg","btn-block","btn-primary"]],template:function(t,r){t&1&&(O(0,"div",0)(1,"div",1),me(2,N6,4,0,"div",2)(3,M6,2,0,"p"),P()()),t&2&&(Y(2),Yo(r.userData.rol=="administrador"?2:3))},dependencies:[os,is,Ds,tr],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;justify-content:center;height:94.5vh;margin:0}.card-deck[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:left;padding:50px}.card[_ngcontent-%COMP%]{width:30%;margin:10px;min-height:400px;box-shadow:0 4px 8px #000}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-image:url(/assets/images/permisos.jpg);border-radius:5px;background-size:cover;display:flex;align-items:end;justify-content:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:90%;background-color:#2c8ab3;border:#2c8ab3}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var nc=nd(hu());var P6=new Z("recaptcha-language"),O6=new Z("recaptcha-base-url"),k6=new Z("recaptcha-nonce-tag"),dT=new Z("recaptcha-settings"),Mk=new Z("recaptcha-v3-site-key"),L6=new Z("recaptcha-loader-options");function F6(n,e,t,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:c}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let u=c||o;u&&s.setAttribute("nonce",u),s.async=!0,s.defer=!0,document.head.appendChild(s)}function V6({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let r=n?{key:n}:"explicit";Pk.loadScript(r,e,t)}var Pk={loadScript:F6,newLoadScript:V6};function U6(n){return n.asObservable().pipe(fn(e=>e!==null))}var hT=(()=>{class n{static{this.ready=null}constructor(t,r,i,o,s,a){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let c=this.init();this.ready=c?U6(c):ce()}init(){if(n.ready)return n.ready;if(!qE(this.platformId))return;let t=new Ht(null);return n.ready=t,Pk.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),t.next(i)}}),t}static{this.\u0275fac=function(r){return new(r||n)(te(Hn),te(P6,8),te(O6,8),te(k6,8),te(Mk,8),te(L6,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),j6=0,tc=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${j6++}`,this.errorMode="default",this.resolved=new Ye,this.error=new Ye,this.errored=new Ye,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||n)(ee(er),ee(hT),ee(xe),ee(dT,8))}}static{this.\u0275cmp=Je({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&pl("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),Ok=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({})}}return n})(),As=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({providers:[hT],imports:[Ok]})}}return n})(),kk=(()=>{class n{constructor(t,r,i){this.recaptchaLoader=r,this.zone=t,this.siteKey=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new mt,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new mt,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(t){let r=new mt;return this.grecaptcha?this.executeActionWithSubject(t,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,r])),r.asObservable()}executeActionWithSubject(t,r){let i=o=>{this.zone.run(()=>{r.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:t,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:t}).then(o=>{this.zone.run(()=>{r.next(o),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:t,token:o})})},i)}catch(o){i(o)}})}init(){this.recaptchaLoader.ready.subscribe(t=>{this.grecaptcha=t,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,i])=>this.executeActionWithSubject(r,i)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(r){return new(r||n)(te(xe),te(hT),te(Mk))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();var fu=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}static{this.\u0275fac=function(r){return new(r||n)(ee(tc))}}static{this.\u0275dir=xt({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("resolved",function(s){return i.onResolve(s)})},features:[$i([{multi:!0,provide:uu,useExisting:Mr(()=>n)}])]})}}return n})(),pu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bn({type:n})}static{this.\u0275inj=jn({imports:[Ds,Ok]})}}return n})();var Ss=class n{constructor(e){this.firestore=e}registrarUsuarios(e,t){return C(this,null,function*(){try{let r=ws(this.firestore,`usuarios/${e}`);console.log(`usuarios/${e}`),yield Uy(r,t),console.log("Usuario registrado con \xE9xito en Firestore")}catch(r){console.error("Error al registrar usuario:",r)}})}static \u0275fac=function(t){return new(t||n)(te(or))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})};var B6=["fileInput"];function $6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"S\xF3lo debe contener letras"),P(),ze())}function H6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"S\xF3lo debe contener letras"),P(),ze())}function z6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"La edad debe ser entre 18 y 99"),P(),ze())}function q6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"Se deben ingresar 8 digitos"),P(),ze())}function G6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"Formato de email invalido"),P(),ze())}function W6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),P(),ze())}function K6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"Ingrese una imagen"),P(),ze())}function Q6(n,e){n&1&&(He(0),O(1,"small",17),U(2,"Complete el recaptcha"),P(),ze())}var rv=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput;registerForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new bi({nombre:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),apellido:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),edad:new $e("",[se.min(18),se.max(99),se.required]),dni:new $e("",[se.required,se.minLength(8),se.maxLength(8)]),email:new $e("",[se.required,se.email]),password:new $e("",[se.required,se.minLength(6)]),imagen:new $e("",[se.required,this.validarImagen]),recaptcha:new $e("",se.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){nc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{nc.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,rol:"administrador"};Fl(this.auth,e.email,this.registerForm.value.password).then(()=>C(this,null,function*(){yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e),Vr(this.auth),nc.default.fire({title:"El usuario fue creado exitosamente",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.formularioEnviado=!1})).catch(t=>{switch(nc.default.close(),t.code){case"auth/email-already-in-use":nc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:nc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(ee(Ss),ee(Kt))};static \u0275cmp=Je({type:n,selectors:[["app-registro-admins"]],viewQuery:function(t,r){if(t&1&&zn(B6,5),t&2){let i;Rn(i=xn())&&(r.fileInput=i.first)}},standalone:!0,features:[it],decls:33,vars:9,consts:[["fileInput",""],[1,"register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=an();O(0,"div",1)(1,"h2"),U(2,"Registro de Administradores"),P(),O(3,"form",2)(4,"div",3),he(5,"input",4),me(6,$6,3,0,"ng-container",5),P(),O(7,"div",3),he(8,"input",6),me(9,H6,3,0,"ng-container",5),P(),O(10,"div",3),he(11,"input",7),me(12,z6,3,0,"ng-container",5),P(),O(13,"div",3),he(14,"input",8),me(15,q6,3,0,"ng-container",5),P(),O(16,"div",3),he(17,"input",9),me(18,G6,3,0,"ng-container",5),P(),O(19,"div",3),he(20,"input",10),me(21,W6,3,0,"ng-container",5),P(),O(22,"div",11)(23,"label",12),U(24,"Imagen de perfil"),P(),O(25,"input",13,0),Ae("change",function(s){return Ue(i),je(r.onFileChange(s,"imagen"))}),P(),me(27,K6,3,0,"ng-container",5),P(),O(28,"div",14)(29,"re-captcha",15),Ae("resolved",function(s){return Ue(i),je(r.resolved(s))}),P(),me(30,Q6,3,0,"ng-container",5),P(),O(31,"button",16),Ae("click",function(){return Ue(i),je(r.onSubmit())}),U(32,"Registrar Administrador"),P()()()}t&2&&(Y(3),de("formGroup",r.registerForm),Y(3),de("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),Y(6),de("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado),Y(3),de("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[Ds,Ts,Ii,Ja,Is,Cs,tr,vl,du,Xa,ec,pu,fu,As,tc],styles:[".register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left;height:60px;width:50%;font-size:15px}.recaptcha[_ngcontent-%COMP%]{height:90px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}"]})};var Y6=["pacientesBtn"],Z6=["especialistasBtn"],J6=["administradoresBtn"];function X6(n,e){if(n&1&&(O(0,"tr")(1,"td"),he(2,"img",10),P(),O(3,"td"),U(4),P(),O(5,"td"),U(6),P(),O(7,"td"),U(8),P(),O(9,"td"),U(10),P(),O(11,"td"),U(12),P(),O(13,"td"),U(14),P()()),n&2){let t=e.$implicit;Y(2),de("src",t.imagen,Ea),Y(2),rt(t.nombre),Y(2),rt(t.apellido),Y(2),rt(t.edad),Y(2),rt(t.dni),Y(2),rt(t.email),Y(2),rt(t.rol)}}function e8(n,e){if(n&1&&(O(0,"table",7)(1,"thead")(2,"tr"),he(3,"th",8),O(4,"th",8),U(5,"Nombre"),P(),O(6,"th",8),U(7,"Apellido"),P(),O(8,"th",8),U(9,"Edad"),P(),O(10,"th",8),U(11,"DNI"),P(),O(12,"th",8),U(13,"Email"),P(),O(14,"th",8),U(15,"Rol"),P()()(),O(16,"tbody"),me(17,X6,15,7,"tr",9),P()()),n&2){let t=Nt(2);Y(17),de("ngForOf",t.usuarios)}}function t8(n,e){if(n&1){let t=an();O(0,"input",14),Ae("click",function(){Ue(t);let i=Nt().$implicit,o=Nt(3);return je(o.cambiarEstadoEspecialista(i,!1))}),P()}}function n8(n,e){if(n&1){let t=an();O(0,"input",15),Ae("click",function(){Ue(t);let i=Nt().$implicit,o=Nt(3);return je(o.cambiarEstadoEspecialista(i,!0))}),P()}}function r8(n,e){if(n&1&&(O(0,"tr")(1,"td"),he(2,"img",10),P(),O(3,"td"),U(4),P(),O(5,"td"),U(6),P(),O(7,"td"),U(8),P(),O(9,"td"),U(10),P(),O(11,"td"),U(12),P(),O(13,"td"),U(14),P(),O(15,"td"),U(16),P(),O(17,"td")(18,"div",11),me(19,t8,1,0,"input",12)(20,n8,1,0,"input",13),P()()()),n&2){let t=e.$implicit;Y(2),de("src",t.imagen,Ea),Y(2),rt(t.nombre),Y(2),rt(t.apellido),Y(2),rt(t.edad),Y(2),rt(t.dni),Y(2),rt(t.email),Y(2),rt(t.especialidades),Y(2),rt(t.rol),Y(3),Yo(t.verificado?19:20)}}function i8(n,e){if(n&1&&(O(0,"table",7)(1,"thead")(2,"tr"),he(3,"th",8),O(4,"th",8),U(5,"Nombre"),P(),O(6,"th",8),U(7,"Apellido"),P(),O(8,"th",8),U(9,"Edad"),P(),O(10,"th",8),U(11,"DNI"),P(),O(12,"th",8),U(13,"Email"),P(),O(14,"th",8),U(15,"Especialidades"),P(),O(16,"th",8),U(17,"Rol"),P(),O(18,"th",8),U(19,"Inhabilitado/Habilitado"),P()()(),O(20,"tbody"),me(21,r8,21,9,"tr",9),P()()),n&2){let t=Nt(2);Y(21),de("ngForOf",t.usuarios)}}function o8(n,e){if(n&1&&(O(0,"tr")(1,"td"),he(2,"img",10),P(),O(3,"td"),U(4),P(),O(5,"td"),U(6),P(),O(7,"td"),U(8),P(),O(9,"td"),U(10),P(),O(11,"td"),U(12),P(),O(13,"td"),U(14),P(),O(15,"td"),U(16),P()()),n&2){let t=e.$implicit;Y(2),de("src",t.imagen1,Ea),Y(2),rt(t.nombre),Y(2),rt(t.apellido),Y(2),rt(t.edad),Y(2),rt(t.dni),Y(2),rt(t.email),Y(2),rt(t.obraSocial),Y(2),rt(t.rol)}}function s8(n,e){if(n&1&&(O(0,"table",7)(1,"thead")(2,"tr"),he(3,"th",8),O(4,"th",8),U(5,"Nombre"),P(),O(6,"th",8),U(7,"Apellido"),P(),O(8,"th",8),U(9,"Edad"),P(),O(10,"th",8),U(11,"DNI"),P(),O(12,"th",8),U(13,"Email"),P(),O(14,"th",8),U(15,"Obra Social"),P(),O(16,"th",8),U(17,"Rol"),P()()(),O(18,"tbody"),me(19,o8,17,8,"tr",9),P()()),n&2){let t=Nt(2);Y(19),de("ngForOf",t.usuarios)}}function a8(n,e){if(n&1){let t=an();O(0,"h2"),U(1,"Lista de Usuarios"),P(),O(2,"nav")(3,"button",5,0),Ae("click",function(){Ue(t);let i=Nt();return je(i.obtenerUsuarios(""))}),U(5,"Pacientes"),P(),O(6,"button",6,1),Ae("click",function(){Ue(t);let i=Nt();return je(i.obtenerUsuarios("especialistas"))}),U(8,"Especialistas"),P(),O(9,"button",6,2),Ae("click",function(){Ue(t);let i=Nt();return je(i.obtenerUsuarios("administradores"))}),U(11,"Administradores"),P()(),me(12,e8,18,1,"table",7)(13,i8,22,1,"table",7)(14,s8,20,1,"table",7)}if(n&2){let t=Nt();Y(12),Yo(t.listaAdministradores?12:t.listaEspecialistas?13:14)}}function c8(n,e){n&1&&(O(0,"div",4)(1,"div",16)(2,"span",17),U(3,"Loading..."),P()()())}var iv=class n{constructor(e,t){this.auth=e;this.firestore=t}pacientesBtn;especialistasBtn;administradoresBtn;usuarios=[];usuariosCargados=!1;listaPacientes=!0;listaEspecialistas=!1;listaAdministradores=!1;ngOnInit(){this.obtenerUsuarios("")}obtenerUsuarios(e){return C(this,null,function*(){if(this.seleccionarLista(e),this.listaPacientes){let t=au(this.firestore,"usuarios");Vy(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="paciente"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else if(this.listaEspecialistas){let t=au(this.firestore,"usuarios");Vy(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="especialista"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}else{let t=au(this.firestore,"usuarios");Vy(t,r=>{this.usuarios=[],r.forEach(i=>{let o=i.data();o.rol=="administrador"&&(o.id=i.id,this.usuarios.push(o))}),console.log(this.usuarios),this.usuariosCargados=!0})}})}seleccionarLista(e){switch(e){case"administradores":this.listaAdministradores=!0,this.listaEspecialistas=!1,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.add("active");break;case"especialistas":this.listaAdministradores=!1,this.listaEspecialistas=!0,this.listaPacientes=!1,this.pacientesBtn.nativeElement.classList.remove("active"),this.especialistasBtn.nativeElement.classList.add("active"),this.administradoresBtn.nativeElement.classList.remove("active");break;default:this.listaAdministradores=!1,this.listaEspecialistas=!1,this.listaPacientes=!0,this.usuariosCargados&&(this.pacientesBtn.nativeElement.classList.add("active"),this.especialistasBtn.nativeElement.classList.remove("active"),this.administradoresBtn.nativeElement.classList.remove("active"));break}}cambiarEstadoEspecialista(e,t){return C(this,null,function*(){e.verificado=t;let r={nombre:e.nombre,apellido:e.apellido,dni:e.dni,edad:e.edad,email:e.email,especialidades:e.especialidades,imagen:e.imagen,rol:e.rol,verificado:e.verificado},i=ws(this.firestore,`usuarios/${e.id}`);yield Uy(i,r)})}static \u0275fac=function(t){return new(t||n)(ee(Kt),ee(or))};static \u0275cmp=Je({type:n,selectors:[["app-lista-usuarios"]],viewQuery:function(t,r){if(t&1&&(zn(Y6,5),zn(Z6,5),zn(J6,5)),t&2){let i;Rn(i=xn())&&(r.pacientesBtn=i.first),Rn(i=xn())&&(r.especialistasBtn=i.first),Rn(i=xn())&&(r.administradoresBtn=i.first)}},standalone:!0,features:[it],decls:3,vars:1,consts:[["pacientesBtn",""],["especialistasBtn",""],["administradoresBtn",""],[1,"card"],[1,"d-flex","justify-content-center"],[1,"lista","active",3,"click"],[1,"lista",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[3,"src"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","checkbox","role","switch","id","flexSwitchCheckChecked","checked","",1,"form-check-input",3,"click"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click"],["role","status",1,"spinner-border","text-info"],[1,"visually-hidden"]],template:function(t,r){t&1&&(O(0,"div",3),me(1,a8,15,1)(2,c8,4,0,"div",4),P()),t&2&&(Y(),Yo(r.usuariosCargados?1:2))},dependencies:[tr,$m],styles:[".card[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;display:block}.lista[_ngcontent-%COMP%]{background-color:#194a60;color:#fff}.lista.active[_ngcontent-%COMP%]{background-color:#2c8ab3;color:#000}"]})};var pv={};fF(pv,{afterMain:()=>Bk,afterRead:()=>Vk,afterWrite:()=>zk,applyStyles:()=>gu,arrow:()=>sv,auto:()=>Bh,basePlacements:()=>ho,beforeMain:()=>Uk,beforeRead:()=>Lk,beforeWrite:()=>$k,bottom:()=>Ot,clippingParents:()=>mT,computeStyles:()=>vu,createPopper:()=>Yh,createPopperBase:()=>Xk,createPopperLite:()=>e1,detectOverflow:()=>On,end:()=>Rs,eventListeners:()=>_u,flip:()=>uv,hide:()=>dv,left:()=>vt,main:()=>jk,modifierPhases:()=>yT,offset:()=>hv,placements:()=>Hh,popper:()=>rc,popperGenerator:()=>dc,popperOffsets:()=>bu,preventOverflow:()=>fv,read:()=>Fk,reference:()=>gT,right:()=>It,start:()=>Di,top:()=>ht,variationPlacements:()=>ov,viewport:()=>$h,write:()=>Hk});var ht="top",Ot="bottom",It="right",vt="left",Bh="auto",ho=[ht,Ot,It,vt],Di="start",Rs="end",mT="clippingParents",$h="viewport",rc="popper",gT="reference",ov=ho.reduce(function(n,e){return n.concat([e+"-"+Di,e+"-"+Rs])},[]),Hh=[].concat(ho,[Bh]).reduce(function(n,e){return n.concat([e,e+"-"+Di,e+"-"+Rs])},[]),Lk="beforeRead",Fk="read",Vk="afterRead",Uk="beforeMain",jk="main",Bk="afterMain",$k="beforeWrite",Hk="write",zk="afterWrite",yT=[Lk,Fk,Vk,Uk,jk,Bk,$k,Hk,zk];function rn(n){return n?(n.nodeName||"").toLowerCase():null}function at(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function vr(n){var e=at(n).Element;return n instanceof e||n instanceof Element}function Yt(n){var e=at(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function mu(n){if(typeof ShadowRoot>"u")return!1;var e=at(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function l8(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!Yt(o)||!rn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function u8(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Yt(i)||!rn(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var gu={name:"applyStyles",enabled:!0,phase:"write",fn:l8,effect:u8,requires:["computeStyles"]};function on(n){return n.split("-")[0]}var Br=Math.max,ic=Math.min,fo=Math.round;function yu(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zh(){return!/^((?!chrome|android).)*safari/i.test(yu())}function _r(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Yt(n)&&(i=n.offsetWidth>0&&fo(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&fo(r.height)/n.offsetHeight||1);var s=vr(n)?at(n):window,a=s.visualViewport,c=!zh()&&t,u=(r.left+(c&&a?a.offsetLeft:0))/i,p=(r.top+(c&&a?a.offsetTop:0))/o,m=r.width/i,_=r.height/o;return{width:m,height:_,top:p,right:u+m,bottom:p+_,left:u,x:u,y:p}}function oc(n){var e=_r(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function qh(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&mu(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Pn(n){return at(n).getComputedStyle(n)}function vT(n){return["table","td","th"].indexOf(rn(n))>=0}function ln(n){return((vr(n)?n.ownerDocument:n.document)||window.document).documentElement}function po(n){return rn(n)==="html"?n:n.assignedSlot||n.parentNode||(mu(n)?n.host:null)||ln(n)}function qk(n){return!Yt(n)||Pn(n).position==="fixed"?null:n.offsetParent}function d8(n){var e=/firefox/i.test(yu()),t=/Trident/i.test(yu());if(t&&Yt(n)){var r=Pn(n);if(r.position==="fixed")return null}var i=po(n);for(mu(i)&&(i=i.host);Yt(i)&&["html","body"].indexOf(rn(i))<0;){var o=Pn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function $r(n){for(var e=at(n),t=qk(n);t&&vT(t)&&Pn(t).position==="static";)t=qk(t);return t&&(rn(t)==="html"||rn(t)==="body"&&Pn(t).position==="static")?e:t||d8(n)||e}function sc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ac(n,e,t){return Br(n,ic(e,t))}function Gk(n,e,t){var r=ac(n,e,t);return r>t?t:r}function Gh(){return{top:0,right:0,bottom:0,left:0}}function Wh(n){return Object.assign({},Gh(),n)}function Kh(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var h8=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Wh(typeof e!="number"?e:Kh(e,ho))};function f8(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=on(t.placement),c=sc(a),u=[vt,It].indexOf(a)>=0,p=u?"height":"width";if(!(!o||!s)){var m=h8(i.padding,t),_=oc(o),w=c==="y"?ht:vt,R=c==="y"?Ot:It,M=t.rects.reference[p]+t.rects.reference[c]-s[c]-t.rects.popper[p],x=s[c]-t.rects.reference[c],V=$r(o),G=V?c==="y"?V.clientHeight||0:V.clientWidth||0:0,B=M/2-x/2,H=m[w],X=G-_[p]-m[R],K=G/2-_[p]/2+B,D=ac(H,K,X),b=c;t.modifiersData[r]=(e={},e[b]=D,e.centerOffset=D-K,e)}}function p8(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||qh(e.elements.popper,i)&&(e.elements.arrow=i))}var sv={name:"arrow",enabled:!0,phase:"main",fn:f8,effect:p8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wr(n){return n.split("-")[1]}var m8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function g8(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:fo(t*i)/i||0,y:fo(r*i)/i||0}}function Wk(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,s=n.offsets,a=n.position,c=n.gpuAcceleration,u=n.adaptive,p=n.roundOffsets,m=n.isFixed,_=s.x,w=_===void 0?0:_,R=s.y,M=R===void 0?0:R,x=typeof p=="function"?p({x:w,y:M}):{x:w,y:M};w=x.x,M=x.y;var V=s.hasOwnProperty("x"),G=s.hasOwnProperty("y"),B=vt,H=ht,X=window;if(u){var K=$r(t),D="clientHeight",b="clientWidth";if(K===at(t)&&(K=ln(t),Pn(K).position!=="static"&&a==="absolute"&&(D="scrollHeight",b="scrollWidth")),K=K,i===ht||(i===vt||i===It)&&o===Rs){H=Ot;var I=m&&K===X&&X.visualViewport?X.visualViewport.height:K[D];M-=I-r.height,M*=c?1:-1}if(i===vt||(i===ht||i===Ot)&&o===Rs){B=It;var A=m&&K===X&&X.visualViewport?X.visualViewport.width:K[b];w-=A-r.width,w*=c?1:-1}}var S=Object.assign({position:a},u&&m8),N=p===!0?g8({x:w,y:M},at(t)):{x:w,y:M};if(w=N.x,M=N.y,c){var T;return Object.assign({},S,(T={},T[H]=G?"0":"",T[B]=V?"0":"",T.transform=(X.devicePixelRatio||1)<=1?"translate("+w+"px, "+M+"px)":"translate3d("+w+"px, "+M+"px, 0)",T))}return Object.assign({},S,(e={},e[H]=G?M+"px":"",e[B]=V?w+"px":"",e.transform="",e))}function y8(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,c=a===void 0?!0:a,u={placement:on(e.placement),variation:wr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Wk(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wk(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var vu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y8,data:{}};var av={passive:!0};function v8(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=at(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(p){p.addEventListener("scroll",t.update,av)}),a&&c.addEventListener("resize",t.update,av),function(){o&&u.forEach(function(p){p.removeEventListener("scroll",t.update,av)}),a&&c.removeEventListener("resize",t.update,av)}}var _u={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:v8,data:{}};var _8={left:"right",right:"left",bottom:"top",top:"bottom"};function wu(n){return n.replace(/left|right|bottom|top/g,function(e){return _8[e]})}var w8={start:"end",end:"start"};function cv(n){return n.replace(/start|end/g,function(e){return w8[e]})}function cc(n){var e=at(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function lc(n){return _r(ln(n)).left+cc(n).scrollLeft}function _T(n,e){var t=at(n),r=ln(n),i=t.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var u=zh();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+lc(n),y:c}}function wT(n){var e,t=ln(n),r=cc(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Br(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Br(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+lc(n),c=-r.scrollTop;return Pn(i||t).direction==="rtl"&&(a+=Br(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function uc(n){var e=Pn(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function lv(n){return["html","body","#document"].indexOf(rn(n))>=0?n.ownerDocument.body:Yt(n)&&uc(n)?n:lv(po(n))}function xs(n,e){var t;e===void 0&&(e=[]);var r=lv(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=at(r),s=i?[o].concat(o.visualViewport||[],uc(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(xs(po(s)))}function Eu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function E8(n,e){var t=_r(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Kk(n,e,t){return e===$h?Eu(_T(n,t)):vr(e)?E8(e,t):Eu(wT(ln(n)))}function b8(n){var e=xs(po(n)),t=["absolute","fixed"].indexOf(Pn(n).position)>=0,r=t&&Yt(n)?$r(n):n;return vr(r)?e.filter(function(i){return vr(i)&&qh(i,r)&&rn(i)!=="body"}):[]}function ET(n,e,t,r){var i=e==="clippingParents"?b8(n):[].concat(e),o=[].concat(i,[t]),s=o[0],a=o.reduce(function(c,u){var p=Kk(n,u,r);return c.top=Br(p.top,c.top),c.right=ic(p.right,c.right),c.bottom=ic(p.bottom,c.bottom),c.left=Br(p.left,c.left),c},Kk(n,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Qh(n){var e=n.reference,t=n.element,r=n.placement,i=r?on(r):null,o=r?wr(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(i){case ht:c={x:s,y:e.y-t.height};break;case Ot:c={x:s,y:e.y+e.height};break;case It:c={x:e.x+e.width,y:a};break;case vt:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var u=i?sc(i):null;if(u!=null){var p=u==="y"?"height":"width";switch(o){case Di:c[u]=c[u]-(e[p]/2-t[p]/2);break;case Rs:c[u]=c[u]+(e[p]/2-t[p]/2);break;default:}}return c}function On(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,c=a===void 0?mT:a,u=t.rootBoundary,p=u===void 0?$h:u,m=t.elementContext,_=m===void 0?rc:m,w=t.altBoundary,R=w===void 0?!1:w,M=t.padding,x=M===void 0?0:M,V=Wh(typeof x!="number"?x:Kh(x,ho)),G=_===rc?gT:rc,B=n.rects.popper,H=n.elements[R?G:_],X=ET(vr(H)?H:H.contextElement||ln(n.elements.popper),c,p,s),K=_r(n.elements.reference),D=Qh({reference:K,element:B,strategy:"absolute",placement:i}),b=Eu(Object.assign({},B,D)),I=_===rc?b:K,A={top:X.top-I.top+V.top,bottom:I.bottom-X.bottom+V.bottom,left:X.left-I.left+V.left,right:I.right-X.right+V.right},S=n.modifiersData.offset;if(_===rc&&S){var N=S[i];Object.keys(A).forEach(function(T){var kt=[It,Ot].indexOf(T)>=0?1:-1,un=[ht,Ot].indexOf(T)>=0?"y":"x";A[T]+=N[un]*kt})}return A}function bT(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,u=c===void 0?Hh:c,p=wr(r),m=p?a?ov:ov.filter(function(R){return wr(R)===p}):ho,_=m.filter(function(R){return u.indexOf(R)>=0});_.length===0&&(_=m);var w=_.reduce(function(R,M){return R[M]=On(n,{placement:M,boundary:i,rootBoundary:o,padding:s})[on(M)],R},{});return Object.keys(w).sort(function(R,M){return w[R]-w[M]})}function I8(n){if(on(n)===Bh)return[];var e=wu(n);return[cv(n),e,cv(e)]}function C8(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!0:s,c=t.fallbackPlacements,u=t.padding,p=t.boundary,m=t.rootBoundary,_=t.altBoundary,w=t.flipVariations,R=w===void 0?!0:w,M=t.allowedAutoPlacements,x=e.options.placement,V=on(x),G=V===x,B=c||(G||!R?[wu(x)]:I8(x)),H=[x].concat(B).reduce(function(bn,Tt){return bn.concat(on(Tt)===Bh?bT(e,{placement:Tt,boundary:p,rootBoundary:m,padding:u,flipVariations:R,allowedAutoPlacements:M}):Tt)},[]),X=e.rects.reference,K=e.rects.popper,D=new Map,b=!0,I=H[0],A=0;A<H.length;A++){var S=H[A],N=on(S),T=wr(S)===Di,kt=[ht,Ot].indexOf(N)>=0,un=kt?"width":"height",Lt=On(e,{placement:S,boundary:p,rootBoundary:m,altBoundary:_,padding:u}),Ct=kt?T?It:vt:T?Ot:ht;X[un]>K[un]&&(Ct=wu(Ct));var kn=wu(Ct),dn=[];if(o&&dn.push(Lt[N]<=0),a&&dn.push(Lt[Ct]<=0,Lt[kn]<=0),dn.every(function(bn){return bn})){I=S,b=!1;break}D.set(S,dn)}if(b)for(var Zt=R?3:1,ar=function(Tt){var Hr=H.find(function(In){var Kn=D.get(In);if(Kn)return Kn.slice(0,Tt).every(function(Us){return Us})});if(Hr)return I=Hr,"break"},ft=Zt;ft>0;ft--){var ct=ar(ft);if(ct==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}var uv={name:"flip",enabled:!0,phase:"main",fn:C8,requiresIfExists:["offset"],data:{_skip:!1}};function Qk(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Yk(n){return[ht,It,Ot,vt].some(function(e){return n[e]>=0})}function T8(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=On(e,{elementContext:"reference"}),a=On(e,{altBoundary:!0}),c=Qk(s,r),u=Qk(a,i,o),p=Yk(c),m=Yk(u);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var dv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:T8};function D8(n,e,t){var r=on(n),i=[vt,ht].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[vt,It].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function A8(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,s=Hh.reduce(function(p,m){return p[m]=D8(m,e.rects,o),p},{}),a=s[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var hv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:A8};function S8(n){var e=n.state,t=n.name;e.modifiersData[t]=Qh({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var bu={name:"popperOffsets",enabled:!0,phase:"read",fn:S8,data:{}};function IT(n){return n==="x"?"y":"x"}function R8(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!1:s,c=t.boundary,u=t.rootBoundary,p=t.altBoundary,m=t.padding,_=t.tether,w=_===void 0?!0:_,R=t.tetherOffset,M=R===void 0?0:R,x=On(e,{boundary:c,rootBoundary:u,padding:m,altBoundary:p}),V=on(e.placement),G=wr(e.placement),B=!G,H=sc(V),X=IT(H),K=e.modifiersData.popperOffsets,D=e.rects.reference,b=e.rects.popper,I=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,A=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(K){if(o){var T,kt=H==="y"?ht:vt,un=H==="y"?Ot:It,Lt=H==="y"?"height":"width",Ct=K[H],kn=Ct+x[kt],dn=Ct-x[un],Zt=w?-b[Lt]/2:0,ar=G===Di?D[Lt]:b[Lt],ft=G===Di?-b[Lt]:-D[Lt],ct=e.elements.arrow,bn=w&&ct?oc(ct):{width:0,height:0},Tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Gh(),Hr=Tt[kt],In=Tt[un],Kn=ac(0,D[Lt],bn[Lt]),Us=B?D[Lt]/2-Zt-Kn-Hr-A.mainAxis:ar-Kn-Hr-A.mainAxis,zr=B?-D[Lt]/2+Zt+Kn+In+A.mainAxis:ft+Kn+In+A.mainAxis,cr=e.elements.arrow&&$r(e.elements.arrow),qr=cr?H==="y"?cr.clientTop||0:cr.clientLeft||0:0,wo=(T=S?.[H])!=null?T:0,Ft=Ct+Us-wo-qr,Cn=Ct+zr-wo,js=ac(w?ic(kn,Ft):kn,Ct,w?Br(dn,Cn):dn);K[H]=js,N[H]=js-Ct}if(a){var Vt,Eo=H==="x"?ht:vt,Bs=H==="x"?Ot:It,Qn=K[X],Ee=X==="y"?"height":"width",hn=Qn+x[Eo],Yn=Qn-x[Bs],Tn=[ht,vt].indexOf(V)!==-1,Xe=(Vt=S?.[X])!=null?Vt:0,lt=Tn?hn:Qn-D[Ee]-b[Ee]-Xe+A.altAxis,ut=Tn?Qn+D[Ee]+b[Ee]-Xe-A.altAxis:Yn,_t=w&&Tn?Gk(lt,Qn,ut):ac(w?lt:hn,Qn,w?ut:Yn);K[X]=_t,N[X]=_t-Qn}e.modifiersData[r]=N}}var fv={name:"preventOverflow",enabled:!0,phase:"main",fn:R8,requiresIfExists:["offset"]};function CT(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function TT(n){return n===at(n)||!Yt(n)?cc(n):CT(n)}function x8(n){var e=n.getBoundingClientRect(),t=fo(e.width)/n.offsetWidth||1,r=fo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function DT(n,e,t){t===void 0&&(t=!1);var r=Yt(e),i=Yt(e)&&x8(e),o=ln(e),s=_r(n,i,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((rn(e)!=="body"||uc(o))&&(a=TT(e)),Yt(e)?(c=_r(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=lc(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function N8(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function AT(n){var e=N8(n);return yT.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function ST(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function RT(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var Zk={placement:"bottom",modifiers:[],strategy:"absolute"};function Jk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?Zk:i;return function(a,c,u){u===void 0&&(u=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zk,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},m=[],_=!1,w={state:p,setOptions:function(V){var G=typeof V=="function"?V(p.options):V;M(),p.options=Object.assign({},o,p.options,G),p.scrollParents={reference:vr(a)?xs(a):a.contextElement?xs(a.contextElement):[],popper:xs(c)};var B=AT(RT([].concat(r,p.options.modifiers)));return p.orderedModifiers=B.filter(function(H){return H.enabled}),R(),w.update()},forceUpdate:function(){if(!_){var V=p.elements,G=V.reference,B=V.popper;if(Jk(G,B)){p.rects={reference:DT(G,$r(B),p.options.strategy==="fixed"),popper:oc(B)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(A){return p.modifiersData[A.name]=Object.assign({},A.data)});for(var H=0;H<p.orderedModifiers.length;H++){if(p.reset===!0){p.reset=!1,H=-1;continue}var X=p.orderedModifiers[H],K=X.fn,D=X.options,b=D===void 0?{}:D,I=X.name;typeof K=="function"&&(p=K({state:p,options:b,name:I,instance:w})||p)}}}},update:ST(function(){return new Promise(function(x){w.forceUpdate(),x(p)})}),destroy:function(){M(),_=!0}};if(!Jk(a,c))return w;w.setOptions(u).then(function(x){!_&&u.onFirstUpdate&&u.onFirstUpdate(x)});function R(){p.orderedModifiers.forEach(function(x){var V=x.name,G=x.options,B=G===void 0?{}:G,H=x.effect;if(typeof H=="function"){var X=H({state:p,name:V,instance:w,options:B}),K=function(){};m.push(X||K)}})}function M(){m.forEach(function(x){return x()}),m=[]}return w}}var Xk=dc();var M8=[_u,bu,vu,gu],e1=dc({defaultModifiers:M8});var P8=[_u,bu,vu,gu,hv,uv,fv,sv,dv],Yh=dc({defaultModifiers:P8});var Ns=new Map,xT={set(n,e,t){Ns.has(n)||Ns.set(n,new Map);let r=Ns.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ns.has(n)&&Ns.get(n).get(e)||null},remove(n,e){if(!Ns.has(n))return;let t=Ns.get(n);t.delete(e),t.size===0&&Ns.delete(n)}},O8=1e6,k8=1e3,qT="transitionend",R1=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),L8=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),F8=n=>{do n+=Math.floor(Math.random()*O8);while(document.getElementById(n));return n},V8=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*k8)},x1=n=>{n.dispatchEvent(new Event(qT))},mo=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ms=n=>mo(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(R1(n)):null,Ru=n=>{if(!mo(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Ps=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",N1=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?N1(n.parentNode):null},Iv=()=>{},nf=n=>{n.offsetHeight},M1=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,NT=[],U8=n=>{document.readyState==="loading"?(NT.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of NT)e()}),NT.push(n)):n()},Er=()=>document.documentElement.dir==="rtl",Ir=n=>{U8(()=>{let e=M1();if(e){let t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Wn=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,P1=(n,e,t=!0)=>{if(!t){Wn(n);return}let i=V8(e)+5,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(qT,s),Wn(n))};e.addEventListener(qT,s),setTimeout(()=>{o||x1(e)},i)},YT=(n,e,t,r)=>{let i=n.length,o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},j8=/[^.]*(?=\..*)\.|.*/,B8=/\..*/,$8=/::\d+$/,MT={},t1=1,O1={mouseenter:"mouseover",mouseleave:"mouseout"},H8=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function k1(n,e){return e&&`${e}::${t1++}`||n.uidEvent||t1++}function L1(n){let e=k1(n);return n.uidEvent=e,MT[e]=MT[e]||{},MT[e]}function z8(n,e){return function t(r){return ZT(r,{delegateTarget:n}),t.oneOff&&j.off(n,r.type,e),e.apply(n,[r])}}function q8(n,e,t){return function r(i){let o=n.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return ZT(i,{delegateTarget:s}),r.oneOff&&j.off(n,i.type,e,t),t.apply(s,[i])}}function F1(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function V1(n,e,t){let r=typeof e=="string",i=r?t:e||t,o=U1(n);return H8.has(o)||(o=n),[r,i,o]}function n1(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,s,a]=V1(e,t,r);e in O1&&(s=(R=>function(M){if(!M.relatedTarget||M.relatedTarget!==M.delegateTarget&&!M.delegateTarget.contains(M.relatedTarget))return R.call(this,M)})(s));let c=L1(n),u=c[a]||(c[a]={}),p=F1(u,s,o?t:null);if(p){p.oneOff=p.oneOff&&i;return}let m=k1(s,e.replace(j8,"")),_=o?q8(n,t,s):z8(n,s);_.delegationSelector=o?t:null,_.callable=s,_.oneOff=i,_.uidEvent=m,u[m]=_,n.addEventListener(a,_,o)}function GT(n,e,t,r,i){let o=F1(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function G8(n,e,t,r){let i=e[t]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&GT(n,e,t,s.callable,s.delegationSelector)}function U1(n){return n=n.replace(B8,""),O1[n]||n}var j={on(n,e,t,r){n1(n,e,t,r,!1)},one(n,e,t,r){n1(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;let[i,o,s]=V1(e,t,r),a=s!==e,c=L1(n),u=c[s]||{},p=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;GT(n,c,s,o,i?t:null);return}if(p)for(let m of Object.keys(c))G8(n,c,m,e.slice(1));for(let[m,_]of Object.entries(u)){let w=m.replace($8,"");(!a||e.includes(w))&&GT(n,c,s,_.callable,_.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let r=M1(),i=U1(e),o=e!==i,s=null,a=!0,c=!0,u=!1;o&&r&&(s=r.Event(e,t),r(n).trigger(s),a=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());let p=ZT(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&p.preventDefault(),c&&n.dispatchEvent(p),p.defaultPrevented&&s&&s.preventDefault(),p}};function ZT(n,e={}){for(let[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function r1(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function PT(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var go={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${PT(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${PT(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=r1(n.dataset[r])}return e},getDataAttribute(n,e){return r1(n.getAttribute(`data-bs-${PT(e)}`))}},pc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=mo(t)?go.getDataAttribute(t,"config"):{};return z(z(z(z({},this.constructor.Default),typeof r=="object"?r:{}),mo(t)?go.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,i]of Object.entries(t)){let o=e[r],s=mo(o)?"element":L8(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}},W8="5.3.3",sr=class extends pc{constructor(e,t){super(),e=Ms(e),e&&(this._element=e,this._config=this._getConfig(t),xT.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xT.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){P1(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return xT.get(Ms(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return W8}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},OT=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>R1(t)).join(","):null},ae={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Ps(t)&&Ru(t))},getSelectorFromElement(n){let e=OT(n);return e&&ae.findOne(e)?e:null},getElementFromSelector(n){let e=OT(n);return e?ae.findOne(e):null},getMultipleElementsFromSelector(n){let e=OT(n);return e?ae.find(e):[]}},Pv=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;j.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ps(this))return;let o=ae.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},K8="alert",Q8="bs.alert",j1=`.${Q8}`,Y8=`close${j1}`,Z8=`closed${j1}`,J8="fade",X8="show",Cv=class n extends sr{static get NAME(){return K8}close(){if(j.trigger(this._element,Y8).defaultPrevented)return;this._element.classList.remove(X8);let t=this._element.classList.contains(J8);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),j.trigger(this._element,Z8),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Pv(Cv,"close");Ir(Cv);var e9="button",t9="bs.button",n9=`.${t9}`,r9=".data-api",i9="active",i1='[data-bs-toggle="button"]',o9=`click${n9}${r9}`,Tv=class n extends sr{static get NAME(){return e9}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(i9))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};j.on(document,o9,i1,n=>{n.preventDefault();let e=n.target.closest(i1);Tv.getOrCreateInstance(e).toggle()});Ir(Tv);var s9="swipe",xu=".bs.swipe",a9=`touchstart${xu}`,c9=`touchmove${xu}`,l9=`touchend${xu}`,u9=`pointerdown${xu}`,d9=`pointerup${xu}`,h9="touch",f9="pen",p9="pointer-event",m9=40,g9={endCallback:null,leftCallback:null,rightCallback:null},y9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Dv=class n extends pc{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return g9}static get DefaultType(){return y9}static get NAME(){return s9}dispose(){j.off(this._element,xu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Wn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=m9)return;let t=e/this._deltaX;this._deltaX=0,t&&Wn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,u9,e=>this._start(e)),j.on(this._element,d9,e=>this._end(e)),this._element.classList.add(p9)):(j.on(this._element,a9,e=>this._start(e)),j.on(this._element,c9,e=>this._move(e)),j.on(this._element,l9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===f9||e.pointerType===h9)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},v9="carousel",_9="bs.carousel",Fs=`.${_9}`,B1=".data-api",w9="ArrowLeft",E9="ArrowRight",b9=500,Zh="next",Iu="prev",Tu="left",Ev="right",I9=`slide${Fs}`,kT=`slid${Fs}`,C9=`keydown${Fs}`,T9=`mouseenter${Fs}`,D9=`mouseleave${Fs}`,A9=`dragstart${Fs}`,S9=`load${Fs}${B1}`,R9=`click${Fs}${B1}`,$1="carousel",mv="active",x9="slide",N9="carousel-item-end",M9="carousel-item-start",P9="carousel-item-next",O9="carousel-item-prev",H1=".active",z1=".carousel-item",k9=H1+z1,L9=".carousel-item img",F9=".carousel-indicators",V9="[data-bs-slide], [data-bs-slide-to]",U9='[data-bs-ride="carousel"]',j9={[w9]:Ev,[E9]:Tu},B9={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$9={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Xh=class n extends sr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(F9,this._element),this._addEventListeners(),this._config.ride===$1&&this.cycle()}static get Default(){return B9}static get DefaultType(){return $9}static get NAME(){return v9}next(){this._slide(Zh)}nextWhenVisible(){!document.hidden&&Ru(this._element)&&this.next()}prev(){this._slide(Iu)}pause(){this._isSliding&&x1(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){j.one(this._element,kT,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){j.one(this._element,kT,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?Zh:Iu;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,C9,e=>this._keydown(e)),this._config.pause==="hover"&&(j.on(this._element,T9,()=>this.pause()),j.on(this._element,D9,()=>this._maybeEnableCycle())),this._config.touch&&Dv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of ae.find(L9,this._element))j.on(r,A9,i=>i.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(Tu)),rightCallback:()=>this._slide(this._directionToOrder(Ev)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),b9+this._config.interval))}};this._swipeHelper=new Dv(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=j9[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ae.findOne(H1,this._indicatorsElement);t.classList.remove(mv),t.removeAttribute("aria-current");let r=ae.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(mv),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),i=e===Zh,o=t||YT(this._getItems(),r,i,this._config.wrap);if(o===r)return;let s=this._getItemIndex(o),a=w=>j.trigger(this._element,w,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:s});if(a(I9).defaultPrevented||!r||!o)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let p=i?M9:N9,m=i?P9:O9;o.classList.add(m),nf(o),r.classList.add(p),o.classList.add(p);let _=()=>{o.classList.remove(p,m),o.classList.add(mv),r.classList.remove(mv,m,p),this._isSliding=!1,a(kT)};this._queueCallback(_,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(x9)}_getActive(){return ae.findOne(k9,this._element)}_getItems(){return ae.find(z1,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Er()?e===Tu?Iu:Zh:e===Tu?Zh:Iu}_orderToDirection(e){return Er()?e===Iu?Tu:Ev:e===Iu?Ev:Tu}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(document,R9,V9,function(n){let e=ae.getElementFromSelector(this);if(!e||!e.classList.contains($1))return;n.preventDefault();let t=Xh.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(go.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});j.on(window,S9,()=>{let n=ae.find(U9);for(let e of n)Xh.getOrCreateInstance(e)});Ir(Xh);var H9="collapse",z9="bs.collapse",rf=`.${z9}`,q9=".data-api",G9=`show${rf}`,W9=`shown${rf}`,K9=`hide${rf}`,Q9=`hidden${rf}`,Y9=`click${rf}${q9}`,LT="show",Au="collapse",gv="collapsing",Z9="collapsed",J9=`:scope .${Au} .${Au}`,X9="collapse-horizontal",eK="width",tK="height",nK=".collapse.show, .collapse.collapsing",WT='[data-bs-toggle="collapse"]',rK={parent:null,toggle:!0},iK={parent:"(null|element)",toggle:"boolean"},Av=class n extends sr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let r=ae.find(WT);for(let i of r){let o=ae.getSelectorFromElement(i),s=ae.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rK}static get DefaultType(){return iK}static get NAME(){return H9}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(nK).filter(a=>a!==this._element).map(a=>n.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||j.trigger(this._element,G9).defaultPrevented)return;for(let a of e)a.hide();let r=this._getDimension();this._element.classList.remove(Au),this._element.classList.add(gv),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(gv),this._element.classList.add(Au,LT),this._element.style[r]="",j.trigger(this._element,W9)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,K9).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,nf(this._element),this._element.classList.add(gv),this._element.classList.remove(Au,LT);for(let i of this._triggerArray){let o=ae.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(gv),this._element.classList.add(Au),j.trigger(this._element,Q9)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(LT)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ms(e.parent),e}_getDimension(){return this._element.classList.contains(X9)?eK:tK}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(WT);for(let t of e){let r=ae.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){let t=ae.find(J9,this._config.parent);return ae.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle(Z9,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};j.on(document,Y9,WT,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of ae.getMultipleElementsFromSelector(this))Av.getOrCreateInstance(e,{toggle:!1}).toggle()});Ir(Av);var o1="dropdown",oK="bs.dropdown",mc=`.${oK}`,JT=".data-api",sK="Escape",s1="Tab",aK="ArrowUp",a1="ArrowDown",cK=2,lK=`hide${mc}`,uK=`hidden${mc}`,dK=`show${mc}`,hK=`shown${mc}`,q1=`click${mc}${JT}`,G1=`keydown${mc}${JT}`,fK=`keyup${mc}${JT}`,Du="show",pK="dropup",mK="dropend",gK="dropstart",yK="dropup-center",vK="dropdown-center",hc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',_K=`${hc}.${Du}`,bv=".dropdown-menu",wK=".navbar",EK=".navbar-nav",bK=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",IK=Er()?"top-end":"top-start",CK=Er()?"top-start":"top-end",TK=Er()?"bottom-end":"bottom-start",DK=Er()?"bottom-start":"bottom-end",AK=Er()?"left-start":"right-start",SK=Er()?"right-start":"left-start",RK="top",xK="bottom",NK={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},MK={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Os=class n extends sr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,bv)[0]||ae.prev(this._element,bv)[0]||ae.findOne(bv,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return NK}static get DefaultType(){return MK}static get NAME(){return o1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ps(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!j.trigger(this._element,dK,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(EK))for(let r of[].concat(...document.body.children))j.on(r,"mouseover",Iv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Du),this._element.classList.add(Du),j.trigger(this._element,hK,e)}}hide(){if(Ps(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,lK,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))j.off(r,"mouseover",Iv);this._popper&&this._popper.destroy(),this._menu.classList.remove(Du),this._element.classList.remove(Du),this._element.setAttribute("aria-expanded","false"),go.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,uK,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!mo(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${o1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof pv>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:mo(this._config.reference)?e=Ms(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=Yh(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Du)}_getPlacement(){let e=this._parent;if(e.classList.contains(mK))return AK;if(e.classList.contains(gK))return SK;if(e.classList.contains(yK))return RK;if(e.classList.contains(vK))return xK;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(pK)?t?CK:IK:t?DK:TK}_detectNavbar(){return this._element.closest(wK)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(go.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),z(z({},e),Wn(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let r=ae.find(bK,this._menu).filter(i=>Ru(i));r.length&&YT(r,t,e===a1,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===cK||e.type==="keyup"&&e.key!==s1)return;let t=ae.find(_K);for(let r of t){let i=n.getInstance(r);if(!i||i._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===s1||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r=e.key===sK,i=[aK,a1].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();let o=this.matches(hc)?this:ae.prev(this,hc)[0]||ae.next(this,hc)[0]||ae.findOne(hc,e.delegateTarget.parentNode),s=n.getOrCreateInstance(o);if(i){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};j.on(document,G1,hc,Os.dataApiKeydownHandler);j.on(document,G1,bv,Os.dataApiKeydownHandler);j.on(document,q1,Os.clearMenus);j.on(document,fK,Os.clearMenus);j.on(document,q1,hc,function(n){n.preventDefault(),Os.getOrCreateInstance(this).toggle()});Ir(Os);var W1="backdrop",PK="fade",c1="show",l1=`mousedown.bs.${W1}`,OK={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kK={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Sv=class extends pc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return OK}static get DefaultType(){return kK}static get NAME(){return W1}show(e){if(!this._config.isVisible){Wn(e);return}this._append();let t=this._getElement();this._config.isAnimated&&nf(t),t.classList.add(c1),this._emulateAnimation(()=>{Wn(e)})}hide(e){if(!this._config.isVisible){Wn(e);return}this._getElement().classList.remove(c1),this._emulateAnimation(()=>{this.dispose(),Wn(e)})}dispose(){this._isAppended&&(j.off(this._element,l1),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(PK),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ms(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),j.on(e,l1,()=>{Wn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){P1(e,this._getElement(),this._config.isAnimated)}},LK="focustrap",FK="bs.focustrap",Rv=`.${FK}`,VK=`focusin${Rv}`,UK=`keydown.tab${Rv}`,jK="Tab",BK="forward",u1="backward",$K={autofocus:!0,trapElement:null},HK={autofocus:"boolean",trapElement:"element"},xv=class extends pc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return $K}static get DefaultType(){return HK}static get NAME(){return LK}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,Rv),j.on(document,VK,e=>this._handleFocusin(e)),j.on(document,UK,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Rv))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=ae.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===u1?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===jK&&(this._lastTabNavDirection=e.shiftKey?u1:BK)}},d1=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",h1=".sticky-top",yv="padding-right",f1="margin-right",ef=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yv,t=>t+e),this._setElementAttributes(d1,yv,t=>t+e),this._setElementAttributes(h1,f1,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yv),this._resetElementAttributes(d1,yv),this._resetElementAttributes(h1,f1)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let i=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&go.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){let r=i=>{let o=go.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}go.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(mo(e)){t(e);return}for(let r of ae.find(e,this._element))t(r)}},zK="modal",qK="bs.modal",br=`.${qK}`,GK=".data-api",WK="Escape",KK=`hide${br}`,QK=`hidePrevented${br}`,K1=`hidden${br}`,Q1=`show${br}`,YK=`shown${br}`,ZK=`resize${br}`,JK=`click.dismiss${br}`,XK=`mousedown.dismiss${br}`,e7=`keydown.dismiss${br}`,t7=`click${br}${GK}`,p1="modal-open",n7="fade",m1="show",FT="modal-static",r7=".modal.show",i7=".modal-dialog",o7=".modal-body",s7='[data-bs-toggle="modal"]',a7={backdrop:!0,focus:!0,keyboard:!0},c7={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},ks=class n extends sr{constructor(e,t){super(e,t),this._dialog=ae.findOne(i7,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ef,this._addEventListeners()}static get Default(){return a7}static get DefaultType(){return c7}static get NAME(){return zK}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,Q1,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(p1),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||j.trigger(this._element,KK).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(m1),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){j.off(window,br),j.off(this._dialog,br),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Sv({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xv({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ae.findOne(o7,this._dialog);t&&(t.scrollTop=0),nf(this._element),this._element.classList.add(m1);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,YK,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,e7,e=>{if(e.key===WK){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),j.on(window,ZK,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,XK,e=>{j.one(this._element,JK,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(p1),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,K1)})}_isAnimated(){return this._element.classList.contains(n7)}_triggerBackdropTransition(){if(j.trigger(this._element,QK).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(FT)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(FT),this._queueCallback(()=>{this._element.classList.remove(FT),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let i=Er()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){let i=Er()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};j.on(document,t7,s7,function(n){let e=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),j.one(e,Q1,i=>{i.defaultPrevented||j.one(e,K1,()=>{Ru(this)&&this.focus()})});let t=ae.findOne(r7);t&&ks.getInstance(t).hide(),ks.getOrCreateInstance(e).toggle(this)});Pv(ks);Ir(ks);var l7="offcanvas",u7="bs.offcanvas",yo=`.${u7}`,Y1=".data-api",d7=`load${yo}${Y1}`,h7="Escape",g1="show",y1="showing",v1="hiding",f7="offcanvas-backdrop",Z1=".offcanvas.show",p7=`show${yo}`,m7=`shown${yo}`,g7=`hide${yo}`,_1=`hidePrevented${yo}`,J1=`hidden${yo}`,y7=`resize${yo}`,v7=`click${yo}${Y1}`,_7=`keydown.dismiss${yo}`,w7='[data-bs-toggle="offcanvas"]',E7={backdrop:!0,keyboard:!0,scroll:!1},b7={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Ls=class n extends sr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return E7}static get DefaultType(){return b7}static get NAME(){return l7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||j.trigger(this._element,p7,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ef().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y1);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(g1),this._element.classList.remove(y1),j.trigger(this._element,m7,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||j.trigger(this._element,g7).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(v1),this._backdrop.hide();let t=()=>{this._element.classList.remove(g1,v1),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ef().reset(),j.trigger(this._element,J1)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){j.trigger(this._element,_1);return}this.hide()},t=!!this._config.backdrop;return new Sv({className:f7,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new xv({trapElement:this._element})}_addEventListeners(){j.on(this._element,_7,e=>{if(e.key===h7){if(this._config.keyboard){this.hide();return}j.trigger(this._element,_1)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};j.on(document,v7,w7,function(n){let e=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ps(this))return;j.one(e,J1,()=>{Ru(this)&&this.focus()});let t=ae.findOne(Z1);t&&t!==e&&Ls.getInstance(t).hide(),Ls.getOrCreateInstance(e).toggle(this)});j.on(window,d7,()=>{for(let n of ae.find(Z1))Ls.getOrCreateInstance(n).show()});j.on(window,y7,()=>{for(let n of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ls.getOrCreateInstance(n).hide()});Pv(Ls);Ir(Ls);var I7=/^aria-[\w-]*$/i,X1={"*":["class","dir","id","lang","role",I7],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},C7=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),T7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,D7=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?C7.has(t)?!!T7.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function A7(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let c=[].concat(...s.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(let p of c)D7(p,u)||s.removeAttribute(p.nodeName)}return i.body.innerHTML}var S7="TemplateFactory",R7={allowList:X1,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},x7={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},N7={entry:"(string|element|function|null)",selector:"(string|element)"},KT=class extends pc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return R7}static get DefaultType(){return x7}static get NAME(){return S7}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=z(z({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},N7)}_setContent(e,t,r){let i=ae.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(mo(t)){this._putElementInTemplate(Ms(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?A7(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Wn(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},M7="tooltip",P7=new Set(["sanitize","allowList","sanitizeFn"]),VT="fade",O7="modal",vv="show",k7=".tooltip-inner",w1=`.${O7}`,E1="hide.bs.modal",Jh="hover",UT="focus",L7="click",F7="manual",V7="hide",U7="hidden",j7="show",B7="shown",$7="inserted",H7="click",z7="focusin",q7="focusout",G7="mouseenter",W7="mouseleave",K7={AUTO:"auto",TOP:"top",RIGHT:Er()?"left":"right",BOTTOM:"bottom",LEFT:Er()?"right":"left"},Q7={allowList:X1,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Y7={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Su=class n extends sr{constructor(e,t){if(typeof pv>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Q7}static get DefaultType(){return Y7}static get NAME(){return M7}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(w1),E1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=j.trigger(this._element,this.constructor.eventName(j7)),r=(N1(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),j.trigger(this._element,this.constructor.eventName($7))),this._popper=this._createPopper(i),i.classList.add(vv),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))j.on(a,"mouseover",Iv);let s=()=>{j.trigger(this._element,this.constructor.eventName(B7)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||j.trigger(this._element,this.constructor.eventName(V7)).defaultPrevented)return;if(this._getTipElement().classList.remove(vv),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))j.off(i,"mouseover",Iv);this._activeTrigger[L7]=!1,this._activeTrigger[UT]=!1,this._activeTrigger[Jh]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName(U7)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(VT,vv),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=F8(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(VT),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new KT(Ce(z({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[k7]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(VT)}_isShown(){return this.tip&&this.tip.classList.contains(vv)}_createPopper(e){let t=Wn(this._config.placement,[this,e,this._element]),r=K7[t.toUpperCase()];return Yh(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Wn(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return z(z({},t),Wn(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")j.on(this._element,this.constructor.eventName(H7),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==F7){let r=t===Jh?this.constructor.eventName(G7):this.constructor.eventName(z7),i=t===Jh?this.constructor.eventName(W7):this.constructor.eventName(q7);j.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?UT:Jh]=!0,s._enter()}),j.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?UT:Jh]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(w1),E1,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=go.getDataAttributes(this._element);for(let r of Object.keys(t))P7.has(r)&&delete t[r];return e=z(z({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ms(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Ir(Su);var Z7="popover",J7=".popover-header",X7=".popover-body",eQ=Ce(z({},Su.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),tQ=Ce(z({},Su.DefaultType),{content:"(null|string|element|function)"}),QT=class n extends Su{static get Default(){return eQ}static get DefaultType(){return tQ}static get NAME(){return Z7}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[J7]:this._getTitle(),[X7]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Ir(QT);var nQ="scrollspy",rQ="bs.scrollspy",XT=`.${rQ}`,iQ=".data-api",oQ=`activate${XT}`,b1=`click${XT}`,sQ=`load${XT}${iQ}`,aQ="dropdown-item",Cu="active",cQ='[data-bs-spy="scroll"]',jT="[href]",lQ=".nav, .list-group",I1=".nav-link",uQ=".nav-item",dQ=".list-group-item",hQ=`${I1}, ${uQ} > ${I1}, ${dQ}`,fQ=".dropdown",pQ=".dropdown-toggle",mQ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gQ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Nv=class n extends sr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mQ}static get DefaultType(){return gQ}static get NAME(){return nQ}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ms(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,b1),j.on(this._config.target,b1,jT,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(r(s),!i)return;continue}!o&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ae.find(jT,this._config.target);for(let t of e){if(!t.hash||Ps(t))continue;let r=ae.findOne(decodeURI(t.hash),this._element);Ru(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Cu),this._activateParents(e),j.trigger(this._element,oQ,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(aQ)){ae.findOne(pQ,e.closest(fQ)).classList.add(Cu);return}for(let t of ae.parents(e,lQ))for(let r of ae.prev(t,hQ))r.classList.add(Cu)}_clearActiveClass(e){e.classList.remove(Cu);let t=ae.find(`${jT}.${Cu}`,e);for(let r of t)r.classList.remove(Cu)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(window,sQ,()=>{for(let n of ae.find(cQ))Nv.getOrCreateInstance(n)});Ir(Nv);var yQ="tab",vQ="bs.tab",gc=`.${vQ}`,_Q=`hide${gc}`,wQ=`hidden${gc}`,EQ=`show${gc}`,bQ=`shown${gc}`,IQ=`click${gc}`,CQ=`keydown${gc}`,TQ=`load${gc}`,DQ="ArrowLeft",C1="ArrowRight",AQ="ArrowUp",T1="ArrowDown",BT="Home",D1="End",fc="active",A1="fade",$T="show",SQ="dropdown",eL=".dropdown-toggle",RQ=".dropdown-menu",HT=`:not(${eL})`,xQ='.list-group, .nav, [role="tablist"]',NQ=".nav-item, .list-group-item",MQ=`.nav-link${HT}, .list-group-item${HT}, [role="tab"]${HT}`,tL='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zT=`${MQ}, ${tL}`,PQ=`.${fc}[data-bs-toggle="tab"], .${fc}[data-bs-toggle="pill"], .${fc}[data-bs-toggle="list"]`,tf=class n extends sr{constructor(e){super(e),this._parent=this._element.closest(xQ),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,CQ,t=>this._keydown(t)))}static get NAME(){return yQ}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?j.trigger(t,_Q,{relatedTarget:e}):null;j.trigger(e,EQ,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(fc),this._activate(ae.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($T);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,bQ,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(A1))}_deactivate(e,t){if(!e)return;e.classList.remove(fc),e.blur(),this._deactivate(ae.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($T);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,wQ,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(A1))}_keydown(e){if(![DQ,C1,AQ,T1,BT,D1].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(i=>!Ps(i)),r;if([BT,D1].includes(e.key))r=t[e.key===BT?0:t.length-1];else{let i=[C1,T1].includes(e.key);r=YT(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}_getChildren(){return ae.find(zT,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=ae.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains(SQ))return;let i=(o,s)=>{let a=ae.findOne(o,r);a&&a.classList.toggle(s,t)};i(eL,fc),i(RQ,$T),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(fc)}_getInnerElement(e){return e.matches(zT)?e:ae.findOne(zT,e)}_getOuterElement(e){return e.closest(NQ)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(document,IQ,tL,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Ps(this)&&tf.getOrCreateInstance(this).show()});j.on(window,TQ,()=>{for(let n of ae.find(PQ))tf.getOrCreateInstance(n)});Ir(tf);var OQ="toast",kQ="bs.toast",Vs=`.${kQ}`,LQ=`mouseover${Vs}`,FQ=`mouseout${Vs}`,VQ=`focusin${Vs}`,UQ=`focusout${Vs}`,jQ=`hide${Vs}`,BQ=`hidden${Vs}`,$Q=`show${Vs}`,HQ=`shown${Vs}`,zQ="fade",S1="hide",_v="show",wv="showing",qQ={animation:"boolean",autohide:"boolean",delay:"number"},GQ={animation:!0,autohide:!0,delay:5e3},Mv=class n extends sr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return GQ}static get DefaultType(){return qQ}static get NAME(){return OQ}show(){if(j.trigger(this._element,$Q).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(zQ);let t=()=>{this._element.classList.remove(wv),j.trigger(this._element,HQ),this._maybeScheduleHide()};this._element.classList.remove(S1),nf(this._element),this._element.classList.add(_v,wv),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||j.trigger(this._element,jQ).defaultPrevented)return;let t=()=>{this._element.classList.add(S1),this._element.classList.remove(wv,_v),j.trigger(this._element,BQ)};this._element.classList.add(wv),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_v),super.dispose()}isShown(){return this._element.classList.contains(_v)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,LQ,e=>this._onInteraction(e,!0)),j.on(this._element,FQ,e=>this._onInteraction(e,!1)),j.on(this._element,VQ,e=>this._onInteraction(e,!0)),j.on(this._element,UQ,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Pv(Mv);Ir(Mv);var yc=nd(hu());var WQ=["fileInput"];function KQ(n,e){n&1&&(He(0),O(1,"small",23),U(2,"S\xF3lo debe contener letras"),P(),ze())}function QQ(n,e){n&1&&(He(0),O(1,"small",23),U(2,"S\xF3lo debe contener letras"),P(),ze())}function YQ(n,e){n&1&&(He(0),O(1,"small",23),U(2,"La edad debe ser entre 18 y 99"),P(),ze())}function ZQ(n,e){n&1&&(He(0),O(1,"small",23),U(2,"Se deben ingresar 8 digitos"),P(),ze())}function JQ(n,e){if(n&1){let t=an();O(0,"li",26),Ae("click",function(){let i=Ue(t).$implicit,o=Nt(2);return je(o.addTagFromSelect(i))}),U(1),P()}if(n&2){let t=e.$implicit;de("value",t),Y(),rt(t)}}function XQ(n,e){if(n&1&&(O(0,"ul",24),me(1,JQ,2,2,"li",25),P()),n&2){let t=Nt();Y(),de("ngForOf",t.especialidadesList)}}function eY(n,e){if(n&1){let t=an();O(0,"span",27),U(1),O(2,"button",28),Ae("click",function(){let i=Ue(t).index,o=Nt();return je(o.removeTag(i))}),U(3,"x"),P()()}if(n&2){let t=e.$implicit;Y(),Om(" ",t," ")}}function tY(n,e){n&1&&(He(0),O(1,"small",23),U(2,"Ingrese por lo menos una especialidad"),P(),ze())}function nY(n,e){n&1&&(He(0),O(1,"small",23),U(2,"Formato de email invalido"),P(),ze())}function rY(n,e){n&1&&(He(0),O(1,"small",23),U(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),P(),ze())}function iY(n,e){n&1&&(He(0),O(1,"small",23),U(2,"Ingrese una imagen"),P(),ze())}function oY(n,e){n&1&&(He(0),O(1,"small",23),U(2,"Complete el recaptcha"),P(),ze())}var Nu=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput;registerForm;especialidadesList=["","Medicina","Enfermer\xEDa","Odontolog\xEDa","Psicolog\xEDa"];formularioEnviado=!1;tags=[];showDropdown=!1;recaptchaResponse=null;ngOnInit(){this.registerForm=new bi({nombre:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),apellido:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),edad:new $e("",[se.min(18),se.max(99),se.required]),dni:new $e("",[se.required,se.minLength(8),se.maxLength(8)]),email:new $e("",[se.required,se.email]),especialidades:new $e(""),password:new $e("",[se.required,se.minLength(6)]),imagen:new $e("",[se.required,this.validarImagen]),recaptcha:new $e("",se.required)})}resolved(e){this.recaptchaResponse=e}addTag(){let e=this.registerForm.value.especialidades.trim();e&&!this.tags.includes(e)&&(this.tags.push(e),this.registerForm.value.especialidades="")}removeTag(e){this.tags.splice(e,1)}handleKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.addTag(),this.showDropdown=!1,this.especialidades?.reset())}addTagFromSelect(e){e&&!this.tags.includes(e)&&this.tags.push(e)}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}handleInputFocus(){this.showDropdown=!0}handleInputBlur(){setTimeout(()=>{this.showDropdown=!1},200)}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registerForm.valid){yc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{yc.default.showLoading()}});let e={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,imagen:this.registerForm.value.imagen,especialidades:this.tags,verificado:!1,rol:"especialista"};Fl(this.auth,e.email,this.registerForm.value.password).then(t=>C(this,null,function*(){t.user.email!=null&&(yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e)),zg(this.auth.currentUser),Vr(this.auth),yc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registerForm.reset(),this.fileInput.nativeElement.value="",this.tags=[],this.formularioEnviado=!1})).catch(t=>{switch(yc.default.close(),t.code){case"auth/email-already-in-use":yc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:yc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}convertBase64ToBlob(e,t="image/*"){e=e.replace(/^data:image\/\w+;base64,/,""),e=e.replace(/\s/g,""),console.log(e);let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registerForm.get(t)?.setValue([o]),this.registerForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registerForm.get(t)?.setValue([]),this.registerForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get edad(){return this.registerForm.get("edad")}get dni(){return this.registerForm.get("dni")}get email(){return this.registerForm.get("email")}get especialidades(){return this.registerForm.get("especialidades")}get password(){return this.registerForm.get("password")}get imagen(){return this.registerForm.get("imagen")}get recaptcha(){return this.registerForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(ee(Ss),ee(Kt))};static \u0275cmp=Je({type:n,selectors:[["app-registro-especialista"]],viewQuery:function(t,r){if(t&1&&zn(WQ,5),t&2){let i;Rn(i=xn())&&(r.fileInput=i.first)}},standalone:!0,features:[it],decls:39,vars:12,consts:[["fileInput",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["id","nombre","type","text","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["id","apellido","type","text","formControlName","apellido","placeholder","Ingresa tu apellido"],["id","edad","type","number","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],[1,"form-group","especialidad"],["placeholder","Ingrese una especialidad","type","text","formControlName","especialidades",3,"keydown","focus","blur"],["id","especialidad",4,"ngIf"],[1,"tags-input-container"],["class","tag",4,"ngFor","ngForOf"],["id","email","type","email","formControlName","email","placeholder","Ingresa tu correo"],[1,"form-group","password"],["id","password","type","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","image-input"],["for","imagenPerfil"],["type","file","id","imagen","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"],["id","especialidad"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"],[1,"tag"],[1,"remove-btn",3,"click"]],template:function(t,r){if(t&1){let i=an();O(0,"div",1)(1,"h2"),U(2,"Registro de Especialistas"),P(),O(3,"form",2)(4,"div",3),he(5,"input",4),me(6,KQ,3,0,"ng-container",5),P(),O(7,"div",3),he(8,"input",6),me(9,QQ,3,0,"ng-container",5),P(),O(10,"div",3),he(11,"input",7),me(12,YQ,3,0,"ng-container",5),P(),O(13,"div",3),he(14,"input",8),me(15,ZQ,3,0,"ng-container",5),P(),O(16,"div",9)(17,"input",10),Ae("keydown",function(s){return Ue(i),je(r.handleKeyDown(s))})("focus",function(){return Ue(i),je(r.handleInputFocus())})("blur",function(){return Ue(i),je(r.handleInputBlur())}),P(),me(18,XQ,2,1,"ul",11),O(19,"div",12),me(20,eY,4,1,"span",13),P(),me(21,tY,3,0,"ng-container",5),P(),O(22,"div",3),he(23,"input",14),me(24,nY,3,0,"ng-container",5),P(),O(25,"div",15),he(26,"input",16),me(27,rY,3,0,"ng-container",5),P(),O(28,"div",17)(29,"label",18),U(30,"Imagen de perfil"),P(),O(31,"input",19,0),Ae("change",function(s){return Ue(i),je(r.onFileChange(s,"imagen"))}),P(),me(33,iY,3,0,"ng-container",5),P(),O(34,"div",20)(35,"re-captcha",21),Ae("resolved",function(s){return Ue(i),je(r.resolved(s))}),P(),me(36,oY,3,0,"ng-container",5),P(),O(37,"button",22),Ae("click",function(){return Ue(i),je(r.onSubmit())}),U(38,"Registrarse"),P()()()}t&2&&(Y(3),de("formGroup",r.registerForm),Y(3),de("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),Y(3),de("ngIf",r.showDropdown&&r.especialidadesList.length),Y(2),de("ngForOf",r.tags),Y(),de("ngIf",r.tags.length==0&&r.formularioEnviado),Y(3),de("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),Y(6),de("ngIf",(r.imagen==null||r.imagen.errors==null?null:r.imagen.errors.invalidImageCount)&&r.formularioEnviado),Y(3),de("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[tr,$m,vl,du,Ts,Ii,Ja,Is,Cs,Xa,ec,pu,fu,As,tc],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;min-height:94.5vh;margin:0}.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:60px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}ul[_ngcontent-%COMP%]{max-height:100px;overflow-y:auto;list-style:none;position:fixed;background:#fff;width:550px;border:1px solid black;padding:0}li[_ngcontent-%COMP%]:hover{width:100%;background-color:#c4c4c4}.form-group[_ngcontent-%COMP%]{margin-bottom:30px;text-align:left;height:60px;width:47%}.especialidad[_ngcontent-%COMP%]{height:90px}.recaptcha[_ngcontent-%COMP%]{margin-bottom:60px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}#nueva-especialidad[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}.tags-input-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;border:1px solid #ddd;border-radius:4px;cursor:text;gap:5px;max-height:70px;overflow-y:auto}.tag[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:3px;display:flex;align-items:center}.remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;margin-left:5px;font-size:12px}select[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;border-radius:4px}.imagen-perfil[_ngcontent-%COMP%]{width:100px;height:100px;margin:10px}.image-input[_ngcontent-%COMP%]{margin-bottom:30px}"]})};var vc=nd(hu());var sY=["fileInput1"],aY=["fileInput2"];function cY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"S\xF3lo debe contener letras"),P(),ze())}function lY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"S\xF3lo debe contener letras"),P(),ze())}function uY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"La edad debe ser entre 0 y 99"),P(),ze())}function dY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Se deben ingresar 8 digitos"),P(),ze())}function hY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Este campo es requerido"),P(),ze())}function fY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Formato de email invalido"),P(),ze())}function pY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"La contrase\xF1a debe tener como minimo 6 caracteres"),P(),ze())}function mY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Ingrese una imagen"),P(),ze())}function gY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Ingrese una imagen"),P(),ze())}function yY(n,e){n&1&&(He(0),O(1,"small",20),U(2,"Complete el recaptcha"),P(),ze())}var Mu=class n{constructor(e,t){this.usuarioService=e;this.auth=t}fileInput1;fileInput2;registroForm;formularioEnviado=!1;recaptchaResponse=null;ngOnInit(){this.registroForm=new bi({nombre:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),apellido:new $e("",[se.pattern("^[a-zA-Z]+$"),se.required]),edad:new $e("",[se.min(0),se.max(99),se.required]),dni:new $e("",[se.required,se.minLength(8),se.maxLength(8)]),obraSocial:new $e("",se.required),email:new $e("",[se.required,se.email]),password:new $e("",[se.required,se.minLength(6)]),imagen1:new $e("",[se.required,this.validarImagen]),imagen2:new $e("",[se.required,this.validarImagen]),recaptcha:new $e("",se.required)})}resolved(e){this.recaptchaResponse=e}validarImagen(e){let t=e.value;return!t||!Array.isArray(t)||t.length!==1?{invalidImageCount:!0}:null}onSubmit(){return C(this,null,function*(){if(this.formularioEnviado=!0,this.registroForm.valid){vc.default.fire({title:"Cargando...",text:"Por favor espera",allowOutsideClick:!1,background:"#fff",color:"#000",didOpen:()=>{vc.default.showLoading()}});let e={nombre:this.registroForm.value.nombre,apellido:this.registroForm.value.apellido,edad:this.registroForm.value.edad,dni:this.registroForm.value.dni,obraSocial:this.registroForm.value.obraSocial,email:this.registroForm.value.email,imagen1:this.registroForm.value.imagen1,imagen2:this.registroForm.value.imagen2,rol:"paciente"};Fl(this.auth,e.email,this.registroForm.value.password).then(()=>C(this,null,function*(){yield this.usuarioService.registrarUsuarios(this.auth.currentUser?.uid,e),zg(this.auth.currentUser),Vr(this.auth),vc.default.fire({title:"El usuario fue creado exitosamente, enviamos un mail a su correo electronico para la verificacion",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"}),console.log("Usuario registrado exitosamente"),this.registroForm.reset(),this.fileInput1.nativeElement.value="",this.fileInput2.nativeElement.value="",this.formularioEnviado=!1})).catch(t=>{switch(vc.default.close(),t.code){case"auth/email-already-in-use":vc.default.fire({title:"El mail ya esta en uso",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break;default:vc.default.fire({title:"Ocurrio un error inesperado",background:"#fff",color:"#000",confirmButtonColor:"#ff5722"});break}})}else console.log("Formulario inv\xE1lido")})}onFileChange(e,t){let r=e.target.files[0];if(r){let i=new FileReader;i.onload=()=>{let o=i.result;this.registroForm.get(t)?.setValue([o]),this.registroForm.get(t)?.updateValueAndValidity()},i.readAsDataURL(r)}else this.registroForm.get(t)?.setValue([]),this.registroForm.get(t)?.updateValueAndValidity()}get nombre(){return this.registroForm.get("nombre")}get apellido(){return this.registroForm.get("apellido")}get edad(){return this.registroForm.get("edad")}get dni(){return this.registroForm.get("dni")}get obraSocial(){return this.registroForm.get("obraSocial")}get email(){return this.registroForm.get("email")}get password(){return this.registroForm.get("password")}get imagen1(){return this.registroForm.get("imagen1")}get imagen2(){return this.registroForm.get("imagen2")}get recaptcha(){return this.registroForm.get("recaptcha")}static \u0275fac=function(t){return new(t||n)(ee(Ss),ee(Kt))};static \u0275cmp=Je({type:n,selectors:[["app-registro-paciente"]],viewQuery:function(t,r){if(t&1&&(zn(sY,5),zn(aY,5)),t&2){let i;Rn(i=xn())&&(r.fileInput1=i.first),Rn(i=xn())&&(r.fileInput2=i.first)}},standalone:!0,features:[it],decls:39,vars:11,consts:[["fileInput1",""],["fileInput2",""],[1,"modal-content","modal-xl","register-container"],[3,"formGroup"],[1,"form-group"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresa tu nombre"],[4,"ngIf"],["type","text","id","apellido","formControlName","apellido","placeholder","Ingresa tu apellido"],["type","number","id","edad","formControlName","edad","placeholder","Ingresa tu edad"],["type","tel","id","dni","formControlName","dni","placeholder","Ingresa tu DNI"],["type","text","id","obra-social","formControlName","obraSocial","placeholder","Ingresa tu obra social"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],[1,"form-group","images"],["for","imagenes"],["type","file","id","imagen1","accept","image/*",3,"change"],["type","file","id","imagen2","accept","image/*",3,"change"],[1,"form-group","recaptcha"],["siteKey","6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih","formControlName","recaptcha",3,"resolved"],[3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1){let i=an();O(0,"div",2)(1,"h2"),U(2,"Registro de Pacientes"),P(),O(3,"form",3)(4,"div",4),he(5,"input",5),me(6,cY,3,0,"ng-container",6),P(),O(7,"div",4),he(8,"input",7),me(9,lY,3,0,"ng-container",6),P(),O(10,"div",4),he(11,"input",8),me(12,uY,3,0,"ng-container",6),P(),O(13,"div",4),he(14,"input",9),me(15,dY,3,0,"ng-container",6),P(),O(16,"div",4),he(17,"input",10),me(18,hY,3,0,"ng-container",6),P(),O(19,"div",4),he(20,"input",11),me(21,fY,3,0,"ng-container",6),P(),O(22,"div",4),he(23,"input",12),me(24,pY,3,0,"ng-container",6),P(),O(25,"div",13)(26,"label",14),U(27,"Sube tus im\xE1genes"),P(),O(28,"input",15,0),Ae("change",function(s){return Ue(i),je(r.onFileChange(s,"imagen1"))}),P(),me(30,mY,3,0,"ng-container",6),O(31,"input",16,1),Ae("change",function(s){return Ue(i),je(r.onFileChange(s,"imagen2"))}),P(),me(33,gY,3,0,"ng-container",6),P(),O(34,"div",17)(35,"re-captcha",18),Ae("resolved",function(s){return Ue(i),je(r.resolved(s))}),P(),me(36,yY,3,0,"ng-container",6),P(),O(37,"button",19),Ae("click",function(){return Ue(i),je(r.onSubmit())}),U(38,"Registrarse"),P()()()}t&2&&(Y(3),de("formGroup",r.registroForm),Y(3),de("ngIf",(r.nombre==null?null:r.nombre.hasError("pattern"))||(r.nombre==null?null:r.nombre.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.apellido==null?null:r.apellido.hasError("pattern"))||(r.apellido==null?null:r.apellido.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.edad==null?null:r.edad.hasError("min"))||(r.edad==null?null:r.edad.hasError("max"))||(r.edad==null?null:r.edad.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)||(r.dni==null?null:r.dni.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.obraSocial==null?null:r.obraSocial.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.email==null?null:r.email.hasError("email"))||(r.email==null?null:r.email.invalid)&&r.formularioEnviado),Y(3),de("ngIf",(r.password==null?null:r.password.hasError("minLength"))||(r.password==null?null:r.password.invalid)&&r.formularioEnviado),Y(6),de("ngIf",(r.imagen1==null||r.imagen1.errors==null?null:r.imagen1.errors.invalidImageCount)&&r.formularioEnviado),Y(3),de("ngIf",(r.imagen2==null||r.imagen2.errors==null?null:r.imagen2.errors.invalidImageCount)&&r.formularioEnviado),Y(3),de("ngIf",(r.recaptcha==null?null:r.recaptcha.invalid)&&r.formularioEnviado))},dependencies:[du,Ts,Ii,Ja,Is,Cs,Xa,ec,tr,vl,As,tc,pu,fu],styles:['@charset "UTF-8";.register-container[_ngcontent-%COMP%]{width:100%;max-height:830px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;text-align:center;background-color:#fff;margin-top:50px}h2[_ngcontent-%COMP%]{color:#2c8ab3;margin-bottom:20px;width:100%}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{text-align:left;height:100px;width:47%}.recaptcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;height:120px;flex-wrap:wrap}.recaptcha[_ngcontent-%COMP%]   re-captcha[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.images[_ngcontent-%COMP%]{height:170px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:13px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#2c8ab3;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#46bef1}']})};var Ov=class n{modal;ngAfterViewInit(){let e=document.getElementById("miModal");e&&(this.modal=new ks(e))}openModal(){this.modal?.show()}closeModal(){this.modal?.hide()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Je({type:n,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[it],decls:18,vars:0,consts:[[1,"main-container"],["type","button","data-bs-toggle","modal","data-bs-target","#adminRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#especialistaRegister",1,"btn","btn-primary"],["type","button","data-bs-toggle","modal","data-bs-target","#pacienteRegister",1,"btn","btn-primary"],["id","adminRegister","tabindex","-1","aria-labelledby","adminRegisterLabel","aria-hidden","true",1,"modal","fade","modal-lg"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","especialistaRegister","tabindex","-1","aria-labelledby","especialistaRegisterLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","pacienteRegister","tabindex","-1","aria-labelledby","pacienteRegisterLabel","aria-hidden","true",1,"modal","fade"]],template:function(t,r){t&1&&(O(0,"div",0),he(1,"app-lista-usuarios"),O(2,"button",1),U(3," Registrar Administrador "),P(),O(4,"button",2),U(5," Registrar Especialista "),P(),O(6,"button",3),U(7," Registrar Paciente "),P(),O(8,"div",4)(9,"div",5)(10,"div",6),he(11,"app-registro-admins"),P()()(),O(12,"div",7)(13,"div",8),he(14,"app-registro-especialista"),P()(),O(15,"div",9)(16,"div",8),he(17,"app-registro-paciente"),P()()())},dependencies:[rv,iv,Nu,Mu],styles:[".main-container[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px;height:94.5vh;margin:0}app-lista-usuarios[_ngcontent-%COMP%]{width:100%;height:600px;margin-top:20px}.modal-content[_ngcontent-%COMP%]{overflow-y:auto}"]})};var nL=(n,e)=>{let t=Hg(),r=q(Nn);return t.currentUser?!0:(r.navigate(["/login"]),!1)};var kv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Je({type:n,selectors:[["app-registro"]],standalone:!0,features:[it],decls:2,vars:0,template:function(t,r){t&1&&(O(0,"body"),he(1,"router-outlet"),P())},dependencies:[Yd],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/images/hospital.jpg);background-size:cover;display:flex;justify-content:center;height:94.5vh;margin:0;padding:0 50px}"]})};var Lv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Je({type:n,selectors:[["app-opciones-registro"]],standalone:!0,features:[it],decls:21,vars:0,consts:[[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal","text-body-emphasis"],[1,"fs-5","text-body-secondary"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center","container-fluid"],[1,"col"],[1,"card-body"],["type","button","routerLink","../registro/registro-paciente",1,"w-100","btn","btn-lg"],[1,"image-button-container"],["src","/assets/images/paciente.jpg"],[1,"overlay-text"],["type","button","routerLink","../registro/registro-especialista",1,"w-100","btn","btn-lg"],["src","/assets/images/doctor.jpg"]],template:function(t,r){t&1&&(O(0,"header")(1,"div",0)(2,"h1",1),U(3,"Bienvenido"),P(),O(4,"p",2),U(5,"Seleccione una opci\xF3n"),P()()(),O(6,"div",3)(7,"div",4)(8,"div",5)(9,"button",6)(10,"div",7),he(11,"img",8),O(12,"span",9),U(13,"Registrarse como paciente"),P()()()()(),O(14,"div",4)(15,"div",5)(16,"button",10)(17,"div",7),he(18,"img",11),O(19,"span",9),U(20,"Registrarse como especialista"),P()()()()()())},dependencies:[os,is],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{justify-content:center}.container-fluid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]{border-radius:50%;width:600px;height:450px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border-radius:50%;width:400px;height:400px;display:flex;justify-content:center}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]{border-radius:50%;position:relative;width:400px;overflow:hidden}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:400px;max-height:400px;object-fit:cover;border:1px solid rgba(0,0,0,.357);display:block}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]   .overlay-text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .image-button-container[_ngcontent-%COMP%]:hover   .overlay-text[_ngcontent-%COMP%]{opacity:1}.row[_ngcontent-%COMP%]{margin:0}']})};var rL=[{component:mg,path:""},{component:tv,path:"login"},{component:Lv,path:"opciones-registro"},{component:kv,path:"registro",children:[{component:Mu,path:"registro-paciente"},{component:Nu,path:"registro-especialista"}]},{component:nv,path:"home",canActivate:[nL]},{component:Ov,path:"gestion-usuarios"}];var lL="firebasestorage.googleapis.com",vY="storageBucket",_Y=2*60*1e3,wY=10*60*1e3;var Ai=class n extends Mn{constructor(e,t,r=0){super(eD(e),`Firebase Storage: ${t} (${eD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},_o=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(_o||{});function eD(n){return"storage/"+n}function EY(){let n="An unknown error occurred, please check the error payload for server response.";return new Ai(_o.UNKNOWN,n)}function bY(){return new Ai(_o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IY(){return new Ai(_o.CANCELED,"User canceled the upload/download.")}function CY(n){return new Ai(_o.INVALID_URL,"Invalid URL '"+n+"'.")}function TY(n){return new Ai(_o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iL(n){return new Ai(_o.INVALID_ARGUMENT,n)}function uL(){return new Ai(_o.APP_DELETED,"The Firebase app was deleted.")}function DY(n){return new Ai(_o.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var vo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw TY(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${p}/b/${i}/o${_}`,"i"),R={bucket:1,path:3},M=t===lL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",V=new RegExp(`^https?://${M}/${i}/${x}`,"i"),B=[{regex:a,indices:c,postModify:o},{regex:w,indices:R,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<B.length;H++){let X=B[H],K=X.regex.exec(e);if(K){let D=K[X.indices.bucket],b=K[X.indices.path];b||(b=""),r=new n(D,b),X.postModify(r);break}}if(r==null)throw CY(e);return r}},tD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function AY(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function p(...x){u||(u=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,n(w,c())},x)}function _(){o&&clearTimeout(o)}function w(x,...V){if(u){_();return}if(x){_(),p.call(null,x,...V);return}if(c()||s){_(),p.call(null,x,...V);return}r<64&&(r*=2);let B;a===1?(a=2,B=0):B=(r+Math.random())*1e3,m(B)}let R=!1;function M(x){R||(R=!0,_(),!u&&(i!==null?(x||(a=2),clearTimeout(i),m(0)):x||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,M(!0)},t),M}function SY(n){n(!1)}function RY(n){return n!==void 0}function oL(n,e,t,r){if(r<e)throw iL(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw iL(`Invalid value for '${n}'. Expected ${t} or less.`)}function xY(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var nD=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(nD||{});function NY(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var rD=class{constructor(e,t,r,i,o,s,a,c,u,p,m,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,R)=>{this.resolve_=w,this.reject_=R,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Pu(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===nD.NO_ERROR,c=o.getStatus();if(!a||NY(c,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===nD.ABORT;r(!1,new Pu(!1,null,p));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Pu(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());RY(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=EY();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?uL():IY();s(c)}else{let c=bY();s(c)}};this.canceled_?t(!1,new Pu(!1,null,!0)):this.backoffId_=AY(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Pu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function MY(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function PY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OY(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kY(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function LY(n,e,t,r,i,o,s=!0){let a=xY(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return OY(u,e),MY(u,t),PY(u,o),kY(u,r),new rD(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function FY(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function VY(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Epe=256*1024;var iD=class n{constructor(e,t){this._service=e,t instanceof vo?this._location=t:this._location=vo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VY(this._location.path)}get storage(){return this._service}get parent(){let e=FY(this._location.path);if(e===null)return null;let t=new vo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw DY(e)}};function sL(n,e){let t=e?.[vY];return t==null?null:vo.makeFromBucketSpec(t,n)}function UY(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:_g(i,n.app.options.projectId))}var oD=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=lL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_Y,this._maxUploadRetryTime=wY,this._requests=new Set,i!=null?this._bucket=vo.makeFromBucketSpec(i,this._host):this._bucket=sL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vo.makeFromBucketSpec(this._url,e):this._bucket=sL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iD(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new tD(uL());{let s=LY(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},aL="@firebase/storage",cL="0.13.2";var dL="storage";function hL(n=cs(),e){n=Wt(n);let r=Ma(n,dL).getImmediate({identifier:e}),i=vg("storage");return i&&fL(r,...i),r}function fL(n,e,t,r={}){UY(n,e,t,r)}function jY(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new oD(t,r,i,e,di)}function BY(){ui(new qn(dL,jY,"PUBLIC").setMultipleInstances(!0)),ot(aL,cL,""),ot(aL,cL,"esm2017")}BY();var of=class{constructor(e){return e}},pL="storage",sD=class{constructor(){return Oa(pL)}};var aD=new Z("angularfire2.storage-instances");function $Y(n,e){let t=Ol(pL,n,e);return t&&new of(t)}function HY(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new of(r)}}var zY={provide:sD,deps:[[new bt,aD]]},qY={provide:of,useFactory:$Y,deps:[[new bt,aD],Fr]};function mL(n,...e){return ot("angularfire",Zi.full,"gcs"),$n([qY,zY,{provide:aD,useFactory:HY(n),multi:!0,deps:[xe,zt,us,Ji,[new bt,Ua],[new bt,ls],...e]}])}var gL=tn(hL,!0);var yL={providers:[ox({eventCoalescing:!0}),AN(rL),iM(()=>oM({projectId:"tp2-labo4-96998",appId:"1:551030929167:web:1f1f826c51083b0685707a",storageBucket:"tp2-labo4-96998.firebasestorage.app",apiKey:"AIzaSyCPPiaFLgtdkkMbMyrg-j3h-CwQm8aBZiY",authDomain:"tp2-labo4-96998.firebaseapp.com",messagingSenderId:"551030929167"})),tP(()=>Hg()),JO(()=>ek()),mL(()=>gL()),Rx(),Yw(As,kk),{provide:dT,useValue:{siteKey:"6LcJ_nwqAAAAAHWshJBmnD2wzXVsi4bPk2C5jIih"}}]};var cD=nd(hu());function GY(n,e){n&1&&(O(0,"button",2),he(1,"img",3),U(2," Inicio "),P())}function WY(n,e){if(n&1){let t=an();O(0,"button",4),he(1,"img",3),U(2," Inicio "),P(),O(3,"button",5),Ae("click",function(){Ue(t);let i=Nt();return je(i.logout())}),U(4," Salir "),P()}}var Fv=class n{constructor(e,t){this.router=e;this.auth=t}title="tp2_labo4";goTo(e){console.log(e),this.router.navigate([e])}isLoggedOut(){return this.auth.currentUser==null}logout(){cD.default.fire({title:"\xBFEsta seguro que desea cerrar la sesi\xF3n?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Cerrar Sesi\xF3n",cancelButtonText:"Cancelar",background:"#fff",color:"#000"}).then(e=>{e.isConfirmed&&(cD.default.showLoading(),this.auth.signOut(),this.goTo("/login"))})}static \u0275fac=function(t){return new(t||n)(ee(Nn),ee(Kt))};static \u0275cmp=Je({type:n,selectors:[["app-root"]],standalone:!0,features:[it],decls:5,vars:1,consts:[[1,"navbar"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","favicon.ico","alt","Logo","width","30","height","24",1,"d-inline-block","align-text-top"],["routerLink","/home",1,"navbar-brand"],[1,"navbar-brand",3,"click"]],template:function(t,r){t&1&&(O(0,"nav",0)(1,"div",1),me(2,GY,3,0,"button",2)(3,WY,5,0),P()(),he(4,"router-outlet")),t&2&&(Y(2),Yo(r.isLoggedOut()?2:3))},dependencies:[Yd,os,is],styles:["nav[_ngcontent-%COMP%]{background-color:#2c8ab3;padding:0}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:10px;background-color:#2c8ab3;border:none}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#46bef1;height:100%}.container-fluid[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:start}"]})};Fx(Fv,yL).catch(n=>console.error(n));
